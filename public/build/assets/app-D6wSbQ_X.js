var gX=function(){function S(y,k){k===void 0&&(k=[]),this._eventType=y,this._eventFunctions=k}return S.prototype.init=function(){var y=this;this._eventFunctions.forEach(function(k){typeof window<"u"&&window.addEventListener(y._eventType,k)})},S}(),vX=function(){function S(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}return S.prototype.addInstance=function(y,k,M,V){if(V===void 0&&(V=!1),!this._instances[y])return console.warn("Flowbite: Component ".concat(y," does not exist.")),!1;if(this._instances[y][M]&&!V){console.warn("Flowbite: Instance with ID ".concat(M," already exists."));return}V&&this._instances[y][M]&&this._instances[y][M].destroyAndRemoveInstance(),this._instances[y][M||this._generateRandomId()]=k},S.prototype.getAllInstances=function(){return this._instances},S.prototype.getInstances=function(y){return this._instances[y]?this._instances[y]:(console.warn("Flowbite: Component ".concat(y," does not exist.")),!1)},S.prototype.getInstance=function(y,k){if(this._componentAndInstanceCheck(y,k)){if(!this._instances[y][k]){console.warn("Flowbite: Instance with ID ".concat(k," does not exist."));return}return this._instances[y][k]}},S.prototype.destroyAndRemoveInstance=function(y,k){this._componentAndInstanceCheck(y,k)&&(this.destroyInstanceObject(y,k),this.removeInstance(y,k))},S.prototype.removeInstance=function(y,k){this._componentAndInstanceCheck(y,k)&&delete this._instances[y][k]},S.prototype.destroyInstanceObject=function(y,k){this._componentAndInstanceCheck(y,k)&&this._instances[y][k].destroy()},S.prototype.instanceExists=function(y,k){return!(!this._instances[y]||!this._instances[y][k])},S.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},S.prototype._componentAndInstanceCheck=function(y,k){return this._instances[y]?this._instances[y][k]?!0:(console.warn("Flowbite: Instance with ID ".concat(k," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(y," does not exist.")),!1)},S}(),ls=new vX;typeof window<"u"&&(window.FlowbiteInstances=ls);var KF=function(){return KF=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},KF.apply(this,arguments)},YF={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},bX={id:null,override:!0},mY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=[]),M===void 0&&(M=YF),V===void 0&&(V=bX),this._instanceId=V.id?V.id:y.id,this._accordionEl=y,this._items=k,this._options=KF(KF({},YF),M),this._initialized=!1,this.init(),ls.addInstance("Accordion",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._items.forEach(function(k){k.active&&y.open(k.id);var M=function(){y.toggle(k.id)};k.triggerEl.addEventListener("click",M),k.clickHandler=M}),this._initialized=!0)},S.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(y){y.triggerEl.removeEventListener("click",y.clickHandler),delete y.clickHandler}),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Accordion",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getItem=function(y){return this._items.filter(function(k){return k.id===y})[0]},S.prototype.open=function(y){var k,M,V=this,G=this.getItem(y);this._options.alwaysOpen||this._items.map(function(te){var q,W;te!==G&&((q=te.triggerEl.classList).remove.apply(q,V._options.activeClasses.split(" ")),(W=te.triggerEl.classList).add.apply(W,V._options.inactiveClasses.split(" ")),te.targetEl.classList.add("hidden"),te.triggerEl.setAttribute("aria-expanded","false"),te.active=!1,te.iconEl&&te.iconEl.classList.add("rotate-180"))}),(k=G.triggerEl.classList).add.apply(k,this._options.activeClasses.split(" ")),(M=G.triggerEl.classList).remove.apply(M,this._options.inactiveClasses.split(" ")),G.triggerEl.setAttribute("aria-expanded","true"),G.targetEl.classList.remove("hidden"),G.active=!0,G.iconEl&&G.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,G)},S.prototype.toggle=function(y){var k=this.getItem(y);k.active?this.close(y):this.open(y),this._options.onToggle(this,k)},S.prototype.close=function(y){var k,M,V=this.getItem(y);(k=V.triggerEl.classList).remove.apply(k,this._options.activeClasses.split(" ")),(M=V.triggerEl.classList).add.apply(M,this._options.inactiveClasses.split(" ")),V.targetEl.classList.add("hidden"),V.triggerEl.setAttribute("aria-expanded","false"),V.active=!1,V.iconEl&&V.iconEl.classList.add("rotate-180"),this._options.onClose(this,V)},S.prototype.updateOnOpen=function(y){this._options.onOpen=y},S.prototype.updateOnClose=function(y){this._options.onClose=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function Zq(){document.querySelectorAll("[data-accordion]").forEach(function(S){var y=S.getAttribute("data-accordion"),k=S.getAttribute("data-active-classes"),M=S.getAttribute("data-inactive-classes"),V=[];S.querySelectorAll("[data-accordion-target]").forEach(function(G){if(G.closest("[data-accordion]")===S){var te={id:G.getAttribute("data-accordion-target"),triggerEl:G,targetEl:document.querySelector(G.getAttribute("data-accordion-target")),iconEl:G.querySelector("[data-accordion-icon]"),active:G.getAttribute("aria-expanded")==="true"};V.push(te)}}),new mY(S,V,{alwaysOpen:y==="open",activeClasses:k||YF.activeClasses,inactiveClasses:M||YF.inactiveClasses})})}typeof window<"u"&&(window.Accordion=mY,window.initAccordions=Zq);var XF=function(){return XF=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},XF.apply(this,arguments)},jK={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},yX={id:null,override:!0},Iq=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=jK),V===void 0&&(V=yX),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=k,this._options=XF(XF({},jK),M),this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Collapse",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){y.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Collapse",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},S.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},S.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},S.prototype.updateOnCollapse=function(y){this._options.onCollapse=y},S.prototype.updateOnExpand=function(y){this._options.onExpand=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function qq(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(S){var y=S.getAttribute("data-collapse-toggle"),k=document.getElementById(y);k?ls.instanceExists("Collapse",k.getAttribute("id"))?new Iq(k,S,{},{id:k.getAttribute("id")+"_"+ls._generateRandomId()}):new Iq(k,S):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Iq,window.initCollapses=qq);var IC=function(){return IC=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},IC.apply(this,arguments)},WF={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},wX={id:null,override:!0},pY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=[]),M===void 0&&(M=WF),V===void 0&&(V=wX),this._instanceId=V.id?V.id:y.id,this._carouselEl=y,this._items=k,this._options=IC(IC(IC({},WF),M),{indicators:IC(IC({},WF.indicators),M.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),ls.addInstance("Carousel",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._items.map(function(k){k.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(k,M){k.el.addEventListener("click",function(){y.slideTo(M)})}),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Carousel",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getItem=function(y){return this._items[y]},S.prototype.slideTo=function(y){var k=this._items[y],M={left:k.position===0?this._items[this._items.length-1]:this._items[k.position-1],middle:k,right:k.position===this._items.length-1?this._items[0]:this._items[k.position+1]};this._rotate(M),this._setActiveItem(k),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},S.prototype.next=function(){var y=this.getActiveItem(),k=null;y.position===this._items.length-1?k=this._items[0]:k=this._items[y.position+1],this.slideTo(k.position),this._options.onNext(this)},S.prototype.prev=function(){var y=this.getActiveItem(),k=null;y.position===0?k=this._items[this._items.length-1]:k=this._items[y.position-1],this.slideTo(k.position),this._options.onPrev(this)},S.prototype._rotate=function(y){if(this._items.map(function(k){k.el.classList.add("hidden")}),this._items.length===1){y.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),y.middle.el.classList.add("translate-x-0","z-20");return}y.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),y.left.el.classList.add("-translate-x-full","z-10"),y.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),y.middle.el.classList.add("translate-x-0","z-30"),y.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),y.right.el.classList.add("translate-x-full","z-20")},S.prototype.cycle=function(){var y=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){y.next()},this._intervalDuration))},S.prototype.pause=function(){clearInterval(this._intervalInstance)},S.prototype.getActiveItem=function(){return this._activeItem},S.prototype._setActiveItem=function(y){var k,M,V=this;this._activeItem=y;var G=y.position;this._indicators.length&&(this._indicators.map(function(te){var q,W;te.el.setAttribute("aria-current","false"),(q=te.el.classList).remove.apply(q,V._options.indicators.activeClasses.split(" ")),(W=te.el.classList).add.apply(W,V._options.indicators.inactiveClasses.split(" "))}),(k=this._indicators[G].el.classList).add.apply(k,this._options.indicators.activeClasses.split(" ")),(M=this._indicators[G].el.classList).remove.apply(M,this._options.indicators.inactiveClasses.split(" ")),this._indicators[G].el.setAttribute("aria-current","true"))},S.prototype.updateOnNext=function(y){this._options.onNext=y},S.prototype.updateOnPrev=function(y){this._options.onPrev=y},S.prototype.updateOnChange=function(y){this._options.onChange=y},S}();function Gq(){document.querySelectorAll("[data-carousel]").forEach(function(S){var y=S.getAttribute("data-carousel-interval"),k=S.getAttribute("data-carousel")==="slide",M=[],V=0;S.querySelectorAll("[data-carousel-item]").length&&Array.from(S.querySelectorAll("[data-carousel-item]")).map(function(U,I){M.push({position:I,el:U}),U.getAttribute("data-carousel-item")==="active"&&(V=I)});var G=[];S.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(S.querySelectorAll("[data-carousel-slide-to]")).map(function(U){G.push({position:parseInt(U.getAttribute("data-carousel-slide-to")),el:U})});var te=new pY(S,M,{defaultPosition:V,indicators:{items:G},interval:y||WF.interval});k&&te.cycle();var q=S.querySelector("[data-carousel-next]"),W=S.querySelector("[data-carousel-prev]");q&&q.addEventListener("click",function(){te.next()}),W&&W.addEventListener("click",function(){te.prev()})})}typeof window<"u"&&(window.Carousel=pY,window.initCarousels=Gq);var JF=function(){return JF=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},JF.apply(this,arguments)},ZK={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},CX={id:null,override:!0},gY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=ZK),V===void 0&&(V=CX),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=k,this._options=JF(JF({},ZK),M),this._initialized=!1,this.init(),ls.addInstance("Dismiss",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){y.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Dismiss",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){var y=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){y._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},S.prototype.updateOnHide=function(y){this._options.onHide=y},S}();function Kq(){document.querySelectorAll("[data-dismiss-target]").forEach(function(S){var y=S.getAttribute("data-dismiss-target"),k=document.querySelector(y);k?new gY(k,S):console.error('The dismiss element with id "'.concat(y,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=gY,window.initDismisses=Kq);var ad="top",nh="bottom",oh="right",cd="left",Yq="auto",RR=[ad,nh,oh,cd],zT="start",kR="end",xX="clippingParents",vY="viewport",SR="popper",SX="reference",qK=RR.reduce(function(S,y){return S.concat([y+"-"+zT,y+"-"+kR])},[]),bY=[].concat(RR,[Yq]).reduce(function(S,y){return S.concat([y,y+"-"+zT,y+"-"+kR])},[]),EX="beforeRead",_X="read",TX="afterRead",AX="beforeMain",kX="main",OX="afterMain",DX="beforeWrite",RX="write",PX="afterWrite",MX=[EX,_X,TX,AX,kX,OX,DX,RX,PX];function Kp(S){return S?(S.nodeName||"").toLowerCase():null}function rf(S){if(S==null)return window;if(S.toString()!=="[object Window]"){var y=S.ownerDocument;return y&&y.defaultView||window}return S}function FC(S){var y=rf(S).Element;return S instanceof y||S instanceof Element}function eh(S){var y=rf(S).HTMLElement;return S instanceof y||S instanceof HTMLElement}function Xq(S){if(typeof ShadowRoot>"u")return!1;var y=rf(S).ShadowRoot;return S instanceof y||S instanceof ShadowRoot}function BX(S){var y=S.state;Object.keys(y.elements).forEach(function(k){var M=y.styles[k]||{},V=y.attributes[k]||{},G=y.elements[k];!eh(G)||!Kp(G)||(Object.assign(G.style,M),Object.keys(V).forEach(function(te){var q=V[te];q===!1?G.removeAttribute(te):G.setAttribute(te,q===!0?"":q)}))})}function NX(S){var y=S.state,k={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,k.popper),y.styles=k,y.elements.arrow&&Object.assign(y.elements.arrow.style,k.arrow),function(){Object.keys(y.elements).forEach(function(M){var V=y.elements[M],G=y.attributes[M]||{},te=Object.keys(y.styles.hasOwnProperty(M)?y.styles[M]:k[M]),q=te.reduce(function(W,U){return W[U]="",W},{});!eh(V)||!Kp(V)||(Object.assign(V.style,q),Object.keys(G).forEach(function(W){V.removeAttribute(W)}))})}}const IX={name:"applyStyles",enabled:!0,phase:"write",fn:BX,effect:NX,requires:["computeStyles"]};function Gp(S){return S.split("-")[0]}var LC=Math.max,QF=Math.min,VT=Math.round;function $q(){var S=navigator.userAgentData;return S!=null&&S.brands&&Array.isArray(S.brands)?S.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function yY(){return!/^((?!chrome|android).)*safari/i.test($q())}function UT(S,y,k){y===void 0&&(y=!1),k===void 0&&(k=!1);var M=S.getBoundingClientRect(),V=1,G=1;y&&eh(S)&&(V=S.offsetWidth>0&&VT(M.width)/S.offsetWidth||1,G=S.offsetHeight>0&&VT(M.height)/S.offsetHeight||1);var te=FC(S)?rf(S):window,q=te.visualViewport,W=!yY()&&k,U=(M.left+(W&&q?q.offsetLeft:0))/V,I=(M.top+(W&&q?q.offsetTop:0))/G,ee=M.width/V,ce=M.height/G;return{width:ee,height:ce,top:I,right:U+ee,bottom:I+ce,left:U,x:U,y:I}}function Jq(S){var y=UT(S),k=S.offsetWidth,M=S.offsetHeight;return Math.abs(y.width-k)<=1&&(k=y.width),Math.abs(y.height-M)<=1&&(M=y.height),{x:S.offsetLeft,y:S.offsetTop,width:k,height:M}}function wY(S,y){var k=y.getRootNode&&y.getRootNode();if(S.contains(y))return!0;if(k&&Xq(k)){var M=y;do{if(M&&S.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function cv(S){return rf(S).getComputedStyle(S)}function $X(S){return["table","td","th"].indexOf(Kp(S))>=0}function j0(S){return((FC(S)?S.ownerDocument:S.document)||window.document).documentElement}function d6(S){return Kp(S)==="html"?S:S.assignedSlot||S.parentNode||(Xq(S)?S.host:null)||j0(S)}function GK(S){return!eh(S)||cv(S).position==="fixed"?null:S.offsetParent}function LX(S){var y=/firefox/i.test($q()),k=/Trident/i.test($q());if(k&&eh(S)){var M=cv(S);if(M.position==="fixed")return null}var V=d6(S);for(Xq(V)&&(V=V.host);eh(V)&&["html","body"].indexOf(Kp(V))<0;){var G=cv(V);if(G.transform!=="none"||G.perspective!=="none"||G.contain==="paint"||["transform","perspective"].indexOf(G.willChange)!==-1||y&&G.willChange==="filter"||y&&G.filter&&G.filter!=="none")return V;V=V.parentNode}return null}function PR(S){for(var y=rf(S),k=GK(S);k&&$X(k)&&cv(k).position==="static";)k=GK(k);return k&&(Kp(k)==="html"||Kp(k)==="body"&&cv(k).position==="static")?y:k||LX(S)||y}function Qq(S){return["top","bottom"].indexOf(S)>=0?"x":"y"}function _R(S,y,k){return LC(S,QF(y,k))}function FX(S,y,k){var M=_R(S,y,k);return M>k?k:M}function CY(){return{top:0,right:0,bottom:0,left:0}}function xY(S){return Object.assign({},CY(),S)}function SY(S,y){return y.reduce(function(k,M){return k[M]=S,k},{})}var HX=function(y,k){return y=typeof y=="function"?y(Object.assign({},k.rects,{placement:k.placement})):y,xY(typeof y!="number"?y:SY(y,RR))};function zX(S){var y,k=S.state,M=S.name,V=S.options,G=k.elements.arrow,te=k.modifiersData.popperOffsets,q=Gp(k.placement),W=Qq(q),U=[cd,oh].indexOf(q)>=0,I=U?"height":"width";if(!(!G||!te)){var ee=HX(V.padding,k),ce=Jq(G),be=W==="y"?ad:cd,he=W==="y"?nh:oh,xe=k.rects.reference[I]+k.rects.reference[W]-te[W]-k.rects.popper[I],Re=te[W]-k.rects.reference[W],et=PR(G),nn=et?W==="y"?et.clientHeight||0:et.clientWidth||0:0,ue=xe/2-Re/2,mt=ee[be],Vn=nn-ce[I]-ee[he],Gt=nn/2-ce[I]/2+ue,A=_R(mt,Gt,Vn),mn=W;k.modifiersData[M]=(y={},y[mn]=A,y.centerOffset=A-Gt,y)}}function VX(S){var y=S.state,k=S.options,M=k.element,V=M===void 0?"[data-popper-arrow]":M;V!=null&&(typeof V=="string"&&(V=y.elements.popper.querySelector(V),!V)||wY(y.elements.popper,V)&&(y.elements.arrow=V))}const UX={name:"arrow",enabled:!0,phase:"main",fn:zX,effect:VX,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function WT(S){return S.split("-")[1]}var WX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jX(S,y){var k=S.x,M=S.y,V=y.devicePixelRatio||1;return{x:VT(k*V)/V||0,y:VT(M*V)/V||0}}function KK(S){var y,k=S.popper,M=S.popperRect,V=S.placement,G=S.variation,te=S.offsets,q=S.position,W=S.gpuAcceleration,U=S.adaptive,I=S.roundOffsets,ee=S.isFixed,ce=te.x,be=ce===void 0?0:ce,he=te.y,xe=he===void 0?0:he,Re=typeof I=="function"?I({x:be,y:xe}):{x:be,y:xe};be=Re.x,xe=Re.y;var et=te.hasOwnProperty("x"),nn=te.hasOwnProperty("y"),ue=cd,mt=ad,Vn=window;if(U){var Gt=PR(k),A="clientHeight",mn="clientWidth";if(Gt===rf(k)&&(Gt=j0(k),cv(Gt).position!=="static"&&q==="absolute"&&(A="scrollHeight",mn="scrollWidth")),Gt=Gt,V===ad||(V===cd||V===oh)&&G===kR){mt=nh;var Cn=ee&&Gt===Vn&&Vn.visualViewport?Vn.visualViewport.height:Gt[A];xe-=Cn-M.height,xe*=W?1:-1}if(V===cd||(V===ad||V===nh)&&G===kR){ue=oh;var Sn=ee&&Gt===Vn&&Vn.visualViewport?Vn.visualViewport.width:Gt[mn];be-=Sn-M.width,be*=W?1:-1}}var je=Object.assign({position:q},U&&WX),ye=I===!0?jX({x:be,y:xe},rf(k)):{x:be,y:xe};if(be=ye.x,xe=ye.y,W){var Ze;return Object.assign({},je,(Ze={},Ze[mt]=nn?"0":"",Ze[ue]=et?"0":"",Ze.transform=(Vn.devicePixelRatio||1)<=1?"translate("+be+"px, "+xe+"px)":"translate3d("+be+"px, "+xe+"px, 0)",Ze))}return Object.assign({},je,(y={},y[mt]=nn?xe+"px":"",y[ue]=et?be+"px":"",y.transform="",y))}function ZX(S){var y=S.state,k=S.options,M=k.gpuAcceleration,V=M===void 0?!0:M,G=k.adaptive,te=G===void 0?!0:G,q=k.roundOffsets,W=q===void 0?!0:q,U={placement:Gp(y.placement),variation:WT(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:V,isFixed:y.options.strategy==="fixed"};y.modifiersData.popperOffsets!=null&&(y.styles.popper=Object.assign({},y.styles.popper,KK(Object.assign({},U,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:te,roundOffsets:W})))),y.modifiersData.arrow!=null&&(y.styles.arrow=Object.assign({},y.styles.arrow,KK(Object.assign({},U,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})}const qX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZX,data:{}};var HF={passive:!0};function GX(S){var y=S.state,k=S.instance,M=S.options,V=M.scroll,G=V===void 0?!0:V,te=M.resize,q=te===void 0?!0:te,W=rf(y.elements.popper),U=[].concat(y.scrollParents.reference,y.scrollParents.popper);return G&&U.forEach(function(I){I.addEventListener("scroll",k.update,HF)}),q&&W.addEventListener("resize",k.update,HF),function(){G&&U.forEach(function(I){I.removeEventListener("scroll",k.update,HF)}),q&&W.removeEventListener("resize",k.update,HF)}}const KX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GX,data:{}};var YX={left:"right",right:"left",bottom:"top",top:"bottom"};function jF(S){return S.replace(/left|right|bottom|top/g,function(y){return YX[y]})}var XX={start:"end",end:"start"};function YK(S){return S.replace(/start|end/g,function(y){return XX[y]})}function eG(S){var y=rf(S),k=y.pageXOffset,M=y.pageYOffset;return{scrollLeft:k,scrollTop:M}}function tG(S){return UT(j0(S)).left+eG(S).scrollLeft}function JX(S,y){var k=rf(S),M=j0(S),V=k.visualViewport,G=M.clientWidth,te=M.clientHeight,q=0,W=0;if(V){G=V.width,te=V.height;var U=yY();(U||!U&&y==="fixed")&&(q=V.offsetLeft,W=V.offsetTop)}return{width:G,height:te,x:q+tG(S),y:W}}function QX(S){var y,k=j0(S),M=eG(S),V=(y=S.ownerDocument)==null?void 0:y.body,G=LC(k.scrollWidth,k.clientWidth,V?V.scrollWidth:0,V?V.clientWidth:0),te=LC(k.scrollHeight,k.clientHeight,V?V.scrollHeight:0,V?V.clientHeight:0),q=-M.scrollLeft+tG(S),W=-M.scrollTop;return cv(V||k).direction==="rtl"&&(q+=LC(k.clientWidth,V?V.clientWidth:0)-G),{width:G,height:te,x:q,y:W}}function nG(S){var y=cv(S),k=y.overflow,M=y.overflowX,V=y.overflowY;return/auto|scroll|overlay|hidden/.test(k+V+M)}function EY(S){return["html","body","#document"].indexOf(Kp(S))>=0?S.ownerDocument.body:eh(S)&&nG(S)?S:EY(d6(S))}function TR(S,y){var k;y===void 0&&(y=[]);var M=EY(S),V=M===((k=S.ownerDocument)==null?void 0:k.body),G=rf(M),te=V?[G].concat(G.visualViewport||[],nG(M)?M:[]):M,q=y.concat(te);return V?q:q.concat(TR(d6(te)))}function Lq(S){return Object.assign({},S,{left:S.x,top:S.y,right:S.x+S.width,bottom:S.y+S.height})}function eJ(S,y){var k=UT(S,!1,y==="fixed");return k.top=k.top+S.clientTop,k.left=k.left+S.clientLeft,k.bottom=k.top+S.clientHeight,k.right=k.left+S.clientWidth,k.width=S.clientWidth,k.height=S.clientHeight,k.x=k.left,k.y=k.top,k}function XK(S,y,k){return y===vY?Lq(JX(S,k)):FC(y)?eJ(y,k):Lq(QX(j0(S)))}function tJ(S){var y=TR(d6(S)),k=["absolute","fixed"].indexOf(cv(S).position)>=0,M=k&&eh(S)?PR(S):S;return FC(M)?y.filter(function(V){return FC(V)&&wY(V,M)&&Kp(V)!=="body"}):[]}function nJ(S,y,k,M){var V=y==="clippingParents"?tJ(S):[].concat(y),G=[].concat(V,[k]),te=G[0],q=G.reduce(function(W,U){var I=XK(S,U,M);return W.top=LC(I.top,W.top),W.right=QF(I.right,W.right),W.bottom=QF(I.bottom,W.bottom),W.left=LC(I.left,W.left),W},XK(S,te,M));return q.width=q.right-q.left,q.height=q.bottom-q.top,q.x=q.left,q.y=q.top,q}function _Y(S){var y=S.reference,k=S.element,M=S.placement,V=M?Gp(M):null,G=M?WT(M):null,te=y.x+y.width/2-k.width/2,q=y.y+y.height/2-k.height/2,W;switch(V){case ad:W={x:te,y:y.y-k.height};break;case nh:W={x:te,y:y.y+y.height};break;case oh:W={x:y.x+y.width,y:q};break;case cd:W={x:y.x-k.width,y:q};break;default:W={x:y.x,y:y.y}}var U=V?Qq(V):null;if(U!=null){var I=U==="y"?"height":"width";switch(G){case zT:W[U]=W[U]-(y[I]/2-k[I]/2);break;case kR:W[U]=W[U]+(y[I]/2-k[I]/2);break}}return W}function OR(S,y){y===void 0&&(y={});var k=y,M=k.placement,V=M===void 0?S.placement:M,G=k.strategy,te=G===void 0?S.strategy:G,q=k.boundary,W=q===void 0?xX:q,U=k.rootBoundary,I=U===void 0?vY:U,ee=k.elementContext,ce=ee===void 0?SR:ee,be=k.altBoundary,he=be===void 0?!1:be,xe=k.padding,Re=xe===void 0?0:xe,et=xY(typeof Re!="number"?Re:SY(Re,RR)),nn=ce===SR?SX:SR,ue=S.rects.popper,mt=S.elements[he?nn:ce],Vn=nJ(FC(mt)?mt:mt.contextElement||j0(S.elements.popper),W,I,te),Gt=UT(S.elements.reference),A=_Y({reference:Gt,element:ue,strategy:"absolute",placement:V}),mn=Lq(Object.assign({},ue,A)),Cn=ce===SR?mn:Gt,Sn={top:Vn.top-Cn.top+et.top,bottom:Cn.bottom-Vn.bottom+et.bottom,left:Vn.left-Cn.left+et.left,right:Cn.right-Vn.right+et.right},je=S.modifiersData.offset;if(ce===SR&&je){var ye=je[V];Object.keys(Sn).forEach(function(Ze){var Vt=[oh,nh].indexOf(Ze)>=0?1:-1,wt=[ad,nh].indexOf(Ze)>=0?"y":"x";Sn[Ze]+=ye[wt]*Vt})}return Sn}function oJ(S,y){y===void 0&&(y={});var k=y,M=k.placement,V=k.boundary,G=k.rootBoundary,te=k.padding,q=k.flipVariations,W=k.allowedAutoPlacements,U=W===void 0?bY:W,I=WT(M),ee=I?q?qK:qK.filter(function(he){return WT(he)===I}):RR,ce=ee.filter(function(he){return U.indexOf(he)>=0});ce.length===0&&(ce=ee);var be=ce.reduce(function(he,xe){return he[xe]=OR(S,{placement:xe,boundary:V,rootBoundary:G,padding:te})[Gp(xe)],he},{});return Object.keys(be).sort(function(he,xe){return be[he]-be[xe]})}function sJ(S){if(Gp(S)===Yq)return[];var y=jF(S);return[YK(S),y,YK(y)]}function rJ(S){var y=S.state,k=S.options,M=S.name;if(!y.modifiersData[M]._skip){for(var V=k.mainAxis,G=V===void 0?!0:V,te=k.altAxis,q=te===void 0?!0:te,W=k.fallbackPlacements,U=k.padding,I=k.boundary,ee=k.rootBoundary,ce=k.altBoundary,be=k.flipVariations,he=be===void 0?!0:be,xe=k.allowedAutoPlacements,Re=y.options.placement,et=Gp(Re),nn=et===Re,ue=W||(nn||!he?[jF(Re)]:sJ(Re)),mt=[Re].concat(ue).reduce(function(_n,$n){return _n.concat(Gp($n)===Yq?oJ(y,{placement:$n,boundary:I,rootBoundary:ee,padding:U,flipVariations:he,allowedAutoPlacements:xe}):$n)},[]),Vn=y.rects.reference,Gt=y.rects.popper,A=new Map,mn=!0,Cn=mt[0],Sn=0;Sn<mt.length;Sn++){var je=mt[Sn],ye=Gp(je),Ze=WT(je)===zT,Vt=[ad,nh].indexOf(ye)>=0,wt=Vt?"width":"height",P=OR(y,{placement:je,boundary:I,rootBoundary:ee,altBoundary:ce,padding:U}),yn=Vt?Ze?oh:cd:Ze?nh:ad;Vn[wt]>Gt[wt]&&(yn=jF(yn));var st=jF(yn),eo=[];if(G&&eo.push(P[ye]<=0),q&&eo.push(P[yn]<=0,P[st]<=0),eo.every(function(_n){return _n})){Cn=je,mn=!1;break}A.set(je,eo)}if(mn)for(var jt=he?3:1,Ge=function($n){var He=mt.find(function(ht){var K=A.get(ht);if(K)return K.slice(0,$n).every(function(Xr){return Xr})});if(He)return Cn=He,"break"},ct=jt;ct>0;ct--){var Rn=Ge(ct);if(Rn==="break")break}y.placement!==Cn&&(y.modifiersData[M]._skip=!0,y.placement=Cn,y.reset=!0)}}const iJ={name:"flip",enabled:!0,phase:"main",fn:rJ,requiresIfExists:["offset"],data:{_skip:!1}};function JK(S,y,k){return k===void 0&&(k={x:0,y:0}),{top:S.top-y.height-k.y,right:S.right-y.width+k.x,bottom:S.bottom-y.height+k.y,left:S.left-y.width-k.x}}function QK(S){return[ad,oh,nh,cd].some(function(y){return S[y]>=0})}function aJ(S){var y=S.state,k=S.name,M=y.rects.reference,V=y.rects.popper,G=y.modifiersData.preventOverflow,te=OR(y,{elementContext:"reference"}),q=OR(y,{altBoundary:!0}),W=JK(te,M),U=JK(q,V,G),I=QK(W),ee=QK(U);y.modifiersData[k]={referenceClippingOffsets:W,popperEscapeOffsets:U,isReferenceHidden:I,hasPopperEscaped:ee},y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":ee})}const cJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:aJ};function lJ(S,y,k){var M=Gp(S),V=[cd,ad].indexOf(M)>=0?-1:1,G=typeof k=="function"?k(Object.assign({},y,{placement:S})):k,te=G[0],q=G[1];return te=te||0,q=(q||0)*V,[cd,oh].indexOf(M)>=0?{x:q,y:te}:{x:te,y:q}}function uJ(S){var y=S.state,k=S.options,M=S.name,V=k.offset,G=V===void 0?[0,0]:V,te=bY.reduce(function(I,ee){return I[ee]=lJ(ee,y.rects,G),I},{}),q=te[y.placement],W=q.x,U=q.y;y.modifiersData.popperOffsets!=null&&(y.modifiersData.popperOffsets.x+=W,y.modifiersData.popperOffsets.y+=U),y.modifiersData[M]=te}const dJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uJ};function fJ(S){var y=S.state,k=S.name;y.modifiersData[k]=_Y({reference:y.rects.reference,element:y.rects.popper,strategy:"absolute",placement:y.placement})}const hJ={name:"popperOffsets",enabled:!0,phase:"read",fn:fJ,data:{}};function mJ(S){return S==="x"?"y":"x"}function pJ(S){var y=S.state,k=S.options,M=S.name,V=k.mainAxis,G=V===void 0?!0:V,te=k.altAxis,q=te===void 0?!1:te,W=k.boundary,U=k.rootBoundary,I=k.altBoundary,ee=k.padding,ce=k.tether,be=ce===void 0?!0:ce,he=k.tetherOffset,xe=he===void 0?0:he,Re=OR(y,{boundary:W,rootBoundary:U,padding:ee,altBoundary:I}),et=Gp(y.placement),nn=WT(y.placement),ue=!nn,mt=Qq(et),Vn=mJ(mt),Gt=y.modifiersData.popperOffsets,A=y.rects.reference,mn=y.rects.popper,Cn=typeof xe=="function"?xe(Object.assign({},y.rects,{placement:y.placement})):xe,Sn=typeof Cn=="number"?{mainAxis:Cn,altAxis:Cn}:Object.assign({mainAxis:0,altAxis:0},Cn),je=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,ye={x:0,y:0};if(Gt){if(G){var Ze,Vt=mt==="y"?ad:cd,wt=mt==="y"?nh:oh,P=mt==="y"?"height":"width",yn=Gt[mt],st=yn+Re[Vt],eo=yn-Re[wt],jt=be?-mn[P]/2:0,Ge=nn===zT?A[P]:mn[P],ct=nn===zT?-mn[P]:-A[P],Rn=y.elements.arrow,_n=be&&Rn?Jq(Rn):{width:0,height:0},$n=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:CY(),He=$n[Vt],ht=$n[wt],K=_R(0,A[P],_n[P]),Xr=ue?A[P]/2-jt-K-He-Sn.mainAxis:Ge-K-He-Sn.mainAxis,po=ue?-A[P]/2+jt+K+ht+Sn.mainAxis:ct+K+ht+Sn.mainAxis,Cs=y.elements.arrow&&PR(y.elements.arrow),Mo=Cs?mt==="y"?Cs.clientTop||0:Cs.clientLeft||0:0,ld=(Ze=je==null?void 0:je[mt])!=null?Ze:0,An=yn+Xr-ld-Mo,Xo=yn+po-ld,Tn=_R(be?QF(st,An):st,yn,be?LC(eo,Xo):eo);Gt[mt]=Tn,ye[mt]=Tn-yn}if(q){var Le,di=mt==="x"?ad:cd,Nr=mt==="x"?nh:oh,Jt=Gt[Vn],Ya=Vn==="y"?"height":"width",To=Jt+Re[di],Xa=Jt-Re[Nr],Jo=[ad,cd].indexOf(et)!==-1,wn=(Le=je==null?void 0:je[Vn])!=null?Le:0,Ir=Jo?To:Jt-A[Ya]-mn[Ya]-wn+Sn.altAxis,Mi=Jo?Jt+A[Ya]+mn[Ya]-wn-Sn.altAxis:Xa,gr=be&&Jo?FX(Ir,Jt,Mi):_R(be?Ir:To,Jt,be?Mi:Xa);Gt[Vn]=gr,ye[Vn]=gr-Jt}y.modifiersData[M]=ye}}const gJ={name:"preventOverflow",enabled:!0,phase:"main",fn:pJ,requiresIfExists:["offset"]};function vJ(S){return{scrollLeft:S.scrollLeft,scrollTop:S.scrollTop}}function bJ(S){return S===rf(S)||!eh(S)?eG(S):vJ(S)}function yJ(S){var y=S.getBoundingClientRect(),k=VT(y.width)/S.offsetWidth||1,M=VT(y.height)/S.offsetHeight||1;return k!==1||M!==1}function wJ(S,y,k){k===void 0&&(k=!1);var M=eh(y),V=eh(y)&&yJ(y),G=j0(y),te=UT(S,V,k),q={scrollLeft:0,scrollTop:0},W={x:0,y:0};return(M||!M&&!k)&&((Kp(y)!=="body"||nG(G))&&(q=bJ(y)),eh(y)?(W=UT(y,!0),W.x+=y.clientLeft,W.y+=y.clientTop):G&&(W.x=tG(G))),{x:te.left+q.scrollLeft-W.x,y:te.top+q.scrollTop-W.y,width:te.width,height:te.height}}function CJ(S){var y=new Map,k=new Set,M=[];S.forEach(function(G){y.set(G.name,G)});function V(G){k.add(G.name);var te=[].concat(G.requires||[],G.requiresIfExists||[]);te.forEach(function(q){if(!k.has(q)){var W=y.get(q);W&&V(W)}}),M.push(G)}return S.forEach(function(G){k.has(G.name)||V(G)}),M}function xJ(S){var y=CJ(S);return MX.reduce(function(k,M){return k.concat(y.filter(function(V){return V.phase===M}))},[])}function SJ(S){var y;return function(){return y||(y=new Promise(function(k){Promise.resolve().then(function(){y=void 0,k(S())})})),y}}function EJ(S){var y=S.reduce(function(k,M){var V=k[M.name];return k[M.name]=V?Object.assign({},V,M,{options:Object.assign({},V.options,M.options),data:Object.assign({},V.data,M.data)}):M,k},{});return Object.keys(y).map(function(k){return y[k]})}var eY={placement:"bottom",modifiers:[],strategy:"absolute"};function tY(){for(var S=arguments.length,y=new Array(S),k=0;k<S;k++)y[k]=arguments[k];return!y.some(function(M){return!(M&&typeof M.getBoundingClientRect=="function")})}function _J(S){S===void 0&&(S={});var y=S,k=y.defaultModifiers,M=k===void 0?[]:k,V=y.defaultOptions,G=V===void 0?eY:V;return function(q,W,U){U===void 0&&(U=G);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},eY,G),modifiersData:{},elements:{reference:q,popper:W},attributes:{},styles:{}},ee=[],ce=!1,be={state:I,setOptions:function(et){var nn=typeof et=="function"?et(I.options):et;xe(),I.options=Object.assign({},G,I.options,nn),I.scrollParents={reference:FC(q)?TR(q):q.contextElement?TR(q.contextElement):[],popper:TR(W)};var ue=xJ(EJ([].concat(M,I.options.modifiers)));return I.orderedModifiers=ue.filter(function(mt){return mt.enabled}),he(),be.update()},forceUpdate:function(){if(!ce){var et=I.elements,nn=et.reference,ue=et.popper;if(tY(nn,ue)){I.rects={reference:wJ(nn,PR(ue),I.options.strategy==="fixed"),popper:Jq(ue)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(Sn){return I.modifiersData[Sn.name]=Object.assign({},Sn.data)});for(var mt=0;mt<I.orderedModifiers.length;mt++){if(I.reset===!0){I.reset=!1,mt=-1;continue}var Vn=I.orderedModifiers[mt],Gt=Vn.fn,A=Vn.options,mn=A===void 0?{}:A,Cn=Vn.name;typeof Gt=="function"&&(I=Gt({state:I,options:mn,name:Cn,instance:be})||I)}}}},update:SJ(function(){return new Promise(function(Re){be.forceUpdate(),Re(I)})}),destroy:function(){xe(),ce=!0}};if(!tY(q,W))return be;be.setOptions(U).then(function(Re){!ce&&U.onFirstUpdate&&U.onFirstUpdate(Re)});function he(){I.orderedModifiers.forEach(function(Re){var et=Re.name,nn=Re.options,ue=nn===void 0?{}:nn,mt=Re.effect;if(typeof mt=="function"){var Vn=mt({state:I,name:et,instance:be,options:ue}),Gt=function(){};ee.push(Vn||Gt)}})}function xe(){ee.forEach(function(Re){return Re()}),ee=[]}return be}}var TJ=[KX,hJ,qX,IX,dJ,iJ,gJ,UX,cJ],oG=_J({defaultModifiers:TJ}),z0=function(){return z0=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},z0.apply(this,arguments)},zF=function(S,y,k){if(k||arguments.length===2)for(var M=0,V=y.length,G;M<V;M++)(G||!(M in y))&&(G||(G=Array.prototype.slice.call(y,0,M)),G[M]=y[M]);return S.concat(G||Array.prototype.slice.call(y))},V0={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},AJ={id:null,override:!0},TY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=V0),V===void 0&&(V=AJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=k,this._options=z0(z0({},V0),M),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Dropdown",this,this._instanceId,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},S.prototype.destroy=function(){var y=this,k=this._getTriggerEvents();this._options.triggerType==="click"&&k.showEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._clickHandler)}),this._options.triggerType==="hover"&&(k.showEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._hoverShowTriggerElHandler),y._targetEl.removeEventListener(M,y._hoverShowTargetElHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._hoverHideHandler),y._targetEl.removeEventListener(M,y._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},S.prototype.removeInstance=function(){ls.removeInstance("Dropdown",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,k=this._getTriggerEvents();this._clickHandler=function(){y.toggle()},this._options.triggerType==="click"&&k.showEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._clickHandler)}),this._hoverShowTriggerElHandler=function(M){M.type==="click"?y.toggle():setTimeout(function(){y.show()},y._options.delay)},this._hoverShowTargetElHandler=function(){y.show()},this._hoverHideHandler=function(){setTimeout(function(){y._targetEl.matches(":hover")||y.hide()},y._options.delay)},this._options.triggerType==="hover"&&(k.showEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._hoverShowTriggerElHandler),y._targetEl.addEventListener(M,y._hoverShowTargetElHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._hoverHideHandler),y._targetEl.addEventListener(M,y._hoverHideHandler)}))},S.prototype._createPopperInstance=function(){return oG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(k){y._handleClickOutside(k,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,k){var M=y.target,V=this._options.ignoreClickOutsideClass,G=!1;if(V){var te=document.querySelectorAll(".".concat(V));te.forEach(function(q){if(q.contains(M)){G=!0;return}})}M!==k&&!k.contains(M)&&!this._triggerEl.contains(M)&&!G&&this.isVisible()&&this.hide()},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},S.prototype.isVisible=function(){return this._visible},S.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(y){return z0(z0({},y),{modifiers:zF(zF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(y){return z0(z0({},y),{modifiers:zF(zF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function sG(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(S){var y=S.getAttribute("data-dropdown-toggle"),k=document.getElementById(y);if(k){var M=S.getAttribute("data-dropdown-placement"),V=S.getAttribute("data-dropdown-offset-skidding"),G=S.getAttribute("data-dropdown-offset-distance"),te=S.getAttribute("data-dropdown-trigger"),q=S.getAttribute("data-dropdown-delay"),W=S.getAttribute("data-dropdown-ignore-click-outside-class");new TY(k,S,{placement:M||V0.placement,triggerType:te||V0.triggerType,offsetSkidding:V?parseInt(V):V0.offsetSkidding,offsetDistance:G?parseInt(G):V0.offsetDistance,delay:q?parseInt(q):V0.delay,ignoreClickOutsideClass:W||V0.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(y,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=TY,window.initDropdowns=sG);var e6=function(){return e6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},e6.apply(this,arguments)},t6={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},kJ={id:null,override:!0},AY=function(){function S(y,k,M){y===void 0&&(y=null),k===void 0&&(k=t6),M===void 0&&(M=kJ),this._eventListenerInstances=[],this._instanceId=M.id?M.id:y.id,this._targetEl=y,this._options=e6(e6({},t6),k),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),ls.addInstance("Modal",this,this._instanceId,M.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(k){y._targetEl.classList.add(k)}),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Modal",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._createBackdrop=function(){var y;if(this._isHidden){var k=document.createElement("div");k.setAttribute("modal-backdrop",""),(y=k.classList).add.apply(y,this._options.backdropClasses.split(" ")),document.querySelector("body").append(k),this._backdropEl=k}},S.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},S.prototype._setupModalCloseEventListeners=function(){var y=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(k){y._handleOutsideClick(k.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(k){k.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._handleOutsideClick=function(y){(y===this._targetEl||y===this._backdropEl&&this.isVisible())&&this.hide()},S.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},S.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},S.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},S.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},S.prototype.isVisible=function(){return!this._isHidden},S.prototype.isHidden=function(){return this._isHidden},S.prototype.addEventListenerInstance=function(y,k,M){this._eventListenerInstances.push({element:y,type:k,handler:M})},S.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(y){y.element.removeEventListener(y.type,y.handler)}),this._eventListenerInstances=[]},S.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function rG(){document.querySelectorAll("[data-modal-target]").forEach(function(S){var y=S.getAttribute("data-modal-target"),k=document.getElementById(y);if(k){var M=k.getAttribute("data-modal-placement"),V=k.getAttribute("data-modal-backdrop");new AY(k,{placement:M||t6.placement,backdrop:V||t6.backdrop})}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(S){var y=S.getAttribute("data-modal-toggle"),k=document.getElementById(y);if(k){var M=ls.getInstance("Modal",y);if(M){var V=function(){M.toggle()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(S){var y=S.getAttribute("data-modal-show"),k=document.getElementById(y);if(k){var M=ls.getInstance("Modal",y);if(M){var V=function(){M.show()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(S){var y=S.getAttribute("data-modal-hide"),k=document.getElementById(y);if(k){var M=ls.getInstance("Modal",y);if(M){var V=function(){M.hide()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=AY,window.initModals=rG);var n6=function(){return n6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},n6.apply(this,arguments)},$C={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},OJ={id:null,override:!0},kY=function(){function S(y,k,M){y===void 0&&(y=null),k===void 0&&(k=$C),M===void 0&&(M=OJ),this._eventListenerInstances=[],this._instanceId=M.id?M.id:y.id,this._targetEl=y,this._options=n6(n6({},$C),k),this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Drawer",this,this._instanceId,M.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(k){y._targetEl.classList.add(k)}),this._handleEscapeKey=function(k){k.key==="Escape"&&y.isVisible()&&y.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("Drawer",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){var y=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(k){y._targetEl.classList.remove(k)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(k){y._targetEl.classList.add(k)})):(this._getPlacementClasses(this._options.placement).active.map(function(k){y._targetEl.classList.remove(k)}),this._getPlacementClasses(this._options.placement).inactive.map(function(k){y._targetEl.classList.add(k)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},S.prototype.show=function(){var y=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(k){y._targetEl.classList.add(k)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(k){y._targetEl.classList.remove(k)})):(this._getPlacementClasses(this._options.placement).active.map(function(k){y._targetEl.classList.add(k)}),this._getPlacementClasses(this._options.placement).inactive.map(function(k){y._targetEl.classList.remove(k)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},S.prototype._createBackdrop=function(){var y,k=this;if(!this._visible){var M=document.createElement("div");M.setAttribute("drawer-backdrop",""),(y=M.classList).add.apply(y,this._options.backdropClasses.split(" ")),document.querySelector("body").append(M),M.addEventListener("click",function(){k.hide()})}},S.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},S.prototype._getPlacementClasses=function(y){switch(y){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},S.prototype.isHidden=function(){return!this._visible},S.prototype.isVisible=function(){return this._visible},S.prototype.addEventListenerInstance=function(y,k,M){this._eventListenerInstances.push({element:y,type:k,handler:M})},S.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(y){y.element.removeEventListener(y.type,y.handler)}),this._eventListenerInstances=[]},S.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function iG(){document.querySelectorAll("[data-drawer-target]").forEach(function(S){var y=S.getAttribute("data-drawer-target"),k=document.getElementById(y);if(k){var M=S.getAttribute("data-drawer-placement"),V=S.getAttribute("data-drawer-body-scrolling"),G=S.getAttribute("data-drawer-backdrop"),te=S.getAttribute("data-drawer-edge"),q=S.getAttribute("data-drawer-edge-offset");new kY(k,{placement:M||$C.placement,bodyScrolling:V?V==="true":$C.bodyScrolling,backdrop:G?G==="true":$C.backdrop,edge:te?te==="true":$C.edge,edgeOffset:q||$C.edgeOffset})}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(S){var y=S.getAttribute("data-drawer-toggle"),k=document.getElementById(y);if(k){var M=ls.getInstance("Drawer",y);if(M){var V=function(){M.toggle()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(S){var y=S.getAttribute("data-drawer-dismiss")?S.getAttribute("data-drawer-dismiss"):S.getAttribute("data-drawer-hide"),k=document.getElementById(y);if(k){var M=ls.getInstance("Drawer",y);if(M){var V=function(){M.hide()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(S){var y=S.getAttribute("data-drawer-show"),k=document.getElementById(y);if(k){var M=ls.getInstance("Drawer",y);if(M){var V=function(){M.show()};S.addEventListener("click",V),M.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=kY,window.initDrawers=iG);var o6=function(){return o6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},o6.apply(this,arguments)},s6={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},DJ={id:null,override:!0},OY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=[]),M===void 0&&(M=s6),V===void 0&&(V=DJ),this._instanceId=V.id?V.id:y.id,this._tabsEl=y,this._items=k,this._activeTab=M?this.getTab(M.defaultTabId):null,this._options=o6(o6({},s6),M),this._initialized=!1,this.init(),ls.addInstance("Tabs",this,this._tabsEl.id,!0),ls.addInstance("Tabs",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(k){k.triggerEl.addEventListener("click",function(M){M.preventDefault(),y.show(k.id)})}))},S.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},S.prototype.removeInstance=function(){this.destroy(),ls.removeInstance("Tabs",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getActiveTab=function(){return this._activeTab},S.prototype.setActiveTab=function(y){this._activeTab=y},S.prototype.getTab=function(y){return this._items.filter(function(k){return k.id===y})[0]},S.prototype.show=function(y,k){var M,V,G=this;k===void 0&&(k=!1);var te=this.getTab(y);te===this._activeTab&&!k||(this._items.map(function(q){var W,U;q!==te&&((W=q.triggerEl.classList).remove.apply(W,G._options.activeClasses.split(" ")),(U=q.triggerEl.classList).add.apply(U,G._options.inactiveClasses.split(" ")),q.targetEl.classList.add("hidden"),q.triggerEl.setAttribute("aria-selected","false"))}),(M=te.triggerEl.classList).add.apply(M,this._options.activeClasses.split(" ")),(V=te.triggerEl.classList).remove.apply(V,this._options.inactiveClasses.split(" ")),te.triggerEl.setAttribute("aria-selected","true"),te.targetEl.classList.remove("hidden"),this.setActiveTab(te),this._options.onShow(this,te))},S.prototype.updateOnShow=function(y){this._options.onShow=y},S}();function aG(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(S){var y=[],k=S.getAttribute("data-tabs-active-classes"),M=S.getAttribute("data-tabs-inactive-classes"),V=null;S.querySelectorAll('[role="tab"]').forEach(function(G){var te=G.getAttribute("aria-selected")==="true",q={id:G.getAttribute("data-tabs-target"),triggerEl:G,targetEl:document.querySelector(G.getAttribute("data-tabs-target"))};y.push(q),te&&(V=q.id)}),new OY(S,y,{defaultTabId:V,activeClasses:k||s6.activeClasses,inactiveClasses:M||s6.inactiveClasses})})}typeof window<"u"&&(window.Tabs=OY,window.initTabs=aG);var U0=function(){return U0=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},U0.apply(this,arguments)},VF=function(S,y,k){if(k||arguments.length===2)for(var M=0,V=y.length,G;M<V;M++)(G||!(M in y))&&(G||(G=Array.prototype.slice.call(y,0,M)),G[M]=y[M]);return S.concat(G||Array.prototype.slice.call(y))},r6={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},RJ={id:null,override:!0},DY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=r6),V===void 0&&(V=RJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=k,this._options=U0(U0({},r6),M),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Tooltip",this,this._instanceId,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},S.prototype.destroy=function(){var y=this;if(this._initialized){var k=this._getTriggerEvents();k.showEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._showHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},S.prototype.removeInstance=function(){ls.removeInstance("Tooltip",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,k=this._getTriggerEvents();this._showHandler=function(){y.show()},this._hideHandler=function(){y.hide()},k.showEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._showHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._hideHandler)})},S.prototype._createPopperInstance=function(){return oG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype._setupKeydownListener=function(){var y=this;this._keydownEventListener=function(k){k.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(k){y._handleClickOutside(k,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,k){var M=y.target;M!==k&&!k.contains(M)&&!this._triggerEl.contains(M)&&this.isVisible()&&this.hide()},S.prototype.isVisible=function(){return this._visible},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},S.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(y){return U0(U0({},y),{modifiers:VF(VF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(y){return U0(U0({},y),{modifiers:VF(VF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function cG(){document.querySelectorAll("[data-tooltip-target]").forEach(function(S){var y=S.getAttribute("data-tooltip-target"),k=document.getElementById(y);if(k){var M=S.getAttribute("data-tooltip-trigger"),V=S.getAttribute("data-tooltip-placement");new DY(k,S,{placement:V||r6.placement,triggerType:M||r6.triggerType})}else console.error('The tooltip element with id "'.concat(y,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=DY,window.initTooltips=cG);var W0=function(){return W0=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},W0.apply(this,arguments)},UF=function(S,y,k){if(k||arguments.length===2)for(var M=0,V=y.length,G;M<V;M++)(G||!(M in y))&&(G||(G=Array.prototype.slice.call(y,0,M)),G[M]=y[M]);return S.concat(G||Array.prototype.slice.call(y))},AR={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},PJ={id:null,override:!0},RY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=AR),V===void 0&&(V=PJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=k,this._options=W0(W0({},AR),M),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Popover",this,V.id?V.id:this._targetEl.id,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},S.prototype.destroy=function(){var y=this;if(this._initialized){var k=this._getTriggerEvents();k.showEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._showHandler),y._targetEl.removeEventListener(M,y._showHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._hideHandler),y._targetEl.removeEventListener(M,y._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},S.prototype.removeInstance=function(){ls.removeInstance("Popover",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,k=this._getTriggerEvents();this._showHandler=function(){y.show()},this._hideHandler=function(){setTimeout(function(){y._targetEl.matches(":hover")||y.hide()},100)},k.showEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._showHandler),y._targetEl.addEventListener(M,y._showHandler)}),k.hideEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._hideHandler),y._targetEl.addEventListener(M,y._hideHandler)})},S.prototype._createPopperInstance=function(){return oG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype._setupKeydownListener=function(){var y=this;this._keydownEventListener=function(k){k.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(k){y._handleClickOutside(k,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,k){var M=y.target;M!==k&&!k.contains(M)&&!this._triggerEl.contains(M)&&this.isVisible()&&this.hide()},S.prototype.isVisible=function(){return this._visible},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},S.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(y){return W0(W0({},y),{modifiers:UF(UF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(y){return W0(W0({},y),{modifiers:UF(UF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function lG(){document.querySelectorAll("[data-popover-target]").forEach(function(S){var y=S.getAttribute("data-popover-target"),k=document.getElementById(y);if(k){var M=S.getAttribute("data-popover-trigger"),V=S.getAttribute("data-popover-placement"),G=S.getAttribute("data-popover-offset");new RY(k,S,{placement:V||AR.placement,offset:G?parseInt(G):AR.offset,triggerType:M||AR.triggerType})}else console.error('The popover element with id "'.concat(y,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=RY,window.initPopovers=lG);var i6=function(){return i6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},i6.apply(this,arguments)},Fq={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},MJ={id:null,override:!0},PY=function(){function S(y,k,M,V,G){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=null),V===void 0&&(V=Fq),G===void 0&&(G=MJ),this._instanceId=G.id?G.id:M.id,this._parentEl=y,this._triggerEl=k,this._targetEl=M,this._options=i6(i6({},Fq),V),this._visible=!1,this._initialized=!1,this.init(),ls.addInstance("Dial",this,this._instanceId,G.override)}return S.prototype.init=function(){var y=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var k=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){y.show()},k.showEvents.forEach(function(M){y._triggerEl.addEventListener(M,y._showEventHandler),y._targetEl.addEventListener(M,y._showEventHandler)}),this._hideEventHandler=function(){y._parentEl.matches(":hover")||y.hide()},k.hideEvents.forEach(function(M){y._parentEl.addEventListener(M,y._hideEventHandler)}),this._initialized=!0}},S.prototype.destroy=function(){var y=this;if(this._initialized){var k=this._getTriggerEventTypes(this._options.triggerType);k.showEvents.forEach(function(M){y._triggerEl.removeEventListener(M,y._showEventHandler),y._targetEl.removeEventListener(M,y._showEventHandler)}),k.hideEvents.forEach(function(M){y._parentEl.removeEventListener(M,y._hideEventHandler)}),this._initialized=!1}},S.prototype.removeInstance=function(){ls.removeInstance("Dial",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},S.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},S.prototype.toggle=function(){this._visible?this.hide():this.show()},S.prototype.isHidden=function(){return!this._visible},S.prototype.isVisible=function(){return this._visible},S.prototype._getTriggerEventTypes=function(y){switch(y){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function uG(){document.querySelectorAll("[data-dial-init]").forEach(function(S){var y=S.querySelector("[data-dial-toggle]");if(y){var k=y.getAttribute("data-dial-toggle"),M=document.getElementById(k);if(M){var V=y.getAttribute("data-dial-trigger");new PY(S,y,M,{triggerType:V||Fq.triggerType})}else console.error("Dial with id ".concat(k," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(S.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=PY,window.initDials=uG);var a6=function(){return a6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},a6.apply(this,arguments)},nY={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},BJ={id:null,override:!0},MY=function(){function S(y,k,M,V,G){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=null),V===void 0&&(V=nY),G===void 0&&(G=BJ),this._instanceId=G.id?G.id:y.id,this._targetEl=y,this._incrementEl=k,this._decrementEl=M,this._options=a6(a6({},nY),V),this._initialized=!1,this.init(),ls.addInstance("InputCounter",this,this._instanceId,G.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(k){{var M=k.target;/^\d*$/.test(M.value)||(M.value=M.value.replace(/[^\d]/g,"")),y._options.maxValue!==null&&parseInt(M.value)>y._options.maxValue&&(M.value=y._options.maxValue.toString()),y._options.minValue!==null&&parseInt(M.value)<y._options.minValue&&(M.value=y._options.minValue.toString())}},this._incrementClickHandler=function(){y.increment()},this._decrementClickHandler=function(){y.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("InputCounter",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},S.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},S.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},S.prototype.updateOnIncrement=function(y){this._options.onIncrement=y},S.prototype.updateOnDecrement=function(y){this._options.onDecrement=y},S}();function dG(){document.querySelectorAll("[data-input-counter]").forEach(function(S){var y=S.id,k=document.querySelector('[data-input-counter-increment="'+y+'"]'),M=document.querySelector('[data-input-counter-decrement="'+y+'"]'),V=S.getAttribute("data-input-counter-min"),G=S.getAttribute("data-input-counter-max");S?ls.instanceExists("InputCounter",S.getAttribute("id"))||new MY(S,k||null,M||null,{minValue:V?parseInt(V):null,maxValue:G?parseInt(G):null}):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=MY,window.initInputCounters=dG);var c6=function(){return c6=Object.assign||function(S){for(var y,k=1,M=arguments.length;k<M;k++){y=arguments[k];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},c6.apply(this,arguments)},l6={htmlEntities:!1,contentType:"input",onCopy:function(){}},NJ={id:null,override:!0},BY=function(){function S(y,k,M,V){y===void 0&&(y=null),k===void 0&&(k=null),M===void 0&&(M=l6),V===void 0&&(V=NJ),this._instanceId=V.id?V.id:k.id,this._triggerEl=y,this._targetEl=k,this._options=c6(c6({},l6),M),this._initialized=!1,this.init(),ls.addInstance("CopyClipboard",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){y.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){ls.removeInstance("CopyClipboard",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},S.prototype.copy=function(){var y=this.getTargetValue();this._options.htmlEntities&&(y=this.decodeHTML(y));var k=document.createElement("textarea");return k.value=y,document.body.appendChild(k),k.select(),document.execCommand("copy"),document.body.removeChild(k),this._options.onCopy(this),y},S.prototype.decodeHTML=function(y){var k=document.createElement("textarea");return k.innerHTML=y,k.textContent},S.prototype.updateOnCopyCallback=function(y){this._options.onCopy=y},S}();function fG(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(S){var y=S.getAttribute("data-copy-to-clipboard-target"),k=document.getElementById(y),M=S.getAttribute("data-copy-to-clipboard-content-type"),V=S.getAttribute("data-copy-to-clipboard-html-entities");k?ls.instanceExists("CopyClipboard",k.getAttribute("id"))||new BY(S,k,{htmlEntities:V&&V==="true"?!0:l6.htmlEntities,contentType:M||l6.contentType}):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=BY,window.initClipboards=fG);function IJ(){Zq(),qq(),Gq(),Kq(),sG(),rG(),iG(),aG(),cG(),lG(),uG(),dG(),fG()}typeof window<"u"&&(window.initFlowbite=IJ);var $J=new gX("load",[Zq,qq,Gq,Kq,sG,rG,iG,aG,cG,lG,uG,dG,fG]);$J.init();function NY(S,y){return function(){return S.apply(y,arguments)}}const{toString:LJ}=Object.prototype,{getPrototypeOf:hG}=Object,f6=(S=>y=>{const k=LJ.call(y);return S[k]||(S[k]=k.slice(8,-1).toLowerCase())})(Object.create(null)),Yp=S=>(S=S.toLowerCase(),y=>f6(y)===S),h6=S=>y=>typeof y===S,{isArray:ZT}=Array,DR=h6("undefined");function FJ(S){return S!==null&&!DR(S)&&S.constructor!==null&&!DR(S.constructor)&&th(S.constructor.isBuffer)&&S.constructor.isBuffer(S)}const IY=Yp("ArrayBuffer");function HJ(S){let y;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?y=ArrayBuffer.isView(S):y=S&&S.buffer&&IY(S.buffer),y}const zJ=h6("string"),th=h6("function"),$Y=h6("number"),m6=S=>S!==null&&typeof S=="object",VJ=S=>S===!0||S===!1,ZF=S=>{if(f6(S)!=="object")return!1;const y=hG(S);return(y===null||y===Object.prototype||Object.getPrototypeOf(y)===null)&&!(Symbol.toStringTag in S)&&!(Symbol.iterator in S)},UJ=Yp("Date"),WJ=Yp("File"),jJ=Yp("Blob"),ZJ=Yp("FileList"),qJ=S=>m6(S)&&th(S.pipe),GJ=S=>{let y;return S&&(typeof FormData=="function"&&S instanceof FormData||th(S.append)&&((y=f6(S))==="formdata"||y==="object"&&th(S.toString)&&S.toString()==="[object FormData]"))},KJ=Yp("URLSearchParams"),YJ=S=>S.trim?S.trim():S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function MR(S,y,{allOwnKeys:k=!1}={}){if(S===null||typeof S>"u")return;let M,V;if(typeof S!="object"&&(S=[S]),ZT(S))for(M=0,V=S.length;M<V;M++)y.call(null,S[M],M,S);else{const G=k?Object.getOwnPropertyNames(S):Object.keys(S),te=G.length;let q;for(M=0;M<te;M++)q=G[M],y.call(null,S[q],q,S)}}function LY(S,y){y=y.toLowerCase();const k=Object.keys(S);let M=k.length,V;for(;M-- >0;)if(V=k[M],y===V.toLowerCase())return V;return null}const FY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HY=S=>!DR(S)&&S!==FY;function Hq(){const{caseless:S}=HY(this)&&this||{},y={},k=(M,V)=>{const G=S&&LY(y,V)||V;ZF(y[G])&&ZF(M)?y[G]=Hq(y[G],M):ZF(M)?y[G]=Hq({},M):ZT(M)?y[G]=M.slice():y[G]=M};for(let M=0,V=arguments.length;M<V;M++)arguments[M]&&MR(arguments[M],k);return y}const XJ=(S,y,k,{allOwnKeys:M}={})=>(MR(y,(V,G)=>{k&&th(V)?S[G]=NY(V,k):S[G]=V},{allOwnKeys:M}),S),JJ=S=>(S.charCodeAt(0)===65279&&(S=S.slice(1)),S),QJ=(S,y,k,M)=>{S.prototype=Object.create(y.prototype,M),S.prototype.constructor=S,Object.defineProperty(S,"super",{value:y.prototype}),k&&Object.assign(S.prototype,k)},eQ=(S,y,k,M)=>{let V,G,te;const q={};if(y=y||{},S==null)return y;do{for(V=Object.getOwnPropertyNames(S),G=V.length;G-- >0;)te=V[G],(!M||M(te,S,y))&&!q[te]&&(y[te]=S[te],q[te]=!0);S=k!==!1&&hG(S)}while(S&&(!k||k(S,y))&&S!==Object.prototype);return y},tQ=(S,y,k)=>{S=String(S),(k===void 0||k>S.length)&&(k=S.length),k-=y.length;const M=S.indexOf(y,k);return M!==-1&&M===k},nQ=S=>{if(!S)return null;if(ZT(S))return S;let y=S.length;if(!$Y(y))return null;const k=new Array(y);for(;y-- >0;)k[y]=S[y];return k},oQ=(S=>y=>S&&y instanceof S)(typeof Uint8Array<"u"&&hG(Uint8Array)),sQ=(S,y)=>{const M=(S&&S[Symbol.iterator]).call(S);let V;for(;(V=M.next())&&!V.done;){const G=V.value;y.call(S,G[0],G[1])}},rQ=(S,y)=>{let k;const M=[];for(;(k=S.exec(y))!==null;)M.push(k);return M},iQ=Yp("HTMLFormElement"),aQ=S=>S.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(k,M,V){return M.toUpperCase()+V}),oY=(({hasOwnProperty:S})=>(y,k)=>S.call(y,k))(Object.prototype),cQ=Yp("RegExp"),zY=(S,y)=>{const k=Object.getOwnPropertyDescriptors(S),M={};MR(k,(V,G)=>{let te;(te=y(V,G,S))!==!1&&(M[G]=te||V)}),Object.defineProperties(S,M)},lQ=S=>{zY(S,(y,k)=>{if(th(S)&&["arguments","caller","callee"].indexOf(k)!==-1)return!1;const M=S[k];if(th(M)){if(y.enumerable=!1,"writable"in y){y.writable=!1;return}y.set||(y.set=()=>{throw Error("Can not rewrite read-only method '"+k+"'")})}})},uQ=(S,y)=>{const k={},M=V=>{V.forEach(G=>{k[G]=!0})};return ZT(S)?M(S):M(String(S).split(y)),k},dQ=()=>{},fQ=(S,y)=>(S=+S,Number.isFinite(S)?S:y),Pq="abcdefghijklmnopqrstuvwxyz",sY="0123456789",VY={DIGIT:sY,ALPHA:Pq,ALPHA_DIGIT:Pq+Pq.toUpperCase()+sY},hQ=(S=16,y=VY.ALPHA_DIGIT)=>{let k="";const{length:M}=y;for(;S--;)k+=y[Math.random()*M|0];return k};function mQ(S){return!!(S&&th(S.append)&&S[Symbol.toStringTag]==="FormData"&&S[Symbol.iterator])}const pQ=S=>{const y=new Array(10),k=(M,V)=>{if(m6(M)){if(y.indexOf(M)>=0)return;if(!("toJSON"in M)){y[V]=M;const G=ZT(M)?[]:{};return MR(M,(te,q)=>{const W=k(te,V+1);!DR(W)&&(G[q]=W)}),y[V]=void 0,G}}return M};return k(S,0)},gQ=Yp("AsyncFunction"),vQ=S=>S&&(m6(S)||th(S))&&th(S.then)&&th(S.catch),Pt={isArray:ZT,isArrayBuffer:IY,isBuffer:FJ,isFormData:GJ,isArrayBufferView:HJ,isString:zJ,isNumber:$Y,isBoolean:VJ,isObject:m6,isPlainObject:ZF,isUndefined:DR,isDate:UJ,isFile:WJ,isBlob:jJ,isRegExp:cQ,isFunction:th,isStream:qJ,isURLSearchParams:KJ,isTypedArray:oQ,isFileList:ZJ,forEach:MR,merge:Hq,extend:XJ,trim:YJ,stripBOM:JJ,inherits:QJ,toFlatObject:eQ,kindOf:f6,kindOfTest:Yp,endsWith:tQ,toArray:nQ,forEachEntry:sQ,matchAll:rQ,isHTMLForm:iQ,hasOwnProperty:oY,hasOwnProp:oY,reduceDescriptors:zY,freezeMethods:lQ,toObjectSet:uQ,toCamelCase:aQ,noop:dQ,toFiniteNumber:fQ,findKey:LY,global:FY,isContextDefined:HY,ALPHABET:VY,generateString:hQ,isSpecCompliantForm:mQ,toJSONObject:pQ,isAsyncFn:gQ,isThenable:vQ};function Rs(S,y,k,M,V){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=S,this.name="AxiosError",y&&(this.code=y),k&&(this.config=k),M&&(this.request=M),V&&(this.response=V)}Pt.inherits(Rs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const UY=Rs.prototype,WY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(S=>{WY[S]={value:S}});Object.defineProperties(Rs,WY);Object.defineProperty(UY,"isAxiosError",{value:!0});Rs.from=(S,y,k,M,V,G)=>{const te=Object.create(UY);return Pt.toFlatObject(S,te,function(W){return W!==Error.prototype},q=>q!=="isAxiosError"),Rs.call(te,S.message,y,k,M,V),te.cause=S,te.name=S.name,G&&Object.assign(te,G),te};const bQ=null;function zq(S){return Pt.isPlainObject(S)||Pt.isArray(S)}function jY(S){return Pt.endsWith(S,"[]")?S.slice(0,-2):S}function rY(S,y,k){return S?S.concat(y).map(function(V,G){return V=jY(V),!k&&G?"["+V+"]":V}).join(k?".":""):y}function yQ(S){return Pt.isArray(S)&&!S.some(zq)}const wQ=Pt.toFlatObject(Pt,{},null,function(y){return/^is[A-Z]/.test(y)});function p6(S,y,k){if(!Pt.isObject(S))throw new TypeError("target must be an object");y=y||new FormData,k=Pt.toFlatObject(k,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xe,Re){return!Pt.isUndefined(Re[xe])});const M=k.metaTokens,V=k.visitor||I,G=k.dots,te=k.indexes,W=(k.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(y);if(!Pt.isFunction(V))throw new TypeError("visitor must be a function");function U(he){if(he===null)return"";if(Pt.isDate(he))return he.toISOString();if(!W&&Pt.isBlob(he))throw new Rs("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(he)||Pt.isTypedArray(he)?W&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function I(he,xe,Re){let et=he;if(he&&!Re&&typeof he=="object"){if(Pt.endsWith(xe,"{}"))xe=M?xe:xe.slice(0,-2),he=JSON.stringify(he);else if(Pt.isArray(he)&&yQ(he)||(Pt.isFileList(he)||Pt.endsWith(xe,"[]"))&&(et=Pt.toArray(he)))return xe=jY(xe),et.forEach(function(ue,mt){!(Pt.isUndefined(ue)||ue===null)&&y.append(te===!0?rY([xe],mt,G):te===null?xe:xe+"[]",U(ue))}),!1}return zq(he)?!0:(y.append(rY(Re,xe,G),U(he)),!1)}const ee=[],ce=Object.assign(wQ,{defaultVisitor:I,convertValue:U,isVisitable:zq});function be(he,xe){if(!Pt.isUndefined(he)){if(ee.indexOf(he)!==-1)throw Error("Circular reference detected in "+xe.join("."));ee.push(he),Pt.forEach(he,function(et,nn){(!(Pt.isUndefined(et)||et===null)&&V.call(y,et,Pt.isString(nn)?nn.trim():nn,xe,ce))===!0&&be(et,xe?xe.concat(nn):[nn])}),ee.pop()}}if(!Pt.isObject(S))throw new TypeError("data must be an object");return be(S),y}function iY(S){const y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(S).replace(/[!'()~]|%20|%00/g,function(M){return y[M]})}function mG(S,y){this._pairs=[],S&&p6(S,this,y)}const ZY=mG.prototype;ZY.append=function(y,k){this._pairs.push([y,k])};ZY.toString=function(y){const k=y?function(M){return y.call(this,M,iY)}:iY;return this._pairs.map(function(V){return k(V[0])+"="+k(V[1])},"").join("&")};function CQ(S){return encodeURIComponent(S).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qY(S,y,k){if(!y)return S;const M=k&&k.encode||CQ,V=k&&k.serialize;let G;if(V?G=V(y,k):G=Pt.isURLSearchParams(y)?y.toString():new mG(y,k).toString(M),G){const te=S.indexOf("#");te!==-1&&(S=S.slice(0,te)),S+=(S.indexOf("?")===-1?"?":"&")+G}return S}class aY{constructor(){this.handlers=[]}use(y,k,M){return this.handlers.push({fulfilled:y,rejected:k,synchronous:M?M.synchronous:!1,runWhen:M?M.runWhen:null}),this.handlers.length-1}eject(y){this.handlers[y]&&(this.handlers[y]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(y){Pt.forEach(this.handlers,function(M){M!==null&&y(M)})}}const GY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xQ=typeof URLSearchParams<"u"?URLSearchParams:mG,SQ=typeof FormData<"u"?FormData:null,EQ=typeof Blob<"u"?Blob:null,_Q={isBrowser:!0,classes:{URLSearchParams:xQ,FormData:SQ,Blob:EQ},protocols:["http","https","file","blob","url","data"]},KY=typeof window<"u"&&typeof document<"u",TQ=(S=>KY&&["ReactNative","NativeScript","NS"].indexOf(S)<0)(typeof navigator<"u"&&navigator.product),AQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KY,hasStandardBrowserEnv:TQ,hasStandardBrowserWebWorkerEnv:AQ},Symbol.toStringTag,{value:"Module"})),qp={...kQ,..._Q};function OQ(S,y){return p6(S,new qp.classes.URLSearchParams,Object.assign({visitor:function(k,M,V,G){return qp.isNode&&Pt.isBuffer(k)?(this.append(M,k.toString("base64")),!1):G.defaultVisitor.apply(this,arguments)}},y))}function DQ(S){return Pt.matchAll(/\w+|\[(\w*)]/g,S).map(y=>y[0]==="[]"?"":y[1]||y[0])}function RQ(S){const y={},k=Object.keys(S);let M;const V=k.length;let G;for(M=0;M<V;M++)G=k[M],y[G]=S[G];return y}function YY(S){function y(k,M,V,G){let te=k[G++];if(te==="__proto__")return!0;const q=Number.isFinite(+te),W=G>=k.length;return te=!te&&Pt.isArray(V)?V.length:te,W?(Pt.hasOwnProp(V,te)?V[te]=[V[te],M]:V[te]=M,!q):((!V[te]||!Pt.isObject(V[te]))&&(V[te]=[]),y(k,M,V[te],G)&&Pt.isArray(V[te])&&(V[te]=RQ(V[te])),!q)}if(Pt.isFormData(S)&&Pt.isFunction(S.entries)){const k={};return Pt.forEachEntry(S,(M,V)=>{y(DQ(M),V,k,0)}),k}return null}function PQ(S,y,k){if(Pt.isString(S))try{return(y||JSON.parse)(S),Pt.trim(S)}catch(M){if(M.name!=="SyntaxError")throw M}return(k||JSON.stringify)(S)}const pG={transitional:GY,adapter:["xhr","http"],transformRequest:[function(y,k){const M=k.getContentType()||"",V=M.indexOf("application/json")>-1,G=Pt.isObject(y);if(G&&Pt.isHTMLForm(y)&&(y=new FormData(y)),Pt.isFormData(y))return V?JSON.stringify(YY(y)):y;if(Pt.isArrayBuffer(y)||Pt.isBuffer(y)||Pt.isStream(y)||Pt.isFile(y)||Pt.isBlob(y))return y;if(Pt.isArrayBufferView(y))return y.buffer;if(Pt.isURLSearchParams(y))return k.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),y.toString();let q;if(G){if(M.indexOf("application/x-www-form-urlencoded")>-1)return OQ(y,this.formSerializer).toString();if((q=Pt.isFileList(y))||M.indexOf("multipart/form-data")>-1){const W=this.env&&this.env.FormData;return p6(q?{"files[]":y}:y,W&&new W,this.formSerializer)}}return G||V?(k.setContentType("application/json",!1),PQ(y)):y}],transformResponse:[function(y){const k=this.transitional||pG.transitional,M=k&&k.forcedJSONParsing,V=this.responseType==="json";if(y&&Pt.isString(y)&&(M&&!this.responseType||V)){const te=!(k&&k.silentJSONParsing)&&V;try{return JSON.parse(y)}catch(q){if(te)throw q.name==="SyntaxError"?Rs.from(q,Rs.ERR_BAD_RESPONSE,this,null,this.response):q}}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qp.classes.FormData,Blob:qp.classes.Blob},validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],S=>{pG.headers[S]={}});const gG=pG,MQ=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BQ=S=>{const y={};let k,M,V;return S&&S.split(`
`).forEach(function(te){V=te.indexOf(":"),k=te.substring(0,V).trim().toLowerCase(),M=te.substring(V+1).trim(),!(!k||y[k]&&MQ[k])&&(k==="set-cookie"?y[k]?y[k].push(M):y[k]=[M]:y[k]=y[k]?y[k]+", "+M:M)}),y},cY=Symbol("internals");function ER(S){return S&&String(S).trim().toLowerCase()}function qF(S){return S===!1||S==null?S:Pt.isArray(S)?S.map(qF):String(S)}function NQ(S){const y=Object.create(null),k=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let M;for(;M=k.exec(S);)y[M[1]]=M[2];return y}const IQ=S=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(S.trim());function Mq(S,y,k,M,V){if(Pt.isFunction(M))return M.call(this,y,k);if(V&&(y=k),!!Pt.isString(y)){if(Pt.isString(M))return y.indexOf(M)!==-1;if(Pt.isRegExp(M))return M.test(y)}}function $Q(S){return S.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(y,k,M)=>k.toUpperCase()+M)}function LQ(S,y){const k=Pt.toCamelCase(" "+y);["get","set","has"].forEach(M=>{Object.defineProperty(S,M+k,{value:function(V,G,te){return this[M].call(this,y,V,G,te)},configurable:!0})})}class g6{constructor(y){y&&this.set(y)}set(y,k,M){const V=this;function G(q,W,U){const I=ER(W);if(!I)throw new Error("header name must be a non-empty string");const ee=Pt.findKey(V,I);(!ee||V[ee]===void 0||U===!0||U===void 0&&V[ee]!==!1)&&(V[ee||W]=qF(q))}const te=(q,W)=>Pt.forEach(q,(U,I)=>G(U,I,W));return Pt.isPlainObject(y)||y instanceof this.constructor?te(y,k):Pt.isString(y)&&(y=y.trim())&&!IQ(y)?te(BQ(y),k):y!=null&&G(k,y,M),this}get(y,k){if(y=ER(y),y){const M=Pt.findKey(this,y);if(M){const V=this[M];if(!k)return V;if(k===!0)return NQ(V);if(Pt.isFunction(k))return k.call(this,V,M);if(Pt.isRegExp(k))return k.exec(V);throw new TypeError("parser must be boolean|regexp|function")}}}has(y,k){if(y=ER(y),y){const M=Pt.findKey(this,y);return!!(M&&this[M]!==void 0&&(!k||Mq(this,this[M],M,k)))}return!1}delete(y,k){const M=this;let V=!1;function G(te){if(te=ER(te),te){const q=Pt.findKey(M,te);q&&(!k||Mq(M,M[q],q,k))&&(delete M[q],V=!0)}}return Pt.isArray(y)?y.forEach(G):G(y),V}clear(y){const k=Object.keys(this);let M=k.length,V=!1;for(;M--;){const G=k[M];(!y||Mq(this,this[G],G,y,!0))&&(delete this[G],V=!0)}return V}normalize(y){const k=this,M={};return Pt.forEach(this,(V,G)=>{const te=Pt.findKey(M,G);if(te){k[te]=qF(V),delete k[G];return}const q=y?$Q(G):String(G).trim();q!==G&&delete k[G],k[q]=qF(V),M[q]=!0}),this}concat(...y){return this.constructor.concat(this,...y)}toJSON(y){const k=Object.create(null);return Pt.forEach(this,(M,V)=>{M!=null&&M!==!1&&(k[V]=y&&Pt.isArray(M)?M.join(", "):M)}),k}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([y,k])=>y+": "+k).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(y){return y instanceof this?y:new this(y)}static concat(y,...k){const M=new this(y);return k.forEach(V=>M.set(V)),M}static accessor(y){const M=(this[cY]=this[cY]={accessors:{}}).accessors,V=this.prototype;function G(te){const q=ER(te);M[q]||(LQ(V,te),M[q]=!0)}return Pt.isArray(y)?y.forEach(G):G(y),this}}g6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(g6.prototype,({value:S},y)=>{let k=y[0].toUpperCase()+y.slice(1);return{get:()=>S,set(M){this[k]=M}}});Pt.freezeMethods(g6);const av=g6;function Bq(S,y){const k=this||gG,M=y||k,V=av.from(M.headers);let G=M.data;return Pt.forEach(S,function(q){G=q.call(k,G,V.normalize(),y?y.status:void 0)}),V.normalize(),G}function XY(S){return!!(S&&S.__CANCEL__)}function BR(S,y,k){Rs.call(this,S??"canceled",Rs.ERR_CANCELED,y,k),this.name="CanceledError"}Pt.inherits(BR,Rs,{__CANCEL__:!0});function FQ(S,y,k){const M=k.config.validateStatus;!k.status||!M||M(k.status)?S(k):y(new Rs("Request failed with status code "+k.status,[Rs.ERR_BAD_REQUEST,Rs.ERR_BAD_RESPONSE][Math.floor(k.status/100)-4],k.config,k.request,k))}const HQ=qp.hasStandardBrowserEnv?{write(S,y,k,M,V,G){const te=[S+"="+encodeURIComponent(y)];Pt.isNumber(k)&&te.push("expires="+new Date(k).toGMTString()),Pt.isString(M)&&te.push("path="+M),Pt.isString(V)&&te.push("domain="+V),G===!0&&te.push("secure"),document.cookie=te.join("; ")},read(S){const y=document.cookie.match(new RegExp("(^|;\\s*)("+S+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove(S){this.write(S,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zQ(S){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(S)}function VQ(S,y){return y?S.replace(/\/?\/$/,"")+"/"+y.replace(/^\/+/,""):S}function JY(S,y){return S&&!zQ(y)?VQ(S,y):y}const UQ=qp.hasStandardBrowserEnv?function(){const y=/(msie|trident)/i.test(navigator.userAgent),k=document.createElement("a");let M;function V(G){let te=G;return y&&(k.setAttribute("href",te),te=k.href),k.setAttribute("href",te),{href:k.href,protocol:k.protocol?k.protocol.replace(/:$/,""):"",host:k.host,search:k.search?k.search.replace(/^\?/,""):"",hash:k.hash?k.hash.replace(/^#/,""):"",hostname:k.hostname,port:k.port,pathname:k.pathname.charAt(0)==="/"?k.pathname:"/"+k.pathname}}return M=V(window.location.href),function(te){const q=Pt.isString(te)?V(te):te;return q.protocol===M.protocol&&q.host===M.host}}():function(){return function(){return!0}}();function WQ(S){const y=/^([-+\w]{1,25})(:?\/\/|:)/.exec(S);return y&&y[1]||""}function jQ(S,y){S=S||10;const k=new Array(S),M=new Array(S);let V=0,G=0,te;return y=y!==void 0?y:1e3,function(W){const U=Date.now(),I=M[G];te||(te=U),k[V]=W,M[V]=U;let ee=G,ce=0;for(;ee!==V;)ce+=k[ee++],ee=ee%S;if(V=(V+1)%S,V===G&&(G=(G+1)%S),U-te<y)return;const be=I&&U-I;return be?Math.round(ce*1e3/be):void 0}}function lY(S,y){let k=0;const M=jQ(50,250);return V=>{const G=V.loaded,te=V.lengthComputable?V.total:void 0,q=G-k,W=M(q),U=G<=te;k=G;const I={loaded:G,total:te,progress:te?G/te:void 0,bytes:q,rate:W||void 0,estimated:W&&te&&U?(te-G)/W:void 0,event:V};I[y?"download":"upload"]=!0,S(I)}}const ZQ=typeof XMLHttpRequest<"u",qQ=ZQ&&function(S){return new Promise(function(k,M){let V=S.data;const G=av.from(S.headers).normalize();let{responseType:te,withXSRFToken:q}=S,W;function U(){S.cancelToken&&S.cancelToken.unsubscribe(W),S.signal&&S.signal.removeEventListener("abort",W)}let I;if(Pt.isFormData(V)){if(qp.hasStandardBrowserEnv||qp.hasStandardBrowserWebWorkerEnv)G.setContentType(!1);else if((I=G.getContentType())!==!1){const[xe,...Re]=I?I.split(";").map(et=>et.trim()).filter(Boolean):[];G.setContentType([xe||"multipart/form-data",...Re].join("; "))}}let ee=new XMLHttpRequest;if(S.auth){const xe=S.auth.username||"",Re=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";G.set("Authorization","Basic "+btoa(xe+":"+Re))}const ce=JY(S.baseURL,S.url);ee.open(S.method.toUpperCase(),qY(ce,S.params,S.paramsSerializer),!0),ee.timeout=S.timeout;function be(){if(!ee)return;const xe=av.from("getAllResponseHeaders"in ee&&ee.getAllResponseHeaders()),et={data:!te||te==="text"||te==="json"?ee.responseText:ee.response,status:ee.status,statusText:ee.statusText,headers:xe,config:S,request:ee};FQ(function(ue){k(ue),U()},function(ue){M(ue),U()},et),ee=null}if("onloadend"in ee?ee.onloadend=be:ee.onreadystatechange=function(){!ee||ee.readyState!==4||ee.status===0&&!(ee.responseURL&&ee.responseURL.indexOf("file:")===0)||setTimeout(be)},ee.onabort=function(){ee&&(M(new Rs("Request aborted",Rs.ECONNABORTED,S,ee)),ee=null)},ee.onerror=function(){M(new Rs("Network Error",Rs.ERR_NETWORK,S,ee)),ee=null},ee.ontimeout=function(){let Re=S.timeout?"timeout of "+S.timeout+"ms exceeded":"timeout exceeded";const et=S.transitional||GY;S.timeoutErrorMessage&&(Re=S.timeoutErrorMessage),M(new Rs(Re,et.clarifyTimeoutError?Rs.ETIMEDOUT:Rs.ECONNABORTED,S,ee)),ee=null},qp.hasStandardBrowserEnv&&(q&&Pt.isFunction(q)&&(q=q(S)),q||q!==!1&&UQ(ce))){const xe=S.xsrfHeaderName&&S.xsrfCookieName&&HQ.read(S.xsrfCookieName);xe&&G.set(S.xsrfHeaderName,xe)}V===void 0&&G.setContentType(null),"setRequestHeader"in ee&&Pt.forEach(G.toJSON(),function(Re,et){ee.setRequestHeader(et,Re)}),Pt.isUndefined(S.withCredentials)||(ee.withCredentials=!!S.withCredentials),te&&te!=="json"&&(ee.responseType=S.responseType),typeof S.onDownloadProgress=="function"&&ee.addEventListener("progress",lY(S.onDownloadProgress,!0)),typeof S.onUploadProgress=="function"&&ee.upload&&ee.upload.addEventListener("progress",lY(S.onUploadProgress)),(S.cancelToken||S.signal)&&(W=xe=>{ee&&(M(!xe||xe.type?new BR(null,S,ee):xe),ee.abort(),ee=null)},S.cancelToken&&S.cancelToken.subscribe(W),S.signal&&(S.signal.aborted?W():S.signal.addEventListener("abort",W)));const he=WQ(ce);if(he&&qp.protocols.indexOf(he)===-1){M(new Rs("Unsupported protocol "+he+":",Rs.ERR_BAD_REQUEST,S));return}ee.send(V||null)})},Vq={http:bQ,xhr:qQ};Pt.forEach(Vq,(S,y)=>{if(S){try{Object.defineProperty(S,"name",{value:y})}catch{}Object.defineProperty(S,"adapterName",{value:y})}});const uY=S=>`- ${S}`,GQ=S=>Pt.isFunction(S)||S===null||S===!1,QY={getAdapter:S=>{S=Pt.isArray(S)?S:[S];const{length:y}=S;let k,M;const V={};for(let G=0;G<y;G++){k=S[G];let te;if(M=k,!GQ(k)&&(M=Vq[(te=String(k)).toLowerCase()],M===void 0))throw new Rs(`Unknown adapter '${te}'`);if(M)break;V[te||"#"+G]=M}if(!M){const G=Object.entries(V).map(([q,W])=>`adapter ${q} `+(W===!1?"is not supported by the environment":"is not available in the build"));let te=y?G.length>1?`since :
`+G.map(uY).join(`
`):" "+uY(G[0]):"as no adapter specified";throw new Rs("There is no suitable adapter to dispatch the request "+te,"ERR_NOT_SUPPORT")}return M},adapters:Vq};function Nq(S){if(S.cancelToken&&S.cancelToken.throwIfRequested(),S.signal&&S.signal.aborted)throw new BR(null,S)}function dY(S){return Nq(S),S.headers=av.from(S.headers),S.data=Bq.call(S,S.transformRequest),["post","put","patch"].indexOf(S.method)!==-1&&S.headers.setContentType("application/x-www-form-urlencoded",!1),QY.getAdapter(S.adapter||gG.adapter)(S).then(function(M){return Nq(S),M.data=Bq.call(S,S.transformResponse,M),M.headers=av.from(M.headers),M},function(M){return XY(M)||(Nq(S),M&&M.response&&(M.response.data=Bq.call(S,S.transformResponse,M.response),M.response.headers=av.from(M.response.headers))),Promise.reject(M)})}const fY=S=>S instanceof av?{...S}:S;function jT(S,y){y=y||{};const k={};function M(U,I,ee){return Pt.isPlainObject(U)&&Pt.isPlainObject(I)?Pt.merge.call({caseless:ee},U,I):Pt.isPlainObject(I)?Pt.merge({},I):Pt.isArray(I)?I.slice():I}function V(U,I,ee){if(Pt.isUndefined(I)){if(!Pt.isUndefined(U))return M(void 0,U,ee)}else return M(U,I,ee)}function G(U,I){if(!Pt.isUndefined(I))return M(void 0,I)}function te(U,I){if(Pt.isUndefined(I)){if(!Pt.isUndefined(U))return M(void 0,U)}else return M(void 0,I)}function q(U,I,ee){if(ee in y)return M(U,I);if(ee in S)return M(void 0,U)}const W={url:G,method:G,data:G,baseURL:te,transformRequest:te,transformResponse:te,paramsSerializer:te,timeout:te,timeoutMessage:te,withCredentials:te,withXSRFToken:te,adapter:te,responseType:te,xsrfCookieName:te,xsrfHeaderName:te,onUploadProgress:te,onDownloadProgress:te,decompress:te,maxContentLength:te,maxBodyLength:te,beforeRedirect:te,transport:te,httpAgent:te,httpsAgent:te,cancelToken:te,socketPath:te,responseEncoding:te,validateStatus:q,headers:(U,I)=>V(fY(U),fY(I),!0)};return Pt.forEach(Object.keys(Object.assign({},S,y)),function(I){const ee=W[I]||V,ce=ee(S[I],y[I],I);Pt.isUndefined(ce)&&ee!==q||(k[I]=ce)}),k}const eX="1.6.8",vG={};["object","boolean","number","function","string","symbol"].forEach((S,y)=>{vG[S]=function(M){return typeof M===S||"a"+(y<1?"n ":" ")+S}});const hY={};vG.transitional=function(y,k,M){function V(G,te){return"[Axios v"+eX+"] Transitional option '"+G+"'"+te+(M?". "+M:"")}return(G,te,q)=>{if(y===!1)throw new Rs(V(te," has been removed"+(k?" in "+k:"")),Rs.ERR_DEPRECATED);return k&&!hY[te]&&(hY[te]=!0,console.warn(V(te," has been deprecated since v"+k+" and will be removed in the near future"))),y?y(G,te,q):!0}};function KQ(S,y,k){if(typeof S!="object")throw new Rs("options must be an object",Rs.ERR_BAD_OPTION_VALUE);const M=Object.keys(S);let V=M.length;for(;V-- >0;){const G=M[V],te=y[G];if(te){const q=S[G],W=q===void 0||te(q,G,S);if(W!==!0)throw new Rs("option "+G+" must be "+W,Rs.ERR_BAD_OPTION_VALUE);continue}if(k!==!0)throw new Rs("Unknown option "+G,Rs.ERR_BAD_OPTION)}}const Uq={assertOptions:KQ,validators:vG},H0=Uq.validators;class u6{constructor(y){this.defaults=y,this.interceptors={request:new aY,response:new aY}}async request(y,k){try{return await this._request(y,k)}catch(M){if(M instanceof Error){let V;Error.captureStackTrace?Error.captureStackTrace(V={}):V=new Error;const G=V.stack?V.stack.replace(/^.+\n/,""):"";M.stack?G&&!String(M.stack).endsWith(G.replace(/^.+\n.+\n/,""))&&(M.stack+=`
`+G):M.stack=G}throw M}}_request(y,k){typeof y=="string"?(k=k||{},k.url=y):k=y||{},k=jT(this.defaults,k);const{transitional:M,paramsSerializer:V,headers:G}=k;M!==void 0&&Uq.assertOptions(M,{silentJSONParsing:H0.transitional(H0.boolean),forcedJSONParsing:H0.transitional(H0.boolean),clarifyTimeoutError:H0.transitional(H0.boolean)},!1),V!=null&&(Pt.isFunction(V)?k.paramsSerializer={serialize:V}:Uq.assertOptions(V,{encode:H0.function,serialize:H0.function},!0)),k.method=(k.method||this.defaults.method||"get").toLowerCase();let te=G&&Pt.merge(G.common,G[k.method]);G&&Pt.forEach(["delete","get","head","post","put","patch","common"],he=>{delete G[he]}),k.headers=av.concat(te,G);const q=[];let W=!0;this.interceptors.request.forEach(function(xe){typeof xe.runWhen=="function"&&xe.runWhen(k)===!1||(W=W&&xe.synchronous,q.unshift(xe.fulfilled,xe.rejected))});const U=[];this.interceptors.response.forEach(function(xe){U.push(xe.fulfilled,xe.rejected)});let I,ee=0,ce;if(!W){const he=[dY.bind(this),void 0];for(he.unshift.apply(he,q),he.push.apply(he,U),ce=he.length,I=Promise.resolve(k);ee<ce;)I=I.then(he[ee++],he[ee++]);return I}ce=q.length;let be=k;for(ee=0;ee<ce;){const he=q[ee++],xe=q[ee++];try{be=he(be)}catch(Re){xe.call(this,Re);break}}try{I=dY.call(this,be)}catch(he){return Promise.reject(he)}for(ee=0,ce=U.length;ee<ce;)I=I.then(U[ee++],U[ee++]);return I}getUri(y){y=jT(this.defaults,y);const k=JY(y.baseURL,y.url);return qY(k,y.params,y.paramsSerializer)}}Pt.forEach(["delete","get","head","options"],function(y){u6.prototype[y]=function(k,M){return this.request(jT(M||{},{method:y,url:k,data:(M||{}).data}))}});Pt.forEach(["post","put","patch"],function(y){function k(M){return function(G,te,q){return this.request(jT(q||{},{method:y,headers:M?{"Content-Type":"multipart/form-data"}:{},url:G,data:te}))}}u6.prototype[y]=k(),u6.prototype[y+"Form"]=k(!0)});const GF=u6;class bG{constructor(y){if(typeof y!="function")throw new TypeError("executor must be a function.");let k;this.promise=new Promise(function(G){k=G});const M=this;this.promise.then(V=>{if(!M._listeners)return;let G=M._listeners.length;for(;G-- >0;)M._listeners[G](V);M._listeners=null}),this.promise.then=V=>{let G;const te=new Promise(q=>{M.subscribe(q),G=q}).then(V);return te.cancel=function(){M.unsubscribe(G)},te},y(function(G,te,q){M.reason||(M.reason=new BR(G,te,q),k(M.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(y){if(this.reason){y(this.reason);return}this._listeners?this._listeners.push(y):this._listeners=[y]}unsubscribe(y){if(!this._listeners)return;const k=this._listeners.indexOf(y);k!==-1&&this._listeners.splice(k,1)}static source(){let y;return{token:new bG(function(V){y=V}),cancel:y}}}const YQ=bG;function XQ(S){return function(k){return S.apply(null,k)}}function JQ(S){return Pt.isObject(S)&&S.isAxiosError===!0}const Wq={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wq).forEach(([S,y])=>{Wq[y]=S});const QQ=Wq;function tX(S){const y=new GF(S),k=NY(GF.prototype.request,y);return Pt.extend(k,GF.prototype,y,{allOwnKeys:!0}),Pt.extend(k,y,null,{allOwnKeys:!0}),k.create=function(V){return tX(jT(S,V))},k}const Ba=tX(gG);Ba.Axios=GF;Ba.CanceledError=BR;Ba.CancelToken=YQ;Ba.isCancel=XY;Ba.VERSION=eX;Ba.toFormData=p6;Ba.AxiosError=Rs;Ba.Cancel=Ba.CanceledError;Ba.all=function(y){return Promise.all(y)};Ba.spread=XQ;Ba.isAxiosError=JQ;Ba.mergeConfig=jT;Ba.AxiosHeaders=av;Ba.formToJSON=S=>YY(Pt.isHTMLForm(S)?new FormData(S):S);Ba.getAdapter=QY.getAdapter;Ba.HttpStatusCode=QQ;Ba.default=Ba;const eee=Ba;window.axios=eee;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var tee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nX(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var nee={exports:{}};(function(S){(function(){var y=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},k=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},M=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},V=function(e,n){return G(function(o,r){return e.eq(n(o),n(r))})},G=function(e){return{eq:e}},te=G(function(e,n){return e===n}),q=te,W=function(e){return G(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e.eq(n[a],o[a]))return!1;return!0})},U=function(e,n){return V(W(e),function(o){return M(o,n)})},I=function(e){return G(function(n,o){var r=Object.keys(n),a=Object.keys(o);if(!U(q).eq(r,a))return!1;for(var u=r.length,h=0;h<u;h++){var v=r[h];if(!e.eq(n[v],o[v]))return!1}return!0})},ee=G(function(e,n){if(e===n)return!0;var o=y(e),r=y(n);return o!==r?!1:k(o)?e===n:o==="array"?W(ee).eq(e,n):o==="object"?I(ee).eq(e,n):!1});const ce=Object.getPrototypeOf,be=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},he=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&be(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},xe=e=>n=>he(n)===e,Re=e=>n=>typeof n===e,et=e=>n=>e===n,nn=(e,n)=>mt(e)&&be(e,n,(o,r)=>ce(o)===r),ue=xe("string"),mt=xe("object"),Vn=e=>nn(e,Object),Gt=xe("array"),A=et(null),mn=Re("boolean"),Cn=et(void 0),Sn=e=>e==null,je=e=>!Sn(e),ye=Re("function"),Ze=Re("number"),Vt=(e,n)=>{if(Gt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},wt=()=>{},P=(e,n)=>(...o)=>e(n.apply(null,o)),yn=(e,n)=>o=>e(n(o)),st=e=>()=>e,eo=e=>e,jt=(e,n)=>e===n;function Ge(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const ct=e=>n=>!e(n),Rn=e=>()=>{throw new Error(e)},_n=e=>e(),$n=e=>{e()},He=st(!1),ht=st(!0);class K{constructor(n,o){this.tag=n,this.value=o}static some(n){return new K(!0,n)}static none(){return K.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?K.some(n(this.value)):K.none()}bind(n){return this.tag?n(this.value):K.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:K.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return je(n)?K.some(n):K.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}K.singletonNone=new K(!1);const Xr=Array.prototype.slice,po=Array.prototype.indexOf,Cs=Array.prototype.push,Mo=(e,n)=>po.call(e,n),ld=(e,n)=>{const o=Mo(e,n);return o===-1?K.none():K.some(o)},An=(e,n)=>Mo(e,n)>-1,Xo=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return!0}return!1},Tn=(e,n)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const u=e[a];r[a]=n(u,a)}return r},Le=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];n(a,o)}},di=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Nr=(e,n)=>{const o=[],r=[];for(let a=0,u=e.length;a<u;a++){const h=e[a];(n(h,a)?o:r).push(h)}return{pass:o,fail:r}},Jt=(e,n)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const u=e[r];n(u,r)&&o.push(u)}return o},Ya=(e,n,o)=>(di(e,(r,a)=>{o=n(o,r,a)}),o),To=(e,n,o)=>(Le(e,(r,a)=>{o=n(o,r,a)}),o),Xa=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++){const u=e[r];if(n(u,r))return K.some(u);if(o(u,r))break}return K.none()},Jo=(e,n)=>Xa(e,n,He),wn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return K.some(o)}return K.none()},Ir=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Gt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Cs.apply(n,e[o])}return n},Mi=(e,n)=>Ir(Tn(e,n)),gr=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(n(a,o)!==!0)return!1}return!0},Ts=e=>{const n=Xr.call(e,0);return n.reverse(),n},sh=(e,n)=>Jt(e,o=>!An(n,o)),lr=(e,n)=>{const o={};for(let r=0,a=e.length;r<a;r++){const u=e[r];o[String(u)]=n(u,r)}return o},is=(e,n)=>{const o=Xr.call(e,0);return o.sort(n),o},pa=(e,n)=>n>=0&&n<e.length?K.some(e[n]):K.none(),Ys=e=>pa(e,0),ga=e=>pa(e,e.length-1),Ji=ye(Array.from)?Array.from:e=>Xr.call(e),zc=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return K.none()},af=(e,n)=>{const o=[],r=ye(n)?a=>Xo(o,u=>n(u,a)):a=>An(o,a);for(let a=0,u=e.length;a<u;a++){const h=e[a];r(h)||o.push(h)}return o},fi=Object.keys,Xp=Object.hasOwnProperty,Dt=(e,n)=>{const o=fi(e);for(let r=0,a=o.length;r<a;r++){const u=o[r],h=e[u];n(h,u)}},go=(e,n)=>va(e,(o,r)=>({k:r,v:n(o,r)})),va=(e,n)=>{const o={};return Dt(e,(r,a)=>{const u=n(r,a);o[u.k]=u.v}),o},Qi=e=>(n,o)=>{e[o]=n},ea=(e,n,o,r)=>{Dt(e,(a,u)=>{(n(a,u)?o:r)(a,u)})},$r=(e,n)=>{const o={},r={};return ea(e,n,Qi(o),Qi(r)),{t:o,f:r}},as=(e,n)=>{const o={};return ea(e,n,Qi(o),wt),o},uu=(e,n)=>{const o=[];return Dt(e,(r,a)=>{o.push(n(r,a))}),o},ud=e=>uu(e,eo),Qo=(e,n)=>un(e,n)?K.from(e[n]):K.none(),un=(e,n)=>Xp.call(e,n),Lr=(e,n)=>un(e,n)&&e[n]!==void 0&&e[n]!==null,Al=(e,n,o=ee)=>I(o).eq(e,n),dd=e=>{const n={};return Le(e,o=>{n[o]={}}),fi(n)},Jp=e=>e.length!==void 0,Bi=Array.isArray,hi=e=>{if(Bi(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Xs=(e,n,o)=>{if(!e)return!1;if(o=o||e,Jp(e)){for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(un(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Vc=(e,n)=>{const o=[];return Xs(e,(r,a)=>{o.push(n(r,a,e))}),o},bm=(e,n)=>{const o=[];return Xs(e,(r,a)=>{(!n||n(r,a,e))&&o.push(r)}),o},Uc=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},ba=(e,n,o,r)=>{let a=Cn(o)?e[0]:o;for(let u=0;u<e.length;u++)a=n.call(r,a,e[u],u);return a},Go=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e))return r;return-1},Na=e=>e[e.length-1],Ja=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Qp=(e,n,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!a,h=e.isiOS()||e.isAndroid(),v=h||r("(pointer:coarse)"),C=a||!u&&h&&r("(min-device-width:768px)"),O=u||h&&!C,F=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,H=!O&&!C&&!F;return{isiPad:st(a),isiPhone:st(u),isTablet:st(C),isPhone:st(O),isTouch:st(v),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:st(F),isDesktop:st(H)}},ym=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Wc=(e,n)=>{const o=ym(e,n);if(!o)return{major:0,minor:0};const r=a=>Number(n.replace(o,"$"+a));return Ni(r(1),r(2))},qT=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Ae():Wc(e,o)},Ae=()=>Ni(0,0),Ni=(e,n)=>({major:e,minor:n}),fd={nu:Ni,detect:qT,unknown:Ae},eg=(e,n)=>zc(n.brands,o=>{const r=o.brand.toLowerCase();return Jo(e,a=>{var u;return r===((u=a.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(a=>({current:a.name,version:fd.nu(parseInt(o.version,10),0)}))}),wm=(e,n)=>{const o=String(n).toLowerCase();return Jo(e,r=>r.search(o))},us=(e,n)=>wm(e,n).map(o=>{const r=fd.detect(o.versionRegexes,n);return{current:o.name,version:r}}),rh=(e,n)=>wm(e,n).map(o=>{const r=fd.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Z0=(e,n)=>e.substring(n),ih=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,hd=(e,n)=>Bs(e,n)?Z0(e,n.length):e,Fr=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return a!==-1?Cn(r)?!0:a+n.length<=r:!1},Bs=(e,n)=>ih(e,n,0),jc=(e,n)=>ih(e,n,e.length-n.length),Vs=e=>n=>n.replace(e,""),Qa=Vs(/^\s+|\s+$/g),du=Vs(/^\s+/g),cf=Vs(/\s+$/g),Uo=e=>e.length>0,Ii=e=>!Uo(e),lv=(e,n)=>n<=0?"":new Array(n+1).join(e),Zc=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?K.none():K.some(o)},kl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$i=e=>n=>Fr(n,e),Ns=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Fr(e,"edge/")&&Fr(e,"chrome")&&Fr(e,"safari")&&Fr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kl],search:e=>Fr(e,"chrome")&&!Fr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Fr(e,"msie")||Fr(e,"trident")},{name:"Opera",versionRegexes:[kl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$i("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$i("firefox")},{name:"Safari",versionRegexes:[kl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Fr(e,"safari")||Fr(e,"mobile/"))&&Fr(e,"applewebkit")}],pc=[{name:"Windows",search:$i("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Fr(e,"iphone")||Fr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$i("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$i("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$i("linux"),versionRegexes:[]},{name:"Solaris",search:$i("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$i("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$i("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Cm={browsers:st(Ns),oses:st(pc)},yo="Edge",Ia="Chromium",ya="IE",Us="Opera",qc="Firefox",Ol="Safari",ec=()=>gc({current:void 0,version:fd.unknown()}),gc=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isEdge:r(yo),isChromium:r(Ia),isIE:r(ya),isOpera:r(Us),isFirefox:r(qc),isSafari:r(Ol)}},tc={unknown:ec,nu:gc,edge:st(yo),chromium:st(Ia),ie:st(ya),opera:st(Us),firefox:st(qc),safari:st(Ol)},xm="Windows",Sm="iOS",tg="Android",vc="Linux",Dl="macOS",Em="Solaris",_m="FreeBSD",ah="ChromeOS",ng=()=>ch({current:void 0,version:fd.unknown()}),ch=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isWindows:r(xm),isiOS:r(Sm),isAndroid:r(tg),isMacOS:r(Dl),isLinux:r(vc),isSolaris:r(Em),isFreeBSD:r(_m),isChromeOS:r(ah)}},uv={unknown:ng,nu:ch,windows:st(xm),ios:st(Sm),android:st(tg),linux:st(vc),macos:st(Dl),solaris:st(Em),freebsd:st(_m),chromeos:st(ah)},nc={detect:(e,n,o)=>{const r=Cm.browsers(),a=Cm.oses(),u=n.bind(C=>eg(r,C)).orThunk(()=>us(r,e)).fold(tc.unknown,tc.nu),h=rh(a,e).fold(uv.unknown,uv.nu),v=Qp(h,u,e,o);return{browser:u,os:h,deviceType:v}}},q0=e=>window.matchMedia(e).matches;let og=Ja(()=>nc.detect(navigator.userAgent,K.from(navigator.userAgentData),q0));const oc=()=>og(),sg=navigator.userAgent,lh=oc(),ur=lh.browser,Jr=lh.os,fu=lh.deviceType,Tm=sg.indexOf("Windows Phone")!==-1,Mt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ur.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ur.isIE(),windowsPhone:Tm,browser:{current:ur.current,version:ur.version,isChromium:ur.isChromium,isEdge:ur.isEdge,isFirefox:ur.isFirefox,isIE:ur.isIE,isOpera:ur.isOpera,isSafari:ur.isSafari},os:{current:Jr.current,version:Jr.version,isAndroid:Jr.isAndroid,isChromeOS:Jr.isChromeOS,isFreeBSD:Jr.isFreeBSD,isiOS:Jr.isiOS,isLinux:Jr.isLinux,isMacOS:Jr.isMacOS,isSolaris:Jr.isSolaris,isWindows:Jr.isWindows},deviceType:{isDesktop:fu.isDesktop,isiPad:fu.isiPad,isiPhone:fu.isiPhone,isPhone:fu.isPhone,isTablet:fu.isTablet,isTouch:fu.isTouch,isWebView:fu.isWebView}},dv=/^\s*|\s*$/g,As=e=>Sn(e)?"":(""+e).replace(dv,""),Js=(e,n)=>n?n==="array"&&Bi(e)?!0:typeof e===n:e!==void 0,Am=(e,n,o={})=>{const r=ue(e)?e.split(n||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},xs=un,G0=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const a in r)if(un(r,a)){const u=r[a];u!==void 0&&(e[a]=u)}}return e},uh=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Xs(e,(a,u)=>n.call(r,a,u,o)===!1?!1:(uh(a,n,o,r),!0)))},D={trim:As,isArray:Bi,is:Js,toArray:hi,makeMap:Am,each:Xs,map:Vc,grep:bm,inArray:Uc,hasOwn:xs,extend:G0,walk:uh,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Gt(e)?e:e===""?[]:Vc(e.split(n||","),As),_addCacheSuffix:e=>{const n=Mt.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},L=(e,n,o=jt)=>e.exists(r=>o(r,n)),Q=(e,n,o=jt)=>ie(e,n,o).getOr(e.isNone()&&n.isNone()),X=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},ie=(e,n,o)=>e.isSome()&&n.isSome()?K.some(o(e.getOrDie(),n.getOrDie())):K.none(),Te=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?K.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):K.none(),me=(e,n)=>e?K.some(n):K.none(),Ne=typeof window<"u"?window:Function("return this;")(),nt=(e,n)=>{let o=n??Ne;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},gt=(e,n)=>{const o=e.split(".");return nt(o,n)},We=(e,n)=>gt(e,n),It=(e,n)=>{const o=We(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},co=Object.getPrototypeOf,Wo=e=>It("HTMLElement",e),kn=e=>{const n=gt("ownerDocument.defaultView",e);return mt(e)&&(Wo(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(co(e).constructor.name))},mi=8,Io=9,Qs=11,Hr=1,Ao=3,Jn=e=>e.dom.nodeName.toLowerCase(),uo=e=>e.dom.nodeType,vs=e=>n=>uo(n)===e,Gc=e=>uo(e)===mi||Jn(e)==="#comment",wa=e=>dr(e)&&kn(e.dom),dr=vs(Hr),jo=vs(Ao),Ca=vs(Io),xa=vs(Qs),$a=e=>n=>dr(n)&&Jn(n)===e,Ci=(e,n,o)=>{if(ue(o)||mn(o)||Ze(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Zo=(e,n,o)=>{Ci(e.dom,n,o)},xi=(e,n)=>{const o=e.dom;Dt(n,(r,a)=>{Ci(o,a,r)})},ds=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},bc=(e,n)=>K.from(ds(e,n)),md=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},vr=(e,n)=>{e.dom.removeAttribute(n)},So=e=>{const n=e.dom.attributes;return n==null||n.length===0},Rl=e=>To(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Sa=(e,n)=>{const o=ds(e,n);return o===void 0||o===""?[]:o.split(" ")},Kc=(e,n,o)=>{const a=Sa(e,n).concat([o]);return Zo(e,n,a.join(" ")),!0},km=(e,n,o)=>{const r=Jt(Sa(e,n),a=>a!==o);return r.length>0?Zo(e,n,r.join(" ")):vr(e,n),!1},lf=e=>e.dom.classList!==void 0,fh=e=>Sa(e,"class"),Ea=(e,n)=>Kc(e,"class",n),pd=(e,n)=>km(e,"class",n),br=(e,n)=>An(fh(e),n)?pd(e,n):Ea(e,n),hu=(e,n)=>{lf(e)?e.dom.classList.add(n):Ea(e,n)},mu=e=>{(lf(e)?e.dom.classList:fh(e)).length===0&&vr(e,"class")},Yc=(e,n)=>{lf(e)?e.dom.classList.remove(n):pd(e,n),mu(e)},hh=(e,n)=>{const o=lf(e)?e.dom.classList.toggle(n):br(e,n);return mu(e),o},gd=(e,n)=>lf(e)&&e.dom.classList.contains(n),fv=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return pu(r.childNodes[0])},Pl=(e,n)=>{const r=(n||document).createElement(e);return pu(r)},Om=(e,n)=>{const r=(n||document).createTextNode(e);return pu(r)},pu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},pe={fromHtml:fv,fromTag:Pl,fromText:Om,fromDom:pu,fromPoint:(e,n,o)=>K.from(e.dom.elementFromPoint(n,o)).map(pu)},Dm=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let a=n(e);do a=a.bind(r);while(a.isSome());return o},ge=(e,n)=>{const o=e.dom;if(o.nodeType!==Hr)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Oe=e=>e.nodeType!==Hr&&e.nodeType!==Io&&e.nodeType!==Qs||e.childElementCount===0,tt=(e,n)=>{const o=n===void 0?document:n.dom;return Oe(o)?[]:Tn(o.querySelectorAll(e),pe.fromDom)},it=(e,n)=>{const o=n===void 0?document:n.dom;return Oe(o)?K.none():K.from(o.querySelector(e)).map(pe.fromDom)},Je=(e,n)=>e.dom===n.dom,Zt=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},en=e=>pe.fromDom(e.dom.ownerDocument),fn=e=>Ca(e)?e:en(e),xn=e=>pe.fromDom(fn(e).dom.documentElement),xo=e=>pe.fromDom(fn(e).dom.defaultView),Hn=e=>K.from(e.dom.parentNode).map(pe.fromDom),so=e=>K.from(e.dom.parentElement).map(pe.fromDom),ko=(e,n)=>{const o=ye(n)?n:He;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,h=pe.fromDom(u);if(a.push(h),o(h)===!0)break;r=u}return a},Yn=e=>{const n=o=>Jt(o,r=>!Je(e,r));return Hn(e).map(ks).map(n).getOr([])},No=e=>K.from(e.dom.previousSibling).map(pe.fromDom),Qr=e=>K.from(e.dom.nextSibling).map(pe.fromDom),pi=e=>Ts(Dm(e,No)),er=e=>Dm(e,Qr),ks=e=>Tn(e.dom.childNodes,pe.fromDom),La=(e,n)=>{const o=e.dom.childNodes;return K.from(o[n]).map(pe.fromDom)},zr=e=>La(e,0),Xc=e=>La(e,e.dom.childNodes.length-1),ta=e=>e.dom.childNodes.length,hv=e=>e.dom.hasChildNodes(),HC=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return pe.fromDom(n)},rg=e=>xa(e)&&je(e.dom.host),ig=ye(Element.prototype.attachShadow)&&ye(Node.prototype.getRootNode),mv=st(ig),vd=ig?e=>pe.fromDom(e.dom.getRootNode()):fn,pv=e=>rg(e)?e:HC(fn(e)),GT=e=>rg(e)?e:pe.fromDom(fn(e).dom.body),v6=e=>{const n=vd(e);return rg(n)?K.some(n):K.none()},KT=e=>pe.fromDom(e.dom.host),gv=e=>{if(mv()&&je(e.target)){const n=pe.fromDom(e.target);if(dr(n)&&YT(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Ys(o)}}return K.from(e.target)},YT=e=>je(e.dom.shadowRoot),mh=e=>{const n=jo(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return v6(pe.fromDom(n)).fold(()=>o.body.contains(n),yn(mh,KT))};var yr=(e,n,o,r,a)=>e(o,r)?K.some(o):ye(a)&&a(o)?K.none():n(o,r,a);const Is=(e,n,o)=>{let r=e.dom;const a=ye(o)?o:He;for(;r.parentNode;){r=r.parentNode;const u=pe.fromDom(r);if(n(u))return K.some(u);if(a(u))break}return K.none()},Li=(e,n,o)=>yr((a,u)=>u(a),Is,e,n,o),Y0=(e,n)=>{const o=e.dom;return o.parentNode?XT(pe.fromDom(o.parentNode),r=>!Je(e,r)&&n(r)):K.none()},XT=(e,n)=>{const o=a=>n(pe.fromDom(a));return Jo(e.dom.childNodes,o).map(pe.fromDom)},Fi=(e,n)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const u=pe.fromDom(r.childNodes[a]);if(n(u))return K.some(u);const h=o(r.childNodes[a]);if(h.isSome())return h}return K.none()};return o(e.dom)},ag=(e,n,o)=>Is(e,r=>ge(r,n),o),cg=(e,n)=>it(n,e),uf=(e,n,o)=>yr((a,u)=>ge(a,u),ag,e,n,o),df=e=>uf(e,"[contenteditable]"),Ln=(e,n=!1)=>mh(e)?e.dom.isContentEditable:df(e).fold(st(n),o=>Fa(o)==="true"),Fa=e=>e.dom.contentEditable,ph=e=>e.style!==void 0&&ye(e.style.getPropertyValue),vv=(e,n,o)=>{if(!ue(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);ph(e)&&e.style.setProperty(n,o)},zC=(e,n)=>{ph(e)&&e.style.removeProperty(n)},Rm=(e,n,o)=>{const r=e.dom;vv(r,n,o)},lg=(e,n)=>{const o=e.dom;Dt(n,(r,a)=>{vv(o,a,r)})},gu=(e,n)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(n);return a===""&&!mh(e)?sc(o,n):a},sc=(e,n)=>ph(e)?e.style.getPropertyValue(n):"",Hi=(e,n)=>{const o=e.dom,r=sc(o,n);return K.from(r).filter(a=>a.length>0)},yc=e=>{const n={},o=e.dom;if(ph(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);n[a]=o.style[a]}return n},gi=(e,n)=>{const o=e.dom;zC(o,n),L(bc(e,"style").map(Qa),"")&&vr(e,"style")},tr=e=>e.dom.offsetWidth,Si=(e,n)=>{Hn(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},bd=(e,n)=>{Qr(e).fold(()=>{Hn(e).each(a=>{fr(a,n)})},r=>{Si(r,n)})},Ml=(e,n)=>{zr(e).fold(()=>{fr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},fr=(e,n)=>{e.dom.appendChild(n.dom)},VC=(e,n)=>{Si(e,n),fr(n,e)},UC=(e,n)=>{Le(n,(o,r)=>{const a=r===0?e:n[r-1];bd(a,o)})},es=(e,n)=>{Le(n,o=>{fr(e,o)})},gh=e=>{e.dom.textContent="",Le(ks(e),n=>{Eo(n)})},Eo=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},vu=e=>{const n=ks(e);n.length>0&&UC(e,n),Eo(e)},X0=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,ks(pe.fromDom(r))},bv=e=>Tn(e,pe.fromDom),J0=e=>e.dom.innerHTML,Q0=(e,n)=>{const r=en(e).dom,a=pe.fromDom(r.createDocumentFragment()),u=X0(n,r);es(a,u),gh(e),fr(e,a)},fo=e=>{const n=pe.fromTag("div"),o=pe.fromDom(e.dom.cloneNode(!0));return fr(n,o),J0(n)},yv=(e,n,o,r,a,u,h)=>({target:e,x:n,y:o,stop:r,prevent:a,kill:u,raw:h}),JT=e=>{const n=pe.fromDom(gv(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=P(r,o);return yv(n,e.clientX,e.clientY,o,r,a,e)},QT=(e,n)=>o=>{e(o)&&n(JT(o))},WC=(e,n,o,r,a)=>{const u=QT(o,r);return e.dom.addEventListener(n,u,a),{unbind:Ge(eA,e,n,u,a)}},wv=(e,n,o,r)=>WC(e,n,o,r,!1),eA=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},vh=(e,n)=>({left:e,top:n,translate:(r,a)=>vh(e+r,n+a)}),bu=vh,jC=e=>{const n=e.getBoundingClientRect();return bu(n.left,n.top)},Cv=(e,n)=>e!==void 0?e:n!==void 0?n:0,ZC=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,a=n.documentElement;if(o===e.dom)return bu(o.offsetLeft,o.offsetTop);const u=Cv(r==null?void 0:r.pageYOffset,a.scrollTop),h=Cv(r==null?void 0:r.pageXOffset,a.scrollLeft),v=Cv(a.clientTop,o.clientTop),C=Cv(a.clientLeft,o.clientLeft);return Bl(e).translate(h-C,u-v)},Bl=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?bu(r.offsetLeft,r.offsetTop):mh(e)?jC(n):bu(0,0)},ff=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return bu(o,r)},Pm=(e,n,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,n)},Mm=(e,n)=>{oc().browser.isSafari()&&ye(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},qC=e=>{const n=e===void 0?window:e;return oc().browser.isFirefox()?K.none():K.from(n.visualViewport)},ey=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),ty=e=>{const n=e===void 0?window:e,o=n.document,r=ff(pe.fromDom(o));return qC(n).fold(()=>{const a=n.document.documentElement,u=a.clientWidth,h=a.clientHeight;return ey(r.left,r.top,u,h)},a=>ey(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},GC=(e,n)=>Jt(ks(e),n),ny=(e,n)=>{let o=[];return Le(ks(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(ny(r,n))}),o},vi=(e,n)=>tt(n,e),oy=(e,n,o)=>Is(e,n,o).isSome(),_a=(e,n)=>Y0(e,n).isSome(),pn=(e,n)=>Fi(e,n).isSome();class $s{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,a){if(n){if(!a&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(u=h[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const a=n.parentNode;if(a&&a!==this.rootNode)return a}}}const yd="\uFEFF",ei=" ",Bm=e=>e===yd,KC=e=>e.replace(/\uFEFF/g,""),yu=/^[ \t\r\n]*$/,Nl=e=>yu.test(e),bh=e=>{for(const n of e)if(!Bm(n))return!1;return!0},ti=e=>" \f	\v".indexOf(e)!==-1,Nm=e=>e===`
`||e==="\r",sy=(e,n)=>n<e.length&&n>=0?Nm(e[n]):!1,ry=(e,n=4,o=!0,r=!0)=>{const a=lv(" ",n),u=e.replace(/\t/g,a);return To(u,(v,C)=>ti(C)||C===ei?v.pcIsSpace||v.str===""&&o||v.str.length===u.length-1&&r||sy(u,v.str.length+1)?{pcIsSpace:!1,str:v.str+ei}:{pcIsSpace:!0,str:v.str+" "}:{pcIsSpace:Nm(C),str:v.str+C},{pcIsSpace:!1,str:""}).str},hf=e=>n=>!!n&&n.nodeType===e,xv=e=>!!e&&!Object.getPrototypeOf(e),Wt=hf(1),wd=e=>Wt(e)&&wa(pe.fromDom(e)),Im=e=>Wt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",yh=e=>{const n=e.toLowerCase();return o=>je(o)&&o.nodeName.toLowerCase()===n},Jc=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return An(n,r)}return!1}},fs=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Wt(r)){const a=r.ownerDocument.defaultView;if(a)for(let u=0;u<o.length;u++){const h=a.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===o[u])return!0}}return!1}},Il=e=>n=>Wt(n)&&n.hasAttribute(e),Vr=e=>Wt(e)&&e.hasAttribute("data-mce-bogus"),$m=e=>Wt(e)&&e.getAttribute("data-mce-bogus")==="all",wr=e=>Wt(e)&&e.tagName==="TABLE",iy=e=>n=>!!(wd(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Ur=Jc(["textarea","input"]),at=hf(3),mf=hf(4),rt=hf(7),ni=hf(8),Lm=hf(9),nr=hf(11),ts=yh("br"),ay=yh("img"),kr=iy("true"),bs=iy("false"),Qc=Jc(["td","th"]),YC=Jc(["td","th","caption"]),Or=Jc(["video","audio","object","embed"]),_o=yh("li"),el=yh("details"),ug=yh("summary"),Ei={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},XC=(e,n,o)=>{const r=pe.fromDom(n),a=pe.fromDom(e),u=o.getWhitespaceElements();return oy(a,v=>un(u,Jn(v)),Ge(Je,r))},pf=e=>Wt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),JC=(e,n)=>Wt(e)&&un(n.getNonEmptyElements(),e.nodeName),Ta=Il("data-mce-bookmark"),cy=e=>so(pe.fromDom(e)).exists(n=>!Ln(n)),Pe=(e,n,o)=>Nl(e.data)&&!XC(e,n,o),wc=(e,n,o,r)=>at(e)&&!Pe(e,n,o)&&(!r.includeZwsp||!bh(e.data)),dg=(e,n,o,r)=>ye(r.isContent)&&r.isContent(n)||JC(n,e)||Ta(n)||pf(n)||wc(n,o,e,r)||bs(n)||kr(n)&&cy(n),_i=(e,n,o)=>{const r={...Ei,...o};if(r.checkRootAsContent&&dg(e,n,n,r))return!1;let a=n.firstChild,u=0;if(!a)return!0;const h=new $s(a,n);do{if(r.skipBogus&&Wt(a)){const v=a.getAttribute("data-mce-bogus");if(v){a=h.next(v==="all");continue}}if(ni(a)){a=h.next(!0);continue}if(ts(a)){u++,a=h.next();continue}if(dg(e,a,n,r))return!1;a=h.next()}while(a);return u<=1},Ls=(e,n,o)=>_i(e,n.dom,{checkRootAsContent:!0,...o}),Ti=(e,n,o)=>dg(e,n,n,{includeZwsp:Ei.includeZwsp,...o}),Os=e=>e.toLowerCase()==="svg",Fm=e=>Os(e.nodeName),Cd=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",Sv=["svg"],rn=()=>{let e=[];const n=()=>e[e.length-1];return{track:u=>{Fm(u)&&e.push(u);let h=n();return h&&!h.contains(u)&&(e.pop(),h=n()),Cd(h)},current:()=>Cd(n()),reset:()=>{e=[]}}},ly="data-mce-block",$l=e=>Jt(fi(e),n=>!/[A-Z]/.test(n)),gf=e=>Tn($l(e),n=>`${n}:`+Tn(Sv,o=>`not(${o} ${n})`).join(":")).join(","),QC=(e,n)=>je(n.querySelector(e))?(n.setAttribute(ly,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(ly),!1),ex=(e,n)=>{const o=gf(e.getTransparentElements()),r=gf(e.getBlockElements());return Jt(n.querySelectorAll(o),a=>QC(r,a))},tx=(e,n,o)=>{var r;const a=o?"lastChild":"firstChild";for(let u=n[a];u;u=u[a])if(_i(e,u,{checkRootAsContent:!0})){(r=u.parentNode)===null||r===void 0||r.removeChild(u);return}},tA=(e,n,o)=>{const r=document.createRange(),a=n.parentNode;if(a){r.setStartBefore(n),r.setEndBefore(o);const u=r.extractContents();tx(e,u,!0),r.setStartAfter(o),r.setEndAfter(n);const h=r.extractContents();tx(e,h,!1),_i(e,u,{checkRootAsContent:!0})||a.insertBefore(u,n),_i(e,o,{checkRootAsContent:!0})||a.insertBefore(o,n),_i(e,h,{checkRootAsContent:!0})||a.insertBefore(h,n),a.removeChild(n)}},wh=(e,n,o)=>{const r=e.getBlockElements(),a=pe.fromDom(n),u=v=>Jn(v)in r,h=v=>Je(v,a);Le(bv(o),v=>{Is(v,u,h).each(C=>{const O=GC(v,F=>u(F)&&!e.isValidChild(Jn(C),Jn(F)));if(O.length>0){const F=so(C);Le(O,H=>{Is(H,u,h).each(j=>{tA(e,j.dom,H.dom)})}),F.each(H=>ex(e,H.dom))}})})},Hm=(e,n,o)=>{Le([...o,...vf(e,n)?[n]:[]],r=>Le(vi(pe.fromDom(r),r.nodeName.toLowerCase()),a=>{bf(e,a.dom)&&vu(a)}))},uy=(e,n)=>{const o=ex(e,n);wh(e,n,o),Hm(e,n,o)},nA=(e,n)=>{if(Ch(e,n)){const o=gf(e.getBlockElements());QC(o,n)}},NR=(e,n,o)=>{const r=u=>Je(u,pe.fromDom(n)),a=ko(pe.fromDom(o),r);pa(a,a.length-2).filter(dr).fold(()=>uy(e,n),u=>uy(e,u.dom))},zm=e=>e.hasAttribute(ly),Vm=(e,n)=>un(e.getTransparentElements(),n),Ch=(e,n)=>Wt(n)&&Vm(e,n.nodeName),vf=(e,n)=>Ch(e,n)&&zm(n),bf=(e,n)=>Ch(e,n)&&!zm(n),yf=(e,n)=>n.type===1&&Vm(e,n.name)&&ue(n.attr(ly)),oA=oc().browser,nx=e=>Jo(e,dr),ox=e=>oA.isFirefox()&&Jn(e)==="table"?nx(ks(e)).filter(n=>Jn(n)==="caption").bind(n=>nx(er(n)).map(o=>{const r=o.dom.offsetTop,a=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=a?-u:0})).getOr(0):0,dy=(e,n)=>e.children&&An(e.children,n),oi=(e,n,o)=>{let r=0,a=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&gu(pe.fromDom(e),"position")==="static"){const v=n.getBoundingClientRect();return r=v.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=v.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:a}}let h=n;for(;h&&h!==o&&h.nodeType&&!dy(h,o);){const v=h;r+=v.offsetLeft||0,a+=v.offsetTop||0,h=v.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!dy(h,o);)r-=h.scrollLeft||0,a-=h.scrollTop||0,h=h.parentNode;a+=ox(pe.fromDom(n))}return{x:r,y:a}},wu=(e,n={})=>{let o=0;const r={},a=pe.fromDom(e),u=fn(a),h=Ce=>{n.referrerPolicy=Ce},v=Ce=>{n.contentCssCors=Ce},C=Ce=>{fr(pv(a),Ce)},O=Ce=>{const Ee=pv(a);cg(Ee,"#"+Ce).each(Eo)},F=Ce=>Qo(r,Ce).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),H=Ce=>new Promise((Ee,_e)=>{let Be;const qe=D._addCacheSuffix(Ce),bt=F(qe);r[qe]=bt,bt.count++;const Rt=(Ot,Yt)=>{Le(Ot,$n),bt.status=Yt,bt.passed=[],bt.failed=[],Be&&(Be.onload=null,Be.onerror=null,Be=null)},dt=()=>Rt(bt.passed,2),Ue=()=>Rt(bt.failed,3);if(Ee&&bt.passed.push(Ee),_e&&bt.failed.push(_e),bt.status===1)return;if(bt.status===2){dt();return}if(bt.status===3){Ue();return}bt.status=1;const Ye=pe.fromTag("link",u.dom);xi(Ye,{rel:"stylesheet",type:"text/css",id:bt.id}),n.contentCssCors&&Zo(Ye,"crossOrigin","anonymous"),n.referrerPolicy&&Zo(Ye,"referrerpolicy",n.referrerPolicy),Be=Ye.dom,Be.onload=dt,Be.onerror=Ue,C(Ye),Zo(Ye,"href",qe)}),j=(Ce,Ee)=>{const _e=F(Ce);r[Ce]=_e,_e.count++;const Be=pe.fromTag("style",u.dom);xi(Be,{rel:"stylesheet",type:"text/css",id:_e.id}),Be.dom.innerHTML=Ee,C(Be)},oe=Ce=>Promise.allSettled(Tn(Ce,_e=>H(_e).then(st(_e)))).then(_e=>{const Be=Nr(_e,qe=>qe.status==="fulfilled");return Be.fail.length>0?Promise.reject(Tn(Be.fail,qe=>qe.reason)):Tn(Be.pass,qe=>qe.value)}),le=Ce=>{const Ee=D._addCacheSuffix(Ce);Qo(r,Ee).each(_e=>{--_e.count===0&&(delete r[Ee],O(_e.id))})};return{load:H,loadRawCss:j,loadAll:oe,unload:le,unloadRawCss:Ce=>{Qo(r,Ce).each(Ee=>{--Ee.count===0&&(delete r[Ce],O(Ee.id))})},unloadAll:Ce=>{Le(Ce,Ee=>{le(Ee)})},_setReferrerPolicy:h,_setContentCssCors:v}},Cu=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=vd(o).dom;return K.from(e.get(u)).getOrThunk(()=>{const h=wu(u,r);return e.set(u,h),h})}}})(),_v=e=>e.nodeName.toLowerCase()==="span",Aa=(e,n)=>je(e)&&(Ti(n,e)||n.isInline(e.nodeName.toLowerCase())),fg=(e,n,o)=>{const r=new $s(e,n).prev(!1),a=new $s(e,n).next(!1),u=Cn(r)||Aa(r,o),h=Cn(a)||Aa(a,o);return u&&h},hg=e=>_v(e)&&e.getAttribute("data-mce-type")==="bookmark",fy=(e,n,o)=>at(e)&&e.data.length>0&&fg(e,n,o),xu=e=>Wt(e)?e.childNodes.length>0:!1,tl=e=>nr(e)||Lm(e),Um=(e,n,o,r)=>{var a;const u=r||n;if(Wt(n)&&hg(n))return n;const h=n.childNodes;for(let v=h.length-1;v>=0;v--)Um(e,h[v],o,u);if(Wt(n)){const v=n.childNodes;v.length===1&&hg(v[0])&&((a=n.parentNode)===null||a===void 0||a.insertBefore(v[0],n))}return!tl(n)&&!Ti(o,n)&&!xu(n)&&!fy(n,u,o)&&e.remove(n),n},nl=D.makeMap,Tv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Su=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ol=/[<>&\"\']/g,wf=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,sx={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ll={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sA={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},rA=e=>{const n=pe.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Fs=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let a=0;a<r.length;a+=2){const u=String.fromCharCode(parseInt(r[a],n));if(!Ll[u]){const h="&"+r[a+1]+";";o[u]=h,o[h]=u}}return o}else return},hy=Fs("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Eu=(e,n)=>e.replace(n?Tv:Su,o=>Ll[o]||o),xh=e=>(""+e).replace(ol,n=>Ll[n]||n),mg=(e,n)=>e.replace(n?Tv:Su,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Ll[o]||"&#"+o.charCodeAt(0)+";"),_u=(e,n,o)=>{const r=o||hy;return e.replace(n?Tv:Su,a=>Ll[a]||r[a]||a)},na={encodeRaw:Eu,encodeAllRaw:xh,encodeNumeric:mg,encodeNamed:_u,getEncodeFunc:(e,n)=>{const o=Fs(n)||hy,r=(h,v)=>h.replace(v?Tv:Su,C=>Ll[C]!==void 0?Ll[C]:o[C]!==void 0?o[C]:C.length>1?"&#"+((C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320)+65536)+";":"&#"+C.charCodeAt(0)+";"),a=(h,v)=>_u(h,v,o),u=nl(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?a:_u:u.numeric?mg:Eu},decode:e=>e.replace(wf,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):sx[o]||String.fromCharCode(o)):sA[n]||hy[n]||rA(n))},Dr=(e,n)=>(e=D.trim(e),e?e.split(n||" "):[]),pg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Av=e=>mt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",kv=e=>{const n=o=>Gt(o)?Tn(o,n):Av(o)?new RegExp(o.source,o.flags):mt(o)?go(o,n):o;return n(e)},iA=e=>{const n=/^(~)?(.+)$/;return Mi(Dr(e,","),o=>{const r=n.exec(o);if(r){const u=r[1]==="~"?"span":"div",h=r[2];return[{cloneName:u,name:h}]}else return[]})},rx=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Ov=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},Eh=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=Ov(e),a=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:a(n),phrasingContent:a(o),flowContent:a(r)})},za={html4:Ja(()=>Eh("html4")),html5:Ja(()=>Eh("html5")),"html5-strict":Ja(()=>Eh("html5-strict"))},Fl=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=za[e]();return n==="blocks"?K.some(o):n==="phrasing"?K.some(r):n==="flow"?K.some(a):K.none()},Tu=e=>{const n=rx(e),{phrasingContent:o,flowContent:r}=Ov(e),a={},u=(C,O,F)=>{a[C]={attributes:lr(O,st({})),attributesOrder:O,children:lr(F,st({}))}},h=(C,O="",F="")=>{const H=Dr(F),j=Dr(C);let oe=j.length;const le=[...n,...Dr(O)];for(;oe--;)u(j[oe],le.slice(),H)},v=(C,O)=>{const F=Dr(C),H=Dr(O);let j=F.length;for(;j--;){const oe=a[F[j]];for(let le=0,re=H.length;le<re;le++)oe.attributes[H[le]]={},oe.attributesOrder.push(H[le])}};return e!=="html5-strict"&&(Le(Dr("acronym applet basefont big font strike tt"),F=>{h(F,"",o)}),Le(Dr("center dir isindex noframes"),F=>{h(F,"",r)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),h("dd div","",r),h("address dt caption","",e==="html4"?o:r),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",r),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",r),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:r),h("q","cite",o),h("ins del","cite datetime",r),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",r),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),h("param","name value"),h("map","name",[r,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",r),h("th","colspan rowspan headers scope abbr",r),h("form","accept-charset action autocomplete enctype method name novalidate target",r),h("fieldset","disabled form name",[r,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[r,"li"].join(" ")),h("noscript","",r),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",r),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",r),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",r),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[r,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",r),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[r,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(v("script","language xml:space"),v("style","xml:space"),v("object","declare classid code codebase codetype archive standby align border hspace vspace"),v("embed","align name hspace vspace"),v("param","valuetype type"),v("a","charset name rev shape coords"),v("br","clear"),v("applet","codebase archive code object alt name width height align hspace vspace"),v("img","name longdesc align border hspace vspace"),v("iframe","longdesc frameborder marginwidth marginheight scrolling align"),v("font basefont","size color face"),v("input","usemap align"),v("select"),v("textarea"),v("h1 h2 h3 h4 h5 h6 div p legend caption","align"),v("ul","type compact"),v("li","type"),v("ol dl menu dir","compact"),v("pre","width xml:space"),v("hr","align noshade size width"),v("isindex","prompt"),v("table","summary width frame rules cellspacing cellpadding align bgcolor"),v("col","width align char charoff valign"),v("colgroup","width align char charoff valign"),v("thead","align char charoff valign"),v("tr","align char charoff valign bgcolor"),v("th","axis align char charoff valign nowrap bgcolor width height"),v("form","accept"),v("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),v("tfoot","align char charoff valign"),v("tbody","align char charoff valign"),v("area","nohref"),v("body","background bgcolor text link vlink alink")),e!=="html4"&&(v("input button select textarea","autofocus"),v("input textarea","placeholder"),v("a","download"),v("link script img","crossorigin"),v("img","loading"),v("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&Le([a.video,a.audio],C=>{delete C.children.audio,delete C.children.video}),Le(Dr("a form meter progress dfn"),C=>{a[C]&&delete a[C].children[C]}),delete a.caption.children.table,delete a.script,a},_h=e=>e==="-"?"remove":"add",sl=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return K.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Wm=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Mi(Dr(e,","),o=>{const r=n.exec(o);if(r){const a=r[1],u=a?_h(a):"replace",h=r[2],v=Mi(Dr(r[3],"|"),C=>sl(C).toArray());return[{operation:u,name:h,validChildren:v}]}else return[]})},my=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:u}=n;return Le(Dr(e,"|"),h=>{const v=o.exec(h);if(v){const C={},O=v[1],F=v[2].replace(/[\\:]:/g,":"),H=v[3],j=v[4];if(O==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(F),C.required=!0),O==="-"){delete a[F],u.splice(D.inArray(u,F),1);return}if(H&&(H==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:F,value:j}),C.defaultValue=j):H==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:F,value:j}),C.forcedValue=j):H==="<"&&(C.validValues=D.makeMap(j,"?"))),r.test(F)){const oe=C;n.attributePatterns=n.attributePatterns||[],oe.pattern=pg(F),n.attributePatterns.push(oe)}else a[F]||u.push(F),a[F]=C}})},py=(e,n)=>{Dt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},gy=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Mi(Dr(n,","),r=>{const a=o.exec(r);if(a){const u=a[1],h=a[2],v=a[3],C=a[4],O=a[5],F={attributes:{},attributesOrder:[]};if(e.each(H=>py(H,F)),u==="#"?F.paddEmpty=!0:u==="-"&&(F.removeEmpty=!0),C==="!"&&(F.removeEmptyAttrs=!0),O&&my(O,F),v&&(F.outputName=h),h==="@")if(e.isNone())e=K.some(F);else return[];return[v?{name:h,element:F,aliasName:v}:{name:h,element:F}]}else return[]})},jm={},Th=D.makeMap,Un=D.each,on=D.extend,Au=D.explode,Dv=(e,n={})=>{const o=Th(e," ",Th(e.toUpperCase()," "));return on(o,n)},Rv=e=>Dv("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),vy=(e,n)=>{if(e){const o={};return ue(e)&&(e={"*":e}),Un(e,(r,a)=>{o[a]=o[a.toUpperCase()]=n==="map"?Th(r,/[, ]/):Au(r,/[, ]/)}),o}else return},xd=(e={})=>{var n;const o={},r={};let a=[];const u={},h={},v=(Qt,ao,Es)=>{const zs=e[Qt];if(zs)return Th(zs,/[, ]/,Th(zs.toUpperCase(),/[, ]/));{let pr=jm[Qt];return pr||(pr=Dv(ao,Es),jm[Qt]=pr),pr}},C=(n=e.schema)!==null&&n!==void 0?n:"html5",O=Tu(C);e.verify_html===!1&&(e.valid_elements="*[*]");const F=vy(e.valid_styles),H=vy(e.invalid_styles,"map"),j=vy(e.valid_classes,"map"),oe=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),le=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),re=v("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),de=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ce="td th iframe video audio object script code",Ee=v("non_empty_elements",Ce+" pre svg textarea summary",re),_e=v("move_caret_before_on_enter_elements",Ce+" table",re),Be="h1 h2 h3 h4 h5 h6",qe=v("text_block_elements",Be+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),bt=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",qe),Rt=v("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),dt=v("transparent_elements","a ins del canvas map"),Ue=v("wrap_block_elements","pre "+Be);Un("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Qt=>{h[Qt]=new RegExp("</"+Qt+"[^>]*>","gi")});const Ye=Qt=>{const ao=K.from(o["@"]),Es=/[*?+]/;Le(gy(ao,Qt??""),({name:zs,element:pr,aliasName:li})=>{if(li&&(o[li]=pr),Es.test(zs)){const Gs=pr;Gs.pattern=pg(zs),a.push(Gs)}else o[zs]=pr})},Ot=Qt=>{a=[],Le(fi(o),ao=>{delete o[ao]}),Ye(Qt)},Yt=(Qt,ao)=>{var Es,zs;delete jm.text_block_elements,delete jm.block_elements;const pr=ao.extends?!Fc(ao.extends):!1,li=ao.extends;if(r[Qt]=li?r[li]:{},u[Qt]=li??Qt,Ee[Qt.toUpperCase()]={},Ee[Qt]={},pr||(bt[Qt.toUpperCase()]={},bt[Qt]={}),li&&!o[Qt]&&o[li]){const Gs=kv(o[li]);delete Gs.removeEmptyAttrs,delete Gs.removeEmpty,o[Qt]=Gs}else o[Qt]={attributesOrder:[],attributes:{}};if(Gt(ao.attributes)){const Gs=fa=>{cr.attributesOrder.push(fa),cr.attributes[fa]={}},cr=(Es=o[Qt])!==null&&Es!==void 0?Es:{};delete cr.attributesDefault,delete cr.attributesForced,delete cr.attributePatterns,delete cr.attributesRequired,cr.attributesOrder=[],cr.attributes={},Le(ao.attributes,fa=>{const au=rx(C);sl(fa).each(({preset:od,name:sd})=>{od?sd==="global"&&Le(au,Gs):Gs(sd)})}),o[Qt]=cr}if(mn(ao.padEmpty)){const Gs=(zs=o[Qt])!==null&&zs!==void 0?zs:{};Gs.paddEmpty=ao.padEmpty,o[Qt]=Gs}if(Gt(ao.children)){const Gs={},cr=au=>{Gs[au]={}},fa=au=>{Fl(C,au).each(od=>{Le(od,cr)})};Le(ao.children,au=>{sl(au).each(({preset:od,name:sd})=>{od?fa(sd):cr(sd)})}),r[Qt]=Gs}li&&Dt(r,(Gs,cr)=>{Gs[li]&&(r[cr]=Gs=on({},r[cr]),Gs[Qt]=Gs[li])})},zn=Qt=>{Le(iA(Qt??""),({name:ao,cloneName:Es})=>{Yt(ao,{extends:Es})})},Qn=Qt=>{mt(Qt)?Dt(Qt,(ao,Es)=>Yt(Es,ao)):ue(Qt)&&zn(Qt)},Ro=Qt=>{Le(Wm(Qt??""),({operation:ao,name:Es,validChildren:zs})=>{const pr=ao==="replace"?{"#comment":{}}:r[Es],li=cr=>{ao==="remove"?delete pr[cr]:pr[cr]={}},Gs=cr=>{Fl(C,cr).each(fa=>{Le(fa,li)})};Le(zs,({preset:cr,name:fa})=>{cr?Gs(fa):li(fa)}),r[Es]=pr})},Ho=Qt=>{const ao=o[Qt];if(ao)return ao;let Es=a.length;for(;Es--;){const zs=a[Es];if(zs.pattern.test(Qt))return zs}},cs=()=>{e.valid_elements?(Ot(e.valid_elements),Un(O,(Qt,ao)=>{r[ao]=Qt.children})):(Un(O,(Qt,ao)=>{o[ao]={attributes:Qt.attributes,attributesOrder:Qt.attributesOrder},r[ao]=Qt.children}),Un(Dr("strong/b em/i"),Qt=>{const ao=Dr(Qt,"/");o[ao[1]].outputName=ao[0]}),Un(Rt,(Qt,ao)=>{o[ao]&&(e.padd_empty_block_inline_children&&(o[ao].paddInEmptyBlock=!0),o[ao].removeEmpty=!0)}),Un(Dr("ol ul blockquote a table tbody"),Qt=>{o[Qt]&&(o[Qt].removeEmpty=!0)}),Un(Dr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Qt=>{o[Qt]&&(o[Qt].paddEmpty=!0)}),Un(Dr("span"),Qt=>{o[Qt].removeEmptyAttrs=!0})),delete o.svg,Qn(e.custom_elements),Ro(e.valid_children),Ye(e.extended_valid_elements),Ro("+ol[ul|ol],+ul[ul|ol]"),Un({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Qt,ao)=>{o[ao]&&(o[ao].parentsRequired=Dr(Qt))}),e.invalid_elements&&Un(Au(e.invalid_elements),Qt=>{o[Qt]&&delete o[Qt]}),Ho("span")||Ye("span[!data-mce-type|*]")},Ri=st(F),zo=st(H),Tt=st(j),Kt=st(de),to=st(bt),kt=st(qe),ln=st(Rt),Gn=st(Object.seal(re)),Bt=st(le),jn=st(Ee),Zn=st(_e),_r=st(oe),Po=st(dt),Tr=st(Ue),Sl=st(Object.seal(h)),tf=(Qt,ao)=>{const Es=r[Qt.toLowerCase()];return!!(Es&&Es[ao.toLowerCase()])},da=(Qt,ao)=>{const Es=Ho(Qt);if(Es)if(ao){if(Es.attributes[ao])return!0;const zs=Es.attributePatterns;if(zs){let pr=zs.length;for(;pr--;)if(zs[pr].pattern.test(ao))return!0}}else return!0;return!1},Fc=Qt=>un(to(),Qt),ru=Qt=>!Bs(Qt,"#")&&da(Qt)&&!Fc(Qt),Hc=Qt=>un(Tr(),Qt)||ru(Qt),iu=st(u);return cs(),{type:C,children:r,elements:o,getValidStyles:Ri,getValidClasses:Tt,getBlockElements:to,getInvalidStyles:zo,getVoidElements:Gn,getTextBlockElements:kt,getTextInlineElements:ln,getBoolAttrs:Kt,getElementRule:Ho,getSelfClosingElements:Bt,getNonEmptyElements:jn,getMoveCaretBeforeOnEnterElements:Zn,getWhitespaceElements:_r,getTransparentElements:Po,getSpecialElements:Sl,isValidChild:tf,isValid:da,isBlock:Fc,isInline:ru,isWrapper:Hc,getCustomElements:iu,addValidElements:Ye,setValidElements:Ot,addCustomElements:Qn,addValidChildren:Ro}},ns=e=>({value:ix(e)}),ix=e=>hd(e,"#").toUpperCase(),by=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},yy=e=>{const n=by(e.red)+by(e.green)+by(e.blue);return ns(n)},Ke=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,wy=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ax=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Ah=(e,n,o,r)=>{const a=parseInt(e,10),u=parseInt(n,10),h=parseInt(o,10),v=parseFloat(r);return ax(a,u,h,v)},cx=e=>{if(e==="transparent")return K.some(ax(0,0,0,0));const n=Ke.exec(e);if(n!==null)return K.some(Ah(n[1],n[2],n[3],"1"));const o=wy.exec(e);return o!==null?K.some(Ah(o[1],o[2],o[3],o[4])):K.none()},Sd=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,kh=e=>cx(e).map(yy).map(n=>"#"+n.value).getOr(e),rl=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,u=/rgba *\(/i,h={};let v,C;const O=yd;n&&(v=n.getValidStyles(),C=n.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+O).split(" ");for(let j=0;j<F.length;j++)h[F[j]]=O+j,h[O+j]=F[j];const H={parse:j=>{const oe={};let le=!1;const re=e.url_converter,de=e.url_converter_scope||H,Ce=(Ue,Ye,Ot)=>{const Yt=oe[Ue+"-top"+Ye];if(!Yt)return;const zn=oe[Ue+"-right"+Ye];if(!zn)return;const Qn=oe[Ue+"-bottom"+Ye];if(!Qn)return;const Ro=oe[Ue+"-left"+Ye];if(!Ro)return;const Ho=[Yt,zn,Qn,Ro];let cs=Ho.length-1;for(;cs--&&Ho[cs]===Ho[cs+1];);cs>-1&&Ot||(oe[Ue+Ye]=cs===-1?Ho[0]:Ho.join(" "),delete oe[Ue+"-top"+Ye],delete oe[Ue+"-right"+Ye],delete oe[Ue+"-bottom"+Ye],delete oe[Ue+"-left"+Ye])},Ee=Ue=>{const Ye=oe[Ue];if(!Ye)return;const Ot=Ye.indexOf(",")>-1?[Ye]:Ye.split(" ");let Yt=Ot.length;for(;Yt--;)if(Ot[Yt]!==Ot[0])return!1;return oe[Ue]=Ot[0],!0},_e=(Ue,Ye,Ot,Yt)=>{Ee(Ye)&&Ee(Ot)&&Ee(Yt)&&(oe[Ue]=oe[Ye]+" "+oe[Ot]+" "+oe[Yt],delete oe[Ye],delete oe[Ot],delete oe[Yt])},Be=Ue=>(le=!0,h[Ue]),qe=(Ue,Ye)=>(le&&(Ue=Ue.replace(/\uFEFF[0-9]/g,Ot=>h[Ot])),Ye||(Ue=Ue.replace(/\\([\'\";:])/g,"$1")),Ue),bt=Ue=>String.fromCharCode(parseInt(Ue.slice(1),16)),Rt=Ue=>Ue.replace(/\\[0-9a-f]+/gi,bt),dt=(Ue,Ye,Ot,Yt,zn,Qn)=>{if(zn=zn||Qn,zn)return zn=qe(zn),"'"+zn.replace(/\'/g,"\\'")+"'";if(Ye=qe(Ye||Ot||Yt||""),!e.allow_script_urls){const Ro=Ye.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ro)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ro))return""}return re&&(Ye=re.call(de,Ye,"style")),"url('"+Ye.replace(/\'/g,"\\'")+"')"};if(j){j=j.replace(/[\u0000-\u001F]/g,""),j=j.replace(/\\[\"\';:\uFEFF]/g,Be).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ye=>Ye.replace(/[;:]/g,Be));let Ue;for(;Ue=r.exec(j);){r.lastIndex=Ue.index+Ue[0].length;let Ye=Ue[1].replace(a,"").toLowerCase(),Ot=Ue[2].replace(a,"");if(Ye&&Ot){if(Ye=Rt(Ye),Ot=Rt(Ot),Ye.indexOf(O)!==-1||Ye.indexOf('"')!==-1||!e.allow_script_urls&&(Ye==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ot)))continue;Ye==="font-weight"&&Ot==="700"?Ot="bold":(Ye==="color"||Ye==="background-color")&&(Ot=Ot.toLowerCase()),u.test(Ot)||cx(Ot).each(Yt=>{Ot=kh(Sd(Yt)).toLowerCase()}),Ot=Ot.replace(o,dt),oe[Ye]=le?qe(Ot,!0):Ot}}Ce("border","",!0),Ce("border","-width"),Ce("border","-color"),Ce("border","-style"),Ce("padding",""),Ce("margin",""),_e("border","border-width","border-style","border-color"),oe.border==="medium none"&&delete oe.border,oe["border-image"]==="none"&&delete oe["border-image"]}return oe},serialize:(j,oe)=>{let le="";const re=(Ce,Ee)=>{const _e=Ee[Ce];if(_e)for(let Be=0,qe=_e.length;Be<qe;Be++){const bt=_e[Be],Rt=j[bt];Rt&&(le+=(le.length>0?" ":"")+bt+": "+Rt+";")}},de=(Ce,Ee)=>{if(!C||!Ee)return!0;let _e=C["*"];return _e&&_e[Ce]?!1:(_e=C[Ee],!(_e&&_e[Ce]))};return oe&&v?(re("*",v),re(oe,v)):Dt(j,(Ce,Ee)=>{Ce&&de(Ee,oe)&&(le+=(le.length>0?" ":"")+Ee+": "+Ce+";")}),le}};return H},aA={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Zm=e=>e instanceof Event||ye(e.initEvent),ys=e=>e.isDefaultPrevented===ht||e.isDefaultPrevented===He,ku=e=>Sn(e.preventDefault)||Zm(e),lx=(e,n)=>{const o=n??{};for(const r in e)un(aA,r)||(o[r]=e[r]);return je(e.composedPath)&&(o.composedPath=()=>e.composedPath()),je(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),je(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Hl=(e,n,o,r)=>{var a;const u=lx(n,r);return u.type=e,Sn(u.target)&&(u.target=(a=u.srcElement)!==null&&a!==void 0?a:o),ku(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=ht,ye(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=ht,ye(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=ht,u.stopPropagation()},ys(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?ht:He,u.isPropagationStopped=u.cancelBubble===!0?ht:He,u.isImmediatePropagationStopped=He)),u},cA="mce-data-",Cy=/^(?:mouse|contextmenu)|click/,Ed=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},qm=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},ux=e=>je(e)&&Cy.test(e.type),Oh=(e,n)=>{const o=Hl(e.type,e,document,n);if(ux(e)&&Cn(e.pageX)&&!Cn(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,u=r.body,h=o;h.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),h.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o},Pv=(e,n,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){n(a);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,h=()=>{qm(e,"DOMContentLoaded",h),qm(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(a)),e=null};u()?h():Ed(e,"DOMContentLoaded",h),o.domLoaded||Ed(e,"load",h)};class _d{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=cA+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,a){const u=this;let h;const v=window,C=j=>{u.executeHandlers(Oh(j||v.event),O)};if(!n||at(n)||ni(n))return r;let O;n[u.expando]?O=n[u.expando]:(O=u.count++,n[u.expando]=O,u.events[O]={}),a=a||n;const F=o.split(" ");let H=F.length;for(;H--;){let j=F[H],oe=C,le=!1,re=!1;if(j==="DOMContentLoaded"&&(j="ready"),u.domLoaded&&j==="ready"&&n.readyState==="complete"){r.call(a,Oh({type:j}));continue}!u.hasFocusIn&&(j==="focusin"||j==="focusout")&&(le=!0,re=j==="focusin"?"focus":"blur",oe=de=>{const Ce=Oh(de||v.event);Ce.type=Ce.type==="focus"?"focusin":"focusout",u.executeHandlers(Ce,O)}),h=u.events[O][j],h?j==="ready"&&u.domLoaded?r(Oh({type:j})):h.push({func:r,scope:a}):(u.events[O][j]=h=[{func:r,scope:a}],h.fakeName=re,h.capture=le,h.nativeHandler=oe,j==="ready"?Pv(n,oe,u):Ed(n,re||j,oe,le))}return n=h=null,r}unbind(n,o,r){if(!n||at(n)||ni(n))return this;const a=n[this.expando];if(a){let u=this.events[a];if(o){const h=o.split(" ");let v=h.length;for(;v--;){const C=h[v],O=u[C];if(O){if(r){let F=O.length;for(;F--;)if(O[F].func===r){const H=O.nativeHandler,j=O.fakeName,oe=O.capture,le=O.slice(0,F).concat(O.slice(F+1));le.nativeHandler=H,le.fakeName=j,le.capture=oe,u[C]=le}}(!r||O.length===0)&&(delete u[C],qm(n,O.fakeName||C,O.nativeHandler,O.capture))}}}else Dt(u,(h,v)=>{qm(n,h.fakeName||v,h.nativeHandler,h.capture)}),u={};for(const h in u)if(un(u,h))return this;delete this.events[a];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||at(n)||ni(n))return this;const a=Oh({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(a,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!a.isPropagationStopped());return this}clean(n){if(!n||at(n)||ni(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],a=r&&r[n.type];if(a)for(let u=0,h=a.length;u<h;u++){const v=a[u];if(v&&v.func.call(v.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}_d.Event=new _d;const Ou=D.each,dx=D.grep,xy="data-mce-style",lA=D.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Dh=(e,n,o)=>{Sn(o)||o===""?vr(e,n):Zo(e,n,o)},zt=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Rh=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const u=a.nodeType;n&&at(a)&&(u===r||!a.data.length)||(o++,r=u)}return o},fx=(e,n)=>{const o=ds(n,"style"),r=e.serialize(e.parse(o),Jn(n));Dh(n,xy,r)},uA=(e,n)=>Ze(e)?un(lA,n)?e+"":e+"px":e,Gm=(e,n,o)=>{const r=zt(n);Sn(o)||o===""?gi(e,r):Rm(e,r,uA(o,r))},dA=(e,n,o)=>{const r=n.keep_values,a={set:(h,v,C)=>{const O=pe.fromDom(h);ye(n.url_converter)&&je(v)&&(v=n.url_converter.call(n.url_converter_scope||o(),String(v),C,h));const F="data-mce-"+C;Dh(O,F,v),Dh(O,C,v)},get:(h,v)=>{const C=pe.fromDom(h);return ds(C,"data-mce-"+v)||ds(C,v)}},u={style:{set:(h,v)=>{const C=pe.fromDom(h);r&&Dh(C,xy,v),vr(C,"style"),ue(v)&&lg(C,e.parse(v))},get:h=>{const v=pe.fromDom(h),C=ds(v,xy)||ds(v,"style");return e.serialize(e.parse(C),Jn(v))}}};return r&&(u.href=u.src=a),u},Ko=(e,n={})=>{const o={},r=window,a={};let u=0;const h=!0,v=!0,C=Cu.forElement(pe.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),O=[],F=n.schema?n.schema:xd({}),H=rl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),j=n.ownEvents?new _d:_d.Event,oe=F.getBlockElements(),le=Ie=>ue(Ie)?un(oe,Ie):Wt(Ie)&&(un(oe,Ie.nodeName)||vf(F,Ie)),re=Ie=>Ie&&e&&ue(Ie)?e.getElementById(Ie):Ie,de=Ie=>{const $e=re(Ie);return je($e)?pe.fromDom($e):null},Ce=(Ie,$e,St="")=>{let pt;const vn=de(Ie);if(je(vn)&&dr(vn)){const no=MC[$e];no&&no.get?pt=no.get(vn.dom,$e):pt=ds(vn,$e)}return je(pt)?pt:St},Ee=Ie=>{const $e=re(Ie);return Sn($e)?[]:$e.attributes},_e=(Ie,$e,St)=>{Kt(Ie,pt=>{if(Wt(pt)){const vn=pe.fromDom(pt),no=St===""?null:St,_s=ds(vn,$e),cu=MC[$e];cu&&cu.set?cu.set(vn.dom,no,$e):Dh(vn,$e,no),_s!==no&&n.onSetAttrib&&n.onSetAttrib({attrElm:vn.dom,attrName:$e,attrValue:no})}})},Be=(Ie,$e)=>Ie.cloneNode($e),qe=()=>n.root_element||e.body,bt=Ie=>{const $e=ty(Ie);return{x:$e.x,y:$e.y,w:$e.width,h:$e.height}},Rt=(Ie,$e)=>oi(e.body,re(Ie),$e),dt=(Ie,$e,St)=>{Kt(Ie,pt=>{const vn=pe.fromDom(pt);Gm(vn,$e,St),n.update_styles&&fx(H,vn)})},Ue=(Ie,$e)=>{Kt(Ie,St=>{const pt=pe.fromDom(St);Dt($e,(vn,no)=>{Gm(pt,no,vn)}),n.update_styles&&fx(H,pt)})},Ye=(Ie,$e,St)=>{const pt=re(Ie);if(!(Sn(pt)||!wd(pt)&&!Im(pt)))return St?gu(pe.fromDom(pt),zt($e)):($e=$e.replace(/-(\D)/g,(vn,no)=>no.toUpperCase()),$e==="float"&&($e="cssFloat"),pt.style?pt.style[$e]:void 0)},Ot=Ie=>{const $e=re(Ie);if(!$e)return{w:0,h:0};let St=Ye($e,"width"),pt=Ye($e,"height");return(!St||St.indexOf("px")===-1)&&(St="0"),(!pt||pt.indexOf("px")===-1)&&(pt="0"),{w:parseInt(St,10)||$e.offsetWidth||$e.clientWidth,h:parseInt(pt,10)||$e.offsetHeight||$e.clientHeight}},Yt=Ie=>{const $e=re(Ie),St=Rt($e),pt=Ot($e);return{x:St.x,y:St.y,w:pt.w,h:pt.h}},zn=(Ie,$e)=>{if(!Ie)return!1;const St=Gt(Ie)?Ie:[Ie];return Xo(St,pt=>ge(pe.fromDom(pt),$e))},Qn=(Ie,$e,St,pt)=>{const vn=[];let no=re(Ie);pt=pt===void 0;const _s=St||(qe().nodeName!=="BODY"?qe().parentNode:null);if(ue($e))if($e==="*")$e=Wt;else{const cu=$e;$e=MT=>zn(MT,cu)}for(;no&&!(no===_s||Sn(no.nodeType)||Lm(no)||nr(no));){if(!$e||$e(no))if(pt)vn.push(no);else return[no];no=no.parentNode}return pt?vn:null},Ro=(Ie,$e,St)=>{const pt=Qn(Ie,$e,St,!1);return pt&&pt.length>0?pt[0]:null},Ho=(Ie,$e,St)=>{let pt=$e;if(Ie){ue($e)&&(pt=vn=>zn(vn,$e));for(let vn=Ie[St];vn;vn=vn[St])if(ye(pt)&&pt(vn))return vn}return null},cs=(Ie,$e)=>Ho(Ie,$e,"nextSibling"),Ri=(Ie,$e)=>Ho(Ie,$e,"previousSibling"),zo=Ie=>ye(Ie.querySelectorAll),Tt=(Ie,$e)=>{var St,pt;const vn=(pt=(St=re($e))!==null&&St!==void 0?St:n.root_element)!==null&&pt!==void 0?pt:e;return zo(vn)?Ji(vn.querySelectorAll(Ie)):[]},Kt=function(Ie,$e,St){const pt=St??this;if(Gt(Ie)){const vn=[];return Ou(Ie,(no,_s)=>{const cu=re(no);cu&&vn.push($e.call(pt,cu,_s))}),vn}else{const vn=re(Ie);return vn?$e.call(pt,vn):!1}},to=(Ie,$e)=>{Kt(Ie,St=>{Dt($e,(pt,vn)=>{_e(St,vn,pt)})})},kt=(Ie,$e)=>{Kt(Ie,St=>{const pt=pe.fromDom(St);Q0(pt,$e)})},ln=(Ie,$e,St,pt,vn)=>Kt(Ie,no=>{const _s=ue($e)?e.createElement($e):$e;return je(St)&&to(_s,St),pt&&(!ue(pt)&&pt.nodeType?_s.appendChild(pt):ue(pt)&&kt(_s,pt)),vn?_s:no.appendChild(_s)}),Gn=(Ie,$e,St)=>ln(e.createElement(Ie),Ie,$e,St,!0),Bt=na.decode,jn=na.encodeAllRaw,Zn=(Ie,$e,St="")=>{let pt="<"+Ie;for(const vn in $e)Lr($e,vn)&&(pt+=" "+vn+'="'+jn($e[vn])+'"');return Ii(St)&&un(F.getVoidElements(),Ie)?pt+" />":pt+">"+St+"</"+Ie+">"},_r=Ie=>{const $e=e.createElement("div"),St=e.createDocumentFragment();St.appendChild($e),Ie&&($e.innerHTML=Ie);let pt;for(;pt=$e.firstChild;)St.appendChild(pt);return St.removeChild($e),St},Po=(Ie,$e)=>Kt(Ie,St=>{const pt=pe.fromDom(St);return $e&&Le(ks(pt),vn=>{jo(vn)&&vn.dom.length===0?Eo(vn):Si(pt,vn)}),Eo(pt),pt.dom}),Tr=Ie=>Kt(Ie,$e=>{const St=$e.attributes;for(let pt=St.length-1;pt>=0;pt--)$e.removeAttributeNode(St.item(pt))}),Sl=Ie=>H.parse(Ie),tf=(Ie,$e)=>H.serialize(Ie,$e),da=Ie=>{if(of!==Ko.DOM&&e===document){if(o[Ie])return;o[Ie]=!0}let $e=e.getElementById("mceDefaultStyles");if(!$e){$e=e.createElement("style"),$e.id="mceDefaultStyles",$e.type="text/css";const St=e.head;St.firstChild?St.insertBefore($e,St.firstChild):St.appendChild($e)}$e.styleSheet?$e.styleSheet.cssText+=Ie:$e.appendChild(e.createTextNode(Ie))},Fc=Ie=>{Ie||(Ie=""),Le(Ie.split(","),$e=>{a[$e]=!0,C.load($e).catch(wt)})},ru=(Ie,$e,St)=>{Kt(Ie,pt=>{if(Wt(pt)){const vn=pe.fromDom(pt),no=$e.split(" ");Le(no,_s=>{je(St)?(St?hu:Yc)(vn,_s):hh(vn,_s)})}})},Hc=(Ie,$e)=>{ru(Ie,$e,!0)},iu=(Ie,$e)=>{ru(Ie,$e,!1)},Qt=(Ie,$e)=>{const St=de(Ie),pt=$e.split(" ");return je(St)&&gr(pt,vn=>gd(St,vn))},ao=Ie=>{Kt(Ie,$e=>gi(pe.fromDom($e),"display"))},Es=Ie=>{Kt(Ie,$e=>Rm(pe.fromDom($e),"display","none"))},zs=Ie=>{const $e=de(Ie);return je($e)&&L(Hi($e,"display"),"none")},pr=Ie=>(Ie||"mce_")+u++,li=Ie=>{const $e=de(Ie);return je($e)?Wt($e.dom)?$e.dom.outerHTML:fo($e):""},Gs=(Ie,$e)=>{Kt(Ie,St=>{Wt(St)&&(St.outerHTML=$e)})},cr=(Ie,$e)=>{const St=re($e);return Kt(Ie,pt=>{const vn=St==null?void 0:St.parentNode,no=St==null?void 0:St.nextSibling;return vn&&(no?vn.insertBefore(pt,no):vn.appendChild(pt)),pt})},fa=(Ie,$e,St)=>Kt($e,pt=>{var vn;const no=Gt($e)?Ie.cloneNode(!0):Ie;return St&&Ou(dx(pt.childNodes),_s=>{no.appendChild(_s)}),(vn=pt.parentNode)===null||vn===void 0||vn.replaceChild(no,pt),pt}),au=(Ie,$e)=>{if(Ie.nodeName!==$e.toUpperCase()){const St=Gn($e);return Ou(Ee(Ie),pt=>{_e(St,pt.nodeName,Ce(Ie,pt.nodeName))}),fa(St,Ie,!0),St}else return Ie},od=(Ie,$e)=>{let St=Ie;for(;St;){let pt=$e;for(;pt&&St!==pt;)pt=pt.parentNode;if(St===pt)break;St=St.parentNode}return!St&&Ie.ownerDocument?Ie.ownerDocument.documentElement:St},sd=(Ie,$e,St)=>Vn($e)?_i(F,Ie,{...St,isContent:vn=>{const no=vn.nodeName.toLowerCase();return!!$e[no]}}):_i(F,Ie,St),El=()=>e.createRange(),vm=(Ie,$e,St)=>{let pt=El(),vn,no;if(Ie&&$e&&Ie.parentNode&&$e.parentNode){const _s=Ie.parentNode;return pt.setStart(_s,Rh(Ie)),pt.setEnd($e.parentNode,Rh($e)),vn=pt.extractContents(),pt=El(),pt.setStart($e.parentNode,Rh($e)+1),pt.setEnd(_s,Rh(Ie)+1),no=pt.extractContents(),_s.insertBefore(Um(of,vn,F),Ie),St?_s.insertBefore(St,Ie):_s.insertBefore($e,Ie),_s.insertBefore(Um(of,no,F),Ie),Po(Ie),St||$e}else return},tv=(Ie,$e,St,pt)=>{if(Gt(Ie)){let vn=Ie.length;const no=[];for(;vn--;)no[vn]=tv(Ie[vn],$e,St,pt);return no}else return n.collect&&(Ie===e||Ie===r)&&O.push([Ie,$e,St,pt]),j.bind(Ie,$e,St,pt||of)},nv=(Ie,$e,St)=>{if(Gt(Ie)){let pt=Ie.length;const vn=[];for(;pt--;)vn[pt]=nv(Ie[pt],$e,St);return vn}else{if(O.length>0&&(Ie===e||Ie===r)){let pt=O.length;for(;pt--;){const[vn,no,_s]=O[pt];Ie===vn&&(!$e||$e===no)&&(!St||St===_s)&&j.unbind(vn,no,_s)}}return j.unbind(Ie,$e,St)}},PC=(Ie,$e,St)=>j.dispatch(Ie,$e,St),nf=(Ie,$e,St)=>j.dispatch(Ie,$e,St),ov=Ie=>{if(Ie&&wd(Ie)){const $e=Ie.getAttribute("data-mce-contenteditable");return $e&&$e!=="inherit"?$e:Ie.contentEditable!=="inherit"?Ie.contentEditable:null}else return null},of={doc:e,settings:n,win:r,files:a,stdMode:h,boxModel:v,styleSheetLoader:C,boundEvents:O,styles:H,schema:F,events:j,isBlock:le,root:null,clone:Be,getRoot:qe,getViewPort:bt,getRect:Yt,getSize:Ot,getParent:Ro,getParents:Qn,get:re,getNext:cs,getPrev:Ri,select:Tt,is:zn,add:ln,create:Gn,createHTML:Zn,createFragment:_r,remove:Po,setStyle:dt,getStyle:Ye,setStyles:Ue,removeAllAttribs:Tr,setAttrib:_e,setAttribs:to,getAttrib:Ce,getPos:Rt,parseStyle:Sl,serializeStyle:tf,addStyle:da,loadCSS:Fc,addClass:Hc,removeClass:iu,hasClass:Qt,toggleClass:ru,show:ao,hide:Es,isHidden:zs,uniqueId:pr,setHTML:kt,getOuterHTML:li,setOuterHTML:Gs,decode:Bt,encode:jn,insertAfter:cr,replace:fa,rename:au,findCommonAncestor:od,run:Kt,getAttribs:Ee,isEmpty:sd,createRng:El,nodeIndex:Rh,split:vm,bind:tv,unbind:nv,fire:nf,dispatch:PC,getContentEditable:ov,getContentEditableParent:Ie=>{const $e=qe();let St=null;for(let pt=Ie;pt&&pt!==$e&&(St=ov(pt),St===null);pt=pt.parentNode);return St},isEditable:Ie=>{if(je(Ie)){const $e=Wt(Ie)?Ie:Ie.parentElement;return je($e)&&wd($e)&&Ln(pe.fromDom($e))}else return!1},destroy:()=>{if(O.length>0){let Ie=O.length;for(;Ie--;){const[$e,St,pt]=O[Ie];j.unbind($e,St,pt)}}Dt(a,(Ie,$e)=>{C.unload($e),delete a[$e]})},isChildOf:(Ie,$e)=>Ie===$e||$e.contains(Ie),dumpRng:Ie=>"startContainer: "+Ie.startContainer.nodeName+", startOffset: "+Ie.startOffset+", endContainer: "+Ie.endContainer.nodeName+", endOffset: "+Ie.endOffset},MC=dA(H,n,st(of));return of};Ko.DOM=Ko(document),Ko.nodeIndex=Rh;const Ph=Ko.DOM,Km=0,Sy=1,Mh=2,hx=3;class Va{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const a=Ph;let u;const h=()=>{a.remove(O),u&&(u.onerror=u.onload=u=null)},v=()=>{h(),o()},C=()=>{h(),r("Failed to load script: "+n)},O=a.uniqueId();u=document.createElement("script"),u.id=O,u.type="text/javascript",u.src=D._addCacheSuffix(n),this.settings.referrerPolicy&&a.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=v,u.onerror=C,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Mh}markDone(n){this.states[n]=Mh}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Km),new Promise((a,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:a,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(C,O)=>{Qo(o.scriptLoadedCallbacks,O).each(F=>{Le(F,H=>H[C](O))}),delete o.scriptLoadedCallbacks[O]},a=C=>{const O=Jt(C,F=>F.status==="rejected");return O.length>0?Promise.reject(Mi(O,({reason:F})=>Gt(F)?F:[F])):Promise.resolve()},u=C=>Promise.allSettled(Tn(C,O=>o.states[O]===Mh?(r("resolve",O),Promise.resolve()):o.states[O]===hx?(r("reject",O),Promise.reject(O)):(o.states[O]=Sy,o.loadScript(O).then(()=>{o.states[O]=Mh,r("resolve",O);const F=o.queue;return F.length>0?(o.queue=[],u(F).then(a)):Promise.resolve()},()=>(o.states[O]=hx,r("reject",O),Promise.reject(O)))))),h=C=>(o.loading=!0,u(C).then(O=>{o.loading=!1;const F=o.queueLoadedCallbacks.shift();return K.from(F).each($n),a(O)})),v=dd(n);return o.loading?new Promise((C,O)=>{o.queueLoadedCallbacks.push(()=>{h(v).then(C,O)})}):h(v)}}Va.ScriptLoader=new Va;const or=e=>{let n=e;return{get:()=>n,set:a=>{n=a}}},Ey=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},fA=e=>mt(e)&&un(e,"raw"),Mv=e=>Gt(e)&&e.length>1,Bh={},_y=or("en"),gg=()=>Qo(Bh,_y.get()),Rr={getData:()=>go(Bh,e=>({...e})),setCode:e=>{e&&_y.set(e)},getCode:()=>_y.get(),add:(e,n)=>{let o=Bh[e];o||(Bh[e]=o={});const r=Tn(fi(n),a=>a.toLowerCase());Dt(n,(a,u)=>{const h=u.toLowerCase();h!==u&&Ey(r,h)?(un(n,h)||(o[h]=a),o[u]=a):o[h]=a})},translate:e=>{const n=gg().getOr({}),o=h=>ye(h)?Object.prototype.toString.call(h):r(h)?"":""+h,r=h=>h===""||h===null||h===void 0,a=h=>{const v=o(h);return un(n,v)?o(n[v]):Qo(n,v.toLowerCase()).map(o).getOr(v)},u=h=>h.replace(/{context:\w+}$/,"");if(r(e))return"";if(fA(e))return o(e.raw);if(Mv(e)){const h=e.slice(1),v=a(e[0]).replace(/\{([0-9]+)\}/g,(C,O)=>un(h,O)?o(h[O]):C);return u(v)}return u(a(e))},isRtl:()=>gg().bind(e=>Qo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>un(Bh,e)},zi=()=>{const e=[],n={},o={},r=[],a=(re,de)=>{const Ce=Jt(r,Ee=>Ee.name===re&&Ee.state===de);Le(Ce,Ee=>Ee.resolve())},u=re=>un(n,re),h=re=>un(o,re),v=re=>{if(o[re])return o[re].instance},C=(re,de)=>{const Ce=Rr.getCode(),Ee=","+(de||"")+",";!Ce||de&&Ee.indexOf(","+Ce+",")===-1||Va.ScriptLoader.add(n[re]+"/langs/"+Ce+".js")},O=(re,de)=>{zi.languageLoad!==!1&&(u(re)?C(re,de):le(re,"loaded").then(()=>C(re,de)))},F=(re,de)=>(e.push(de),o[re]={instance:de},a(re,"added"),de),H=re=>{delete n[re],delete o[re]},j=(re,de)=>ue(de)?ue(re)?{prefix:"",resource:de,suffix:""}:{prefix:re.prefix,resource:de,suffix:re.suffix}:de,oe=(re,de)=>{if(n[re])return Promise.resolve();let Ce=ue(de)?de:de.prefix+de.resource+de.suffix;Ce.indexOf("/")!==0&&Ce.indexOf("://")===-1&&(Ce=zi.baseURL+"/"+Ce),n[re]=Ce.substring(0,Ce.lastIndexOf("/"));const Ee=()=>(a(re,"loaded"),Promise.resolve());return o[re]?Ee():Va.ScriptLoader.add(Ce).then(Ee)},le=(re,de="added")=>de==="added"&&h(re)||de==="loaded"&&u(re)?Promise.resolve():new Promise(Ce=>{r.push({name:re,state:de,resolve:Ce})});return{items:e,urls:n,lookup:o,get:v,requireLangPack:O,add:F,remove:H,createUrl:j,load:oe,waitFor:le}};zi.languageLoad=!0,zi.baseURL="",zi.PluginManager=zi(),zi.ThemeManager=zi(),zi.ModelManager=zi();const mx=e=>{const n=or(K.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(K.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:v=>{o(),n.set(K.some(v))}}},hA=e=>{const n=or(K.none()),o=()=>n.get().each(v=>clearInterval(v));return{clear:()=>{o(),n.set(K.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:v=>{o(),n.set(K.some(setInterval(v,e)))}}},Cf=()=>{const e=mx(wt);return{...e,on:o=>e.get().each(o)}},Bv=(e,n)=>{let o=null;return{cancel:()=>{A(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{A(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},Ty=(e,n)=>{let o=null;const r=()=>{A(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},Ym=(e,n,o)=>ag(e,n,o).isSome(),Xm=st("mce-annotation"),xf=st("data-mce-annotation"),Td=st("data-mce-annotation-uid"),bg=st("data-mce-annotation-active"),Jm=st("data-mce-annotation-classes"),Nh=st("data-mce-annotation-attrs"),yg=e=>n=>Je(n,e),wg=(e,n)=>{const o=e.selection.getRng(),r=pe.fromDom(o.startContainer),a=pe.fromDom(e.getBody()),u=n.fold(()=>"."+Xm(),C=>`[${xf()}="${C}"]`),h=La(r,o.startOffset).getOr(r);return uf(h,u,yg(a)).bind(C=>bc(C,`${Td()}`).bind(O=>bc(C,`${xf()}`).map(F=>{const H=Ay(e,O);return{uid:O,name:F,elements:H}})))},Ru=e=>dr(e)&&gd(e,Xm()),px=(e,n)=>md(e,"data-mce-bogus")||Ym(e,'[data-mce-bogus="all"]',yg(n)),Ay=(e,n)=>{const o=pe.fromDom(e.getBody()),r=vi(o,`[${Td()}="${n}"]`);return Jt(r,a=>!px(a,o))},Nv=(e,n)=>{const o=pe.fromDom(e.getBody()),r=vi(o,`[${xf()}="${n}"]`),a={};return Le(r,u=>{if(!px(u,o)){const h=ds(u,Td()),v=Qo(a,h).getOr([]);a[h]=v.concat([u])}}),a},mA=(e,n)=>{const o=or({}),r=()=>({listeners:[],previous:Cf()}),a=(H,j)=>{u(H,oe=>(j(oe),oe))},u=(H,j)=>{const oe=o.get(),le=Qo(oe,H).getOrThunk(r),re=j(le);oe[H]=re,o.set(oe)},h=(H,j,oe)=>{a(H,le=>{Le(le.listeners,re=>re(!0,H,{uid:j,nodes:Tn(oe,de=>de.dom)}))})},v=H=>{a(H,j=>{Le(j.listeners,oe=>oe(!1,H))})},C=(H,j)=>{Le(Ay(e,H),oe=>{j?Zo(oe,bg(),"true"):vr(oe,bg())})},O=Ty(()=>{const H=is(n.getNames());Le(H,j=>{u(j,oe=>{const le=oe.previous.get();return wg(e,K.some(j)).fold(()=>{le.each(re=>{v(j),oe.previous.clear(),C(re,!1)})},({uid:re,name:de,elements:Ce})=>{L(le,re)||(le.each(Ee=>C(Ee,!1)),h(de,re,Ce),oe.previous.set(re),C(re,!0))}),{previous:oe.previous,listeners:oe.listeners}})})},30);return e.on("remove",()=>{O.cancel()}),e.on("NodeChange",()=>{O.throttle()}),{addListener:(H,j)=>{u(H,oe=>({previous:oe.previous,listeners:oe.listeners.concat([j])}))}}},pA=(e,n)=>{const o=xf(),r=u=>K.from(u.attr(o)).bind(n.lookup),a=u=>{var h,v;u.attr(Td(),null),u.attr(xf(),null),u.attr(bg(),null);const C=K.from(u.attr(Nh())).map(j=>j.split(",")).getOr([]),O=K.from(u.attr(Jm())).map(j=>j.split(",")).getOr([]);Le(C,j=>u.attr(j,null));const F=(v=(h=u.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&v!==void 0?v:[],H=sh(F,[Xm()].concat(O));u.attr("class",H.length>0?H.join(" "):null),u.attr(Jm(),null),u.attr(Nh(),null)};e.serializer.addTempAttr(bg()),e.serializer.addAttributeFilter(o,u=>{for(const h of u)r(h).each(v=>{v.persistent===!1&&(h.name==="span"?h.unwrap():a(h))})})},Cg=()=>{const e={};return{register:(a,u)=>{e[a]={name:a,settings:u}},lookup:a=>Qo(e,a).map(u=>u.settings),getNames:()=>fi(e)}};let Iv=0;const Qm=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return Iv++,e+"_"+r+Iv+String(o)},Ih=(e,n)=>{Le(n,o=>{hu(e,o)})},$v=(e,n)=>{Le(n,o=>{Yc(e,o)})},gx=(e,n)=>pe.fromDom(e.dom.cloneNode(n)),$h=e=>gx(e,!1),ep=e=>gx(e,!0),Ds=(e,n)=>{const o=pe.fromTag(n),r=Rl(e);return xi(o,r),o},ky=(e,n)=>{const o=Ds(e,n);bd(e,o);const r=ks(e);return es(o,r),Eo(e),o},Ps=(e,n,o=He)=>{const r=new $s(e,n),a=u=>{let h;do h=r[u]();while(h&&!at(h)&&!o(h));return K.from(h).filter(at)};return{current:()=>K.from(r.current()).filter(at),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Lh=(e,n)=>{const o=n||(h=>e.isBlock(h)||ts(h)||bs(h)),r=(h,v,C,O)=>{if(at(h)){const F=O(h,v,h.data);if(F!==-1)return K.some({container:h,offset:F})}return C().bind(F=>r(F.container,F.offset,C,O))};return{backwards:(h,v,C,O)=>{const F=Ps(h,O??e.getRoot(),o);return r(h,v,()=>F.prev().map(H=>({container:H,offset:H.length})),C).getOrNull()},forwards:(h,v,C,O)=>{const F=Ps(h,O??e.getRoot(),o);return r(h,v,()=>F.next().map(H=>({container:H,offset:0})),C).getOrNull()}}},Ad=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?K.from(u.dom.nodeValue):K.none();return{get:o,getOption:r,set:(u,h)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=h}}})(jo,"text"),Wa=e=>Ad.get(e),vx=e=>Ad.getOption(e),gA=(e,n)=>Ad.set(e,n),vA=["td","th"],tp=["thead","tbody","tfoot"],kd=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Pu=["li","dd","dt"],Oy=["ul","ol","dl"],Lv=["pre","script","textarea","style"],sr=e=>{let n;return o=>(n=n||lr(e,ht),un(n,Jn(o)))},bx=e=>Jn(e)==="table",Od=e=>dr(e)&&Jn(e)==="br",yx=sr(kd),Fv=sr(Oy),xc=sr(Pu),Dd=sr(tp),xg=sr(vA),Sg=sr(Lv),bA=e=>{const n=[];let o=e.dom;for(;o;)n.push(pe.fromDom(o)),o=o.lastChild;return n},yA=e=>{const n=vi(e,"br"),o=Jt(bA(e).slice(-1),Od);n.length===o.length&&Le(o,Eo)},Eg=()=>{const e=pe.fromTag("br");return Zo(e,"data-mce-bogus","1"),e},Rd=e=>{gh(e),fr(e,Eg())},wA=(e,n)=>{Xc(e).each(o=>{No(o).each(r=>{n.isBlock(Jn(e))&&Od(o)&&n.isBlock(Jn(r))&&Eo(o)})})},Wr=yd,Hv=Bm,ja=KC,wx=e=>e.insertContent(Wr,{preserve_zwsp:!0}),Ws=Wt,Mu=at,np=e=>(Mu(e)&&(e=e.parentNode),Ws(e)&&e.hasAttribute("data-mce-caret")),Pd=e=>Mu(e)&&Hv(e.data),ka=e=>np(e)||Pd(e),jr=e=>e.firstChild!==e.lastChild||!ts(e.firstChild),Sc=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Wr),u=e.parentNode;if(n){const h=e.previousSibling;if(Mu(h)){if(ka(h))return h;if(_g(h))return h.splitText(h.data.length-1)}u==null||u.insertBefore(a,e)}else{const h=e.nextSibling;if(Mu(h)){if(ka(h))return h;if(Uv(h))return h.splitText(1),h}e.nextSibling?u==null||u.insertBefore(a,e.nextSibling):u==null||u.appendChild(a)}return a},zv=e=>{const n=e.container();return at(n)?n.data.charAt(e.offset())===Wr||e.isAtStart()&&Pd(n.previousSibling):!1},Vv=e=>{const n=e.container();return at(n)?n.data.charAt(e.offset()-1)===Wr||e.isAtEnd()&&Pd(n.nextSibling):!1},op=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Eg().dom);const h=n.parentNode;return o?h==null||h.insertBefore(u,n):n.nextSibling?h==null||h.insertBefore(u,n.nextSibling):h==null||h.appendChild(u),u},Uv=e=>Mu(e)&&e.data[0]===Wr,_g=e=>Mu(e)&&e.data[e.data.length-1]===Wr,CA=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Vr(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Tg=e=>e&&e.hasAttribute("data-mce-caret")?(CA(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Cx=e=>np(e.startContainer),rc=Math.round,Sf=e=>e?{left:rc(e.left),top:rc(e.top),bottom:rc(e.bottom),right:rc(e.right),width:rc(e.width),height:rc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Wv=(e,n)=>(e=Sf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),hs=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,zl=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Bu=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:zl(n.top-e.bottom,e,n)},Ag=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:zl(n.bottom-e.top,e,n),xx=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,xA=e=>To(e,(n,o)=>n.fold(()=>K.some(o),r=>{const a=Math.min(o.left,r.left),u=Math.min(o.top,r.top),h=Math.max(o.right,r.right),v=Math.max(o.bottom,r.bottom);return K.some({top:u,right:h,bottom:v,left:a,width:h-a,height:v-u})}),K.none()),Ef=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-a)*(o-a))},Dy=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),sp=(e,n,o)=>Math.min(Math.max(e,n),o),rp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Md=(e,n)=>{if(Wt(e)&&e.hasChildNodes()){const o=e.childNodes,r=sp(n,0,o.length-1);return o[r]}else return e},SA=(e,n)=>{if(!(n<0&&Wt(e)&&e.hasChildNodes()))return Md(e,n)},EA=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ry=e=>ue(e)&&e.charCodeAt(0)>=768&&EA.test(e),Py=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},jv=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Sx=kr,My=bs,By=ts,Ex=at,FR=Jc(["script","style","textarea"]),_f=Jc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ny=Jc(["table"]),al=ka,ic=e=>al(e)?!1:Ex(e)?!FR(e.parentNode):_f(e)||By(e)||Ny(e)||oa(e),ho=e=>Wt(e)&&e.getAttribute("unselectable")==="true",oa=e=>!ho(e)&&My(e),Fh=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(oa(o))return!1;if(Sx(o))return!0}return!0},Iy=e=>oa(e)?!To(Ji(e.getElementsByTagName("*")),(n,o)=>n||Sx(o),!1):!1,ms=e=>_f(e)||Iy(e),$y=(e,n)=>ic(e)&&Fh(e,n),Ly=Wt,Zr=ic,Nu=fs("display","block table"),_x=fs("float","left right"),kg=jv(Ly,Zr,ct(_x)),_A=ct(fs("white-space","pre pre-line pre-wrap")),Ec=at,ip=ts,Og=Ko.nodeIndex,Hh=SA,Zv=e=>e?e.createRange():Ko.DOM.createRng(),qv=e=>ue(e)&&/[\r\n\t ]/.test(e),Fy=e=>!!e.setStart&&!!e.setEnd,Dg=e=>{const n=e.startContainer,o=e.startOffset;if(qv(e.toString())&&_A(n.parentNode)&&at(n)){const r=n.data;if(qv(r[o-1])||qv(r[o+1]))return!0}return!1},Rg=e=>{const n=e.ownerDocument,o=Zv(n),r=n.createTextNode(ei),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=Sf(o.getBoundingClientRect());return a.removeChild(r),u},Hs=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(n===o&&at(o)&&r===0&&a===1){const u=e.cloneRange();return u.setEndAfter(o),js(u)}else return null},Tx=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,js=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Sf(r[0]):o=Sf(e.getBoundingClientRect()),!Fy(e)&&ip(e)&&Tx(o)?Rg(e):Tx(o)&&Fy(e)&&(n=Hs(e))!==null&&n!==void 0?n:o},zh=(e,n)=>{const o=Wv(e,n);return o.width=1,o.right=o.left+1,o},Tf=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&hs(h,n[n.length-1])||n.push(h))},r=(h,v)=>{const C=Zv(h.ownerDocument);if(v<h.data.length){if(Ry(h.data[v]))return;if(Ry(h.data[v-1])&&(C.setStart(h,v),C.setEnd(h,v+1),!Dg(C))){o(zh(js(C),!1));return}}v>0&&(C.setStart(h,v-1),C.setEnd(h,v),Dg(C)||o(zh(js(C),!1))),v<h.data.length&&(C.setStart(h,v),C.setEnd(h,v+1),Dg(C)||o(zh(js(C),!0)))},a=e.container(),u=e.offset();if(Ec(a))return r(a,u),n;if(Ly(a))if(e.isAtEnd()){const h=Hh(a,u);Ec(h)&&r(h,h.data.length),kg(h)&&!ip(h)&&o(zh(js(h),!1))}else{const h=Hh(a,u);if(Ec(h)&&r(h,0),kg(h)&&e.isAtEnd())return o(zh(js(h),!1)),n;const v=Hh(e.container(),e.offset()-1);kg(v)&&!ip(v)&&(Nu(v)||Nu(h)||!kg(h))&&o(zh(js(v),!1)),kg(h)&&o(zh(js(h),!0))}return n},Ve=(e,n,o)=>{const r=()=>(Ec(e),n===0),a=()=>Ec(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const F=Zv(e.ownerDocument);return F.setStart(e,n),F.setEnd(e,n),F},h=()=>(o||(o=Tf(Ve(e,n))),o),v=()=>h().length>0,C=F=>F&&e===F.container()&&n===F.offset(),O=F=>Hh(e,F?n-1:n);return{container:st(e),offset:st(n),toRange:u,getClientRects:h,isVisible:v,isAtStart:r,isAtEnd:a,isEqual:C,getNode:O}};Ve.fromRangeStart=e=>Ve(e.startContainer,e.startOffset),Ve.fromRangeEnd=e=>Ve(e.endContainer,e.endOffset),Ve.after=e=>Ve(e.parentNode,Og(e)+1),Ve.before=e=>Ve(e.parentNode,Og(e)),Ve.isAbove=(e,n)=>ie(Ys(n.getClientRects()),ga(e.getClientRects()),Bu).getOr(!1),Ve.isBelow=(e,n)=>ie(ga(n.getClientRects()),Ys(e.getClientRects()),Ag).getOr(!1),Ve.isAtStart=e=>e?e.isAtStart():!1,Ve.isAtEnd=e=>e?e.isAtEnd():!1,Ve.isTextPosition=e=>e?at(e.container()):!1,Ve.isElementPosition=e=>!Ve.isTextPosition(e);const Vh=(e,n)=>{at(n)&&n.data.length===0&&e.remove(n)},Ax=(e,n,o)=>{n.insertNode(o),Vh(e,o.previousSibling),Vh(e,o.nextSibling)},Hy=(e,n,o)=>{const r=K.from(o.firstChild),a=K.from(o.lastChild);n.insertNode(o),r.each(u=>Vh(e,u.previousSibling)),a.each(u=>Vh(e,u.nextSibling))},Pg=(e,n,o)=>{nr(o)?Hy(e,n,o):Ax(e,n,o)},_c=at,zy=Vr,Mg=Ko.nodeIndex,hr=e=>{const n=e.parentNode;return zy(n)?hr(n):n},rr=e=>e?ba(e.childNodes,(n,o)=>(zy(o)&&o.nodeName!=="BR"?n=n.concat(rr(o)):n.push(o),n),[]):[],os=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&_c(o);)n+=o.data.length;return n},Cr=e=>n=>e===n,qr=e=>{let n,o;n=rr(hr(e)),o=Go(n,Cr(e),e),n=n.slice(0,o+1);const r=ba(n,(a,u,h)=>(_c(u)&&_c(n[h-1])&&a++,a),0);return n=bm(n,Jc([e.nodeName])),o=Go(n,Cr(e),e),o-r},Zs=e=>(_c(e)?"text()":e.nodeName.toLowerCase())+"["+qr(e)+"]",Vy=(e,n,o)=>{const r=[];for(let a=n.parentNode;a&&a!==e&&!(o&&o(a));a=a.parentNode)r.push(a);return r},Gv=(e,n)=>{let o=[],r=n.container(),a=n.offset(),u;if(_c(r))u=os(r,a);else{const v=r.childNodes;a>=v.length?(u="after",a=v.length-1):u="before",r=v[a]}o.push(Zs(r));let h=Vy(e,r);return h=bm(h,ct(Vr)),o=o.concat(Vc(h,v=>Zs(v))),o.reverse().join("/")+","+u},kx=(e,n,o)=>{let r=rr(e);return r=bm(r,(a,u)=>!_c(a)||!_c(r[u-1])),r=bm(r,Jc([n])),r[o]},Ox=(e,n)=>{let o=e,r=0;for(;_c(o);){const a=o.data.length;if(n>=r&&n<=r+a){e=o,n=n-r;break}if(!_c(o.nextSibling)){e=o,n=a;break}r+=a,o=o.nextSibling}return _c(e)&&n>e.data.length&&(n=e.data.length),Ve(e,n)},Uy=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",u=ba(r,(h,v)=>{const C=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(v);return C?(C[1]==="text()"&&(C[1]="#text"),kx(h,C[1],parseInt(C[2],10))):null},e);if(!u)return null;if(!_c(u)&&u.parentNode){let h;return a==="after"?h=Mg(u)+1:h=Mg(u),Ve(u.parentNode,h)}return Ox(u,parseInt(a,10))},Bg=bs,Ng=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let a=n.previousSibling;a&&at(a);a=a.previousSibling)r+=e(a.data).length;return r},Kv=(e,n,o,r,a)=>{const u=a?r.startContainer:r.endContainer;let h=a?r.startOffset:r.endOffset;const v=[],C=e.getRoot();if(at(u))v.push(o?Ng(n,u,h):h);else{let O=0;const F=u.childNodes;h>=F.length&&F.length&&(O=1,h=Math.max(0,F.length-1)),v.push(e.nodeIndex(F[h],o)+O)}for(let O=u;O&&O!==C;O=O.parentNode)v.push(e.nodeIndex(O,o));return v},TA=(e,n,o,r)=>{const a=n.dom,u=Kv(a,e,o,r,!0),h=n.isForward(),v=Cx(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:h,...v};{const C=Kv(a,e,o,r,!1);return{start:u,end:C,forward:h,...v}}},Dx=(e,n,o)=>{let r=0;return D.each(e.select(n),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},Rx=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Wt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(n?r:r-1,a.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Px=e=>(Rx(e,!0),Rx(e,!1),e),Mx=(e,n)=>{if(Wt(e)&&(e=Md(e,n),Bg(e)))return e;if(ka(e)){at(e)&&np(e)&&(e=e.parentNode);let o=e.previousSibling;if(Bg(o)||(o=e.nextSibling,Bg(o)))return o}},Wy=e=>Mx(e.startContainer,e.startOffset)||Mx(e.endContainer,e.endOffset),Bx=(e,n,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||Bg(r)){const h=r.nodeName;return{name:h,index:Dx(o.dom,h,r)}}const u=Wy(a);if(u){const h=u.tagName;return{name:h,index:Dx(o.dom,h,u)}}return TA(e,o,n,a)},Yv=e=>{const n=e.getRng();return{start:Gv(e.dom.getRoot(),Ve.fromRangeStart(n)),end:Gv(e.dom.getRoot(),Ve.fromRangeEnd(n)),forward:e.isForward()}},AA=e=>({rng:e.getRng(),forward:e.isForward()}),Nx=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},jy=(e,n)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),u=e.isCollapsed(),h=e.getNode(),v=h.nodeName,C=e.isForward();if(v==="IMG")return{name:v,index:Dx(o,v,h)};const O=Px(r.cloneRange());if(!u){O.collapse(!1);const H=Nx(o,a+"_end",n);Pg(o,O,H)}r=Px(r),r.collapse(!0);const F=Nx(o,a+"_start",n);return Pg(o,r,F),e.moveToBookmark({id:a,keep:!0,forward:C}),{id:a,forward:C}},yt=(e,n,o=!1)=>n===2?Bx(ja,o,e):n===3?Yv(e):n?AA(e):jy(e,!1),Zy=Ge(Bx,eo,!0),Gr=e=>{const n=u=>u(e),o=st(e),r=()=>a,a={tag:!0,inner:e,fold:(u,h)=>h(e),isValue:ht,isError:He,map:u=>Vi.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>K.some(e)};return a},Ix=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:He,isError:ht,map:n,mapError:r=>Vi.error(r(e)),bind:n,exists:He,forall:ht,getOr:eo,or:eo,getOrThunk:_n,orThunk:_n,getOrDie:Rn(String(e)),each:wt,toOptional:K.none};return o},Vi={value:Gr,error:Ix,fromOption:(e,n)=>e.fold(()=>Ix(n),Gr)},Iu={generate:e=>{if(!Gt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return Le(e,(r,a)=>{const u=fi(r);if(u.length!==1)throw new Error("one and only one name per case");const h=u[0],v=r[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Gt(v))throw new Error("case arguments must be an array");n.push(h),o[h]=(...C)=>{const O=C.length;if(O!==v.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+v.length+" ("+v+"), got "+O);return{fold:(...H)=>{if(H.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+H.length);return H[a].apply(null,C)},match:H=>{const j=fi(H);if(n.length!==j.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+j.join(","));if(!gr(n,le=>An(j,le)))throw new Error("Not all branches were specified when using match. Specified: "+j.join(", ")+`
Required: `+n.join(", "));return H[h].apply(null,C)},log:H=>{console.log(H,{constructors:n,constructor:h,params:C})}}}}),o}};Iu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const $x=e=>{const n=[],o=[];return Le(e,r=>{r.fold(a=>{n.push(a)},a=>{o.push(a)})}),{errors:n,values:o}},Tc=e=>e.type==="inline-command"||e.type==="inline-format",Xv=e=>e.type==="block-command"||e.type==="block-format",ap=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,cl=e=>{var n;const o=a=>Vi.error({message:a,pattern:e}),r=(a,u,h)=>{if(e.format!==void 0){let v;if(Gt(e.format)){if(!gr(e.format,ue))return o(a+" pattern has non-string items in the `format` array");v=e.format}else if(ue(e.format))v=[e.format];else return o(a+" pattern has non-string `format` parameter");return Vi.value(u(v))}else return e.cmd!==void 0?ue(e.cmd)?Vi.value(h(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!mt(e))return o("Raw pattern is not an object");if(!ue(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ue(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,u=e.end;return u.length===0&&(u=a,a=""),r("Inline",h=>({type:"inline-format",start:a,end:u,format:h}),(h,v)=>({type:"inline-command",start:a,end:u,cmd:h,value:v}))}else{if(e.replacement!==void 0)return ue(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Vi.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:a}),(u,h)=>({type:"block-command",start:e.start,cmd:u,value:h,trigger:a}))}}},si=e=>Jt(e,Xv),Jv=e=>Jt(e,Tc),ll=(e,n)=>({inlinePatterns:Jv(e),blockPatterns:si(e),dynamicPatternsLookup:n}),Gy=(e,n)=>({...e,blockPatterns:Jt(e.blockPatterns,o=>ap(o,n))}),Ky=e=>{const n=$x(Tn(e,cl));return Le(n.errors,o=>console.error(o.message,o.pattern)),n.values},Yy=e=>n=>{const o=e(n);return Ky(o)},Qv=oc().deviceType,Lx=Qv.isTouch(),Xy=Ko.DOM,kA=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return To(n,(o,r)=>{const a=r.split("="),u=a[0],h=a.length>1?a[1]:u;return o[Qa(u)]=Qa(h),o},{})},Jy=e=>nn(e,RegExp),Lt=e=>n=>n.options.get(e),eb=e=>ue(e)||mt(e),Fx=(e,n="")=>o=>{const r=ue(o);if(r)if(o.indexOf("=")!==-1){const a=kA(o);return{value:Qo(a,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},OA=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:Fx(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Fx(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ue(o)&&Uo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=An(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>mn(o)?{valid:!0,value:o}:ue(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ue(o)||Vt(o,ue);return r?ue(o)?{value:Tn(o.split(","),Qa),valid:r}:Gt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:jh(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ue(o)||Vt(o,ue);return r?{value:Gt(o)?o:Tn(o.split(","),Qa),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=mn(o)||ue(o);return r?o===!1||Qv.isiPhone()||Qv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Lx}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ue(o)||ye(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ue(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:eb}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:eb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:eb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:eb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ue(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Vt(o,mt)||o===!1?{value:Ky(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>ye(o)?{value:Yy(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Vt(o,Jy)?{value:o,valid:!0}:Jy(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=An(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=An(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Rr.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Xy.getAttrib(e.getElement(),"placeholder")})})},DA=Lt("iframe_attrs"),Qy=Lt("doctype"),Hx=Lt("document_base_url"),zx=Lt("body_id"),RA=Lt("body_class"),Ig=Lt("content_security_policy"),PA=Lt("br_in_pre"),Ui=Lt("forced_root_block"),$g=Lt("forced_root_block_attrs"),Vx=Lt("newline_behavior"),Ux=Lt("br_newline_selector"),Bd=Lt("no_newline_selector"),MA=Lt("keep_styles"),cp=Lt("end_container_on_empty_block"),ss=Lt("automatic_uploads"),e2=Lt("images_reuse_filename"),bi=Lt("images_replace_blob_uris"),xr=Lt("icons"),Wx=Lt("icons_url"),t2=Lt("images_upload_url"),tb=Lt("images_upload_base_path"),jx=Lt("images_upload_credentials"),Zx=Lt("images_upload_handler"),BA=Lt("content_css_cors"),n2=Lt("referrer_policy"),qx=Lt("language"),NA=Lt("language_url"),lp=Lt("indent_use_margin"),Gx=Lt("indentation"),HR=Lt("content_css"),Uh=Lt("content_style"),Kx=Lt("font_css"),IA=Lt("directionality"),$A=Lt("inline_boundaries_selector"),Yx=Lt("object_resizing"),o2=Lt("resize_img_proportional"),s2=Lt("placeholder"),Wh=Lt("event_root"),Xx=Lt("service_message"),up=Lt("theme"),LA=Lt("theme_url"),r2=Lt("model"),ul=Lt("model_url"),Af=Lt("inline_boundaries"),nb=Lt("formats"),Lg=Lt("preview_styles"),Jx=Lt("format_empty_lines"),$u=Lt("format_noneditable_selector"),ob=Lt("custom_ui_selector"),jh=Lt("inline"),dl=Lt("hidden_input"),dp=Lt("submit_patch"),FA=Lt("add_form_submit_trigger"),Qx=Lt("add_unload_trigger"),HA=Lt("custom_undo_redo_levels"),zA=Lt("disable_nodechange"),i2=Lt("readonly"),VA=Lt("editable_root"),eS=Lt("content_css_cors"),Fg=Lt("plugins"),tS=Lt("external_plugins"),nS=Lt("block_unsupported_drop"),UA=Lt("visual"),WA=Lt("visual_table_class"),oS=Lt("visual_anchor_class"),sS=Lt("iframe_aria_text"),a2=Lt("setup"),rS=Lt("init_instance_callback"),jA=Lt("urlconverter_callback"),ZA=Lt("auto_focus"),sb=Lt("browser_spellcheck"),iS=Lt("protect"),aS=Lt("paste_block_drop"),Nd=Lt("paste_data_images"),rb=Lt("paste_preprocess"),c2=Lt("paste_postprocess"),cS=Lt("newdocument_content"),lS=Lt("paste_webkit_styles"),uS=Lt("paste_remove_styles_if_webkit"),qA=Lt("paste_merge_formats"),dS=Lt("smart_paste"),Hg=Lt("paste_as_text"),GA=Lt("paste_tab_spaces"),l2=Lt("allow_html_data_urls"),KA=Lt("text_patterns"),YA=Lt("text_patterns_lookup"),fS=Lt("noneditable_class"),u2=Lt("editable_class"),XA=Lt("noneditable_regexp"),zg=Lt("preserve_cdata"),JA=Lt("highlight_on_focus"),hS=Lt("xss_sanitization"),mS=Lt("init_content_sync"),Wi=e=>e.options.isSet("text_patterns_lookup"),QA=e=>D.explode(e.options.get("font_size_style_values")),fp=e=>D.explode(e.options.get("font_size_classes")),ek=e=>e.options.get("encoding")==="xml",hp=e=>D.explode(e.options.get("images_file_types")),pS=Lt("table_tab_navigation"),tk=Lt("details_initial_state"),nk=Lt("details_serialized_state"),d2=Lt("sandbox_iframes"),mp=e=>e.options.get("sandbox_iframes_exclusions"),gS=Lt("convert_unsafe_embeds"),sa=Lt("license_key"),Vg=Lt("api_key"),vS=Wt,bS=at,f2=e=>{const n=e.parentNode;n&&n.removeChild(e)},h2=e=>{const n=ja(e);return{count:e.length-n.length,text:n}},ib=e=>{let n;for(;(n=e.data.lastIndexOf(Wr))!==-1;)e.deleteData(n,1)},yS=(e,n)=>(qh(e),n),Ug=(e,n)=>{const o=h2(e.data.substr(0,n.offset())),r=h2(e.data.substr(n.offset()));return(o.text+r.text).length>0?(ib(e),Ve(e,n.offset()-o.count)):n},b6=(e,n)=>{const o=n.container(),r=ld(Ji(o.childNodes),e).map(a=>a<n.offset()?Ve(o,n.offset()-1):n).getOr(n);return qh(e),r},wS=(e,n)=>bS(e)&&n.container()===e?Ug(e,n):yS(e,n),CS=(e,n)=>n.container()===e.parentNode?b6(e,n):yS(e,n),Zh=(e,n)=>Ve.isTextPosition(n)?wS(e,n):CS(e,n),qh=e=>{vS(e)&&ka(e)&&(jr(e)?e.removeAttribute("data-mce-caret"):f2(e)),bS(e)&&(ib(e),e.data.length===0&&f2(e))},m2=bs,p2=Or,ab=Qc,xS="*[contentEditable=false],video,audio,embed,object",Gh=(e,n,o)=>{const r=Wv(n.getBoundingClientRect(),o);let a,u;if(e.tagName==="BODY"){const v=e.ownerDocument.documentElement;a=e.scrollLeft||v.scrollLeft,u=e.scrollTop||v.scrollTop}else{const v=e.getBoundingClientRect();a=e.scrollLeft-v.left,u=e.scrollTop-v.top}r.left+=a,r.right+=a,r.top+=u,r.bottom+=u,r.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),r.left+=h,r.right+=h),r},kf=e=>{var n,o;const r=vi(pe.fromDom(e),xS);for(let a=0;a<r.length;a++){const u=r[a].dom;let h=u.previousSibling;if(_g(h)){const v=h.data;v.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(v.length-1,1)}h=u.nextSibling,Uv(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},SS=(e,n,o,r)=>{const a=Cf();let u,h;const v=Ui(e),C=e.dom,O=(re,de)=>{let Ce;if(F(),ab(de))return null;if(o(de)){const Ee=op(v,de,re),_e=Gh(n,de,re);C.setStyle(Ee,"top",_e.top),C.setStyle(Ee,"caret-color","transparent"),h=Ee;const Be=C.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});C.setStyles(Be,{..._e}),C.add(n,Be),a.set({caret:Be,element:de,before:re}),re&&C.addClass(Be,"mce-visual-caret-before"),H(),Ce=de.ownerDocument.createRange(),Ce.setStart(Ee,0),Ce.setEnd(Ee,0)}else return h=Sc(de,re),Ce=de.ownerDocument.createRange(),Wg(h.nextSibling)?(Ce.setStart(h,0),Ce.setEnd(h,0)):(Ce.setStart(h,1),Ce.setEnd(h,1)),Ce;return Ce},F=()=>{kf(n),h&&(qh(h),h=null),a.on(re=>{C.remove(re.caret),a.clear()}),u&&(clearInterval(u),u=void 0)},H=()=>{u=setInterval(()=>{a.on(re=>{r()?C.toggleClass(re.caret,"mce-visual-caret-hidden"):C.addClass(re.caret,"mce-visual-caret-hidden")})},500)};return{show:O,hide:F,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(re=>{const de=Gh(n,re.element,re.before);C.setStyles(re.caret,{...de})})},destroy:()=>clearInterval(u)}},cb=()=>Mt.browser.isFirefox(),Wg=e=>m2(e)||p2(e),jg=e=>(Wg(e)||wr(e)&&cb())&&so(pe.fromDom(e)).exists(Ln),g2=kr,pp=bs,ES=Or,v2=fs("display","block table table-cell table-caption list-item"),lb=ka,b2=np,ok=Wt,_S=at,TS=ic,Id=e=>e>0,Of=e=>e<0,Zg=(e,n)=>{let o;for(;o=e(n);)if(!b2(o))return o;return null},qg=(e,n,o,r,a)=>{const u=new $s(e,r),h=pp(e)||b2(e);let v;if(Of(n)){if(h&&(v=Zg(u.prev.bind(u),!0),o(v)))return v;for(;v=Zg(u.prev.bind(u),a);)if(o(v))return v}if(Id(n)){if(h&&(v=Zg(u.next.bind(u),!0),o(v)))return v;for(;v=Zg(u.next.bind(u),a);)if(o(v))return v}return null},sk=(e,n)=>{const o=a=>g2(a.dom),r=a=>a.dom===n;return Is(pe.fromDom(e),o,r).map(a=>a.dom).getOr(n)},Df=(e,n)=>{for(;e&&e!==n;){if(v2(e))return e;e=e.parentNode}return null},Ac=(e,n,o)=>Df(e.container(),o)===Df(n.container(),o),ub=(e,n)=>{if(!n)return K.none();const o=n.container(),r=n.offset();return ok(o)?K.from(o.childNodes[r+e]):K.none()},rk=(e,n)=>{var o;const a=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},y6=(e,n,o)=>Df(n,e)===Df(o,e),ik=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==n;){let u=a[r];if(u&&lb(u)&&(u=u[r]),pp(u)||ES(u)){if(y6(n,u,a))return u;break}if(TS(u))break;a=a.parentNode}return null},$d=Ge(rk,!0),Gg=Ge(rk,!1),ri=(e,n,o)=>{let r;const a=Ge(ik,!0,n),u=Ge(ik,!1,n),h=o.startContainer,v=o.startOffset;if(np(h)){const C=_S(h)?h.parentNode:h,O=C.getAttribute("data-mce-caret");if(O==="before"&&(r=C.nextSibling,jg(r)))return $d(r);if(O==="after"&&(r=C.previousSibling,jg(r)))return Gg(r)}if(!o.collapsed)return o;if(at(h)){if(lb(h)){if(e===1){if(r=u(h),r)return $d(r);if(r=a(h),r)return Gg(r)}if(e===-1){if(r=a(h),r)return Gg(r);if(r=u(h),r)return $d(r)}return o}if(_g(h)&&v>=h.data.length-1)return e===1&&(r=u(h),r)?$d(r):o;if(Uv(h)&&v<=1)return e===-1&&(r=a(h),r)?Gg(r):o;if(v===h.data.length)return r=u(h),r?$d(r):o;if(v===0)return r=a(h),r?Gg(r):o}return o},db=(e,n)=>ub(e?0:-1,n).filter(pp),Vl=(e,n,o)=>{const r=ri(e,n,o);return e===-1?Ve.fromRangeStart(r):Ve.fromRangeEnd(r)},Lu=e=>K.from(e.getNode()).map(pe.fromDom),AS=e=>K.from(e.getNode(!0)).map(pe.fromDom),Kg=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Yg=(e,n)=>{const o=Ac(e,n);return!o&&ts(e.getNode())?!0:o};var ii;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ii||(ii={}));const ak=bs,kc=at,Ul=Wt,Xg=ts,Kh=ic,Fu=ms,Jg=$y,gp=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},vp=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,fb=(e,n)=>{if(Id(e)){if(Kh(n.previousSibling)&&!kc(n.previousSibling))return Ve.before(n);if(kc(n))return Ve(n,0)}if(Of(e)){if(Kh(n.nextSibling)&&!kc(n.nextSibling))return Ve.after(n);if(kc(n))return Ve(n,n.data.length)}return Of(e)?Xg(n)?Ve.before(n):Ve.after(n):Ve.before(n)},kS=(e,n)=>{const o=n.nextSibling;return o&&Kh(o)?kc(o)?Ve(o,0):Ve.before(o):Hu(ii.Forwards,Ve.after(n),e)},Hu=(e,n,o)=>{let r,a,u,h;if(!Ul(o)||!n)return null;if(n.isEqual(Ve.after(o))&&o.lastChild){if(h=Ve.after(o.lastChild),Of(e)&&Kh(o.lastChild)&&Ul(o.lastChild))return Xg(o.lastChild)?Ve.before(o.lastChild):h}else h=n;const v=h.container();let C=h.offset();if(kc(v)){if(Of(e)&&C>0)return Ve(v,--C);if(Id(e)&&C<v.length)return Ve(v,++C);r=v}else{if(Of(e)&&C>0&&(a=vp(v,C-1),Kh(a)))return!Fu(a)&&(u=qg(a,e,Jg,a),u)?kc(u)?Ve(u,u.data.length):Ve.after(u):kc(a)?Ve(a,a.data.length):Ve.before(a);if(Id(e)&&C<v.childNodes.length&&(a=vp(v,C),Kh(a)))return Xg(a)?kS(o,a):!Fu(a)&&(u=qg(a,e,Jg,a),u)?kc(u)?Ve(u,0):Ve.before(u):kc(a)?Ve(a,0):Ve.after(a);r=a||h.getNode()}if(r&&(Id(e)&&h.isAtEnd()||Of(e)&&h.isAtStart())&&(r=qg(r,e,ht,o,!0),Jg(r,o)))return fb(e,r);a=r&&qg(r,e,Jg,o);const O=Na(Jt(gp(v,o),ak));return O&&(!a||!O.contains(a))?(Id(e)?h=Ve.after(O):h=Ve.before(O),h):a?fb(e,a):null},Wl=e=>({next:n=>Hu(ii.Forwards,n,e),prev:n=>Hu(ii.Backwards,n,e)}),zu=(e,n,o)=>{const r=e?Ve.before(o):Ve.after(o);return Oc(e,n,r)},ck=e=>ts(e)?Ve.before(e):Ve.after(e),hb=e=>Ve.isTextPosition(e)?e.offset()===0:ic(e.getNode()),y2=e=>{if(Ve.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return ic(e.getNode(!0))},lk=(e,n)=>!Ve.isTextPosition(e)&&!Ve.isTextPosition(n)&&e.getNode()===n.getNode(!0),uk=e=>!Ve.isTextPosition(e)&&ts(e.getNode()),dk=(e,n,o)=>e?!lk(n,o)&&!uk(n)&&y2(n)&&hb(o):!lk(o,n)&&hb(n)&&y2(o),Oc=(e,n,o)=>{const r=Wl(n);return K.from(e?r.next(o):r.prev(o))},Yh=(e,n,o)=>Oc(e,n,o).bind(r=>Ac(o,r,n)&&dk(e,o,r)?Oc(e,n,r):K.some(r)),mb=(e,n,o,r)=>Yh(e,n,o).bind(a=>r(a)?mb(e,n,a,r):K.some(a)),Xh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return at(o)?K.some(Ve(o,e?0:o.data.length)):o?ic(o)?K.some(e?Ve.before(o):ck(o)):zu(e,n,o):K.none()},ra=Ge(Oc,!0),Oa=Ge(Oc,!1),ji=Ge(Xh,!0),fl=Ge(Xh,!1),pb="_mce_caret",ac=e=>Wt(e)&&e.id===pb,qn=(e,n)=>{let o=n;for(;o&&o!==e;){if(ac(o))return o;o=o.parentNode}return null},Rf=e=>ue(e.start),bp=e=>un(e,"rng"),w2=e=>un(e,"id"),C2=e=>un(e,"name"),Qg=e=>D.isArray(e.start),gb=e=>!C2(e)&&mn(e.forward)?e.forward:!0,vb=(e,n)=>(Wt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),bb=(e,n)=>{const o=K.from(Uy(e.getRoot(),n.start)),r=K.from(Uy(e.getRoot(),n.end));return ie(o,r,(a,u)=>{const h=e.createRng();return h.setStart(a.container(),a.offset()),h.setEnd(u.container(),u.offset()),{range:h,forward:gb(n)}})},yb=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Wr);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},zR=e=>!e.hasChildNodes(),x2=(e,n)=>fl(e).fold(He,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),OS=(e,n,o)=>zR(n)&&qn(e,n)?(yb(n,o),!0):!1,DS=(e,n,o,r)=>{const a=o[n?"start":"end"],u=e.getRoot();if(a){let h=u,v=a[0];for(let C=a.length-1;h&&C>=1;C--){const O=h.childNodes;if(OS(u,h,r))return!0;if(a[C]>O.length-1)return OS(u,h,r)?!0:x2(h,r);h=O[a[C]]}at(h)&&(v=Math.min(a[0],h.data.length)),Wt(h)&&(v=Math.min(a[0],h.childNodes.length)),n?r.setStart(h,v):r.setEnd(h,v)}return!0},RS=e=>at(e)&&e.data.length>0,S2=(e,n,o)=>{const r=e.get(o.id+"_"+n),a=r==null?void 0:r.parentNode,u=o.keep;if(r&&a){let h,v;if(n==="start"?u?r.hasChildNodes()?(h=r.firstChild,v=1):RS(r.nextSibling)?(h=r.nextSibling,v=0):RS(r.previousSibling)?(h=r.previousSibling,v=r.previousSibling.data.length):(h=a,v=e.nodeIndex(r)+1):(h=a,v=e.nodeIndex(r)):u?r.hasChildNodes()?(h=r.firstChild,v=1):RS(r.previousSibling)?(h=r.previousSibling,v=r.previousSibling.data.length):(h=a,v=e.nodeIndex(r)):(h=a,v=e.nodeIndex(r)),!u){const C=r.previousSibling,O=r.nextSibling;D.each(D.grep(r.childNodes),H=>{at(H)&&(H.data=H.data.replace(/\uFEFF/g,""))});let F;for(;F=e.get(o.id+"_"+n);)e.remove(F,!0);if(at(O)&&at(C)&&!Mt.browser.isOpera()){const H=C.data.length;C.appendData(O.data),e.remove(O),h=C,v=H}}return K.some(Ve(h,v))}else return K.none()},E2=(e,n)=>{const o=e.createRng();return DS(e,!0,n,o)&&DS(e,!1,n,o)?K.some({range:o,forward:gb(n)}):K.none()},yp=(e,n)=>{const o=S2(e,"start",n),r=S2(e,"end",n);return ie(o,r.or(o),(a,u)=>{const h=e.createRng();return h.setStart(vb(e,a.container()),a.offset()),h.setEnd(vb(e,u.container()),u.offset()),{range:h,forward:gb(n)}})},wb=(e,n)=>K.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),_2=(e,n)=>{const o=e.dom;if(n){if(Qg(n))return E2(o,n);if(Rf(n))return bb(o,n);if(w2(n))return yp(o,n);if(C2(n))return wb(o,n);if(bp(n))return K.some({range:n.rng,forward:gb(n)})}return K.none()},wp=(e,n,o)=>yt(e,n,o),PS=(e,n)=>{_2(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Dc=e=>Wt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Cb=(e=>n=>e===n)(ei),Ld=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,T2=e=>!Ld(e)&&!Cb(e)&&!Bm(e),A2=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},fk=e=>Mi(e,n=>{const o=rp(n);return o?[pe.fromDom(o)]:[]}),hk=e=>A2(e).length>1,mk=e=>Jt(fk(e),xg),pk=e=>vi(e,"td[data-mce-selected],th[data-mce-selected]"),MS=(e,n)=>{const o=pk(n);return o.length>0?o:mk(e)},jl=e=>MS(A2(e.selection.getSel()),pe.fromDom(e.getBody())),e1=(e,n)=>ag(e,"table",n),gk=e=>{const n=e.startContainer,o=e.startOffset;return at(n)?o===0?K.some(pe.fromDom(n)):K.none():K.from(n.childNodes[o]).map(pe.fromDom)},Nt=e=>{const n=e.endContainer,o=e.endOffset;return at(n)?o===n.data.length?K.some(pe.fromDom(n)):K.none():K.from(n.childNodes[o-1]).map(pe.fromDom)},Pr=e=>zr(e).fold(st([e]),n=>[e].concat(Pr(n))),Fd=e=>Xc(e).fold(st([e]),n=>Jn(n)==="br"?No(n).map(o=>[e].concat(Fd(o))).getOr([]):[e].concat(Fd(n))),Mr=(e,n)=>ie(gk(n),Nt(n),(o,r)=>{const a=Jo(Pr(e),Ge(Je,o)),u=Jo(Fd(e),Ge(Je,r));return a.isSome()&&u.isSome()}).getOr(!1),cc=(e,n,o,r)=>{const a=o,u=new $s(o,a),h=as(e.schema.getMoveCaretBeforeOnEnterElements(),(C,O)=>!An(["td","th","table"],O.toLowerCase()));let v=o;do{if(at(v)&&D.trim(v.data).length!==0){r?n.setStart(v,0):n.setEnd(v,v.data.length);return}if(h[v.nodeName]){r?n.setStartBefore(v):v.nodeName==="BR"?n.setEndBefore(v):n.setEndAfter(v);return}}while(v=r?u.next():u.prev());a.nodeName==="BODY"&&(r?n.setStart(a,0):n.setEnd(a,a.childNodes.length))},t1=e=>{const n=e.selection.getSel();return je(n)&&n.rangeCount>0},Cp=(e,n)=>{const o=jl(e);o.length>0?Le(o,r=>{const a=r.dom,u=e.dom.createRng();u.setStartBefore(a),u.setEndAfter(a),n(u,!0)}):n(e.selection.getRng(),!1)},Jh=(e,n,o)=>{const r=jy(e,n);o(r),e.moveToBookmark(r)},xp=e=>Ze(e==null?void 0:e.nodeType),n1=e=>Wt(e)&&!Dc(e)&&!ac(e)&&!Vr(e),BS=(e,n)=>{if(n1(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},k2=(e,n,o)=>{const{selection:r,dom:a}=e,u=r.getNode(),h=bs(u);Jh(r,!0,()=>{n()}),h&&bs(u)&&a.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&NS(a,r)},NS=(e,n)=>{var o,r;const a=n.getRng(),{startContainer:u,startOffset:h}=a,v=n.getNode();if(!BS(e,v)&&Wt(u)){const C=u.childNodes,O=e.getRoot();let F;if(h<C.length){const H=C[h];F=new $s(H,(o=e.getParent(H,e.isBlock))!==null&&o!==void 0?o:O)}else{const H=C[C.length-1];F=new $s(H,(r=e.getParent(H,e.isBlock))!==null&&r!==void 0?r:O),F.next(!0)}for(let H=F.current();H;H=F.next()){if(e.getContentEditable(H)==="false")return;if(at(H)&&!s1(H)){a.setStart(H,0),n.setRng(a);return}}}},O2=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Wt(e)||!s1(e))return e}},o1=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||vf(e,n),Sp=(e,n,o)=>e.schema.isValidChild(n,o),s1=(e,n=!1)=>{if(je(e)&&at(e)){const o=n?e.data.replace(/ /g," "):e.data;return Nl(o)}else return!1},xb=e=>je(e)&&at(e)&&e.length===0,r1=(e,n)=>{const o="[data-mce-cef-wrappable]",r=$u(e),a=Ii(r)?o:`${o},${r}`;return ge(pe.fromDom(n),a)},Sb=(e,n)=>{const o=e.dom;return n1(n)&&o.getContentEditable(n)==="false"&&r1(e,n)&&o.select('[contenteditable="true"]',n).length===0},Zl=(e,n)=>ye(e)?e(n):(je(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),i1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),a1=(e,n)=>{if(Sn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=kh(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},hl=(e,n,o)=>{const r=e.getStyle(n,o);return a1(r,o)},c1=(e,n)=>{let o;return e.getParent(n,r=>Wt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},l1=(e,n,o)=>e.getParents(n,o,e.getRoot()),u1=(e,n,o)=>{const r=e.formatter.get(n);return je(r)&&Xo(r,o)},vk=(e,n)=>u1(e,n,r=>{const a=u=>ye(u)||u.length>1&&u.charAt(0)==="%";return Xo(["styles","attributes"],u=>Qo(r,u).exists(h=>{const v=Gt(h)?h:ud(h);return Xo(v,a)}))}),bk=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=u=>as(u,(h,v)=>Xo(r,C=>C===v));return u1(e,n,u=>{const h=a(u);return u1(e,o,v=>{const C=a(v);return Al(h,C)})})},Rc=e=>Lr(e,"block"),IS=e=>Rc(e)&&e.wrapper===!0,yk=e=>Rc(e)&&e.wrapper!==!0,Ai=e=>Lr(e,"selector"),Bo=e=>Lr(e,"inline"),ml=e=>Ai(e)&&Bo(e)&&L(Qo(e,"mixed"),!0),qa=e=>Ai(e)&&e.expand!==!1&&!Bo(e),pl=e=>{const n=[];let o=e;for(;o;){if(at(o)&&o.data!==Wr||o.childNodes.length>1)return[];Wt(o)&&n.push(o),o=o.firstChild}return n},Eb=e=>pl(e).length>0,D2=e=>ac(e.dom)&&Eb(e.dom),Vu=Dc,$S=l1,_b=s1,wk=o1,LS=e=>ts(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,FS=(e,n)=>{let o=n;for(;o;){if(Wt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},R2=(e,n,o,r)=>{const a=n.data;if(e){for(let u=o;u>0;u--)if(r(a.charAt(u-1)))return u}else for(let u=o;u<a.length;u++)if(r(a.charAt(u)))return u;return-1},P2=(e,n,o)=>R2(e,n,o,r=>Cb(r)||Ld(r)),M2=(e,n,o)=>R2(e,n,o,T2),$o=(e,n,o,r,a,u)=>{let h;const v=e.getParent(o,e.isBlock)||n,C=(F,H,j)=>{const oe=Lh(e),le=a?oe.backwards:oe.forwards;return K.from(le(F,H,(re,de)=>Vu(re.parentNode)?-1:(h=re,j(a,re,de)),v))};return C(o,r,P2).bind(F=>u?C(F.container,F.offset+(a?-1:0),M2):K.some(F)).orThunk(()=>h?K.some({container:h,offset:a?0:h.length}):K.none())},Hd=(e,n,o,r,a)=>{const u=r[a];at(r)&&Ii(r.data)&&u&&(r=u);const h=$S(e,r);for(let v=0;v<h.length;v++)for(let C=0;C<n.length;C++){const O=n[C];if(!(je(O.collapsed)&&O.collapsed!==o.collapsed)&&Ai(O)&&e.is(h[v],O.selector))return h[v]}return r},B2=(e,n,o,r)=>{var a;let u=o;const h=e.getRoot(),v=n[0];if(Rc(v)&&(u=v.wrapper?null:e.getParent(o,v.block,h)),!u){const C=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:h;u=e.getParent(at(o)?o.parentNode:o,O=>O!==h&&wk(e.schema,O),C)}if(u&&Rc(v)&&v.wrapper&&(u=$S(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!i1(u,"br")););return u||o},N2=(e,n,o,r)=>{const a=o.parentNode;return je(o[r])?!1:a===n||Sn(a)||e.isBlock(a)?!0:N2(e,n,a,r)},d1=(e,n,o,r,a)=>{let u=o;const h=a?"previousSibling":"nextSibling",v=e.getRoot();if(at(o)&&!_b(o)&&(a?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let C=u[h];C;C=C[h]){const O=at(C)&&!N2(e,v,C,h);if(!Vu(C)&&!LS(C)&&!_b(C,O))return u}if(u===v||u.parentNode===v){o=u;break}u=u.parentNode}return o},Tb=e=>Vu(e.parentNode)||Vu(e),Pf=(e,n,o,r=!1)=>{let{startContainer:a,startOffset:u,endContainer:h,endOffset:v}=n;const C=o[0];return Wt(a)&&a.hasChildNodes()&&(a=Md(a,u),at(a)&&(u=0)),Wt(h)&&h.hasChildNodes()&&(h=Md(h,n.collapsed?v:v-1),at(h)&&(v=h.data.length)),a=FS(e,a),h=FS(e,h),Tb(a)&&(a=Vu(a)?a:a.parentNode,n.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,at(a)&&(u=n.collapsed?a.length:0)),Tb(h)&&(h=Vu(h)?h:h.parentNode,n.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,at(h)&&(v=n.collapsed?0:h.length)),n.collapsed&&($o(e,e.getRoot(),a,u,!0,r).each(({container:H,offset:j})=>{a=H,u=j}),$o(e,e.getRoot(),h,v,!1,r).each(({container:H,offset:j})=>{h=H,v=j})),(Bo(C)||C.block_expand)&&((!Bo(C)||!at(a)||u===0)&&(a=d1(e,o,a,u,!0)),(!Bo(C)||!at(h)||v===h.data.length)&&(h=d1(e,o,h,v,!1))),qa(C)&&(a=Hd(e,o,n,a,"previousSibling"),h=Hd(e,o,n,h,"nextSibling")),(Rc(C)||Ai(C))&&(a=B2(e,o,a,"previousSibling"),h=B2(e,o,h,"nextSibling"),Rc(C)&&(e.isBlock(a)||(a=d1(e,o,a,u,!0),at(a)&&(u=0)),e.isBlock(h)||(h=d1(e,o,h,v,!1),at(h)&&(v=h.data.length)))),Wt(a)&&a.parentNode&&(u=e.nodeIndex(a),a=a.parentNode),Wt(h)&&h.parentNode&&(v=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:a,startOffset:u,endContainer:h,endOffset:v}},Mf=(e,n,o)=>{var r;const a=n.startOffset,u=Md(n.startContainer,a),h=n.endOffset,v=Md(n.endContainer,h-1),C=de=>{const Ce=de[0];at(Ce)&&Ce===u&&a>=Ce.data.length&&de.splice(0,1);const Ee=de[de.length-1];return h===0&&de.length>0&&Ee===v&&at(Ee)&&de.splice(de.length-1,1),de},O=(de,Ce,Ee)=>{const _e=[];for(;de&&de!==Ee;de=de[Ce])_e.push(de);return _e},F=(de,Ce)=>e.getParent(de,Ee=>Ee.parentNode===Ce,Ce),H=(de,Ce,Ee)=>{const _e=Ee?"nextSibling":"previousSibling";for(let Be=de,qe=Be.parentNode;Be&&Be!==Ce;Be=qe){qe=Be.parentNode;const bt=O(Be===de?Be:Be[_e],_e);bt.length&&(Ee||bt.reverse(),o(C(bt)))}};if(u===v)return o(C([u]));const j=(r=e.findCommonAncestor(u,v))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,v))return H(u,j,!0);if(e.isChildOf(v,u))return H(v,j);const oe=F(u,j)||u,le=F(v,j)||v;H(u,oe,!0);const re=O(oe===u?oe:oe.nextSibling,"nextSibling",le===v?le.nextSibling:le);re.length&&o(C(re)),H(v,le)},Ck=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],xk=e=>jo(e)&&Wa(e)===Wr,HS=(e,n,o,r)=>Hn(n).fold(()=>"skipping",a=>r==="br"||xk(n)?"valid":Ru(n)?"existing":ac(n.dom)?"caret":Xo(Ck,u=>ge(n,u))?"valid-block":!Sp(e,o,r)||!Sp(e,Jn(a),o)?"invalid-child":"valid"),Sk=(e,n)=>{const o=Pf(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Ab=(e,n,o,r,a,u)=>{const{uid:h=n,...v}=o;hu(e,Xm()),Zo(e,`${Td()}`,h),Zo(e,`${xf()}`,r);const{attributes:C={},classes:O=[]}=a(h,v);if(xi(e,C),Ih(e,O),u){O.length>0&&Zo(e,`${Jm()}`,O.join(","));const F=fi(C);F.length>0&&Zo(e,`${Nh()}`,F.join(","))}},Ep=e=>{Yc(e,Xm()),vr(e,`${Td()}`),vr(e,`${xf()}`),vr(e,`${bg()}`);const n=bc(e,`${Nh()}`).map(r=>r.split(",")).getOr([]),o=bc(e,`${Jm()}`).map(r=>r.split(",")).getOr([]);Le(n,r=>vr(e,r)),$v(e,o),vr(e,`${Jm()}`),vr(e,`${Nh()}`)},Qh=(e,n,o,r,a)=>{const u=pe.fromTag("span",e);return Ab(u,n,o,r,a,!1),u},I2=(e,n,o,r,a,u)=>{const h=[],v=Qh(e.getDoc(),o,u,r,a),C=Cf(),O=()=>{C.clear()},F=()=>C.get().getOrThunk(()=>{const le=$h(v);return h.push(le),C.set(le),le}),H=le=>{Le(le,j)},j=le=>{switch(HS(e,le,"span",Jn(le))){case"invalid-child":{O();const de=ks(le);H(de),O();break}case"valid-block":{O(),Ab(le,o,u,r,a,!0);break}case"valid":{const de=F();VC(le,de);break}}},oe=le=>{const re=Tn(le,pe.fromDom);H(re)};return Mf(e.dom,n,le=>{O(),oe(le)}),h},Ek=(e,n,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,u=a.getRng(),h=jl(e).length>0,v=Qm("mce-annotation");if(u.collapsed&&!h&&Sk(e,u),a.getRng().collapsed&&!h){const C=Qh(e.getDoc(),v,r,n,o.decorate);Q0(C,ei),a.getRng().insertNode(C.dom),a.select(C.dom)}else Jh(a,!1,()=>{Cp(e,C=>{I2(e,C,v,n,o.decorate,r)})})})},Pc=e=>{const n=Cg();pA(e,n);const o=mA(e,n),r=$a("span"),a=u=>{Le(u,h=>{r(h)?vu(h):Ep(h)})};return{register:(u,h)=>{n.register(u,h)},annotate:(u,h)=>{n.lookup(u).each(v=>{Ek(e,u,v,h)})},annotationChanged:(u,h)=>{o.addListener(u,h)},remove:u=>{wg(e,K.some(u)).each(({elements:h})=>{const v=e.selection.getBookmark();a(h),e.selection.moveToBookmark(v)})},removeAll:u=>{const h=e.selection.getBookmark();Dt(Nv(e,u),(v,C)=>{a(v)}),e.selection.moveToBookmark(h)},getAll:u=>{const h=Nv(e,u);return go(h,v=>Tn(v,C=>C.dom))}}},Sr=e=>({getBookmark:Ge(wp,e),moveToBookmark:Ge(PS,e)});Sr.isBookmarkNode=Dc;const ki=(e,n,o)=>o.collapsed?!1:Xo(o.getClientRects(),r=>xx(r,e,n)),Uu=(e,n)=>e.dispatch("PreProcess",n),UR=(e,n)=>e.dispatch("PostProcess",n),_k=e=>{e.dispatch("remove")},Tk=e=>{e.dispatch("detach")},ro=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},Ak=(e,n,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:a})},zS=(e,n,o,r,a)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:a})},$2=e=>{e.dispatch("PreInit")},kk=e=>{e.dispatch("PostRender")},L2=e=>{e.dispatch("Init")},Ok=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},VS=(e,n,o)=>{e.dispatch(n,o)},US=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},WS=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},F2=(e,n)=>e.dispatch("BeforeSetContent",n),kb=(e,n)=>e.dispatch("SetContent",n),jS=(e,n)=>e.dispatch("BeforeGetContent",n),ZS=(e,n)=>e.dispatch("GetContent",n),WR=(e,n)=>{e.dispatch("AutocompleterStart",n)},Dk=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},qS=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},jR=e=>{e.dispatch("AutocompleterEnd")},ZR=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),En=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),GS=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),Rk=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Ft={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ft.metaKeyPressed(e),metaKeyPressed:e=>Mt.os.isMacOS()||Mt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Wu="data-mce-selected",Ob="table,img,figure.image,hr,video,span.mce-preview-object,details",KS=Math.abs,Db=Math.round,H2={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},z2=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Rb=(e,n)=>{const o=n.dom,r=n.getDoc(),a=document,u=n.getBody();let h,v,C,O,F,H,j,oe,le,re,de,Ce,Ee,_e,Be,qe,bt;const Rt=Bt=>je(Bt)&&(ay(Bt)||o.is(Bt,"figure.image")),dt=Bt=>Or(Bt)||o.hasClass(Bt,"mce-preview-object"),Ue=(Bt,jn)=>{if(z2(Bt)){const Zn=Bt.touches[0];return Rt(Bt.target)&&!ki(Zn.clientX,Zn.clientY,jn)}else return Rt(Bt.target)&&!ki(Bt.clientX,Bt.clientY,jn)},Ye=Bt=>{const jn=Bt.target;Ue(Bt,n.selection.getRng())&&!Bt.isDefaultPrevented()&&n.selection.select(jn)},Ot=Bt=>o.hasClass(Bt,"mce-preview-object")&&je(Bt.firstElementChild)?[Bt,Bt.firstElementChild]:o.is(Bt,"figure.image")?[Bt.querySelector("img")]:[Bt],Yt=Bt=>{const jn=Yx(n);return!jn||Bt.getAttribute("data-mce-resize")==="false"||Bt===n.getBody()?!1:o.hasClass(Bt,"mce-preview-object")&&je(Bt.firstElementChild)?ge(pe.fromDom(Bt.firstElementChild),jn):ge(pe.fromDom(Bt),jn)},zn=(Bt,jn)=>{if(dt(jn))return Bt.create("img",{src:Mt.transparentSrc});if(wr(jn)){const _r=Bs(O.name,"n")?Ys:ga,Po=jn.cloneNode(!0);return _r(Bt.select("tr",Po)).each(Tr=>{const Sl=Bt.select("td,th",Tr);Bt.setStyle(Tr,"height",null),Le(Sl,tf=>Bt.setStyle(tf,"height",null))}),Po}else return jn.cloneNode(!0)},Qn=(Bt,jn,Zn)=>{if(je(Zn)){const _r=Ot(Bt);Le(_r,Po=>{Po.style[jn]||!n.schema.isValid(Po.nodeName.toLowerCase(),jn)?o.setStyle(Po,jn,Zn):o.setAttrib(Po,jn,""+Zn)})}},Ro=(Bt,jn,Zn)=>{Qn(Bt,"width",jn),Qn(Bt,"height",Zn)},Ho=Bt=>{let jn,Zn,_r,Po,Tr;jn=Bt.screenX-H,Zn=Bt.screenY-j,_e=jn*O[2]+re,Be=Zn*O[3]+de,_e=_e<5?5:_e,Be=Be<5?5:Be,(Rt(h)||dt(h))&&o2(n)!==!1?_r=!Ft.modifierPressed(Bt):_r=Ft.modifierPressed(Bt),_r&&(KS(jn)>KS(Zn)?(Be=Db(_e*Ce),_e=Db(Be/Ce)):(_e=Db(Be/Ce),Be=Db(_e*Ce))),Ro(v,_e,Be),Po=O.startPos.x+jn,Tr=O.startPos.y+Zn,Po=Po>0?Po:0,Tr=Tr>0?Tr:0,o.setStyles(C,{left:Po,top:Tr,display:"block"}),C.innerHTML=_e+" &times; "+Be,O[2]<0&&v.clientWidth<=_e&&o.setStyle(v,"left",oe+(re-_e)),O[3]<0&&v.clientHeight<=Be&&o.setStyle(v,"top",le+(de-Be)),jn=u.scrollWidth-qe,Zn=u.scrollHeight-bt,jn+Zn!==0&&o.setStyles(C,{left:Po-jn,top:Tr-Zn}),Ee||(Ak(n,h,re,de,"corner-"+O.name),Ee=!0)},cs=()=>{const Bt=Ee;Ee=!1,Bt&&(Qn(h,"width",_e),Qn(h,"height",Be)),o.unbind(r,"mousemove",Ho),o.unbind(r,"mouseup",cs),a!==r&&(o.unbind(a,"mousemove",Ho),o.unbind(a,"mouseup",cs)),o.remove(v),o.remove(C),o.remove(F),Ri(h),Bt&&(zS(n,h,_e,Be,"corner-"+O.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},Ri=Bt=>{kt();const jn=o.getPos(Bt,u),Zn=jn.x,_r=jn.y,Po=Bt.getBoundingClientRect(),Tr=Po.width||Po.right-Po.left,Sl=Po.height||Po.bottom-Po.top;h!==Bt&&(Tt(),h=Bt,_e=Be=0);const tf=n.dispatch("ObjectSelected",{target:Bt});Yt(Bt)&&!tf.isDefaultPrevented()?Dt(H2,(da,Fc)=>{const ru=iu=>{const Qt=Ot(h)[0];H=iu.screenX,j=iu.screenY,re=Qt.clientWidth,de=Qt.clientHeight,Ce=de/re,O=da,O.name=Fc,O.startPos={x:Tr*da[0]+Zn,y:Sl*da[1]+_r},qe=u.scrollWidth,bt=u.scrollHeight,F=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(F,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),v=zn(o,h),o.addClass(v,"mce-clonedresizable"),o.setAttrib(v,"data-mce-bogus","all"),v.contentEditable="false",o.setStyles(v,{left:Zn,top:_r,margin:0}),Ro(v,Tr,Sl),v.removeAttribute(Wu),u.appendChild(v),o.bind(r,"mousemove",Ho),o.bind(r,"mouseup",cs),a!==r&&(o.bind(a,"mousemove",Ho),o.bind(a,"mouseup",cs)),C=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},re+" &times; "+de)};let Hc=o.get("mceResizeHandle"+Fc);Hc&&o.remove(Hc),Hc=o.add(u,"div",{id:"mceResizeHandle"+Fc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Fc+"-resize; margin:0; padding:0"}),o.bind(Hc,"mousedown",iu=>{iu.stopImmediatePropagation(),iu.preventDefault(),ru(iu)}),da.elm=Hc,o.setStyles(Hc,{left:Tr*da[0]+Zn-Hc.offsetWidth/2,top:Sl*da[1]+_r-Hc.offsetHeight/2})}):Tt(!1)},zo=Bv(Ri,0),Tt=(Bt=!0)=>{zo.cancel(),kt(),h&&Bt&&h.removeAttribute(Wu),Dt(H2,(jn,Zn)=>{const _r=o.get("mceResizeHandle"+Zn);_r&&(o.unbind(_r),o.remove(_r))})},Kt=(Bt,jn)=>o.isChildOf(Bt,jn),to=Bt=>{if(Ee||n.removed||n.composing)return;const jn=Bt.type==="mousedown"?Bt.target:e.getNode(),Zn=uf(pe.fromDom(jn),Ob).map(Po=>Po.dom).filter(Po=>o.isEditable(Po.parentElement)||Po.nodeName==="IMG"&&o.isEditable(Po)).getOrUndefined(),_r=je(Zn)?o.getAttrib(Zn,Wu,"1"):"1";if(Le(o.select(`img[${Wu}],hr[${Wu}]`),Po=>{Po.removeAttribute(Wu)}),je(Zn)&&Kt(Zn,u)&&n.hasFocus()){ln();const Po=e.getStart(!0);if(Kt(Po,Zn)&&Kt(e.getEnd(!0),Zn)){o.setAttrib(Zn,Wu,_r),zo.throttle(Zn);return}}Tt()},kt=()=>{Dt(H2,Bt=>{Bt.elm&&(o.unbind(Bt.elm),delete Bt.elm)})},ln=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{ln(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",to),n.on("keyup compositionend",Bt=>{h&&h.nodeName==="TABLE"&&to(Bt)}),n.on("hide blur",Tt),n.on("contextmenu longpress",Ye,!0)}),n.on("remove",kt),{isResizable:Yt,showResizeRect:Ri,hideResizeRect:Tt,updateResizeRect:to,destroy:()=>{zo.cancel(),h=v=F=null}}},YS=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},V2=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Pb=(e,n,o)=>{const r=e.document.createRange();return YS(r,n),V2(r,o),r},Mb=(e,n,o,r,a)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,a),u},f1=Iu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Bb=(e,n,o)=>n(pe.fromDom(o.startContainer),o.startOffset,pe.fromDom(o.endContainer),o.endOffset),U2=(e,n)=>n.match({domRange:o=>({ltr:st(o),rtl:K.none}),relative:(o,r)=>({ltr:Ja(()=>Pb(e,o,r)),rtl:Ja(()=>K.some(Pb(e,r,o)))}),exact:(o,r,a,u)=>({ltr:Ja(()=>Mb(e,o,r,a,u)),rtl:Ja(()=>K.some(Mb(e,a,u,o,r)))})}),Pk=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(a=>a.collapsed===!1).map(a=>f1.rtl(pe.fromDom(a.endContainer),a.endOffset,pe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>Bb(e,f1.ltr,o)):Bb(e,f1.ltr,o)},Mk=(e,n)=>{const o=U2(e,n);return Pk(e,o)};f1.ltr,f1.rtl;const Nb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},ju=(e,n,o)=>{var r,a;return K.from((a=(r=e.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return K.none();const h=e.dom.createRange();return h.setStart(u.offsetNode,u.offset),h.collapse(),K.some(h)})},Zu=(e,n,o)=>{var r,a;return K.from((a=(r=e.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(r,n,o))},Ib=document.caretPositionFromPoint?ju:document.caretRangeFromPoint?Zu:K.none,Ga=(e,n,o)=>{const r=pe.fromDom(e.document);return Ib(r,n,o).map(a=>Nb.create(pe.fromDom(a.startContainer),a.startOffset,pe.fromDom(a.endContainer),a.endOffset))},_p=Iu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),h1=(e,n,o,r)=>e.fold(n,o,r),$b=e=>e.fold(eo,eo,eo),m1=_p.before,Bk=_p.on,qR=_p.after,Bf={before:m1,on:Bk,after:qR,cata:h1,getStart:$b},W2=Iu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),io=e=>W2.exact(e.start,e.soffset,e.finish,e.foffset),ql=e=>e.match({domRange:n=>pe.fromDom(n.startContainer),relative:(n,o)=>Bf.getStart(n),exact:(n,o,r,a)=>n}),em=W2.domRange,Nk=W2.relative,Tp=W2.exact,lo=e=>{const n=ql(e);return xo(n)},Ik=Nb.create,tm={domRange:em,relative:Nk,exact:Tp,exactFromRange:io,getWin:lo,range:Ik},Ap=(e,n)=>{const o=Jn(e);return o==="input"?Bf.after(e):An(["br","img"],o)?n===0?Bf.before(e):Bf.after(e):Bf.on(e,n)},$k=(e,n)=>{const o=e.fold(Bf.before,Ap,Bf.after),r=n.fold(Bf.before,Ap,Bf.after);return tm.relative(o,r)},nm=(e,n,o,r)=>{const a=Ap(e,n),u=Ap(o,r);return tm.relative(a,u)},om=e=>e.match({domRange:n=>{const o=pe.fromDom(n.startContainer),r=pe.fromDom(n.endContainer);return nm(o,n.startOffset,r,n.endOffset)},relative:$k,exact:nm}),Lb=(e,n)=>{const r=(n||document).createDocumentFragment();return Le(e,a=>{r.appendChild(a.dom)}),pe.fromDom(r)},Lk=e=>{const n=tm.getWin(e).dom,o=(a,u,h,v)=>Mb(n,a,u,h,v),r=om(e);return Mk(n,r).match({ltr:o,rtl:o})},l=(e,n,o)=>Ga(e,n,o),f=(e,n,o)=>{const r=xo(pe.fromDom(o));return l(r.dom,e,n).map(a=>{const u=o.createRange();return u.setStart(a.start.dom,a.soffset),u.setEnd(a.finish.dom,a.foffset),u}).getOrUndefined()},g=(e,n)=>je(e)&&je(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,w=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},T=(e,n,o)=>w(e,n,o)!==null,B=(e,n,o)=>T(e,n,r=>r.nodeName===o),Z=(e,n)=>ka(e)&&!T(e,n,ac),ne=(e,n,o)=>{const r=n.parentNode;if(r){const a=new $s(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=a[o?"prev":"next"]();)if(ts(u))return!0}return!1},ae=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},ve=(e,n)=>{let o=n;for(;o&&o!==e;){if(bs(o))return!0;o=o.parentNode}return!1},De=(e,n,o,r,a)=>{const u=e.getRoot(),h=e.schema.getNonEmptyElements(),v=a.parentNode;let C,O;if(!v)return K.none();const F=e.getParent(v,e.isBlock)||u;if(r&&ts(a)&&n&&e.isEmpty(F))return K.some(Ve(v,e.nodeIndex(a)));const H=new $s(a,F);for(;O=H[r?"prev":"next"]();){if(e.getContentEditableParent(O)==="false"||Z(O,u))return K.none();if(at(O)&&O.data.length>0)return B(O,u,"A")?K.none():K.some(Ve(O,r?O.data.length:0));if(e.isBlock(O)||h[O.nodeName.toLowerCase()])return K.none();C=O}return ni(C)?K.none():o&&C?K.some(Ve(C,0)):K.none()},ft=(e,n,o,r)=>{const a=e.getRoot();let u,h=!1,v=o?r.startContainer:r.endContainer,C=o?r.startOffset:r.endOffset;const O=Wt(v)&&C===v.childNodes.length,F=e.schema.getNonEmptyElements();let H=o;if(ka(v))return K.none();if(Wt(v)&&C>v.childNodes.length-1&&(H=!1),Lm(v)&&(v=a,C=0),v===a){if(H&&(u=v.childNodes[C>0?C-1:0],u&&(ka(u)||F[u.nodeName]||wr(u))))return K.none();if(v.hasChildNodes()){if(C=Math.min(!H&&C>0?C-1:C,v.childNodes.length-1),v=v.childNodes[C],C=at(v)&&O?v.data.length:0,!n&&v===a.lastChild&&wr(v)||ve(a,v)||ka(v)||el(v))return K.none();if(v.hasChildNodes()&&!wr(v)){u=v;const j=new $s(v,a);do{if(bs(u)||ka(u)){h=!1;break}if(at(u)&&u.data.length>0){C=H?0:u.data.length,v=u,h=!0;break}if(F[u.nodeName.toLowerCase()]&&!YC(u)){C=e.nodeIndex(u),v=u.parentNode,H||C++,h=!0;break}}while(u=H?j.next():j.prev())}}}return n&&(at(v)&&C===0&&De(e,O,n,!0,v).each(j=>{v=j.container(),C=j.offset(),h=!0}),Wt(v)&&(u=v.childNodes[C],u||(u=v.childNodes[C-1]),u&&ts(u)&&!ae(u,"A")&&!ne(e,u,!1)&&!ne(e,u,!0)&&De(e,O,n,!0,u).each(j=>{v=j.container(),C=j.offset(),h=!0}))),H&&!n&&at(v)&&C===v.data.length&&De(e,O,n,!1,v).each(j=>{v=j.container(),C=j.offset(),h=!0}),h&&v?K.some(Ve(v,C)):K.none()},At=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),a=Ve.fromRangeStart(n);return ft(e,o,!0,r).each(u=>{(!o||!Ve.isAbove(a,u))&&r.setStart(u.container(),u.offset())}),o||ft(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),g(n,r)?K.none():K.some(r)},Et=(e,n)=>e.splitText(n),vt=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(n===r&&at(n)){if(o>0&&o<n.data.length)if(r=Et(n,o),n=r.previousSibling,a>o){a=a-o;const u=Et(r,a).previousSibling;n=r=u,a=u.data.length,o=0}else a=0}else if(at(n)&&o>0&&o<n.data.length&&(n=Et(n,o),o=0),at(r)&&a>0&&a<r.data.length){const u=Et(r,a).previousSibling;r=u,a=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:a}},$t=e=>({walk:(u,h)=>Mf(e,u,h),split:vt,expand:(u,h={type:"word"})=>{if(h.type==="word"){const v=Pf(e,u,[{inline:"span"}]),C=e.createRng();return C.setStart(v.startContainer,v.startOffset),C.setEnd(v.endContainer,v.endOffset),C}return u},normalize:u=>At(e,u).fold(He,h=>(u.setStart(h.startContainer,h.startOffset),u.setEnd(h.endContainer,h.endOffset),!0))});$t.compareRanges=g,$t.getCaretRangeFromPoint=f,$t.getSelectedNode=rp,$t.getNode=Md;const Ct=((e,n)=>{const o=(v,C)=>{if(!Ze(C)&&!C.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+C);const O=v.dom;ph(O)&&(O.style[e]=C+"px")},r=v=>{const C=n(v);if(C<=0||C===null){const O=gu(v,e);return parseFloat(O)||0}return C},a=r,u=(v,C)=>To(C,(O,F)=>{const H=gu(v,F),j=H===void 0?0:parseInt(H,10);return isNaN(j)?O:O+j},0);return{set:o,get:r,getOuter:a,aggregate:u,max:(v,C,O)=>{const F=u(v,O);return C>F?C-F:0}}})("height",e=>{const n=e.dom;return mh(e)?n.getBoundingClientRect().height:n.offsetHeight}),an=e=>Ct.get(e),gn=()=>pe.fromDom(document),vo=(e,n)=>e.view(n).fold(st([]),r=>{const a=e.owner(r),u=vo(e,a);return[r].concat(u)}),ws=(e,n)=>{const o=n.owner(e);return vo(n,o)};var Mc=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?K.none():K.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(pe.fromDom)},owner:e=>fn(e)});const Nf=e=>{const n=gn(),o=ff(n),r=ws(e,Mc),a=Bl(e),u=Ya(r,(h,v)=>{const C=Bl(v);return{left:h.left+C.left,top:h.top+C.top}},{left:0,top:0});return bu(u.left+a.left+o.left,u.top+a.top+o.top)},sm=e=>Jn(e)==="textarea",Fb=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),qo=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},ia=(e,n)=>{const o=ks(e);if(o.length===0||sm(e))return{element:e,offset:n};if(n<o.length&&!sm(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return sm(r)?{element:e,offset:n}:Jn(r)==="img"?{element:r,offset:1}:jo(r)?{element:r,offset:Wa(r).length}:{element:r,offset:ks(r).length}}},Zi=(e,n)=>{const o=ZC(e),r=an(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},gl=(e,n)=>{const o=ia(e,n),r=pe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Wr+"</span>");return Si(o.element,r),Zi(r,()=>Eo(r))},Bc=e=>Zi(pe.fromDom(e),wt),rm=(e,n,o,r)=>{Gl(e,(a,u)=>j2(e,n,o,r),o)},qi=(e,n,o,r,a)=>{const u={elm:r.element.dom,alignToTop:a};if(Fb(e,u))return;const h=ff(n).top;o(e,n,h,r,a),qo(e,u)},j2=(e,n,o,r)=>{const a=pe.fromDom(e.getBody()),u=pe.fromDom(e.getDoc());tr(a);const h=gl(pe.fromDom(o.startContainer),o.startOffset);qi(e,u,n,h,r),h.cleanup()},zd=(e,n,o,r)=>{const a=pe.fromDom(e.getDoc());qi(e,a,o,Bc(n),r)},Gl=(e,n,o)=>{const r=o.startContainer,a=o.startOffset,u=o.endContainer,h=o.endOffset;n(pe.fromDom(r),pe.fromDom(u));const v=e.dom.createRng();v.setStart(r,a),v.setEnd(u,h),e.selection.setRng(o)},ai=(e,n,o,r,a)=>{const u=n.pos;if(r)Pm(u.left,u.top,a);else{const h=u.top-o+n.height;Pm(-e.getBody().getBoundingClientRect().left,h,a)}},Z2=(e,n,o,r,a,u)=>{const h=r+o,v=a.pos.top,C=a.bottom,O=C-v>=r;v<o?ai(e,a,r,u!==!1,n):v>h?ai(e,a,r,O?u!==!1:u===!0,n):C>h&&!O&&ai(e,a,r,u===!0,n)},q2=(e,n,o,r,a)=>{const u=xo(n).dom.innerHeight;Z2(e,n,o,u,r,a)},XS=(e,n,o,r,a)=>{const u=xo(n).dom.innerHeight;Z2(e,n,o,u,r,a);const h=Nf(r.element),v=ty(window);h.top<v.y?Mm(r.element,a!==!1):h.top>v.bottom&&Mm(r.element,a===!0)},Fk=(e,n,o)=>rm(e,q2,n,o),Hk=(e,n,o)=>zd(e,n,q2,o),G2=(e,n,o)=>rm(e,XS,n,o),zk=(e,n,o)=>zd(e,n,XS,o),kp=(e,n,o)=>{(e.inline?Hk:zk)(e,n,o)},Hb=(e,n,o)=>{(e.inline?Fk:G2)(e,n,o)},K2=(e,n=!1)=>e.dom.focus({preventScroll:n}),GR=e=>{const n=vd(e).dom;return e.dom===n.activeElement},Vk=(e=gn())=>K.from(e.dom.activeElement).map(pe.fromDom),Uk=e=>Vk(vd(e)).filter(n=>e.dom.contains(n.dom)),KR=(e,n)=>{const o=jo(n)?Wa(n).length:ks(n).length+1;return e>o?o:e<0?0:e},YR=e=>tm.range(e.start,KR(e.soffset,e.start),e.finish,KR(e.foffset,e.finish)),Wk=(e,n)=>!xv(n.dom)&&(Zt(e,n)||Je(e,n)),jk=e=>n=>Wk(e,n.start)&&Wk(e,n.finish),w6=e=>e.inline||Mt.browser.isFirefox(),C6=e=>tm.range(pe.fromDom(e.startContainer),e.startOffset,pe.fromDom(e.endContainer),e.endOffset),x6=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?K.none():K.from(n.getRangeAt(0))).map(C6)},S6=e=>{const n=xo(e);return x6(n.dom).filter(jk(e))},JS=(e,n)=>K.from(n).filter(jk(e)).map(YR),XR=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),K.some(n)}catch{return K.none()}},Y2=e=>{const n=w6(e)?S6(pe.fromDom(e.getBody())):K.none();e.bookmark=n.isSome()?n:e.bookmark},QS=e=>(e.bookmark?e.bookmark:K.none()).bind(o=>JS(pe.fromDom(e.getBody()),o)).bind(XR),JR=e=>{QS(e).each(n=>e.selection.setRng(n))},QR={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},E6=(e,n)=>(Ze(n)||(n=0),setTimeout(e,n)),_6=(e,n)=>(Ze(n)||(n=0),setInterval(e,n)),Kl={setEditorTimeout:(e,n,o)=>E6(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=_6(()=>{e.removed?clearInterval(r):n()},o);return r}},T6=e=>e.type==="nodechange"&&e.selectionChange,A6=(e,n)=>{const o=()=>{n.throttle()};Ko.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Ko.DOM.unbind(document,"mouseup",o)})},k6=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},O6=(e,n)=>{k6(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{T6(o)||Y2(e)})},D6=e=>{const n=Bv(()=>{Y2(e)},0);e.on("init",()=>{e.inline&&A6(e,n),O6(e,n)}),e.on("remove",()=>{n.cancel()})};let zb;const Zk=Ko.DOM,eE=e=>Wt(e)&&QR.isEditorUIElement(e),tE=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},X2=(e,n)=>{const o=ob(e);return Zk.getParent(n,a=>eE(a)||(o?e.dom.is(a,o):!1))!==null},qk=e=>{try{const n=vd(pe.fromDom(e.getElement()));return Vk(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},R6=(e,n)=>{const o=n.editor;D6(o);const r=(a,u)=>{if(JA(a)&&a.inline!==!0){const h=pe.fromDom(a.getContainer());u(h,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;tE(qk(o))&&r(o,hu),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{Kl.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!tE(qk(o))||a!==o)&&r(o,Yc),!X2(o,qk(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),zb||(zb=a=>{const u=e.activeEditor;u&&gv(a).each(h=>{const v=h;v.ownerDocument===document&&v!==document.body&&!X2(u,v)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Zk.bind(document,"focusin",zb))},P6=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&zb&&(Zk.unbind(document,"focusin",zb),zb=null)},M6=e=>{e.on("AddEditor",Ge(R6,e)),e.on("RemoveEditor",Ge(P6,e))},B6=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),N6=e=>e.collapsed?K.from(Md(e.startContainer,e.startOffset)).map(pe.fromDom):K.none(),eP=(e,n)=>N6(n).bind(o=>Dd(o)?K.some(o):Zt(e,o)?K.none():K.some(e)),tP=(e,n)=>{eP(pe.fromDom(e.getBody()),n).bind(o=>ji(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},nE=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},nP=e=>GR(e)||Uk(e).isSome(),I6=e=>je(e.iframeElement)&&GR(pe.fromDom(e.iframeElement)),$6=e=>{const n=e.getBody();return n&&nP(pe.fromDom(n))},L6=e=>{const n=vd(pe.fromDom(e.getElement()));return Vk(n).filter(o=>!tE(o.dom)&&X2(e,o.dom)).isSome()},p1=e=>e.inline?$6(e):I6(e),oP=e=>p1(e)||L6(e),F6=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),je(e.bookmark)&&!p1(e)&&QS(e).each(u=>{e.selection.setRng(u),r=u});const a=B6(e,n.getNode());if(a&&e.dom.isChildOf(a,o)){nE(a),tP(e,r),Gk(e);return}e.inline||(Mt.browser.isOpera()||nE(o),e.getWin().focus()),(Mt.browser.isFirefox()||e.inline)&&(nE(o),tP(e,r)),Gk(e)},Gk=e=>e.editorManager.setActive(e),H6=(e,n)=>{e.removed||(n?Gk(e):F6(e))},sP=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),rP=(e,n,o,r,a)=>{const u=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return K.from(u).map(pe.fromDom).map(v=>!r||!n.collapsed?La(v,a(v,h)).getOr(v):v).bind(v=>dr(v)?K.some(v):Hn(v).filter(dr)).map(v=>v.dom).getOr(e)},iP=(e,n,o=!1)=>rP(e,n,!0,o,(r,a)=>Math.min(ta(r),a)),aP=(e,n,o=!1)=>rP(e,n,!1,o,(r,a)=>a>0?a-1:a),cP=(e,n)=>{const o=e;for(;e&&at(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},z6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const a=n.startOffset,u=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===r&&u-a<2&&o.hasChildNodes()&&(h=o.childNodes[a]),at(o)&&at(r)&&(o.length===a?o=cP(o.nextSibling,!0):o=o.parentNode,u===0?r=cP(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(h=o)));const v=at(h)?h.parentNode:h;return wd(v)?v:e},V6=(e,n,o,r)=>{const a=[],u=e.getRoot(),h=e.getParent(o||iP(u,n,n.collapsed),e.isBlock),v=e.getParent(r||aP(u,n,n.collapsed),e.isBlock);if(h&&h!==u&&a.push(h),h&&v&&h!==v){let C;const O=new $s(h,u);for(;(C=O.next())&&C!==v;)e.isBlock(C)&&a.push(C)}return v&&h!==v&&v!==u&&a.push(v),a},U6=(e,n,o)=>K.from(n).bind(r=>K.from(r.parentNode).map(a=>{const u=e.nodeIndex(r),h=e.createRng();return h.setStart(a,u),h.setEnd(a,u+1),o&&(cc(e,h,r,!0),cc(e,h,r,!1)),h})),Kk=(e,n)=>Tn(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),W6={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},oE=(e,n,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[a];if(u)return u;for(let h=e.parent;h&&h!==n;h=h.parent)if(u=h[a],u)return u}},cn=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Nl(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Yk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Da{static create(n,o){const r=new Da(n,W6[n]||1);return o&&Dt(o,(a,u)=>{r.attr(u,a)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ue(n))return je(n)&&Dt(n,(u,h)=>{r.attr(h,u)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(n in a.map){delete a.map[n];let u=a.length;for(;u--;)if(a[u].name===n)return a.splice(u,1),r}return r}if(n in a.map){let u=a.length;for(;u--;)if(a[u].name===n){a[u].value=o;break}}else a.push({name:n,value:o});return a.map[n]=o,r}return a.map[n]}}clone(){const n=this,o=new Da(n.name,n.type),r=n.attributes;if(r){const a=[];a.map={};for(let u=0,h=r.length;u<h;u++){const v=r[u];v.name!=="id"&&(a[a.length]={name:v.name,value:v.value},a.map[v.name]=v.value)}o.attributes=a}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,a=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===n?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===a.lastChild?a.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=a,n}getAll(n){const o=this,r=[];for(let a=o.firstChild;a;a=oE(a,o))a.name===n&&r.push(a);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let a=n.firstChild;a;a=oE(a,n))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var a;const u=this;let h=u.firstChild;if(Yk(u))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||Yk(h))return!1}if(h.type===8||h.type===3&&!cn(h)||h.type===3&&h.parent&&o[h.parent.name]&&Nl((a=h.value)!==null&&a!==void 0?a:"")||r&&r(h))return!1}while(h=oE(h,u));return!0}walk(n){return oE(this,null,n)}}const j6=D.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),sE=e=>ue(e.nodeValue)&&e.nodeValue.includes(Wr),lP=e=>`${e.length===0?"":`${Tn(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,Z6=(e,n)=>n.querySelectorAll(lP(e)),uP=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>sE(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),dP=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(sE(n)){const o=n.parentNode;return o&&un(j6,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),q6=e=>uP(e).nextNode()!==null,rE=e=>dP(e).nextNode()!==null,fP=(e,n)=>n.querySelector(lP(e))!==null,wG=(e,n)=>{Le(Z6(e,n),o=>{const r=pe.fromDom(o);ds(r,"data-mce-bogus")==="all"?Eo(r):Le(e,a=>{md(r,a)&&vr(r,a)})})},hP=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},Nn=P(hP,uP),G6=P(hP,dP),Fn=(e,n)=>{const o=[{condition:Ge(fP,n),action:Ge(wG,n)},{condition:q6,action:Nn},{condition:rE,action:G6}];let r=e,a=!1;return Le(o,({condition:u,action:h})=>{u(r)&&(a||(r=e.cloneNode(!0),a=!0),h(r))}),r},Xk=e=>{const n=vi(e,"[data-mce-bogus]");Le(n,o=>{ds(o,"data-mce-bogus")==="all"?Eo(o):Od(o)?(Si(o,pe.fromText(yd)),Eo(o)):vu(o)})},K6=e=>{const n=vi(e,"input");Le(n,o=>{vr(o,"name")})},CG=(e,n)=>{const o=Ui(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},Y6=(e,n)=>{const o=e.getDoc(),r=vd(pe.fromDom(e.getBody())),a=pe.fromTag("div",o);Zo(a,"data-mce-bogus","all"),lg(a,{position:"fixed",left:"-9999999px",top:"0"}),Q0(a,n.innerHTML),Xk(a),K6(a);const u=GT(r);fr(u,a);const h=ja(a.dom.innerText);return Eo(a),h},xG=(e,n,o)=>{let r;return n.format==="raw"?r=D.trim(ja(Fn(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=Y6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=CG(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Sg(pe.fromDom(o))&&ue(r)?D.trim(r):r},SG=(e,n)=>K.from(e.getBody()).fold(st(n.format==="tree"?new Da("body",11):""),o=>xG(e,n,o)),mP=D.makeMap,pP=e=>{const n=[];e=e||{};const o=e.indent,r=mP(e.indent_before||""),a=mP(e.indent_after||""),u=na.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(v,C,O)=>{if(o&&r[v]&&n.length>0){const F=n[n.length-1];F.length>0&&F!==`
`&&n.push(`
`)}if(n.push("<",v),C)for(let F=0,H=C.length;F<H;F++){const j=C[F];n.push(" ",j.name,'="',u(j.value,!0),'"')}if(!O||h?n[n.length]=">":n[n.length]=" />",O&&o&&a[v]&&n.length>0){const F=n[n.length-1];F.length>0&&F!==`
`&&n.push(`
`)}},end:v=>{let C;n.push("</",v,">"),o&&a[v]&&n.length>0&&(C=n[n.length-1],C.length>0&&C!==`
`&&n.push(`
`))},text:(v,C)=>{v.length>0&&(n[n.length]=C?v:u(v))},cdata:v=>{n.push("<![CDATA[",v,"]]>")},comment:v=>{n.push("<!--",v,"-->")},pi:(v,C)=>{C?n.push("<?",v," ",u(C),"?>"):n.push("<?",v,"?>"),o&&n.push(`
`)},doctype:v=>{n.push("<!DOCTYPE",v,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},dn=(e={},n=xd())=>{const o=pP(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const u=e.validate,h={3:C=>{var O;o.text((O=C.value)!==null&&O!==void 0?O:"",C.raw)},8:C=>{var O;o.comment((O=C.value)!==null&&O!==void 0?O:"")},7:C=>{o.pi(C.name,C.value)},10:C=>{var O;o.doctype((O=C.value)!==null&&O!==void 0?O:"")},4:C=>{var O;o.cdata((O=C.value)!==null&&O!==void 0?O:"")},11:C=>{let O=C;if(O=O.firstChild)do v(O);while(O=O.next)}};o.reset();const v=C=>{var O;const F=h[C.type];if(F)F(C);else{const H=C.name,j=H in n.getVoidElements();let oe=C.attributes;if(u&&oe&&oe.length>1){const le=[];le.map={};const re=n.getElementRule(C.name);if(re){for(let de=0,Ce=re.attributesOrder.length;de<Ce;de++){const Ee=re.attributesOrder[de];if(Ee in oe.map){const _e=oe.map[Ee];le.map[Ee]=_e,le.push({name:Ee,value:_e})}}for(let de=0,Ce=oe.length;de<Ce;de++){const Ee=oe[de].name;if(!(Ee in le.map)){const _e=oe.map[Ee];le.map[Ee]=_e,le.push({name:Ee,value:_e})}}oe=le}}if(o.start(H,oe,j),Os(H))ue(C.value)&&o.text(C.value,!0),o.end(H);else if(!j){let le=C.firstChild;if(le){(H==="pre"||H==="textarea")&&le.type===3&&((O=le.value)===null||O===void 0?void 0:O[0])===`
`&&o.text(`
`,!0);do v(le);while(le=le.next)}o.end(H)}}};return a.type===1&&!e.inner?v(a):a.type===3?h[3](a):h[11](a),o.getContent()}}},gP=new Set;Le(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{gP.add(n)});const vP=["font","text-decoration","text-emphasis"],Jk=(e,n)=>fi(e.parseStyle(e.getAttrib(n,"style"))),J2=e=>gP.has(e),bP=(e,n)=>gr(Jk(e,n),o=>!J2(o)),X6=e=>Jt(e,n=>Xo(vP,o=>Bs(n,o))),J6=(e,n,o)=>{const r=Jk(e,n),a=Jk(e,o),u=h=>{var v,C;const O=(v=e.getStyle(n,h))!==null&&v!==void 0?v:"",F=(C=e.getStyle(o,h))!==null&&C!==void 0?C:"";return Uo(O)&&Uo(F)&&O!==F};return Xo(r,h=>{const v=C=>Xo(C,O=>O===h);if(!v(a)&&v(vP)){const C=X6(a);return Xo(C,u)}else return u(h)})},yP=(e,n,o)=>K.from(o.container()).filter(at).exists(r=>{const a=e?0:-1;return n(r.data.charAt(o.offset()+a))}),iE=Ge(yP,!0,Ld),Qk=Ge(yP,!1,Ld),EG=e=>{const n=e.container();return at(n)&&(n.data.length===0||Hv(n.data)&&Sr.isBookmarkNode(n.parentNode))},g1=(e,n)=>o=>ub(e?0:-1,o).filter(n).isSome(),wP=e=>ay(e)&&gu(pe.fromDom(e),"display")==="block",CP=e=>bs(e)&&!$m(e),Q6=g1(!0,wP),e7=g1(!1,wP),Vb=g1(!0,Or),Q2=g1(!1,Or),Wn=g1(!0,wr),eO=g1(!1,wr),Vd=g1(!0,CP),im=g1(!1,CP),xP=e=>e.slice(0,-1),SP=(e,n,o)=>Zt(n,e)?xP(ko(e,r=>o(r)||Je(r,n))):[],tO=(e,n)=>SP(e,n,He),If=(e,n)=>[e].concat(tO(e,n)),nO=(e,n,o)=>mb(e,n,o,EG),EP=e=>n=>e.isBlock(Jn(n)),_P=(e,n,o)=>Jo(If(pe.fromDom(n.container()),e),EP(o)),TP=(e,n,o,r)=>nO(e,n.dom,o).forall(a=>_P(n,o,r).fold(()=>!Ac(a,o,n.dom),u=>!Ac(a,o,n.dom)&&Zt(u,pe.fromDom(a.container())))),AP=(e,n,o,r)=>_P(n,o,r).fold(()=>nO(e,n.dom,o).forall(a=>!Ac(a,o,n.dom)),a=>nO(e,a.dom,o).isNone()),oO=Ge(AP,!1),kP=Ge(AP,!0),t7=Ge(TP,!1),n7=Ge(TP,!0),o7=e=>Lu(e).exists(Od),Ub=(e,n,o,r)=>{const a=Jt(If(pe.fromDom(o.container()),n),h=>r.isBlock(Jn(h))),u=Ys(a).getOr(n);return Oc(e,u.dom,o).filter(o7)},ew=(e,n,o)=>Lu(n).exists(Od)||Ub(!0,e,n,o).isSome(),sO=(e,n,o)=>AS(n).exists(Od)||Ub(!1,e,n,o).isSome(),s7=Ge(Ub,!1),r7=Ge(Ub,!0),OP=e=>Ve.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),DP=(e,n,o)=>{const r=Jt(If(pe.fromDom(n.container()),e),a=>o.isBlock(Jn(a)));return Ys(r).getOr(e)},RP=(e,n,o)=>OP(n)?Qk(n):Qk(n)||Oa(DP(e,n,o).dom,n).exists(Qk),PP=(e,n,o)=>OP(n)?iE(n):iE(n)||ra(DP(e,n,o).dom,n).exists(iE),i7=e=>An(["pre","pre-wrap"],e),aE=e=>Lu(e).bind(n=>Li(n,dr)).exists(n=>i7(gu(n,"white-space"))),a7=(e,n)=>Oa(e.dom,n).isNone(),c7=(e,n)=>ra(e.dom,n).isNone(),v1=(e,n,o)=>a7(e,n)||c7(e,n)||oO(e,n,o)||kP(e,n,o)||sO(e,n,o)||ew(e,n,o),l7=e=>je(e)&&bs(e)&&v2(e),rO=(e,n)=>o=>l7(new $s(o,e)[n]()),u7=(e,n)=>{const o=ra(e.dom,n).getOr(n),r=rO(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},d7=(e,n)=>{const o=Oa(e.dom,n).getOr(n),r=rO(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},iO=(e,n,o)=>aE(n)?!1:v1(e,n,o)||RP(e,n,o)||PP(e,n,o),Wb=(e,n,o)=>aE(n)?!1:oO(e,n,o)||t7(e,n,o)||sO(e,n,o)||RP(e,n,o)||d7(e,n),MP=e=>{const n=e.container(),o=e.offset();return at(n)&&o<n.data.length?Ve(n,o+1):e},jb=(e,n,o)=>aE(n)?!1:kP(e,n,o)||n7(e,n,o)||ew(e,n,o)||PP(e,n,o)||u7(e,n),aa=(e,n,o)=>Wb(e,n,o)||jb(e,MP(n),o),BP=(e,n)=>Cb(e.charAt(n)),NP=(e,n)=>Ld(e.charAt(n)),f7=e=>{const n=e.container();return at(n)&&Fr(n.data,ei)},h7=e=>{const n=e.split("");return Tn(n,(o,r)=>Cb(o)&&r>0&&r<n.length-1&&T2(n[r-1])&&T2(n[r+1])?" ":o).join("")},IP=(e,n,o,r)=>{const a=n.data,u=Ve(n,0);return!o&&BP(a,0)&&!aa(e,u,r)?(n.data=" "+a.slice(1),!0):o&&NP(a,0)&&Wb(e,u,r)?(n.data=ei+a.slice(1),!0):!1},b1=e=>{const n=e.data,o=h7(n);return o!==n?(e.data=o,!0):!1},$P=(e,n,o,r)=>{const a=n.data,u=Ve(n,a.length-1);return!o&&BP(a,a.length-1)&&!aa(e,u,r)?(n.data=a.slice(0,-1)+" ",!0):o&&NP(a,a.length-1)&&jb(e,u,r)?(n.data=a.slice(0,-1)+ei,!0):!1},m7=(e,n,o)=>{const r=n.container();if(!at(r))return K.none();if(f7(n)){const a=IP(e,r,!1,o)||b1(r)||$P(e,r,!1,o);return me(a,n)}else if(aa(e,n,o)){const a=IP(e,r,!0,o)||$P(e,r,!0,o);return me(a,n)}else return K.none()},Ms=e=>{const n=pe.fromDom(e.getBody());e.selection.isCollapsed()&&m7(n,Ve.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},tw=(e,n,o,r)=>{if(o===0)return;const a=pe.fromDom(e),u=Is(a,O=>r.isBlock(Jn(O))).getOr(a),h=e.data.slice(n,n+o),v=n+o>=e.data.length&&jb(u,Ve(e,e.data.length),r),C=n===0&&Wb(u,Ve(e,0),r);e.replaceData(n,o,ry(h,4,C,v))},aO=(e,n,o)=>{const r=e.data.slice(n),a=r.length-du(r).length;tw(e,n,a,o)},ci=(e,n,o)=>{const r=e.data.slice(0,n),a=r.length-cf(r).length;tw(e,n-a,a,o)},cO=(e,n,o,r,a=!0)=>{const u=cf(e.data).length,h=a?e:n,v=a?n:e;return a?h.appendData(v.data):h.insertData(0,v.data),Eo(pe.fromDom(v)),r&&aO(h,u,o),h},p7=(e,n)=>{const o=e.container(),r=e.offset();return!Ve.isTextPosition(e)&&o===n.parentNode&&r>Ve.before(n).offset()},am=(e,n)=>p7(n,e)?Ve(n.container(),n.offset()-1):n,Oo=e=>at(e)?Ve(e,0):Ve.before(e),LP=e=>at(e)?Ve(e,e.data.length):Ve.after(e),lO=e=>ic(e.previousSibling)?K.some(LP(e.previousSibling)):e.previousSibling?fl(e.previousSibling):K.none(),FP=e=>ic(e.nextSibling)?K.some(Oo(e.nextSibling)):e.nextSibling?ji(e.nextSibling):K.none(),g7=(e,n)=>K.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Oa(e,Ve.before(o))).orThunk(()=>ra(e,Ve.after(n))),v7=(e,n)=>ra(e,Ve.after(n)).orThunk(()=>Oa(e,Ve.before(n))),Nc=(e,n)=>lO(n).orThunk(()=>FP(n)).orThunk(()=>g7(e,n)),Ud=(e,n)=>FP(n).orThunk(()=>lO(n)).orThunk(()=>v7(e,n)),b7=(e,n,o)=>e?Ud(n,o):Nc(n,o),uO=(e,n,o)=>b7(e,n,o).map(Ge(am,o)),cE=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},y7=e=>n=>n.dom===e,w7=(e,n)=>n&&un(e.schema.getBlockElements(),Jn(n)),nw=(e,n,o)=>{if(Ls(e,n)){const r=pe.fromHtml('<br data-mce-bogus="1">');return o?Le(ks(n),a=>{D2(a)||Eo(a)}):gh(n),fr(n,r),K.some(Ve.before(r.dom))}else return K.none()},lE=(e,n,o,r)=>{const a=No(e).filter(jo),u=Qr(e).filter(jo);return Eo(e),Te(a,u,n,(h,v,C)=>{const O=h.dom,F=v.dom,H=O.data.length;return cO(O,F,o,r),C.container()===F?Ve(O,H):C}).orThunk(()=>(r&&(a.each(h=>ci(h.dom,h.dom.length,o)),u.each(h=>aO(h.dom,0,o))),n))},dO=(e,n)=>un(e.schema.getTextInlineElements(),Jn(n)),y1=(e,n,o,r=!0,a=!1)=>{const u=uO(n,e.getBody(),o.dom),h=Is(o,Ge(w7,e),y7(e.getBody())),v=lE(o,u,e.schema,dO(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(C=>nw(e.schema,C,a)).fold(()=>{r&&cE(e,n,v)},C=>{r&&cE(e,n,K.some(C))})},Wd=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,C7=e=>Wd.test(e),w1=(e,n)=>ge(pe.fromDom(n),$A(e))&&!vf(e.schema,n)&&e.dom.isEditable(n),vl=e=>{var n;return Ko.DOM.getStyle(e,"direction",!0)==="rtl"||C7((n=e.textContent)!==null&&n!==void 0?n:"")},ow=(e,n,o)=>Jt(Ko.DOM.getParents(o.container(),"*",n),e),ca=(e,n,o)=>{const r=ow(e,n,o);return K.from(r[r.length-1])},x7=(e,n,o)=>{const r=Df(n,e),a=Df(o,e);return je(r)&&r===a},Lo=e=>zv(e)||Vv(e),Ra=(e,n)=>{const o=n.container(),r=n.offset();return e?Pd(o)?at(o.nextSibling)?Ve(o.nextSibling,0):Ve.after(o):zv(n)?Ve(o,r+1):n:Pd(o)?at(o.previousSibling)?Ve(o.previousSibling,o.previousSibling.data.length):Ve.before(o):Vv(n)?Ve(o,r-1):n},sw=Ge(Ra,!0),fO=Ge(Ra,!1),uE=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},hO=e=>{e.execCommand("delete")},mO=e=>uE(e,"Delete"),pO=e=>uE(e,"ForwardDelete"),S7=e=>n=>L(Hn(n),e,Je),HP=e=>yx(e)||xc(e),rw=(e,n)=>Zt(e,n)?Li(n,HP,S7(e)):K.none(),iw=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},gO=(e,n,o)=>ie(ji(o),fl(o),(r,a)=>{const u=Ra(!0,r),h=Ra(!1,a),v=Ra(!1,n);return e?ra(o,v).exists(C=>C.isEqual(h)&&n.isEqual(u)):Oa(o,v).exists(C=>C.isEqual(u)&&n.isEqual(h))}).getOr(!0),aw=e=>(Gc(e)?No(e):Xc(e)).bind(aw).orThunk(()=>K.some(e)),zP=(e,n,o,r=!0)=>{var a;n.deleteContents();const u=aw(o).getOr(o),h=pe.fromDom((a=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(h.dom===e.getBody()?iw(e,r):Ls(e.schema,h,{checkRootAsContent:!1})&&(Rd(h),r&&e.selection.setCursorLocation(h.dom,0)),!Je(o,h)){const v=L(Hn(h),o)?[]:Yn(h);Le(v.concat(ks(o)),C=>{!Je(C,h)&&!Zt(C,h)&&Ls(e.schema,C)&&Eo(C)})}},E7=e=>n=>Je(e,n),vO=e=>vi(e,"td,th"),VP=(e,n)=>e1(pe.fromDom(e),n),_7=e=>ie(e.startTable,e.endTable,(n,o)=>{const r=pn(n,u=>Je(u,o)),a=pn(o,u=>Je(u,n));return!r&&!a?e:{...e,startTable:r?K.none():e.startTable,endTable:a?K.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),UP=e=>_7(e),T7=(e,n)=>{const o=VP(e.startContainer,n),r=VP(e.endContainer,n),a=o.isSome(),u=r.isSome(),h=ie(o,r,Je).getOr(!1);return UP({startTable:o,endTable:r,isStartInTable:a,isEndInTable:u,isSameTable:h,isMultiTable:!h&&a&&u})},bO=(e,n)=>({start:e,end:n}),WP=(e,n,o)=>({rng:e,table:n,cells:o}),Zb=Iu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),dE=(e,n)=>uf(pe.fromDom(e),"td,th",n),jP=e=>!Je(e.start,e.end),yO=(e,n)=>e1(e.start,n).bind(o=>e1(e.end,n).bind(r=>me(Je(o,r),o))),A7=(e,n)=>!jP(e)&&yO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ZP=(e,n)=>{const o=dE(e.startContainer,n),r=dE(e.endContainer,n);return ie(o,r,bO)},bl=e=>n=>e1(n,e).bind(o=>ga(vO(o)).map(r=>bO(n,r))),k7=e=>n=>e1(n,e).bind(o=>Ys(vO(o)).map(r=>bO(r,n))),fE=e=>n=>yO(n,e).map(o=>WP(n,o,vO(o))),hE=(e,n,o,r)=>{if(o.collapsed||!e.forall(jP))return K.none();if(n.isSameTable){const a=e.bind(fE(r));return K.some({start:a,end:a})}else{const a=dE(o.startContainer,r),u=dE(o.endContainer,r),h=a.bind(bl(r)).bind(fE(r)),v=u.bind(k7(r)).bind(fE(r));return K.some({start:h,end:v})}},mE=(e,n)=>wn(e,o=>Je(o,n)),pE=e=>ie(mE(e.cells,e.rng.start),mE(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),qP=(e,n,o)=>e.exists(r=>A7(r,o)&&Mr(r.start,n)),GP=(e,n)=>{const{startTable:o,endTable:r}=n,a=e.cloneRange();return o.each(u=>a.setStartAfter(u.dom)),r.each(u=>a.setEndBefore(u.dom)),a},O7=(e,n,o,r)=>hE(e,n,o,r).bind(({start:a,end:u})=>a.or(u)).bind(a=>{const{isSameTable:u}=n,h=pE(a).getOr([]);if(u&&a.cells.length===h.length)return K.some(Zb.fullTable(a.table));if(h.length>0){if(u)return K.some(Zb.partialTable(h,K.none()));{const v=GP(o,n);return K.some(Zb.partialTable(h,K.some({...n,rng:v})))}}else return K.none()}),wO=(e,n,o,r)=>hE(e,n,o,r).bind(({start:a,end:u})=>{const h=a.bind(pE).getOr([]),v=u.bind(pE).getOr([]);if(h.length>0&&v.length>0){const C=GP(o,n);return K.some(Zb.multiTable(h,v,C))}else return K.none()}),KP=(e,n)=>{const o=E7(e),r=ZP(n,o),a=T7(n,o);return qP(r,n,o)?r.map(u=>Zb.singleCellTable(n,u.start)):a.isMultiTable?wO(r,a,n,o):O7(r,a,n,o)},Yl=e=>Le(e,n=>{vr(n,"contenteditable"),Rd(n)}),D7=(e,n)=>K.from(e.dom.getParent(n,e.dom.isBlock)).map(pe.fromDom),R7=(e,n,o)=>{o.each(r=>{n?Eo(r):(Rd(r),e.selection.setCursorLocation(r.dom,0))})},YP=(e,n,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(n.dom.lastChild)):(a.setStartBefore(n.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),CO(e,a,n,!1).each(u=>u())},gE=e=>{const n=jl(e),o=pe.fromDom(e.selection.getNode());Qc(o.dom)&&Ls(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Xo(n,r=>Je(r,o))&&Zo(o,"data-mce-selected","1")},XP=(e,n,o)=>K.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:u,isStartInTable:h})=>{const v=D7(e,h?u.endContainer:u.startContainer);u.deleteContents(),R7(e,h,v.filter(Ge(Ls,e.schema)));const C=h?n[0]:n[n.length-1];return YP(e,C,r,h),Ls(e.schema,C)?K.none():K.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);Yl(a),gE(e)}),qb=(e,n,o,r)=>K.some(()=>{const a=e.selection.getRng(),u=n[0],h=o[o.length-1];YP(e,u,a,!0),YP(e,h,a,!1);const v=Ls(e.schema,u)?n:n.slice(1),C=Ls(e.schema,h)?o:o.slice(0,-1);Yl(v.concat(C)),r.deleteContents(),gE(e)}),CO=(e,n,o,r=!0)=>K.some(()=>{zP(e,n,o,r)}),Gb=(e,n)=>K.some(()=>y1(e,!1,n)),Xl=(e,n,o)=>KP(n,o).bind(r=>r.fold(Ge(CO,e),Ge(Gb,e),Ge(XP,e),Ge(qb,e))),cw=(e,n)=>Kb(e,n),Yo=(e,n,o,r)=>vE(n,r).fold(()=>Xl(e,n,o),a=>cw(e,a)),lw=(e,n,o)=>{const r=pe.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?XP(e,o,K.none()):Yo(e,r,a,n)},xO=(e,n)=>Jo(If(n,e),xg),vE=(e,n)=>Jo(If(n,e),$a("caption")),SO=(e,n,o,r,a)=>Yh(o,e.getBody(),a).bind(u=>xO(n,pe.fromDom(u.getNode())).bind(h=>Je(h,r)?K.none():K.some(wt))),Kb=(e,n)=>K.some(()=>{Rd(n),e.selection.setCursorLocation(n.dom,0)}),EO=(e,n,o,r)=>ji(e.dom).bind(a=>fl(e.dom).map(u=>n?o.isEqual(a)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(a))).getOr(!0),_O=(e,n)=>Kb(e,n),bE=(e,n,o)=>vE(e,pe.fromDom(o.getNode())).fold(()=>K.some(wt),r=>me(!Je(r,n),wt)),TO=(e,n,o,r,a)=>Yh(o,e.getBody(),a).fold(()=>K.some(wt),u=>EO(r,o,a,u)?_O(e,r):bE(n,r,u)),JP=(e,n,o,r)=>{const a=Ve.fromRangeStart(e.selection.getRng());return xO(o,r).bind(u=>Ls(e.schema,u,{checkRootAsContent:!1})?Kb(e,u):SO(e,o,n,u,a))},QP=(e,n,o,r)=>{const a=Ve.fromRangeStart(e.selection.getRng());return Ls(e.schema,r)?Kb(e,r):TO(e,o,n,r,a)},AO=(e,n)=>e?Wn(n):eO(n),eM=(e,n)=>{const o=Ve.fromRangeStart(e.selection.getRng());return AO(n,o)||Oc(n,e.getBody(),o).exists(r=>AO(n,r))},tM=(e,n,o)=>{const r=pe.fromDom(e.getBody());return vE(r,o).fold(()=>JP(e,n,r,o).orThunk(()=>me(eM(e,n),wt)),a=>QP(e,n,r,a))},Op=(e,n)=>{const o=pe.fromDom(e.selection.getStart(!0)),r=jl(e);return e.selection.isCollapsed()&&r.length===0?tM(e,n,o):lw(e,o,r)},Dp=(e,n)=>{let o=n;for(;o&&o!==e;){if(kr(o)||bs(o))return o;o=o.parentNode}return null},kO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],P7=D.each,OO=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,h)=>{if(u.nodeName!==h.nodeName||u.nodeType!==h.nodeType)return!1;const v=O=>{const F={};return P7(n.getAttribs(O),H=>{const j=H.nodeName.toLowerCase();j!=="style"&&!a(j)&&(F[j]=n.getAttrib(O,j))}),F},C=(O,F)=>{for(const H in O)if(un(O,H)){const j=F[H];if(Cn(j)||O[H]!==j)return!1;delete F[H]}for(const H in F)if(un(F,H))return!1;return!0};return Wt(u)&&Wt(h)&&(!C(v(u),v(h))||!C(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!Dc(u)&&!Dc(h)},a=u=>Xo(kO,h=>Bs(u,h))||o.has(u);return{compare:r,isAttributeInternal:a}},DO=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),nM=e=>e.name==="summary",oM=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},uw=(e,n,o,r)=>{const a=o.name;for(let u=0,h=e.length;u<h;u++){const v=e[u];if(v.name===a){const C=r.nodes[a];C?C.nodes.push(o):r.nodes[a]={filter:v,nodes:[o]}}}if(o.attributes)for(let u=0,h=n.length;u<h;u++){const v=n[u],C=v.name;if(C in o.attributes.map){const O=r.attributes[C];O?O.nodes.push(o):r.attributes[C]={filter:v,nodes:[o]}}}},sM=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&oM(o,a=>{uw(e,n,a,r)}),r},RO=(e,n)=>{const o=(r,a)=>{Dt(r,u=>{const h=Ji(u.nodes);Le(u.filter.callbacks,v=>{for(let C=h.length-1;C>=0;C--){const O=h[C];(!(a?O.attr(u.filter.name)!==void 0:O.name===u.filter.name)||Sn(O.parent))&&h.splice(C,1)}h.length>0&&v(h,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},PO=(e,n,o,r={})=>{const a=sM(e,n,o);RO(a,r)},yE=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new Da("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new Da("#text",3)).value=ei},rM=e=>{var n;return MO(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ei},MO=(e,n)=>{const o=e==null?void 0:e.firstChild;return je(o)&&o===e.lastChild&&o.name===n},iM=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Yb=(e,n,o,r)=>r.isEmpty(n,o,a=>iM(e,a)),aM=(e,n)=>je(e)&&(n(e)||e.name==="br"),cM=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return K.from(n)},dw=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!n.isValidChild(o.name,a.name)&&dw(a,n,o);e.unwrap()}},wE=(e,n,o,r=wt)=>{const a=n.getTextBlockElements(),u=n.getNonEmptyElements(),h=n.getWhitespaceElements(),v=D.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),C=new Set,O=F=>F!==o&&!v[F.name];for(let F=0;F<e.length;F++){const H=e[F];let j,oe,le;if(!H.parent||C.has(H))continue;if(a[H.name]&&H.parent.name==="li"){let de=H.next;for(;de&&a[de.name];){de.name="li",C.add(de),H.parent.insert(de,H.parent);de=de.next}H.unwrap();continue}const re=[H];for(j=H.parent;j&&!n.isValidChild(j.name,H.name)&&O(j);j=j.parent)re.push(j);if(j&&re.length>1)if(CE(n,H,j))dw(H,n);else{re.reverse(),oe=re[0].clone(),r(oe);let de=oe;for(let Ce=0;Ce<re.length-1;Ce++){n.isValidChild(de.name,re[Ce].name)&&Ce>0?(le=re[Ce].clone(),r(le),de.append(le)):le=de;for(let Ee=re[Ce].firstChild;Ee&&Ee!==re[Ce+1];){const _e=Ee.next;le.append(Ee),Ee=_e}de=le}Yb(n,u,h,oe)?j.insert(H,re[0],!0):(j.insert(oe,re[0],!0),j.insert(H,oe)),j=re[0],(Yb(n,u,h,j)||MO(j,"br"))&&j.empty().remove()}else if(H.parent){if(H.name==="li"){let de=H.prev;if(de&&(de.name==="ul"||de.name==="ol")){de.append(H);continue}if(de=H.next,de&&(de.name==="ul"||de.name==="ol")&&de.firstChild){de.insert(H,de.firstChild,!0);continue}const Ce=new Da("ul",1);r(Ce),H.wrap(Ce);continue}if(n.isValidChild(H.parent.name,"div")&&n.isValidChild("div",H.name)){const de=new Da("div",1);r(de),H.wrap(de)}else dw(H,n)}}},lM=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},CE=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&lM(o,"a")?!0:nM(o)&&DO(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,uM=(e,n,o,r)=>{const a=document.createRange();return a.setStart(e,n),a.setEnd(o,r),a},dM=e=>{const n=Ve.fromRangeStart(e),o=Ve.fromRangeEnd(e),r=e.commonAncestorContainer;return Oc(!1,r,o).map(a=>!Ac(n,o,r)&&Ac(n,a,r)?uM(n.container(),n.offset(),a.container(),a.offset()):e).getOr(e)},xE=e=>e.collapsed?e:dM(e),BO=e=>je(e.firstChild)&&e.firstChild===e.lastChild,SE=e=>e.name==="br"||e.value===ei,EE=(e,n)=>e.getBlockElements()[n.name]&&BO(n)&&SE(n.firstChild),_E=(e,n)=>{const o=e.getNonEmptyElements();return je(n)&&(n.isEmpty(o)||EE(e,n))},fM=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),_E(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},TE=e=>{var n,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},NO=(e,n,o)=>{const r=n.serialize(o),a=e.createFragment(r);return TE(a)},fw=e=>{var n;return Jt((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},IO=e=>e.data===ei||ts(e),hM=e=>je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&IO(e.firstChild),Xb=e=>!e.firstChild||hM(e),$O=e=>e.length>0&&Xb(e[e.length-1])?e.slice(0,-1):e,hw=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},mw=(e,n)=>!!hw(e,n),Rp=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},mM=(e,n)=>{const o=Ve.before(e),a=Wl(n).next(o);return a?a.toRange():null},pM=(e,n)=>{const o=Ve.after(e),a=Wl(n).prev(o);return a?a.toRange():null},_G=(e,n,o,r)=>{const a=Rp(e,r),u=e.parentNode;return u&&(u.insertBefore(a[0],e),D.each(n,h=>{u.insertBefore(h,e)}),u.insertBefore(a[1],e),u.removeChild(e)),pM(n[n.length-1],o)},M7=(e,n,o)=>{const r=e.parentNode;return r&&D.each(n,a=>{r.insertBefore(a,e)}),mM(e,o)},LO=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),pM(n[0],o)),jd=(e,n,o,r)=>{const a=NO(n,e,r),u=hw(n,o.startContainer),h=$O(fw(a.firstChild)),v=1,C=2,O=n.getRoot(),F=H=>{const j=Ve.fromRangeStart(o),oe=Wl(n.getRoot()),le=H===v?oe.prev(j):oe.next(j),re=le==null?void 0:le.getNode();return re?hw(n,re)!==u:!0};return u?F(v)?M7(u,h,O):F(C)?LO(u,h,O,n):_G(u,h,O,o):null},FO=["pre"],AE=(e,n,o,r)=>{var a;const u=n.firstChild,h=n.lastChild,v=h.attr("data-mce-type")==="bookmark"?h.prev:h,C=u===v,O=An(FO,u.name);if(C&&O){const F=u.attr("contenteditable")!=="false",H=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===u.name,j=K.from(Dp(r,o)).forall(kr);return F&&H&&j}else return!1},pw=Qc,B7=(e,n,o)=>{if(je(o)){const r=e.getParent(n.endContainer,pw);return o===r&&Mr(pe.fromDom(o),n)}else return!1},gM=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const a=o.firstChild,u=o.lastChild;!a||a===u&&a.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},N7=(e,n,o)=>{K.from(e.getParent(n,"td,th")).map(pe.fromDom).each(r=>wA(r,o))},vM=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const a=e.getBody(),u=OO(e);D.each(r.select("*[data-mce-fragment]"),h=>{if(je(o[h.nodeName.toLowerCase()])&&bP(r,h)){for(let C=h.parentElement;je(C)&&C!==a&&!J6(r,h,C);C=C.parentElement)if(u.compare(C,h)){r.remove(h,!0);break}}})}},HO=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},I7=e=>{D.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},bM=e=>!!e.getAttribute("data-mce-fragment"),$7=(e,n)=>je(n)&&!e.schema.getVoidElements()[n.nodeName],C1=(e,n)=>{var o,r,a;let u;const h=e.dom,v=e.selection;if(!n)return;v.scrollIntoView(n);const C=Dp(e.getBody(),n);if(C&&h.getContentEditable(C)==="false"){h.remove(n),v.select(C);return}let O=h.createRng();const F=n.previousSibling;if(at(F)){O.setStart(F,(r=(o=F.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const oe=n.nextSibling;at(oe)&&(F.appendData(oe.data),(a=oe.parentNode)===null||a===void 0||a.removeChild(oe))}else O.setStartBefore(n),O.setEndBefore(n);const H=oe=>{let le=Ve.fromRangeStart(oe);return le=Wl(e.getBody()).next(le),le==null?void 0:le.toRange()},j=h.getParent(n,h.isBlock);if(h.remove(n),j&&h.isEmpty(j)){const oe=pw(j);gh(pe.fromDom(j)),O.setStart(j,0),O.setEnd(j,0),!oe&&!bM(j)&&(u=H(O))?(O=u,h.remove(j)):h.add(j,h.create("br",oe?{}:{"data-mce-bogus":"1"}))}v.setRng(O)},yM=e=>{const n=e.dom,o=xE(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,pw);B7(n,o,r)?CO(e,o,pe.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&at(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},L7=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return K.some(n);return K.none()},wM=(e,n,o)=>{var r;return Xo(o.children(),DO)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},F7=(e,n,o)=>{var r,a;const u=e.selection,h=e.dom,v=e.parser,C=o.merge,O=dn({validate:!0},e.schema),F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=ja(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,F);let H=u.getRng();const j=H.startContainer,oe=e.getBody();j===oe&&u.isCollapsed()&&h.isBlock(oe.firstChild)&&$7(e,oe.firstChild)&&h.isEmpty(oe.firstChild)&&(H=h.createRng(),H.setStart(oe.firstChild,0),H.setEnd(oe.firstChild,0),u.setRng(H)),u.isCollapsed()||yM(e);const le=u.getNode(),re={context:le.nodeName.toLowerCase(),data:o.data,insert:!0},de=v.parse(n,re);if(o.paste===!0&&fM(e.schema,de)&&mw(h,le))return H=jd(O,h,u.getRng(),de),H&&u.setRng(H),n;o.paste===!0&&AE(h,de,le,e.getBody())&&((r=de.firstChild)===null||r===void 0||r.unwrap()),HO(de);let Ce=de.lastChild;if(Ce&&Ce.attr("id")==="mce_marker"){const Ee=Ce;for(Ce=Ce.prev;Ce;Ce=Ce.walk(!0))if(Ce.type===3||!h.isBlock(Ce.name)){Ce.parent&&e.schema.isValidChild(Ce.parent.name,"span")&&Ce.parent.insert(Ee,Ce,Ce.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(le),!re.invalid&&!wM(h,le,de))n=O.serialize(de),gM(e,n,le);else{e.selection.setContent(F);let Ee=u.getNode(),_e;const Be=e.getBody();for(Lm(Ee)?Ee=_e=Be:_e=Ee;_e&&_e!==Be;)Ee=_e,_e=_e.parentNode;n=Ee===Be?Be.innerHTML:h.getOuterHTML(Ee);const qe=v.parse(n),bt=L7(qe),Rt=bt.bind(cM).getOr(qe);bt.each(Ot=>Ot.replace(de));const dt=de.children(),Ue=(a=de.parent)!==null&&a!==void 0?a:qe;de.unwrap();const Ye=Jt(dt,Ot=>CE(e.schema,Ot,Ue));wE(Ye,e.schema,Rt),PO(v.getNodeFilters(),v.getAttributeFilters(),qe),n=O.serialize(qe),Ee===Be?h.setHTML(Be,n):h.setOuterHTML(Ee,n)}return vM(e,C),C1(e,h.get("mce_marker")),I7(e.getBody()),N7(h,u.getStart(),e.schema),NR(e.schema,e.getBody(),u.getStart()),n},kE=e=>e instanceof Da,H7=e=>{p1(e)&&ji(e.getBody()).each(n=>{const o=n.getNode(),r=wr(o)?ji(o).getOr(n):n;e.selection.setRng(r.toRange())})},zO=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&H7(e)},z7=(e,n,o,r)=>{if(o=ja(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+a+"</li>");const u=Ui(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=a,o=e.dom.createHTML(u,$g(e),o)):o||(o=a),zO(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=dn({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=Sg(pe.fromDom(n))?o:D.trim(o);return zO(e,a,r.no_selection),{content:a,html:a}}},CM=(e,n,o,r)=>{PO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=dn({validate:!1},e.schema).serialize(o),u=ja(Sg(pe.fromDom(n))?a:D.trim(a));return zO(e,u,r.no_selection),{content:o,html:u}},V7=(e,n,o)=>K.from(e.getBody()).map(r=>kE(n)?CM(e,r,n,o):z7(e,r,n,o)).getOr({content:n,html:kE(o.content)?"":o.content}),OE=e=>ye(e)?e:He,x1=(e,n,o)=>{let r=e.dom;const a=OE(o);for(;r.parentNode;){r=r.parentNode;const u=pe.fromDom(r),h=n(u);if(h.isSome())return h;if(a(u))break}return K.none()},VO=(e,n,o)=>{const r=n(e),a=OE(o);return r.orThunk(()=>a(e)?K.none():x1(e,n,a))},UO=i1,gw=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const u=r[a];if(Ai(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},DE=(e,n,o,r,a)=>{const u=e.dom.getRoot();if(n===u)return!1;const h=e.dom.getParent(n,v=>gw(e,v,o)?!0:v.parentNode===u||!!Zd(e,v,o,r,!0));return!!Zd(e,h,o,r,a)},vw=(e,n,o)=>Bo(o)&&UO(n,o.inline)||Rc(o)&&UO(n,o.block)?!0:Ai(o)?Wt(n)&&e.is(n,o.selector):!1,xM=(e,n,o,r,a,u)=>{const h=o[r],v=r==="attributes";if(ye(o.onmatch))return o.onmatch(n,o,r);if(h){if(Jp(h)){for(let C=0;C<h.length;C++)if(v?e.getAttrib(n,h[C]):hl(e,n,h[C]))return!0}else for(const C in h)if(un(h,C)){const O=v?e.getAttrib(n,C):hl(e,n,C),F=Zl(h[C],u),H=Sn(O)||Ii(O);if(H&&Sn(F))continue;if(a&&H&&!o.exact||(!a||o.exact)&&!UO(O,a1(F,C)))return!1}}return!0},Zd=(e,n,o,r,a)=>{const u=e.formatter.get(o),h=e.dom;if(u&&Wt(n))for(let v=0;v<u.length;v++){const C=u[v];if(vw(e.dom,n,C)&&xM(h,n,C,"attributes",a,r)&&xM(h,n,C,"styles",a,r)){const O=C.classes;if(O){for(let F=0;F<O.length;F++)if(!e.dom.hasClass(n,Zl(O[F],r)))return}return C}}},WO=(e,n,o,r,a)=>{if(r)return DE(e,r,n,o,a);if(r=e.selection.getNode(),DE(e,r,n,o,a))return!0;const u=e.selection.getStart();return!!(u!==r&&DE(e,u,n,o,a))},S1=(e,n,o)=>{const r=[],a={},u=e.selection.getStart();return e.dom.getParent(u,h=>{for(let v=0;v<n.length;v++){const C=n[v];!a[C]&&Zd(e,h,C,o)&&(a[C]=!0,r.push(C))}},e.dom.getRoot()),r},SM=(e,n)=>{const o=a=>Je(a,pe.fromDom(e.getBody())),r=(a,u)=>Zd(e,a.dom,u)?K.some(u):K.none();return K.from(e.selection.getStart(!0)).bind(a=>VO(pe.fromDom(a),u=>zc(n,h=>r(u,h)),o)).getOrNull()},EM=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),u=l1(r,a);for(let h=o.length-1;h>=0;h--){const v=o[h];if(!Ai(v))return!0;for(let C=u.length-1;C>=0;C--)if(r.is(u[C],v.selector))return!0}}return!1},_M=(e,n,o)=>To(o,(r,a)=>{const u=vk(e,a);return e.formatter.matchNode(n,a,{},u)?r.concat([a]):r},[]),Pp=Wr,TM=(e,n)=>e.importNode(n,!0),AM=e=>{if(e){const n=new $s(e,e);for(let o=n.current();o;o=n.next())if(at(o))return o}return null},RE=e=>{const n=pe.fromTag("span");return xi(n,{id:pb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&fr(n,pe.fromText(Pp)),n},U7=e=>{const n=AM(e);return n&&n.data.charAt(0)===Pp&&n.deleteData(0,1),n},jO=(e,n,o)=>{const r=e.dom,a=e.selection;if(Eb(n))y1(e,!1,pe.fromDom(n),o,!0);else{const u=a.getRng(),h=r.getParent(n,r.isBlock),v=u.startContainer,C=u.startOffset,O=u.endContainer,F=u.endOffset,H=U7(n);r.remove(n,!0),v===H&&C>0&&u.setStart(H,C-1),O===H&&F>0&&u.setEnd(H,F-1),h&&r.isEmpty(h)&&Rd(pe.fromDom(h)),a.setRng(u)}},Jb=(e,n,o)=>{const r=e.dom,a=e.selection;if(n)jO(e,n,o);else if(n=qn(e.getBody(),a.getStart()),!n)for(;n=r.get(pb);)jO(e,n,o)},kM=(e,n,o)=>{var r,a;const u=e.dom,h=u.getParent(o,Ge(o1,e.schema));h&&u.isEmpty(h)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(yA(pe.fromDom(o)),u.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):u.insertAfter(n,o))},PE=(e,n)=>(e.appendChild(n),n),OM=(e,n)=>{var o;const r=Ya(e,(u,h)=>PE(u,h.cloneNode(!1)),n),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return PE(r,a.createTextNode(Pp))},W7=(e,n,o,r,a,u)=>{const h=e.formatter,v=e.dom,C=Jt(fi(h.get()),H=>H!==r&&!Fr(H,"removeformat")),O=_M(e,o,C);if(Jt(O,H=>!bk(e,H,r)).length>0){const H=o.cloneNode(!1);return v.add(n,H),h.remove(r,a,H,u),v.remove(H),K.some(H)}else return K.none()},DM=(e,n,o)=>{let r;const a=e.selection,u=e.formatter.get(n);if(!u)return;const h=a.getRng();let v=h.startOffset;const O=h.startContainer.nodeValue;r=qn(e.getBody(),a.getStart());const F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&v>0&&v<O.length&&F.test(O.charAt(v))&&F.test(O.charAt(v-1))){const H=a.getBookmark();h.collapse(!0);let j=Pf(e.dom,h,u);j=vt(j),e.formatter.apply(n,o,j),a.moveToBookmark(H)}else{let H=r?AM(r):null;(!r||(H==null?void 0:H.data)!==Pp)&&(r=TM(e.getDoc(),RE(!0).dom),H=r.firstChild,h.insertNode(r),v=1),e.formatter.apply(n,o,r),a.setCursorLocation(H,v)}},ZO=(e,n,o,r)=>{const a=e.dom,u=e.selection;let h=!1;const v=e.formatter.get(n);if(!v)return;const C=u.getRng(),O=C.startContainer,F=C.startOffset;let H=O;at(O)&&(F!==O.data.length&&(h=!0),H=H.parentNode);const j=[];let oe;for(;H;){if(Zd(e,H,n,o,r)){oe=H;break}H.nextSibling&&(h=!0),j.push(H),H=H.parentNode}if(oe)if(h){const le=u.getBookmark();C.collapse(!0);let re=Pf(a,C,v,!0);re=vt(re),e.formatter.remove(n,o,re,r),u.moveToBookmark(le)}else{const le=qn(e.getBody(),oe),re=je(le)?a.getParents(oe.parentNode,ht,le):[],de=RE(!1).dom;kM(e,de,le??oe);const Ce=W7(e,de,oe,n,o,r),Ee=OM([...j,...Ce.toArray(),...re],de);le&&jO(e,le,je(le)),u.setCursorLocation(Ee,1),a.isEmpty(oe)&&a.remove(oe)}},RM=(e,n,o)=>{const r=e.selection,a=e.getBody();Jb(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Pp&&Jb(e,qn(a,r.getStart()),!0),(n===37||n===39)&&Jb(e,qn(a,r.getStart()),!0)},j7=e=>at(e)&&jc(e.data,ei),Z7=e=>{e.on("mouseup keydown",n=>{RM(e,n.keyCode,j7(e.selection.getRng().endContainer))})},PM=e=>{const n=RE(!1),o=OM(e,n.dom);return{caretContainer:n,caretPosition:Ve(o,0)}},bw=(e,n)=>{const{caretContainer:o,caretPosition:r}=PM(n);return Si(pe.fromDom(e),o),Eo(pe.fromDom(e)),r},cm=(e,n)=>{const{caretContainer:o,caretPosition:r}=PM(n);return e.insertNode(o.dom),r},MM=(e,n)=>{if(ac(n.dom))return!1;const o=e.schema.getTextInlineElements();return un(o,Jn(n))&&!ac(n.dom)&&!Vr(n.dom)},E1={},ir=Jc(["pre"]),qO=(e,n)=>{E1[e]||(E1[e]=[]),E1[e].push(n)},GO=(e,n)=>{un(E1,e)&&Le(E1[e],o=>{o(n)})};qO("pre",e=>{const n=e.selection.getRng(),o=a=>u=>{const h=u.previousSibling;return ir(h)&&An(a,h)},r=(a,u)=>{const h=pe.fromDom(u),v=fn(h).dom;Eo(h),es(pe.fromDom(a),[pe.fromTag("br",v),pe.fromTag("br",v),...ks(h)])};if(!n.collapsed){const a=e.selection.getSelectedBlocks(),u=Jt(Jt(a,ir),o(a));Le(u,h=>{r(h.previousSibling,h)})}});const $f=["fontWeight","fontStyle","color","fontSize","fontFamily"],BM=e=>mt(e.styles)&&Xo(fi(e.styles),n=>An($f,n)),NM=e=>Jo(e,n=>Bo(n)&&n.inline==="span"&&BM(n)),Qb=(e,n)=>{const o=e.get(n);return Gt(o)?NM(o):K.none()},IM=(e,n)=>Oa(n,Ve.fromRangeStart(e)).isNone(),$M=(e,n)=>ra(n,Ve.fromRangeEnd(e)).exists(o=>!ts(o.getNode())||ra(n,o).isSome())===!1,_1=e=>n=>_o(n)&&e.isEditable(n),q7=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return IM(o,n[0])&&$M(o,n[0])?n:[];{const r=Ys(n).filter(h=>IM(o,h)).toArray(),a=ga(n).filter(h=>$M(o,h)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(a)}},T1=e=>Jt(q7(e),_1(e.dom)),LM=e=>Jt(e.getSelectedBlocks(),_1(e.dom)),Lf=D.each,Ic=e=>Wt(e)&&!Dc(e)&&!ac(e)&&!Vr(e),e0=(e,n)=>{for(let o=e;o;o=o[n]){if(at(o)&&Uo(o.data))return e;if(Wt(o)&&!Dc(o))return o}return e},ME=(e,n,o)=>{const r=OO(e),a=wd(n)&&e.dom.isEditable(n),u=wd(o)&&e.dom.isEditable(o);if(a&&u){const h=e0(n,"previousSibling"),v=e0(o,"nextSibling");if(r.compare(h,v)){for(let C=h.nextSibling;C&&C!==v;){const O=C;C=C.nextSibling,h.appendChild(O)}return e.dom.remove(v),D.each(D.grep(v.childNodes),C=>{h.appendChild(C)}),h}}return o},BE=(e,n,o,r)=>{var a;if(r&&n.merge_siblings!==!1){const u=(a=ME(e,O2(r),r))!==null&&a!==void 0?a:r;ME(e,u,O2(u,!0))}},G7=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";Lf(e.select(r,o),a=>{Ic(a)&&e.isEditable(a)&&Lf(n.styles,(u,h)=>{e.setStyle(a,h,"")})})}},t0=(e,n,o)=>{Lf(e.childNodes,r=>{Ic(r)&&(n(r)&&o(r),r.hasChildNodes()&&t0(r,n,o))})},K7=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Jl=(e,n)=>o=>!!(o&&hl(e,o,n)),yw=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),K7(e,r)},Mp=Iu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),KO=/^(src|href|style)$/,ww=D.each,Ff=i1,YO=e=>/^(TR|TH|TD)$/.test(e.nodeName),FM=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),XO=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],a=n[o?"startOffset":"endOffset"];if(Wt(r)){const u=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>u?u:a]}return at(r)&&o&&a>=r.data.length&&(r=new $s(r,e.getBody()).next()||r),at(r)&&!o&&a===0&&(r=new $s(r,e.getBody()).prev()||r),r},HM=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return YO(e)&&r?e.nodeName==="TR"&&r[o]||r:e},JO=(e,n,o,r)=>{var a;const u=e.create(o,r);return(a=n.parentNode)===null||a===void 0||a.insertBefore(u,n),u.appendChild(n),u},zM=(e,n,o,r,a)=>{const u=pe.fromDom(n),h=pe.fromDom(e.create(r,a)),v=o?er(u):pi(u);return es(h,v),o?(Si(u,h),Ml(h,u)):(bd(u,h),fr(h,u)),h.dom},Y7=(e,n)=>n.links&&e.nodeName==="A",n0=(e,n,o)=>{const r=n.parentNode;let a;const u=e.dom,h=Ui(e);Rc(o)&&r===u.getRoot()&&(!o.list_block||!Ff(n,o.list_block))&&Le(Ji(n.childNodes),v=>{Sp(e,h,v.nodeName.toLowerCase())?a?a.appendChild(v):(a=JO(u,v,h),u.setAttribs(a,$g(e))):a=null}),!(ml(o)&&!Ff(o.inline,n))&&u.remove(n,!0)},VM=(e,n,o)=>Ze(e)?{name:n,value:null}:{name:e,value:Zl(n,o)},QO=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},NE=(e,n,o,r,a)=>{let u=!1;ww(o.styles,(h,v)=>{const{name:C,value:O}=VM(v,h,r),F=a1(O,C);(o.remove_similar||A(O)||!Wt(a)||Ff(hl(e,a,C),F))&&e.setStyle(n,C,""),u=!0}),u&&QO(e,n)},X7=(e,n,o)=>{n==="removeformat"?Le(LM(e.selection),r=>{Le($f,a=>e.dom.setStyle(r,a,"")),QO(e.dom,r)}):Qb(e.formatter,n).each(r=>{Le(LM(e.selection),a=>NE(e.dom,a,r,o,null))})},e4=(e,n,o,r,a)=>{const u=e.dom,h=OO(e),v=e.schema;if(Bo(n)&&Vm(v,n.inline)&&vf(v,r)&&r.parentElement===e.getBody())return n0(e,r,n),Mp.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!vw(u,r,n)&&!Y7(r,n))return Mp.keep();const C=r,O=n.preserve_attributes;if(Bo(n)&&n.remove==="all"&&Gt(O)){const F=Jt(u.getAttribs(C),H=>An(O,H.name.toLowerCase()));if(u.removeAllAttribs(C),Le(F,H=>u.setAttrib(C,H.name,H.value)),F.length>0)return Mp.rename("span")}if(n.remove!=="all"){NE(u,C,n,o,a),ww(n.attributes,(H,j)=>{const{name:oe,value:le}=VM(j,H,o);if(n.remove_similar||A(le)||!Wt(a)||Ff(u.getAttrib(a,oe),le)){if(oe==="class"){const re=u.getAttrib(C,oe);if(re){let de="";if(Le(re.split(/\s+/),Ce=>{/mce\-\w+/.test(Ce)&&(de+=(de?" ":"")+Ce)}),de){u.setAttrib(C,oe,de);return}}}if(KO.test(oe)&&C.removeAttribute("data-mce-"+oe),oe==="style"&&Jc(["li"])(C)&&u.getStyle(C,"list-style-type")==="none"){C.removeAttribute(oe),u.setStyle(C,"list-style-type","none");return}oe==="class"&&C.removeAttribute("className"),C.removeAttribute(oe)}}),ww(n.classes,H=>{H=Zl(H,o),(!Wt(a)||u.hasClass(a,H))&&u.removeClass(C,H)});const F=u.getAttribs(C);for(let H=0;H<F.length;H++){const j=F[H].nodeName;if(!h.isAttributeInternal(j))return Mp.keep()}}return n.remove!=="none"?(n0(e,C,n),Mp.removed()):Mp.keep()},UM=(e,n,o,r,a)=>{let u;return n.parentNode&&Le(l1(e.dom,n.parentNode).reverse(),h=>{if(!u&&Wt(h)&&h.id!=="_start"&&h.id!=="_end"){const v=Zd(e,h,o,r,a);v&&v.split!==!1&&(u=h)}}),u},J7=(e,n,o,r)=>e4(e,n,o,r,r).fold(st(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),st(null)),Q7=(e,n,o,r,a,u,h,v)=>{var C,O;let F,H;const j=e.dom;if(o){const oe=o.parentNode;for(let le=r.parentNode;le&&le!==oe;le=le.parentNode){let re=j.clone(le,!1);for(let de=0;de<n.length&&(re=J7(e,n[de],v,re),re!==null);de++);re&&(F&&re.appendChild(F),H||(H=re),F=re)}u&&(!h.mixed||!j.isBlock(o))&&(r=(C=j.split(o,r))!==null&&C!==void 0?C:r),F&&H&&((O=a.parentNode)===null||O===void 0||O.insertBefore(F,a),H.appendChild(a),Bo(h)&&BE(e,h,v,F))}return r},eH=(e,n,o,r,a)=>{const u=e.formatter.get(n),h=u[0],v=e.dom,C=e.selection,O=re=>{const de=UM(e,re,n,o,a);return Q7(e,u,de,re,re,!0,h,o)},F=re=>Dc(re)&&Wt(re)&&(re.id==="_start"||re.id==="_end"),H=re=>Xo(u,de=>Cw(e,de,o,re,re)),j=re=>{const de=Ji(re.childNodes),Ee=H(re)||Xo(u,qe=>vw(v,re,qe)),_e=re.parentNode;if(!Ee&&je(_e)&&qa(h)&&H(_e),h.deep&&de.length)for(let qe=0;qe<de.length;qe++)j(de[qe]);Le(["underline","line-through","overline"],qe=>{Wt(re)&&e.dom.getStyle(re,"text-decoration")===qe&&re.parentNode&&c1(v,re.parentNode)===qe&&Cw(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:qe}},void 0,re)})},oe=re=>{const de=v.get(re?"_start":"_end");if(de){let Ce=de[re?"firstChild":"lastChild"];return F(Ce)&&(Ce=Ce[re?"firstChild":"lastChild"]),at(Ce)&&Ce.data.length===0&&(Ce=re?de.previousSibling||de.nextSibling:de.nextSibling||de.previousSibling),v.remove(de,!0),Ce}else return null},le=re=>{let de,Ce,Ee=Pf(v,re,u,re.collapsed);if(h.split){if(Ee=vt(Ee),de=XO(e,Ee,!0),Ce=XO(e,Ee),de!==Ce){if(de=HM(de,!0),Ce=HM(Ce,!1),FM(v,de,Ce)){const Be=K.from(de.firstChild).getOr(de);O(zM(v,Be,!0,"span",{id:"_start","data-mce-type":"bookmark"})),oe(!0);return}if(FM(v,Ce,de)){const Be=K.from(Ce.lastChild).getOr(Ce);O(zM(v,Be,!1,"span",{id:"_end","data-mce-type":"bookmark"})),oe(!1);return}de=JO(v,de,"span",{id:"_start","data-mce-type":"bookmark"}),Ce=JO(v,Ce,"span",{id:"_end","data-mce-type":"bookmark"});const _e=v.createRng();_e.setStartAfter(de),_e.setEndBefore(Ce),Mf(v,_e,Be=>{Le(Be,qe=>{!Dc(qe)&&!Dc(qe.parentNode)&&O(qe)})}),O(de),O(Ce),de=oe(!0),Ce=oe()}else de=Ce=O(de);Ee.startContainer=de.parentNode?de.parentNode:de,Ee.startOffset=v.nodeIndex(de),Ee.endContainer=Ce.parentNode?Ce.parentNode:Ce,Ee.endOffset=v.nodeIndex(Ce)+1}Mf(v,Ee,_e=>{Le(_e,j)})};if(r){if(xp(r)){const re=v.createRng();re.setStartBefore(r),re.setEndAfter(r),le(re)}else le(r);WS(e,n,r,o);return}!C.isCollapsed()||!Bo(h)||jl(e).length?(k2(e,()=>Cp(e,le),re=>Bo(h)&&WO(e,n,o,re)),e.nodeChanged()):ZO(e,n,o,a),X7(e,n,o),WS(e,n,r,o)},WM=(e,n,o,r,a)=>{(r||e.selection.isEditable())&&eH(e,n,o,r,a)},Cw=(e,n,o,r,a)=>e4(e,n,o,r,a).fold(He,u=>(e.dom.rename(r,u),!0),ht),jM=D.each,tH=(e,n,o,r)=>{const a=u=>{if(wd(u)&&Wt(u.parentNode)&&e.isEditable(u)){const h=c1(e,u.parentNode);e.getStyle(u,"color")&&h?e.setStyle(u,"text-decoration",h):e.getStyle(u,"text-decoration")===h&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(D.walk(r,a,"childNodes"),a(r))},nH=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const a=Jl(e,"fontSize");t0(r,u=>a(u)&&e.isEditable(u),yw(e,"backgroundColor",Zl(n.styles.backgroundColor,o)))}},oH=(e,n,o,r)=>{if(Bo(n)&&(n.inline==="sub"||n.inline==="sup")){const a=Jl(e,"fontSize");t0(r,h=>a(h)&&e.isEditable(h),yw(e,"fontSize",""));const u=Jt(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},sH=(e,n,o,r)=>{jM(n,a=>{Bo(a)&&jM(e.dom.select(a.inline,r),u=>{Ic(u)&&Cw(e,a,o,u,a.exact?u:null)}),G7(e.dom,a,r)})},rH=(e,n,o,r,a)=>{const u=a.parentNode;Zd(e,u,o,r)&&Cw(e,n,r,a)||n.merge_with_parents&&u&&e.dom.getParent(u,h=>Zd(e,h,o,r)?(Cw(e,n,r,a),!0):!1)},IE=D.each,iH=(e,n,o,r)=>{if(Jx(e)&&Bo(n)&&o.parentNode){const a=Rv(e.schema),u=_a(pe.fromDom(o),h=>ac(h.dom));return Lr(a,r)&&_i(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},t4=(e,n,o,r)=>{if(IE(o.styles,(a,u)=>{e.setStyle(n,u,Zl(a,r))}),o.styles){const a=e.getAttrib(n,"style");a&&e.setAttrib(n,"data-mce-style",a)}},aH=(e,n,o,r)=>{const a=e.formatter.get(n),u=a[0],h=!r&&e.selection.isCollapsed(),v=e.dom,C=e.selection,O=(le,re=u)=>{ye(re.onformat)&&re.onformat(le,re,o,r),t4(v,le,re,o),IE(re.attributes,(de,Ce)=>{v.setAttrib(le,Ce,Zl(de,o))}),IE(re.classes,de=>{const Ce=Zl(de,o);v.hasClass(le,Ce)||v.addClass(le,Ce)})},F=(le,re)=>{let de=!1;return IE(le,Ce=>Ai(Ce)?v.getContentEditable(re)==="false"&&!Ce.ceFalseOverride||je(Ce.collapsed)&&Ce.collapsed!==h?!0:v.is(re,Ce.selector)&&!ac(re)?(O(re,Ce),de=!0,!1):!0:!1),de},H=le=>{if(ue(le)){const re=v.create(le);return O(re),re}else return null},j=(le,re,de)=>{const Ce=[];let Ee=!0;const _e=u.inline||u.block,Be=H(_e),qe=dt=>IS(u)&&Zd(e,dt,n,o),bt=(dt,Ue,Ye)=>{const Ot=yk(u)&&o1(e.schema,dt)&&Sp(e,Ue,_e);return Ye&&Ot},Rt=(dt,Ue,Ye,Ot)=>{const Yt=dt.nodeName.toLowerCase(),zn=Sp(e,_e,Yt)&&Sp(e,Ue,_e),Qn=!de&&at(dt)&&Hv(dt.data),Ro=ac(dt),Ho=!Bo(u)||!le.isBlock(dt);return(Ye||Ot)&&zn&&!Qn&&!Ro&&Ho};Mf(le,re,dt=>{let Ue;const Ye=Ot=>{let Yt=!1,zn=Ee,Qn=!1;const Ro=Ot.parentNode,Ho=Ro.nodeName.toLowerCase(),cs=le.getContentEditable(Ot);je(cs)&&(zn=Ee,Ee=cs==="true",Yt=!0,Qn=Sb(e,Ot));const Ri=Ee&&!Yt;if(ts(Ot)&&!iH(e,u,Ot,Ho)){Ue=null,Rc(u)&&le.remove(Ot);return}if(qe(Ot)){Ue=null;return}if(bt(Ot,Ho,Ri)){const zo=le.rename(Ot,_e);O(zo),Ce.push(zo),Ue=null;return}if(Ai(u)){let zo=F(a,Ot);if(!zo&&je(Ro)&&qa(u)&&(zo=F(a,Ro)),!Bo(u)||zo){Ue=null;return}}je(Be)&&Rt(Ot,Ho,Ri,Qn)?(Ue||(Ue=le.clone(Be,!1),Ro.insertBefore(Ue,Ot),Ce.push(Ue)),Qn&&Yt&&(Ee=zn),Ue.appendChild(Ot)):(Ue=null,Le(Ji(Ot.childNodes),Ye),Yt&&(Ee=zn),Ue=null)};Le(dt,Ye)}),u.links===!0&&Le(Ce,dt=>{const Ue=Ye=>{Ye.nodeName==="A"&&O(Ye,u),Le(Ji(Ye.childNodes),Ue)};Ue(dt)}),Le(Ce,dt=>{const Ue=Yt=>{let zn=0;return Le(Yt.childNodes,Qn=>{!xb(Qn)&&!Dc(Qn)&&zn++}),zn},Ye=Yt=>Jo(Yt.childNodes,n1).filter(Qn=>le.getContentEditable(Qn)!=="false"&&vw(le,Qn,u)).map(Qn=>{const Ro=le.clone(Qn,!1);return O(Ro),le.replace(Ro,Yt,!0),le.remove(Qn,!0),Ro}).getOr(Yt),Ot=Ue(dt);if((Ce.length>1||!le.isBlock(dt))&&Ot===0){le.remove(dt,!0);return}(Bo(u)||Rc(u)&&u.wrapper)&&(!u.exact&&Ot===1&&(dt=Ye(dt)),sH(e,a,o,dt),rH(e,u,n,o,dt),nH(le,u,o,dt),tH(le,u,o,dt),oH(le,u,o,dt),BE(e,u,o,dt))})},oe=xp(r)?r:C.getNode();if(v.getContentEditable(oe)==="false"&&!Sb(e,oe)){r=oe,F(a,r),US(e,n,r,o);return}if(u){if(r)if(xp(r)){if(!F(a,r)){const le=v.createRng();le.setStartBefore(r),le.setEndAfter(r),j(v,Pf(v,le,a),!0)}}else j(v,r,!0);else!h||!Bo(u)||jl(e).length?(C.setRng(xE(C.getRng())),k2(e,()=>{Cp(e,(le,re)=>{const de=re?le:Pf(v,le,a);j(v,de,!1)})},ht),e.nodeChanged()):DM(e,n,o),Qb(e.formatter,n).each(le=>{Le(T1(e.selection),re=>t4(v,re,le,o))});GO(n,e)}US(e,n,r,o)},A1=(e,n,o,r)=>{(r||e.selection.isEditable())&&aH(e,n,o,r)},ZM=e=>un(e,"vars"),cH=(e,n)=>{e.set({}),n.on("NodeChange",o=>{KM(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=K.from(o.node).map(a=>xp(a)?a:a.startContainer).bind(a=>Wt(a)?K.some(a):K.from(a.parentElement)).getOrThunk(()=>qM(n));KM(n,r,e.get())})},qM=e=>e.selection.getStart(),GM=(e,n,o,r,a)=>Xa(n,v=>{const C=e.formatter.matchNode(v,o,a??{},r);return!Cn(C)},v=>gw(e,v,o)?!0:r?!1:je(e.formatter.matchNode(v,o,a,!0))),n4=(e,n)=>{const o=n??qM(e);return Jt(l1(e.dom,o),r=>Wt(r)&&!Vr(r))},KM=(e,n,o)=>{const r=n4(e,n);Dt(o,(a,u)=>{const h=v=>{const C=GM(e,r,u,v.similar,ZM(v)?v.vars:void 0),O=C.isSome();if(v.state.get()!==O){v.state.set(O);const F=C.getOr(n);ZM(v)?v.callback(O,{node:F,format:u,parents:r}):Le(v.callbacks,H=>H(O,{node:F,format:u,parents:r}))}};Le([a.withSimilar,a.withoutSimilar],h),Le(a.withVars,h)})},lH=(e,n,o,r,a,u)=>{const h=n.get();Le(o.split(","),v=>{const C=Qo(h,v).getOrThunk(()=>{const F={withSimilar:{state:or(!1),similar:!0,callbacks:[]},withoutSimilar:{state:or(!1),similar:!1,callbacks:[]},withVars:[]};return h[v]=F,F}),O=()=>{const F=n4(e);return GM(e,F,v,a,u).isSome()};if(Cn(u)){const F=a?C.withSimilar:C.withoutSimilar;F.callbacks.push(r),F.callbacks.length===1&&F.state.set(O())}else C.withVars.push({state:or(O()),similar:a,vars:u,callback:r})}),n.set(h)},uH=(e,n,o)=>{const r=e.get();Le(n.split(","),a=>Qo(r,a).each(u=>{r[a]={withSimilar:{...u.withSimilar,callbacks:Jt(u.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:Jt(u.withoutSimilar.callbacks,h=>h!==o)},withVars:Jt(u.withVars,h=>h.callback!==o)}})),e.set(r)},dH=(e,n,o,r,a,u)=>(lH(e,n,o,r,a,u),{unbind:()=>uH(n,o,r)}),fH=(e,n,o,r)=>{const a=e.formatter.get(n);a&&(WO(e,n,o,r)&&(!("toggle"in a[0])||a[0].toggle)?WM(e,n,o,r):A1(e,n,o,r))},YM=D.explode,XM=()=>{const e={};return{addFilter:(a,u)=>{Le(YM(a),h=>{un(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(u)})},getFilters:()=>ud(e),removeFilter:(a,u)=>{Le(YM(a),h=>{if(un(e,h))if(je(u)){const v=e[h],C=Jt(v.callbacks,O=>O!==u);C.length>0?v.callbacks=C:delete e[h]}else delete e[h]})}}},hH=(e,n)=>{Le(n,o=>{e.attr(o,null)})},mH=(e,n,o)=>{e.addNodeFilter("font",r=>{Le(r,a=>{const u=n.parse(a.attr("style")),h=a.attr("color"),v=a.attr("face"),C=a.attr("size");h&&(u.color=h),v&&(u["font-family"]=v),C&&Zc(C).each(O=>{u["font-size"]=o[O-1]}),a.name="span",a.attr("style",n.serialize(u)),hH(a,["color","face","size"])})})},pH=(e,n,o)=>{e.addNodeFilter("strike",r=>{const a=n.type!=="html4";Le(r,u=>{if(a)u.name="s";else{const h=o.parse(u.attr("style"));h["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(h))}})})},o4=(e,n,o)=>{var r;const a=rl();n.convert_fonts_to_spans&&mH(e,a,D.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),pH(e,o,a)},JM=(e,n,o)=>{n.inline_styles&&o4(e,n,o)},TG=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),xw=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},$E=e=>{const[n,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(a){const u=a[2]===";base64",h=u?xw(r):decodeURIComponent(r);return K.some({type:a[1],data:h,base64Encoded:u})}else return K.none()},o0=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return K.none()}const a=new Uint8Array(r.length);for(let u=0;u<a.length;u++)a[u]=r.charCodeAt(u);return K.some(new Blob([a],{type:e}))},Sw=e=>new Promise((n,o)=>{$E(e).bind(({type:r,data:a,base64Encoded:u})=>o0(r,a,u)).fold(()=>o("Invalid data URI"),n)}),LE=e=>Bs(e,"blob:")?TG(e):Bs(e,"data:")?Sw(e):Promise.reject("Unknown URI format"),Ew=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let QM=0;const AG=e=>(e||"blobid")+QM++,eB=(e,n,o)=>$E(e).bind(({data:r,type:a,base64Encoded:u})=>{if(n&&!u)return K.none();{const h=u?r:btoa(r);return o(h,a)}}),gH=(e,n,o)=>{const r=e.create(AG(),n,o);return e.add(r),r},tB=(e,n,o=!1)=>eB(n,o,(r,a)=>K.from(e.getByData(r,a)).orThunk(()=>o0(a,r).map(u=>gH(e,u,r)))),vH=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Bs(n,"blob:")){const r=e.getByUri(n);return je(r)?Promise.resolve(r):LE(n).then(a=>Ew(a).then(u=>eB(u,!1,h=>K.some(gH(e,a,h))).getOrThunk(o)))}else return Bs(n,"data:")?tB(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},kG=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,bH=e=>K.from(e.match(kG)).bind(n=>pa(n,1)).map(n=>Bs(n,"www.")?n.substring(4):n),Di=(e,n)=>{K.from(e.attr("src")).bind(bH).forall(o=>!An(n,o))&&e.attr("sandbox","")},s4=(e,n)=>Bs(e,`${n}/`),nB=e=>Cn(e)?"iframe":s4(e,"image")?"img":s4(e,"video")?"video":s4(e,"audio")?"audio":"iframe",yH=({type:e,src:n,width:o,height:r}={},a,u)=>{const h=nB(e),v=new Da(h,1);return v.attr(h==="audio"?{src:n}:{src:n,width:o,height:r}),(h==="audio"||h==="video")&&v.attr("controls",""),h==="iframe"&&a&&Di(v,u),v},FE=e=>je(e.attr("data-mce-bogus")),oB=e=>e.attr("src")===Mt.transparentSrc||je(e.attr("data-mce-placeholder")),Kr=(e,n)=>{const{blob_cache:o}=n;if(o){const r=a=>{const u=a.attr("src");oB(a)||FE(a)||Sn(u)||tB(o,u,!0).each(h=>{a.attr("src",h.blobUri())})};e.addAttributeFilter("src",a=>Le(a,r))}},OG=(e,n)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",C=>{let O=C.length;const F=j=>j.split(" ").filter(le=>le.length>0).concat(["noopener"]).sort().join(" "),H=j=>{const oe=j?D.trim(j):"";return/\b(noopener)\b/g.test(oe)?oe:F(oe)};if(!n.allow_unsafe_link_target)for(;O--;){const j=C[O];j.name==="a"&&j.attr("target")==="_blank"&&j.attr("rel",H(j.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",C=>{let O=C.length,F,H,j,oe;for(;O--;)if(oe=C[O],oe.name==="a"&&oe.firstChild&&!oe.attr("href"))for(j=oe.parent,F=oe.lastChild;F&&j;)H=F.prev,j.insert(F,oe),F=H}),n.fix_list_elements&&e.addNodeFilter("ul,ol",C=>{let O=C.length,F,H;for(;O--;)if(F=C[O],H=F.parent,H&&(H.name==="ul"||H.name==="ol"))if(F.prev&&F.prev.name==="li")F.prev.append(F);else{const j=new Da("li",1);j.attr("style","list-style-type: none"),F.wrap(j)}});const u=a.getValidClasses();n.validate&&u&&e.addAttributeFilter("class",C=>{var O;let F=C.length;for(;F--;){const H=C[F],j=(O=H.attr("class"))!==null&&O!==void 0?O:"",oe=D.explode(j," ");let le="";for(let re=0;re<oe.length;re++){const de=oe[re];let Ce=!1,Ee=u["*"];Ee&&Ee[de]&&(Ce=!0),Ee=u[H.name],!Ce&&Ee&&Ee[de]&&(Ce=!0),Ce&&(le&&(le+=" "),le+=de)}le.length||(le=null),H.attr("class",le)}}),Kr(e,n);const h=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,v=af((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",C=>Le(C,O=>{O.replace(yH({type:O.attr("type"),src:O.name==="object"?O.attr("data"):O.attr("src"),width:O.attr("width"),height:O.attr("height")},h,v))})),h&&e.addNodeFilter("iframe",C=>Le(C,O=>Di(O,v)))},{entries:wH,setPrototypeOf:CH,isFrozen:DG,getPrototypeOf:qu,getOwnPropertyDescriptor:HE}=Object;let{freeze:yi,seal:Pa,create:xH}=Object,{apply:r4,construct:Bp}=typeof Reflect<"u"&&Reflect;r4||(r4=function(n,o,r){return n.apply(o,r)}),yi||(yi=function(n){return n}),Pa||(Pa=function(n){return n}),Bp||(Bp=function(n,o){return new n(...o)});const s0=Gu(Array.prototype.forEach),r0=Gu(Array.prototype.pop),k1=Gu(Array.prototype.push),i0=Gu(String.prototype.toLowerCase),zE=Gu(String.prototype.toString),sB=Gu(String.prototype.match),qd=Gu(String.prototype.replace),SH=Gu(String.prototype.indexOf),rB=Gu(String.prototype.trim),Ql=Gu(RegExp.prototype.test),_w=EH(TypeError);function Gu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return r4(e,n,r)}}function EH(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Bp(e,o)}}function Fo(e,n,o){var r;o=(r=o)!==null&&r!==void 0?r:i0,CH&&CH(e,null);let a=n.length;for(;a--;){let u=n[a];if(typeof u=="string"){const h=o(u);h!==u&&(DG(n)||(n[a]=h),u=h)}e[u]=!0}return e}function O1(e){const n=xH(null);for(const[o,r]of wH(e))n[o]=r;return n}function VE(e,n){for(;e!==null;){const r=HE(e,n);if(r){if(r.get)return Gu(r.get);if(typeof r.value=="function")return Gu(r.value)}e=qu(e)}function o(r){return console.warn("fallback value for",r),null}return o}const a0=yi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UE=yi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),i4=yi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iB=yi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),a4=yi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),aB=yi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cB=yi(["#text"]),lB=yi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WE=yi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),c4=yi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tw=yi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uB=Pa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dB=Pa(/<%[\w\W]*|[\w\W]*%>/gm),fB=Pa(/\${[\w\W]*}/gm),_H=Pa(/^data-[\-\w.\u00B7-\uFFFF]/),TH=Pa(/^aria-[\-\w]+$/),hB=Pa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),l4=Pa(/^(?:\w+script|data):/i),Aw=Pa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),u4=Pa(/^html$/i);var d4=Object.freeze({__proto__:null,MUSTACHE_EXPR:uB,ERB_EXPR:dB,TMPLIT_EXPR:fB,DATA_ATTR:_H,ARIA_ATTR:TH,IS_ALLOWED_URI:hB,IS_SCRIPT_OR_DATA:l4,ATTR_WHITESPACE:Aw,DOCTYPE_NAME:u4});const jE=()=>typeof window>"u"?null:window,AH=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function mB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jE();const n=Xn=>mB(Xn);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,r=o.currentScript;let{document:a}=e;const{DocumentFragment:u,HTMLTemplateElement:h,Node:v,Element:C,NodeFilter:O,NamedNodeMap:F=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:H,DOMParser:j,trustedTypes:oe}=e,le=C.prototype,re=VE(le,"cloneNode"),de=VE(le,"nextSibling"),Ce=VE(le,"childNodes"),Ee=VE(le,"parentNode");if(typeof h=="function"){const Xn=a.createElement("template");Xn.content&&Xn.content.ownerDocument&&(a=Xn.content.ownerDocument)}let _e,Be="";const{implementation:qe,createNodeIterator:bt,createDocumentFragment:Rt,getElementsByTagName:dt}=a,{importNode:Ue}=o;let Ye={};n.isSupported=typeof wH=="function"&&typeof Ee=="function"&&qe&&qe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ot,ERB_EXPR:Yt,TMPLIT_EXPR:zn,DATA_ATTR:Qn,ARIA_ATTR:Ro,IS_SCRIPT_OR_DATA:Ho,ATTR_WHITESPACE:cs}=d4;let{IS_ALLOWED_URI:Ri}=d4,zo=null;const Tt=Fo({},[...a0,...UE,...i4,...a4,...cB]);let Kt=null;const to=Fo({},[...lB,...WE,...c4,...Tw]);let kt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ln=null,Gn=null,Bt=!0,jn=!0,Zn=!1,_r=!0,Po=!1,Tr=!1,Sl=!1,tf=!1,da=!1,Fc=!1,ru=!1,Hc=!0,iu=!1;const Qt="user-content-";let ao=!0,Es=!1,zs={},pr=null;const li=Fo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Gs=null;const cr=Fo({},["audio","video","img","source","image","track"]);let fa=null;const au=Fo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),od="http://www.w3.org/1998/Math/MathML",sd="http://www.w3.org/2000/svg",El="http://www.w3.org/1999/xhtml";let vm=El,tv=!1,nv=null;const PC=Fo({},[od,sd,El],zE);let nf;const ov=["application/xhtml+xml","text/html"],vR="text/html";let Yi,Zp=null;const RT=a.createElement("form"),PT=function(Fe){return Fe instanceof RegExp||Fe instanceof Function},of=function(Fe){if(!(Zp&&Zp===Fe)){if((!Fe||typeof Fe!="object")&&(Fe={}),Fe=O1(Fe),nf=ov.indexOf(Fe.PARSER_MEDIA_TYPE)===-1?nf=vR:nf=Fe.PARSER_MEDIA_TYPE,Yi=nf==="application/xhtml+xml"?zE:i0,zo="ALLOWED_TAGS"in Fe?Fo({},Fe.ALLOWED_TAGS,Yi):Tt,Kt="ALLOWED_ATTR"in Fe?Fo({},Fe.ALLOWED_ATTR,Yi):to,nv="ALLOWED_NAMESPACES"in Fe?Fo({},Fe.ALLOWED_NAMESPACES,zE):PC,fa="ADD_URI_SAFE_ATTR"in Fe?Fo(O1(au),Fe.ADD_URI_SAFE_ATTR,Yi):au,Gs="ADD_DATA_URI_TAGS"in Fe?Fo(O1(cr),Fe.ADD_DATA_URI_TAGS,Yi):cr,pr="FORBID_CONTENTS"in Fe?Fo({},Fe.FORBID_CONTENTS,Yi):li,ln="FORBID_TAGS"in Fe?Fo({},Fe.FORBID_TAGS,Yi):{},Gn="FORBID_ATTR"in Fe?Fo({},Fe.FORBID_ATTR,Yi):{},zs="USE_PROFILES"in Fe?Fe.USE_PROFILES:!1,Bt=Fe.ALLOW_ARIA_ATTR!==!1,jn=Fe.ALLOW_DATA_ATTR!==!1,Zn=Fe.ALLOW_UNKNOWN_PROTOCOLS||!1,_r=Fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Po=Fe.SAFE_FOR_TEMPLATES||!1,Tr=Fe.WHOLE_DOCUMENT||!1,da=Fe.RETURN_DOM||!1,Fc=Fe.RETURN_DOM_FRAGMENT||!1,ru=Fe.RETURN_TRUSTED_TYPE||!1,tf=Fe.FORCE_BODY||!1,Hc=Fe.SANITIZE_DOM!==!1,iu=Fe.SANITIZE_NAMED_PROPS||!1,ao=Fe.KEEP_CONTENT!==!1,Es=Fe.IN_PLACE||!1,Ri=Fe.ALLOWED_URI_REGEXP||hB,vm=Fe.NAMESPACE||El,kt=Fe.CUSTOM_ELEMENT_HANDLING||{},Fe.CUSTOM_ELEMENT_HANDLING&&PT(Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(kt.tagNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&PT(Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(kt.attributeNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&typeof Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(kt.allowCustomizedBuiltInElements=Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Po&&(jn=!1),Fc&&(da=!0),zs&&(zo=Fo({},[...cB]),Kt=[],zs.html===!0&&(Fo(zo,a0),Fo(Kt,lB)),zs.svg===!0&&(Fo(zo,UE),Fo(Kt,WE),Fo(Kt,Tw)),zs.svgFilters===!0&&(Fo(zo,i4),Fo(Kt,WE),Fo(Kt,Tw)),zs.mathMl===!0&&(Fo(zo,a4),Fo(Kt,c4),Fo(Kt,Tw))),Fe.ADD_TAGS&&(zo===Tt&&(zo=O1(zo)),Fo(zo,Fe.ADD_TAGS,Yi)),Fe.ADD_ATTR&&(Kt===to&&(Kt=O1(Kt)),Fo(Kt,Fe.ADD_ATTR,Yi)),Fe.ADD_URI_SAFE_ATTR&&Fo(fa,Fe.ADD_URI_SAFE_ATTR,Yi),Fe.FORBID_CONTENTS&&(pr===li&&(pr=O1(pr)),Fo(pr,Fe.FORBID_CONTENTS,Yi)),ao&&(zo["#text"]=!0),Tr&&Fo(zo,["html","head","body"]),zo.table&&(Fo(zo,["tbody"]),delete ln.tbody),Fe.TRUSTED_TYPES_POLICY){if(typeof Fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw _w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_e=Fe.TRUSTED_TYPES_POLICY,Be=_e.createHTML("")}else _e===void 0&&(_e=AH(oe,r)),_e!==null&&typeof Be=="string"&&(Be=_e.createHTML(""));yi&&yi(Fe),Zp=Fe}},MC=Fo({},["mi","mo","mn","ms","mtext"]),Ie=Fo({},["foreignobject","desc","title","annotation-xml"]),$e=Fo({},["title","style","font","a","script"]),St=Fo({},UE);Fo(St,i4),Fo(St,iB);const pt=Fo({},a4);Fo(pt,aB);const vn=function(Fe){let qt=Ee(Fe);(!qt||!qt.tagName)&&(qt={namespaceURI:vm,tagName:"template"});const On=i0(Fe.tagName),Ks=i0(qt.tagName);return nv[Fe.namespaceURI]?Fe.namespaceURI===sd?qt.namespaceURI===El?On==="svg":qt.namespaceURI===od?On==="svg"&&(Ks==="annotation-xml"||MC[Ks]):!!St[On]:Fe.namespaceURI===od?qt.namespaceURI===El?On==="math":qt.namespaceURI===sd?On==="math"&&Ie[Ks]:!!pt[On]:Fe.namespaceURI===El?qt.namespaceURI===sd&&!Ie[Ks]||qt.namespaceURI===od&&!MC[Ks]?!1:!pt[On]&&($e[On]||!St[On]):!!(nf==="application/xhtml+xml"&&nv[Fe.namespaceURI]):!1},no=function(Fe){k1(n.removed,{element:Fe});try{Fe.parentNode.removeChild(Fe)}catch{Fe.remove()}},_s=function(Fe,qt){try{k1(n.removed,{attribute:qt.getAttributeNode(Fe),from:qt})}catch{k1(n.removed,{attribute:null,from:qt})}if(qt.removeAttribute(Fe),Fe==="is"&&!Kt[Fe])if(da||Fc)try{no(qt)}catch{}else try{qt.setAttribute(Fe,"")}catch{}},cu=function(Fe){let qt,On;if(tf)Fe="<remove></remove>"+Fe;else{const rd=sB(Fe,/^[\r\n\t ]+/);On=rd&&rd[0]}nf==="application/xhtml+xml"&&vm===El&&(Fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Fe+"</body></html>");const Ks=_e?_e.createHTML(Fe):Fe;if(vm===El)try{qt=new j().parseFromString(Ks,nf)}catch{}if(!qt||!qt.documentElement){qt=qe.createDocument(vm,"template",null);try{qt.documentElement.innerHTML=tv?Be:Ks}catch{}}const ha=qt.body||qt.documentElement;return Fe&&On&&ha.insertBefore(a.createTextNode(On),ha.childNodes[0]||null),vm===El?dt.call(qt,Tr?"html":"body")[0]:Tr?qt.documentElement:ha},MT=function(Fe){return bt.call(Fe.ownerDocument||Fe,Fe,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},PF=function(Fe){return Fe instanceof H&&(typeof Fe.nodeName!="string"||typeof Fe.textContent!="string"||typeof Fe.removeChild!="function"||!(Fe.attributes instanceof F)||typeof Fe.removeAttribute!="function"||typeof Fe.setAttribute!="function"||typeof Fe.namespaceURI!="string"||typeof Fe.insertBefore!="function"||typeof Fe.hasChildNodes!="function")},BT=function(Fe){return typeof v=="object"?Fe instanceof v:Fe&&typeof Fe=="object"&&typeof Fe.nodeType=="number"&&typeof Fe.nodeName=="string"},Yf=function(Fe,qt,On){Ye[Fe]&&s0(Ye[Fe],Ks=>{Ks.call(n,qt,On,Zp)})},NT=function(Fe){let qt;if(Yf("beforeSanitizeElements",Fe,null),PF(Fe))return no(Fe),!0;const On=Yi(Fe.nodeName);if(Yf("uponSanitizeElement",Fe,{tagName:On,allowedTags:zo}),Fe.hasChildNodes()&&!BT(Fe.firstElementChild)&&(!BT(Fe.content)||!BT(Fe.content.firstElementChild))&&Ql(/<[/\w]/g,Fe.innerHTML)&&Ql(/<[/\w]/g,Fe.textContent))return no(Fe),!0;if(!zo[On]||ln[On]){if(!ln[On]&&BF(On)&&(kt.tagNameCheck instanceof RegExp&&Ql(kt.tagNameCheck,On)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(On)))return!1;if(ao&&!pr[On]){const Ks=Ee(Fe)||Fe.parentNode,ha=Ce(Fe)||Fe.childNodes;if(ha&&Ks){const rd=ha.length;for(let ui=rd-1;ui>=0;--ui)Ks.insertBefore(re(ha[ui],!0),de(Fe))}}return no(Fe),!0}return Fe instanceof C&&!vn(Fe)||(On==="noscript"||On==="noembed"||On==="noframes")&&Ql(/<\/no(script|embed|frames)/i,Fe.innerHTML)?(no(Fe),!0):(Po&&Fe.nodeType===3&&(qt=Fe.textContent,qt=qd(qt,Ot," "),qt=qd(qt,Yt," "),qt=qd(qt,zn," "),Fe.textContent!==qt&&(k1(n.removed,{element:Fe.cloneNode()}),Fe.textContent=qt)),Yf("afterSanitizeElements",Fe,null),!1)},MF=function(Fe,qt,On){if(Hc&&(qt==="id"||qt==="name")&&(On in a||On in RT))return!1;if(!(jn&&!Gn[qt]&&Ql(Qn,qt))){if(!(Bt&&Ql(Ro,qt))){if(!Kt[qt]||Gn[qt]){if(!(BF(Fe)&&(kt.tagNameCheck instanceof RegExp&&Ql(kt.tagNameCheck,Fe)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(Fe))&&(kt.attributeNameCheck instanceof RegExp&&Ql(kt.attributeNameCheck,qt)||kt.attributeNameCheck instanceof Function&&kt.attributeNameCheck(qt))||qt==="is"&&kt.allowCustomizedBuiltInElements&&(kt.tagNameCheck instanceof RegExp&&Ql(kt.tagNameCheck,On)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(On))))return!1}else if(!fa[qt]){if(!Ql(Ri,qd(On,cs,""))){if(!((qt==="src"||qt==="xlink:href"||qt==="href")&&Fe!=="script"&&SH(On,"data:")===0&&Gs[Fe])){if(!(Zn&&!Ql(Ho,qd(On,cs,"")))){if(On)return!1}}}}}}return!0},BF=function(Fe){return Fe.indexOf("-")>0},bR=function(Fe){let qt,On,Ks,ha;Yf("beforeSanitizeAttributes",Fe,null);const{attributes:rd}=Fe;if(!rd)return;const ui={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Kt};for(ha=rd.length;ha--;){qt=rd[ha];const{name:id,namespaceURI:yR}=qt;On=id==="value"?qt.value:rB(qt.value);const t=On;if(Ks=Yi(id),ui.attrName=Ks,ui.attrValue=On,ui.keepAttr=!0,ui.forceKeepAttr=void 0,Yf("uponSanitizeAttribute",Fe,ui),On=ui.attrValue,ui.forceKeepAttr)continue;if(!ui.keepAttr){_s(id,Fe);continue}if(!_r&&Ql(/\/>/i,On)){_s(id,Fe);continue}Po&&(On=qd(On,Ot," "),On=qd(On,Yt," "),On=qd(On,zn," "));const s=Yi(Fe.nodeName);if(!MF(s,Ks,On)){_s(id,Fe);continue}if(iu&&(Ks==="id"||Ks==="name")&&(_s(id,Fe),On=Qt+On),_e&&typeof oe=="object"&&typeof oe.getAttributeType=="function"&&!yR)switch(oe.getAttributeType(s,Ks)){case"TrustedHTML":{On=_e.createHTML(On);break}case"TrustedScriptURL":{On=_e.createScriptURL(On);break}}if(On!==t)try{yR?Fe.setAttributeNS(yR,id,On):Fe.setAttribute(id,On)}catch{_s(id,Fe)}}Yf("afterSanitizeAttributes",Fe,null)},Eq=function Xn(Fe){let qt;const On=MT(Fe);for(Yf("beforeSanitizeShadowDOM",Fe,null);qt=On.nextNode();)Yf("uponSanitizeShadowNode",qt,null),!NT(qt)&&(qt.content instanceof u&&Xn(qt.content),bR(qt));Yf("afterSanitizeShadowDOM",Fe,null)};return n.sanitize=function(Xn){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qt,On,Ks,ha;if(tv=!Xn,tv&&(Xn="<!-->"),typeof Xn!="string"&&!BT(Xn))if(typeof Xn.toString=="function"){if(Xn=Xn.toString(),typeof Xn!="string")throw _w("dirty is not a string, aborting")}else throw _w("toString is not a function");if(!n.isSupported)return Xn;if(Sl||of(Fe),n.removed=[],typeof Xn=="string"&&(Es=!1),Es){if(Xn.nodeName){const id=Yi(Xn.nodeName);if(!zo[id]||ln[id])throw _w("root node is forbidden and cannot be sanitized in-place")}}else if(Xn instanceof v)qt=cu("<!---->"),On=qt.ownerDocument.importNode(Xn,!0),On.nodeType===1&&On.nodeName==="BODY"||On.nodeName==="HTML"?qt=On:qt.appendChild(On);else{if(!da&&!Po&&!Tr&&Xn.indexOf("<")===-1)return _e&&ru?_e.createHTML(Xn):Xn;if(qt=cu(Xn),!qt)return da?null:ru?Be:""}qt&&tf&&no(qt.firstChild);const rd=MT(Es?Xn:qt);for(;Ks=rd.nextNode();)NT(Ks)||(Ks.content instanceof u&&Eq(Ks.content),bR(Ks));if(Es)return Xn;if(da){if(Fc)for(ha=Rt.call(qt.ownerDocument);qt.firstChild;)ha.appendChild(qt.firstChild);else ha=qt;return(Kt.shadowroot||Kt.shadowrootmode)&&(ha=Ue.call(o,ha,!0)),ha}let ui=Tr?qt.outerHTML:qt.innerHTML;return Tr&&zo["!doctype"]&&qt.ownerDocument&&qt.ownerDocument.doctype&&qt.ownerDocument.doctype.name&&Ql(u4,qt.ownerDocument.doctype.name)&&(ui="<!DOCTYPE "+qt.ownerDocument.doctype.name+`>
`+ui),Po&&(ui=qd(ui,Ot," "),ui=qd(ui,Yt," "),ui=qd(ui,zn," ")),_e&&ru?_e.createHTML(ui):ui},n.setConfig=function(Xn){of(Xn),Sl=!0},n.clearConfig=function(){Zp=null,Sl=!1},n.isValidAttribute=function(Xn,Fe,qt){Zp||of({});const On=Yi(Xn),Ks=Yi(Fe);return MF(On,Ks,qt)},n.addHook=function(Xn,Fe){typeof Fe=="function"&&(Ye[Xn]=Ye[Xn]||[],k1(Ye[Xn],Fe))},n.removeHook=function(Xn){if(Ye[Xn])return r0(Ye[Xn])},n.removeHooks=function(Xn){Ye[Xn]&&(Ye[Xn]=[])},n.removeAllHooks=function(){Ye={}},n}var lm=mB();const ZE=D.each,pB=D.trim,kw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],gB={ftp:21,http:80,https:443,mailto:25},f4=["img","video"],vB=(e,n)=>je(e)?!e:je(n)?!An(f4,n):!0,bB=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},yB=(e,n,o)=>{const r=bB(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?vB(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Ku{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const a=na.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!yB(r,a,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=pB(n),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){a.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const v=r?r.path:new Ku(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+a.toAbsPath(v,n);else{const C=/([^#?]*)([#?]?.*)/.exec(n);C&&(n=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(v,C[1])+C[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&ZE(kw,(v,C)=>{let O=h[C];O&&(O=O.replace(/\(mce_at\)/g,"@@")),a[v]=O}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),u&&(a.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ku(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new Ku(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?gB[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,a="",u,h;const v=n.substring(0,n.lastIndexOf("/")).split("/"),C=o.split("/");if(v.length>=C.length){for(u=0,h=v.length;u<h;u++)if(u>=C.length||v[u]!==C[u]){r=u+1;break}}if(v.length<C.length){for(u=0,h=C.length;u<h;u++)if(u>=v.length||v[u]!==C[u]){r=u+1;break}}if(r===1)return o;for(u=0,h=v.length-(r-1);u<h;u++)a+="../";for(u=r-1,h=C.length;u<h;u++)u!==r-1?a+="/"+C[u]:a+=C[u];return a}toAbsPath(n,o){let r=0;const a=/\/$/.test(o)?"/":"",u=n.split("/"),h=o.split("/"),v=[];ZE(u,H=>{H&&v.push(H)});const C=[];for(let H=h.length-1;H>=0;H--)if(!(h[H].length===0||h[H]===".")){if(h[H]===".."){r++;continue}if(r>0){r--;continue}C.push(h[H])}const O=v.length-r;let F;return O<=0?F=Ts(C).join("/"):F=v.slice(0,O).join("/")+"/"+Ts(C).join("/"),F.indexOf("/")!==0&&(F="/"+F),a&&F.lastIndexOf("/")!==F.length-1&&(F+=a),F}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const kH=D.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ow="data-mce-type";let wB=0;const h4=(e,n,o,r,a)=>{var u,h,v,C;const O=n.validate,F=o.getSpecialElements();e.nodeType===mi&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const H=(h=a==null?void 0:a.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){je(a)&&(a.allowedTags[H]=!0);return}if(e.nodeType!==Hr||H==="body")return;const j=pe.fromDom(e),oe=md(j,Ow),le=ds(j,"data-mce-bogus");if(!oe&&ue(le)){le==="all"?Eo(j):vu(j);return}const re=o.getElementRule(H);if(O&&!re){un(F,H)?Eo(j):vu(j);return}else je(a)&&(a.allowedTags[H]=!0);if(O&&re&&!oe){if(Le((v=re.attributesForced)!==null&&v!==void 0?v:[],de=>{Zo(j,de.name,de.value==="{$uid}"?`mce_${wB++}`:de.value)}),Le((C=re.attributesDefault)!==null&&C!==void 0?C:[],de=>{md(j,de.name)||Zo(j,de.name,de.value==="{$uid}"?`mce_${wB++}`:de.value)}),re.attributesRequired&&!Xo(re.attributesRequired,de=>md(j,de))){vu(j);return}if(re.removeEmptyAttrs&&So(j)){vu(j);return}re.outputName&&re.outputName!==H&&ky(j,re.outputName)}},OH=(e,n,o,r,a)=>{const u=e.tagName.toLowerCase(),{attrName:h,attrValue:v}=a;a.keepAttr=CB(n,o,r,u,h,v),a.keepAttr?(a.allowedAttributes[h]=!0,SB(h,o)&&(a.attrValue=h),n.allow_svg_data_urls&&Bs(v,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):xB(e,h)&&(a.forceKeepAttr=!0)},CB=(e,n,o,r,a,u)=>o!=="html"&&!Os(r)?!0:!(a in kH&&yB(e,u,r))&&(!e.validate||n.isValid(r,a)||Bs(a,"data-")||Bs(a,"aria-")),xB=(e,n)=>e.hasAttribute(Ow)&&(n==="id"||n==="class"||n==="style"),SB=(e,n)=>e in n.getBoolAttrs(),DH=(e,n,o,r)=>{const{attributes:a}=e;for(let u=a.length-1;u>=0;u--){const h=a[u],v=h.name,C=h.value;!CB(n,o,r,e.tagName.toLowerCase(),v,C)&&!xB(e,v)?e.removeAttribute(v):SB(v,o)&&e.setAttribute(v,v)}},RH=(e,n,o)=>{const r=lm();return r.addHook("uponSanitizeElement",(a,u)=>{h4(a,e,n,o.track(a),u)}),r.addHook("uponSanitizeAttribute",(a,u)=>{OH(a,e,n,o.current(),u)}),r},PH=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},MH=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};return lm().sanitize(e,o),e.innerHTML},BH=(e,n)=>{const o=rn();if(e.sanitize){const r=RH(e,n,o);return{sanitizeHtmlElement:(u,h)=>{r.sanitize(u,PH(e,h)),r.removed=[],o.reset()},sanitizeNamespaceElement:MH}}else return{sanitizeHtmlElement:(u,h)=>{const v=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let C;for(;C=v.nextNode();){const O=o.track(C);h4(C,e,n,O),Wt(C)&&DH(C,e,n,O)}o.reset()},sanitizeNamespaceElement:wt}},Dw=D.makeMap,la=D.extend,EB=(e,n,o,r)=>{const a=e.name,u=a in o&&a!=="title"&&a!=="textarea",h=n.childNodes;for(let v=0,C=h.length;v<C;v++){const O=h[v],F=new Da(O.nodeName.toLowerCase(),O.nodeType);if(Wt(O)){const H=O.attributes;for(let j=0,oe=H.length;j<oe;j++){const le=H[j];F.attr(le.name,le.value)}Os(F.name)&&(r(O),F.value=O.innerHTML)}else at(O)?(F.value=O.data,u&&(F.raw=!0)):(ni(O)||mf(O)||rt(O))&&(F.value=O.data);Os(F.name)||EB(F,O,o,r),e.append(F)}},qE=(e,n,o)=>{const r=[];for(let a=e,u=a;a;u=a,a=a.walk()){const h=a;Le(n,v=>v(h)),Sn(h.parent)&&h!==e?a=u:r.push(h)}for(let a=r.length-1;a>=0;a--){const u=r[a];Le(o,h=>h(u))}},D1=(e,n,o,r)=>{const a=o.validate,u=n.getNonEmptyElements(),h=n.getWhitespaceElements(),v=la(Dw("script,style,head,html,body,title,meta,param"),n.getBlockElements()),C=Rv(n),O=/[ \t\r\n]+/g,F=/^[ \t\r\n]+/,H=/[ \t\r\n]+$/,j=Ee=>{let _e=Ee.parent;for(;je(_e);){if(_e.name in h)return!0;_e=_e.parent}return!1},oe=Ee=>{let _e=Ee;for(;je(_e);){if(_e.name in C)return Yb(n,u,h,_e);_e=_e.parent}return!1},le=Ee=>Ee.name in v||yf(n,Ee)||Os(Ee.name)&&Ee.parent===e,re=(Ee,_e)=>{const Be=_e?Ee.prev:Ee.next;return je(Be)||Sn(Ee.parent)?!1:le(Ee.parent)&&(Ee.parent!==e||r.isRootContent===!0)};return[Ee=>{var _e;if(Ee.type===3&&!j(Ee)){let Be=(_e=Ee.value)!==null&&_e!==void 0?_e:"";Be=Be.replace(O," "),(aM(Ee.prev,le)||re(Ee,!0))&&(Be=Be.replace(F,"")),Be.length===0?Ee.remove():Ee.value=Be}},Ee=>{var _e;if(Ee.type===1){const Be=n.getElementRule(Ee.name);if(a&&Be){const qe=Yb(n,u,h,Ee);Be.paddInEmptyBlock&&qe&&oe(Ee)?yE(o,r,le,Ee):Be.removeEmpty&&qe?le(Ee)?Ee.remove():Ee.unwrap():Be.paddEmpty&&(qe||rM(Ee))&&yE(o,r,le,Ee)}}else if(Ee.type===3&&!j(Ee)){let Be=(_e=Ee.value)!==null&&_e!==void 0?_e:"";(Ee.next&&le(Ee.next)||re(Ee,!1))&&(Be=Be.replace(H,"")),Be.length===0?Ee.remove():Ee.value=Be}}]},_B=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Gi=(e={},n=xd())=>{const o=XM(),r=XM(),a={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,h=BH(a,n),v=(_e,Be,qe="html")=>{const bt=qe==="xhtml"?"application/xhtml+xml":"text/html",Rt=un(n.getSpecialElements(),Be.toLowerCase()),dt=Rt?`<${Be}>${_e}</${Be}>`:_e,Ue=qe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${dt}</body></html>`:`<body>${dt}</body>`,Ye=u.parseFromString(Ue,bt).body;return h.sanitizeHtmlElement(Ye,bt),Rt?Ye.firstChild:Ye},C=o.addFilter,O=o.getFilters,F=o.removeFilter,H=r.addFilter,j=r.getFilters,oe=r.removeFilter,le=(_e,Be)=>{CE(n,_e)&&Be.push(_e)},re=(_e,Be)=>{const qe=ue(Be.attr(Ow)),bt=Be.type===1&&!un(_e,Be.name)&&!yf(n,Be)&&!Os(Be.name);return Be.type===3||bt&&!qe},de=(_e,Be)=>{const qe=la(Dw("script,style,head,html,body,title,meta,param"),n.getBlockElements()),bt=/^[ \t\r\n]+/,Rt=/[ \t\r\n]+$/;let dt=_e.firstChild,Ue=null;const Ye=Ot=>{var Yt,zn;Ot&&(dt=Ot.firstChild,dt&&dt.type===3&&(dt.value=(Yt=dt.value)===null||Yt===void 0?void 0:Yt.replace(bt,"")),dt=Ot.lastChild,dt&&dt.type===3&&(dt.value=(zn=dt.value)===null||zn===void 0?void 0:zn.replace(Rt,"")))};if(n.isValidChild(_e.name,Be.toLowerCase())){for(;dt;){const Ot=dt.next;re(qe,dt)?(Ue||(Ue=new Da(Be,1),Ue.attr(a.forced_root_block_attrs),_e.insert(Ue,dt)),Ue.append(dt)):(Ye(Ue),Ue=null),dt=Ot}Ye(Ue)}},Ee={schema:n,addAttributeFilter:H,getAttributeFilters:j,removeAttributeFilter:oe,addNodeFilter:C,getNodeFilters:O,removeNodeFilter:F,parse:(_e,Be={})=>{var qe;const bt=a.validate,Rt=(qe=Be.context)!==null&&qe!==void 0?qe:a.root_name,dt=v(_e,Rt,Be.format);uy(n,dt);const Ue=new Da(Rt,11);EB(Ue,dt,n.getSpecialElements(),h.sanitizeNamespaceElement),dt.innerHTML="";const[Ye,Ot]=D1(Ue,n,a,Be),Yt=[],zn=bt?cs=>le(cs,Yt):wt,Qn={nodes:{},attributes:{}},Ro=cs=>uw(O(),j(),cs,Qn);if(qE(Ue,[Ye,Ro],[Ot,zn]),Yt.reverse(),bt&&Yt.length>0)if(Be.context){const{pass:cs,fail:Ri}=Nr(Yt,zo=>zo.parent===Ue);wE(Ri,n,Ue,Ro),Be.invalid=cs.length>0}else wE(Yt,n,Ue,Ro);const Ho=_B(a,Be);return Ho&&(Ue.name==="body"||Be.isRootContent)&&de(Ue,Ho),Be.invalid||RO(Qn,Be),Ue}};return OG(Ee,a),JM(Ee,a,n),Ee},R1=e=>kE(e)?dn({validate:!1}).serialize(e):e,m4=(e,n,o)=>{const r=R1(e),a=n(r);if(a.isDefaultPrevented())return a;if(kE(e))if(a.content!==r){const u=Gi({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:u}}else return{...a,content:e};else return a},TB=e=>({sanitize:hS(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:mp(e)}),p4=(e,n)=>{if(n.no_events)return Vi.value(n);{const o=jS(e,n);return o.isDefaultPrevented()?Vi.error(ZS(e,{content:"",...o}).content):Vi.value(o)}},AB=(e,n,o)=>o.no_events?n:m4(n,a=>ZS(e,{...o,content:a}),TB(e)).content,GE=(e,n)=>{if(n.no_events)return Vi.value(n);{const o=m4(n.content,r=>F2(e,{...n,content:r}),TB(e));return o.isDefaultPrevented()?(kb(e,o),Vi.error(void 0)):Vi.value(o)}},P1=(e,n,o)=>{o.no_events||kb(e,{...o,content:n})},Rw=(e,n,o)=>({element:e,width:n,rows:o}),kB=(e,n)=>({element:e,cells:n}),OB=(e,n)=>({x:e,y:n}),DB=(e,n)=>bc(e,n).bind(Zc).getOr(1),g4=(e,n,o,r,a)=>{const u=DB(a,"rowspan"),h=DB(a,"colspan"),v=e.rows;for(let C=o;C<o+u;C++){v[C]||(v[C]=kB(ep(r),[]));for(let O=n;O<n+h;O++){const F=v[C].cells;F[O]=C===o&&O===n?a:$h(a)}}},v4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},NH=(e,n,o)=>{for(;v4(e,n,o);)n++;return n},RB=e=>To(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),Gd=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let u=0;u<a.length;u++)if(Je(a[u],n))return K.some(OB(u,r))}return K.none()},KE=(e,n,o,r,a)=>{const u=[],h=e.rows;for(let v=o;v<=a;v++){const C=h[v].cells,O=n<r?C.slice(n,r+1):C.slice(r,n+1);u.push(kB(h[v].element,O))}return u},IH=(e,n,o)=>{const r=n.x,a=n.y,u=o.x,h=o.y,v=a<h?KE(e,r,a,u,h):KE(e,r,h,u,a);return Rw(e.element,RB(v),v)},YE=(e,n)=>{const o=$h(e.element),r=pe.fromTag("tbody");return es(r,n),fr(o,r),o},b4=e=>Tn(e.rows,n=>{const o=Tn(n.cells,a=>{const u=ep(a);return vr(u,"colspan"),vr(u,"rowspan"),u}),r=$h(n.element);return es(r,o),r}),PB=e=>{const n=Rw($h(e),0,[]);return Le(vi(e,"tr"),(o,r)=>{Le(vi(o,"td,th"),(a,u)=>{g4(n,NH(n,u,r),r,o,a)})}),Rw(n.element,RB(n.rows),n.rows)},MB=e=>YE(e,b4(e)),BB=(e,n,o)=>Gd(e,n).bind(r=>Gd(e,o).map(a=>IH(e,r,a))),$H=e=>Jo(e,n=>Jn(n)==="ul"||Jn(n)==="ol"),LH=(e,n)=>Jo(e,o=>Jn(o)==="li"&&Mr(o,n)).fold(st([]),o=>$H(e).map(r=>{const a=pe.fromTag(Jn(r)),u=as(yc(r),(h,v)=>Bs(v,"list-style"));return lg(a,u),[pe.fromTag("li"),a]}).getOr([])),FH=(e,n)=>{const o=To(n,(r,a)=>(fr(a,r),a),e);return n.length>0?Lb([o]):o},HH=e=>xc(e)?Hn(e).filter(Fv).fold(st([]),n=>[e,n]):Fv(e)?[e]:[],zH=(e,n,o)=>{const r=pe.fromDom(n.commonAncestorContainer),a=If(r,e),u=Jt(a,C=>o.isWrapper(Jn(C))),h=LH(a,n),v=u.concat(h.length?h:HH(r));return Tn(v,$h)},y4=()=>Lb([]),VH=(e,n,o)=>FH(pe.fromDom(n.cloneContents()),zH(e,n,o)),UH=(e,n)=>ag(n,"table",Ge(Je,e)),WH=(e,n)=>UH(e,n[0]).bind(o=>{const r=n[0],a=n[n.length-1],u=PB(o);return BB(u,r,a).map(h=>Lb([MB(h)]))}).getOrThunk(y4),NB=(e,n,o)=>n.length>0&&n[0].collapsed?y4():VH(e,n[0],o),w4=(e,n,o)=>{const r=MS(n,e);return r.length>0?WH(e,r):NB(e,n,o)},c0=(e,n)=>n>=0&&n<e.length&&Ld(e.charAt(n)),C4=e=>ja(e.innerText),x4=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),IB=e=>K.from(e.selection.getRng()).map(n=>{var o;const r=K.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),u=x4(r),h=pe.fromDom(n.cloneContents());Xk(h),K6(h);const v=e.dom.add(a,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),C=C4(v),O=ja((o=v.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(v),c0(O,0)||c0(O,O.length-1)){const F=r.getOr(a),H=C4(F),j=H.indexOf(C);if(j===-1)return C;{const oe=c0(H,j-1),le=c0(H,j+C.length);return(oe?" ":"")+C+(le?" ":"")}}else return C}).getOr(""),$B=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),u=Kk(e,A2(a)),h=n.contextual?w4(pe.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return h&&r.appendChild(h),e.selection.serializer.serialize(r,n)},S4=(e,n)=>{if(n.format==="text")return IB(e);{const o=$B(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},LB=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),FB=(e,n,o={})=>{const r=LB(o,n);return p4(e,r).fold(eo,a=>{const u=S4(e,a);return AB(e,u,a)})},XE=0,HB=1,JE=2,jH=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),a=new Array(o),u=(F,H,j)=>({start:F,end:H,diag:j}),h=(F,H,j,oe,le)=>{const re=C(F,H,j,oe);if(re===null||re.start===H&&re.diag===H-oe||re.end===F&&re.diag===F-j){let de=F,Ce=j;for(;de<H||Ce<oe;)de<H&&Ce<oe&&e[de]===n[Ce]?(le.push([XE,e[de]]),++de,++Ce):H-F>oe-j?(le.push([JE,e[de]]),++de):(le.push([HB,n[Ce]]),++Ce)}else{h(F,re.start,j,re.start-re.diag,le);for(let de=re.start;de<re.end;++de)le.push([XE,e[de]]);h(re.end,H,re.end-re.diag,oe,le)}},v=(F,H,j,oe)=>{let le=F;for(;le-H<oe&&le<j&&e[le]===n[le-H];)++le;return u(F,le,H)},C=(F,H,j,oe)=>{const le=H-F,re=oe-j;if(le===0||re===0)return null;const de=le-re,Ce=re+le,Ee=(Ce%2===0?Ce:Ce+1)/2;r[1+Ee]=F,a[1+Ee]=H+1;let _e,Be,qe,bt,Rt;for(_e=0;_e<=Ee;++_e){for(Be=-_e;Be<=_e;Be+=2){for(qe=Be+Ee,Be===-_e||Be!==_e&&r[qe-1]<r[qe+1]?r[qe]=r[qe+1]:r[qe]=r[qe-1]+1,bt=r[qe],Rt=bt-F+j-Be;bt<H&&Rt<oe&&e[bt]===n[Rt];)r[qe]=++bt,++Rt;if(de%2!==0&&de-_e<=Be&&Be<=de+_e&&a[qe-de]<=r[qe])return v(a[qe-de],Be+F-j,H,oe)}for(Be=de-_e;Be<=de+_e;Be+=2){for(qe=Be+Ee-de,Be===de-_e||Be!==de+_e&&a[qe+1]<=a[qe-1]?a[qe]=a[qe+1]-1:a[qe]=a[qe-1],bt=a[qe]-1,Rt=bt-F+j-Be;bt>=F&&Rt>=j&&e[bt]===n[Rt];)a[qe]=bt--,Rt--;if(de%2===0&&-_e<=Be&&Be<=_e&&a[qe]<=r[qe+de])return v(a[qe],Be+F-j,H,oe)}}return null},O=[];return h(0,e.length,0,n.length,O),O},l0=e=>Wt(e)?e.outerHTML:at(e)?na.encodeRaw(e.data,!1):ni(e)?"<!--"+e.data+"-->":"",ZH=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},qH=(e,n,o)=>{const r=ZH(n);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},GH=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},zB=(e,n)=>{let o=0;Le(e,r=>{r[0]===XE?o++:r[0]===HB?(qH(n,r[1],o),o++):r[0]===JE&&GH(n,o)})},VB=(e,n)=>Jt(Tn(Ji(e.childNodes),n?P(ja,l0):l0),o=>o.length>0),KH=(e,n)=>{const o=Tn(Ji(n.childNodes),l0);return zB(jH(o,e),n),n},YH=Ja(()=>document.implementation.createHTMLDocument("undo")),XH=e=>e.querySelector("iframe")!==null,JH=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),QH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Pw=e=>{const n=e.serializer.getTempAttrs(),o=Fn(e.getBody(),n);return XH(o)?JH(VB(o,!0)):QH(ja(o.innerHTML))},UB=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?KH(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:je(r)&&Qg(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},E4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,WB=e=>{const n=pe.fromTag("body",YH());return Q0(n,E4(e)),Le(vi(n,"*[data-mce-bogus]"),vu),J0(n)},e8=(e,n)=>E4(e)===E4(n),t8=(e,n)=>WB(e)===WB(n),_4=(e,n)=>!e||!n?!1:e8(e,n)?!0:t8(e,n),T4=e=>e.get()===0,QE=(e,n,o)=>{T4(o)&&(e.typing=n)},A4=(e,n)=>{e.typing&&(QE(e,!1,n),e.add())},n8=e=>{e.typing&&(e.typing=!1,e.add())},o8=(e,n,o)=>{T4(n)&&o.set(Zy(e.selection))},s8=(e,n,o,r,a,u,h)=>{const v=Pw(e),C=D.extend(u||{},v);if(!T4(r)||e.removed)return null;const O=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:C,lastLevel:O,originalEvent:h}).isDefaultPrevented()||O&&_4(O,C))return null;n.data[o.get()]&&a.get().each(j=>{n.data[o.get()].beforeBookmark=j});const F=HA(e);if(F&&n.data.length>F){for(let j=0;j<n.data.length-1;j++)n.data[j]=n.data[j+1];n.data.length--,o.set(n.data.length)}C.bookmark=Zy(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(C),o.set(n.data.length-1);const H={level:C,lastLevel:O,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",H),e.dispatch("change",H)):e.dispatch("AddUndo",H),C},r8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},i8=(e,n,o,r,a)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,h=n.data[o.get()-1];UB(e,h,!0),n.transact(a)&&(n.data[o.get()-1].beforeBookmark=u)}},RG=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],UB(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},PG=(e,n,o,r)=>{let a;return n.typing&&(n.add(),n.typing=!1,QE(n,!1,o)),r.get()>0&&(r.set(r.get()-1),a=n.data[r.get()],UB(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},a8=e=>{e.clear(),e.add()},c8=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!_4(Pw(e),n.data[0]),MG=(e,n)=>n.get()<e.data.length-1&&!e.typing,l8=(e,n,o)=>(A4(e,n),e.beforeChange(),e.ignore(o),e.add()),qs=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},k4=(e,n)=>{const o=e.dom,r=je(n)?n:e.getBody();Le(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const u=WA(e),h=o.getAttrib(a,"border");(!h||h==="0")&&e.hasVisual?o.addClass(a,u):o.removeClass(a,u);break;case"A":if(!o.getAttrib(a,"href")){const v=o.getAttrib(a,"name")||a.id,C=oS(e);v&&e.hasVisual?o.addClass(a,C):o.removeClass(a,C)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},u8=e=>({init:{bindEvents:wt},undoManager:{beforeChange:(n,o)=>o8(e,n,o),add:(n,o,r,a,u,h)=>s8(e,n,o,r,a,u,h),undo:(n,o,r)=>PG(e,n,o,r),redo:(n,o)=>RG(e,n,o),clear:(n,o)=>r8(e,n,o),reset:n=>a8(n),hasUndo:(n,o)=>c8(e,n,o),hasRedo:(n,o)=>MG(n,o),transact:(n,o,r)=>l8(n,o,r),ignore:(n,o)=>qs(n,o),extra:(n,o,r,a)=>i8(e,n,o,r,a)},formatter:{match:(n,o,r,a)=>WO(e,n,o,r,a),matchAll:(n,o)=>S1(e,n,o),matchNode:(n,o,r,a)=>Zd(e,n,o,r,a),canApply:n=>EM(e,n),closest:n=>SM(e,n),apply:(n,o,r)=>A1(e,n,o,r),remove:(n,o,r,a)=>WM(e,n,o,r,a),toggle:(n,o,r)=>fH(e,n,o,r),formatChanged:(n,o,r,a,u)=>dH(e,n,o,r,a,u)},editor:{getContent:n=>SG(e,n),setContent:(n,o)=>V7(e,n,o),insertContent:(n,o)=>F7(e,n,o),addVisual:n=>k4(e,n)},selection:{getContent:(n,o)=>FB(e,n,o)},autocompleter:{addDecoration:wt,removeDecoration:wt},raw:{getModel:()=>K.none()}}),d8=e=>{const n=O=>mt(O)?O:{},{init:o,undoManager:r,formatter:a,editor:u,selection:h,autocompleter:v,raw:C}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(O,F,H)=>r.transact(H),ignore:(O,F)=>r.ignore(F),extra:(O,F,H,j)=>r.extra(H,j)},formatter:{match:(O,F,H,j)=>a.match(O,n(F),j),matchAll:a.matchAll,matchNode:a.matchNode,canApply:O=>a.canApply(O),closest:O=>a.closest(O),apply:(O,F,H)=>a.apply(O,n(F)),remove:(O,F,H,j)=>a.remove(O,n(F)),toggle:(O,F,H)=>a.toggle(O,n(F)),formatChanged:(O,F,H,j,oe)=>a.formatChanged(F,H,j,oe)},editor:{getContent:O=>u.getContent(O),setContent:(O,F)=>({content:u.setContent(O,F),html:""}),insertContent:(O,F)=>(u.insertContent(O),""),addVisual:u.addVisual},selection:{getContent:(O,F)=>h.getContent(F)},autocompleter:{addDecoration:v.addDecoration,removeDecoration:v.removeDecoration},raw:{getModel:()=>K.some(C.getRawModel())}}},f8=()=>{const e=st(null),n=st("");return{init:{bindEvents:wt},undoManager:{beforeChange:wt,add:e,undo:e,redo:e,clear:wt,reset:wt,hasUndo:He,hasRedo:He,transact:e,ignore:wt,extra:wt},formatter:{match:He,matchAll:st([]),matchNode:st(void 0),canApply:He,closest:n,apply:wt,remove:wt,toggle:wt,formatChanged:st({unbind:wt})},editor:{getContent:n,setContent:st({content:"",html:""}),insertContent:st(""),addVisual:wt},selection:{getContent:n},autocompleter:{addDecoration:wt,removeDecoration:wt},raw:{getModel:st(K.none())}}},$c=e=>un(e.plugins,"rtc"),BG=e=>Qo(e.plugins,"rtc").bind(n=>K.from(n.setup)),NG=e=>{const n=e;return BG(e).fold(()=>(n.rtcInstance=u8(e),K.none()),o=>(n.rtcInstance=f8(),K.some(()=>o().then(r=>(n.rtcInstance=d8(r),r.rtc.isRemote)))))},wi=e=>e.rtcInstance?e.rtcInstance:u8(e),Yr=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},jB=(e,n,o)=>{Yr(e).undoManager.beforeChange(n,o)},ZB=(e,n,o,r,a,u,h)=>Yr(e).undoManager.add(n,o,r,a,u,h),h8=(e,n,o,r)=>Yr(e).undoManager.undo(n,o,r),m8=(e,n,o)=>Yr(e).undoManager.redo(n,o),e_=(e,n,o)=>{Yr(e).undoManager.clear(n,o)},p8=(e,n)=>{Yr(e).undoManager.reset(n)},O4=(e,n,o)=>Yr(e).undoManager.hasUndo(n,o),g8=(e,n,o)=>Yr(e).undoManager.hasRedo(n,o),qB=(e,n,o,r)=>Yr(e).undoManager.transact(n,o,r),GB=(e,n,o)=>{Yr(e).undoManager.ignore(n,o)},D4=(e,n,o,r,a)=>{Yr(e).undoManager.extra(n,o,r,a)},KB=(e,n,o,r,a)=>Yr(e).formatter.match(n,o,r,a),R4=(e,n,o)=>Yr(e).formatter.matchAll(n,o),v8=(e,n,o,r,a)=>Yr(e).formatter.matchNode(n,o,r,a),b8=(e,n)=>Yr(e).formatter.canApply(n),y8=(e,n)=>Yr(e).formatter.closest(n),eu=(e,n,o,r)=>{Yr(e).formatter.apply(n,o,r)},w8=(e,n,o,r,a)=>{Yr(e).formatter.remove(n,o,r,a)},C8=(e,n,o,r)=>{Yr(e).formatter.toggle(n,o,r)},x8=(e,n,o,r,a,u)=>Yr(e).formatter.formatChanged(n,o,r,a,u),S8=(e,n)=>wi(e).editor.getContent(n),E8=(e,n,o)=>wi(e).editor.setContent(n,o),YB=(e,n,o)=>wi(e).editor.insertContent(n,o),_8=(e,n,o)=>Yr(e).selection.getContent(n,o),T8=(e,n)=>Yr(e).editor.addVisual(n),XB=e=>Yr(e).init.bindEvents(),t_=(e,n={})=>{const o=n.format?n.format:"html";return _8(e,o,n)},JB=e=>e.dom.length===0?(Eo(e),K.none()):K.some(e),A8=(e,n)=>e.filter(o=>Sr.isBookmarkNode(o.dom)).bind(n?Qr:No),QB=(e,n,o,r,a)=>{const u=e.dom,h=n.dom,v=r?u.length:h.length;r?(cO(u,h,a,!1,!r),o.setStart(h,v)):(cO(h,u,a,!1,!r),o.setEnd(h,v))},P4=(e,n,o)=>{Hn(e).each(r=>{const a=e.dom;n&&Wb(r,Ve(a,0),o)?aO(a,0,o):!n&&jb(r,Ve(a,a.length),o)&&ci(a,a.length,o)})},eN=(e,n,o,r,a)=>{e.bind(u=>((r?ci:aO)(u.dom,r?u.dom.length:0,a),n.filter(jo).map(v=>QB(u,v,o,r,a)))).orThunk(()=>A8(n,r).or(n).filter(jo).map(h=>P4(h,r,a)))},k8=(e,n,o)=>{const r=K.from(n.firstChild).map(pe.fromDom),a=K.from(n.lastChild).map(pe.fromDom);e.deleteContents(),e.insertNode(n);const u=r.bind(No).filter(jo).bind(JB),h=a.bind(Qr).filter(jo).bind(JB);eN(u,r,e,!0,o),eN(h,a,e,!1,o),e.collapse(!1)},IG=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),O8=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...a,...n});return dn({validate:!1},e.schema).serialize(u)}else return n.content},D8=(e,n,o={})=>{const r=IG(o,n);GE(e,r).each(a=>{const u=O8(e,a),h=e.selection.getRng();k8(h,h.createContextualFragment(u),e.schema),e.selection.setRng(h),Hb(e,h),P1(e,u,a)})},M4=(e,n,o)=>{if(un(e,n)){const r=Jt(e[n],a=>a!==o);r.length===0?delete e[n]:e[n]=r}};var tN=(e,n)=>{let o,r;const a=(v,C)=>Jo(C,O=>e.is(O,v)),u=v=>e.getParents(v,void 0,e.getRoot()),h=()=>{o={},r={},n.on("NodeChange",v=>{const C=v.element,O=u(C),F={};Dt(o,(H,j)=>{a(j,O).each(oe=>{r[j]||(Le(H,le=>{le(!0,{node:oe,selector:j,parents:O})}),r[j]=H),F[j]=H})}),Dt(r,(H,j)=>{F[j]||(delete r[j],Le(H,oe=>{oe(!1,{node:C,selector:j,parents:O})}))})})};return{selectorChangedWithUnbind:(v,C)=>(o||h(),o[v]||(o[v]=[]),o[v].push(C),a(v,u(n.selection.getStart())).each(()=>{r[v]=o[v]}),{unbind:()=>{M4(o,v,C),M4(r,v,C)}})}};const nN=e=>!!(e&&e.ownerDocument)&&Zt(pe.fromDom(e.ownerDocument),pe.fromDom(e)),M1=e=>e?nN(e.startContainer)&&nN(e.endContainer):!1,B1=(e,n,o,r)=>{let a,u;const{selectorChangedWithUnbind:h}=tN(e,r),v=(Tt,Kt)=>{const to=e.createRng();je(Tt)&&je(Kt)?(to.setStart(Tt,Kt),to.setEnd(Tt,Kt),Be(to),Ce(!1)):(cc(e,to,r.getBody(),!0),Be(to))},C=Tt=>t_(r,Tt),O=(Tt,Kt)=>D8(r,Tt,Kt),F=Tt=>iP(r.getBody(),_e(),Tt),H=Tt=>aP(r.getBody(),_e(),Tt),j=(Tt,Kt)=>Ri.getBookmark(Tt,Kt),oe=Tt=>Ri.moveToBookmark(Tt),le=(Tt,Kt)=>(U6(e,Tt,Kt).each(Be),Tt),re=()=>{const Tt=_e(),Kt=Ee();return!Tt||Tt.item?!1:Tt.compareEndPoints?Tt.compareEndPoints("StartToEnd",Tt)===0:!Kt||Tt.collapsed},de=()=>{const Tt=_e(),Kt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Kt.length>0?gr(Kt,to=>e.isEditable(to.parentElement)):sP(e,Tt)},Ce=Tt=>{const Kt=_e();Kt.collapse(!!Tt),Be(Kt)},Ee=()=>n.getSelection?n.getSelection():n.document.selection,_e=()=>{let Tt;const Kt=(kt,ln,Gn)=>{try{return ln.compareBoundaryPoints(kt,Gn)}catch{return-1}},to=n.document;if(je(r.bookmark)&&!p1(r)){const kt=QS(r);if(kt.isSome())return kt.map(ln=>Kk(r,[ln])[0]).getOr(to.createRange())}try{const kt=Ee();kt&&!xv(kt.anchorNode)&&(kt.rangeCount>0?Tt=kt.getRangeAt(0):Tt=to.createRange(),Tt=Kk(r,[Tt])[0])}catch{}if(Tt||(Tt=to.createRange()),Lm(Tt.startContainer)&&Tt.collapsed){const kt=e.getRoot();Tt.setStart(kt,0),Tt.setEnd(kt,0)}return a&&u&&(Kt(Tt.START_TO_START,Tt,a)===0&&Kt(Tt.END_TO_END,Tt,a)===0?Tt=u:(a=null,u=null)),Tt},Be=(Tt,Kt)=>{if(!M1(Tt))return;const to=Ee();if(Tt=r.dispatch("SetSelectionRange",{range:Tt,forward:Kt}).range,to){u=Tt;try{to.removeAllRanges(),to.addRange(Tt)}catch{}Kt===!1&&to.extend&&(to.collapse(Tt.endContainer,Tt.endOffset),to.extend(Tt.startContainer,Tt.startOffset)),a=to.rangeCount>0?to.getRangeAt(0):null}if(!Tt.collapsed&&Tt.startContainer===Tt.endContainer&&(to!=null&&to.setBaseAndExtent)&&Tt.endOffset-Tt.startOffset<2&&Tt.startContainer.hasChildNodes()){const ln=Tt.startContainer.childNodes[Tt.startOffset];ln&&ln.nodeName==="IMG"&&(to.setBaseAndExtent(Tt.startContainer,Tt.startOffset,Tt.endContainer,Tt.endOffset),(to.anchorNode!==Tt.startContainer||to.focusNode!==Tt.endContainer)&&to.setBaseAndExtent(ln,0,ln,1))}r.dispatch("AfterSetSelectionRange",{range:Tt,forward:Kt})},qe=Tt=>(O(e.getOuterHTML(Tt)),Tt),bt=()=>z6(r.getBody(),_e()),Rt=(Tt,Kt)=>V6(e,_e(),Tt,Kt),dt=()=>{const Tt=Ee(),Kt=Tt==null?void 0:Tt.anchorNode,to=Tt==null?void 0:Tt.focusNode;if(!Tt||!Kt||!to||xv(Kt)||xv(to))return!0;const kt=e.createRng(),ln=e.createRng();try{kt.setStart(Kt,Tt.anchorOffset),kt.collapse(!0),ln.setStart(to,Tt.focusOffset),ln.collapse(!0)}catch{return!0}return kt.compareBoundaryPoints(kt.START_TO_START,ln)<=0},cs={dom:e,win:n,serializer:o,editor:r,expand:(Tt={type:"word"})=>Be($t(e).expand(_e(),Tt)),collapse:Ce,setCursorLocation:v,getContent:C,setContent:O,getBookmark:j,moveToBookmark:oe,select:le,isCollapsed:re,isEditable:de,isForward:dt,setNode:qe,getNode:bt,getSel:Ee,setRng:Be,getRng:_e,getStart:F,getEnd:H,getSelectedBlocks:Rt,normalize:()=>{const Tt=_e(),Kt=Ee();if(!hk(Kt)&&t1(r)){const to=At(e,Tt);return to.each(kt=>{Be(kt,dt())}),to.getOr(Tt)}return Tt},selectorChanged:(Tt,Kt)=>(h(Tt,Kt),cs),selectorChangedWithUnbind:h,getScrollContainer:()=>{let Tt,Kt=e.getRoot();for(;Kt&&Kt.nodeName!=="BODY";){if(Kt.scrollHeight>Kt.clientHeight){Tt=Kt;break}Kt=Kt.parentNode}return Tt},scrollIntoView:(Tt,Kt)=>{je(Tt)?kp(r,Tt,Kt):Hb(r,_e(),Kt)},placeCaretAt:(Tt,Kt)=>Be(f(Tt,Kt,r.getDoc())),getBoundingClientRect:()=>{const Tt=_e();return Tt.collapsed?Ve.fromRangeStart(Tt).getClientRects()[0]:Tt.getBoundingClientRect()},destroy:()=>{n=a=u=null,zo.destroy()}},Ri=Sr(cs),zo=Rb(cs,r);return cs.bookmarkManager=Ri,cs.controlSelection=zo,cs},Mw=(e,n,o)=>{n.addNodeFilter("br",(r,a,u)=>{const h=D.extend({},o.getBlockElements()),v=o.getNonEmptyElements(),C=o.getWhitespaceElements();h.body=1;const O=F=>F.name in h||yf(o,F);for(let F=0,H=r.length;F<H;F++){let j=r[F],oe=j.parent;if(oe&&O(oe)&&j===oe.lastChild){let le=j.prev;for(;le;){const re=le.name;if(re!=="span"||le.attr("data-mce-type")!=="bookmark"){re==="br"&&(j=null);break}le=le.prev}if(j&&(j.remove(),Yb(o,v,C,oe))){const re=o.getElementRule(oe.name);re&&(re.removeEmpty?oe.remove():re.paddEmpty&&yE(e,u,O,oe))}}else{let le=j;for(;oe&&oe.firstChild===le&&oe.lastChild===le&&(le=oe,!h[oe.name]);)oe=oe.parent;if(le===oe){const re=new Da("#text",3);re.value=ei,j.replace(re)}}}})},oN=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let u=r.length;for(;u--;){const h=r[u];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const u="data-mce-"+a,h=n.url_converter,v=n.url_converter_scope;let C=r.length;for(;C--;){const O=r[C];let F=O.attr(u);F!==void 0?(O.attr(a,F.length>0?F:null),O.attr(u,null)):(F=O.attr(a),a==="style"?F=o.serializeStyle(o.parseStyle(F),O.name):h&&(F=h.call(v,F,a,O.name)),O.attr(a,F.length>0?F:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const u=r[a];let h=u.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(r,a,u)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(K.from(v.firstChild).exists(O=>{var F;return!Hv((F=O.value)!==null&&F!==void 0?F:"")})?v.unwrap():v.remove())}}),e.addNodeFilter("noscript",r=>{var a;let u=r.length;for(;u--;){const h=r[u].firstChild;h&&(h.value=na.decode((a=h.value)!==null&&a!==void 0?a:""))}}),e.addNodeFilter("script,style",(r,a)=>{var u;const h=C=>C.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const C=r[v],O=C.firstChild,F=(u=O==null?void 0:O.value)!==null&&u!==void 0?u:"";if(a==="script"){const H=C.attr("type");H&&C.attr("type",H==="mce-no/type"?null:H.replace(/^mce\-/,"")),n.element_format==="xhtml"&&O&&F.length>0&&(O.value=`// <![CDATA[
`+h(F)+`
// ]]>`)}else n.element_format==="xhtml"&&O&&F.length>0&&(O.value=`<!--
`+h(F)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const u=r[a],h=u.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let u=r.length;for(;u--;){const h=r[u];h.type===7?h.remove():h.type===1&&a==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Le(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let u=r.length;for(;u--;)r[u].attr(a,null)}),n.remove_trailing_brs&&Mw(n,e,e.schema)},sN=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},R8=(e,n,o)=>{let r;const a=e.dom;let u=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const v=h.createHTMLDocument("");D.each(u.nodeName==="BODY"?u.childNodes:[u],C=>{v.body.appendChild(v.importNode(C,!0))}),u.nodeName!=="BODY"?u=v.body.firstChild:u=v.body,r=a.doc,a.doc=v}return Uu(e,{...o,node:u}),r&&(a.doc=r),u},rN=(e,n)=>je(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,P8=(e,n,o)=>rN(e,o)?R8(e,n,o):n,M8=(e,n,o)=>{D.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let u=r.length;for(;u--;)r[u].attr(a,null)}),n.push(o))},B8=(e,n,o)=>!n.no_events&&e?UR(e,{...n,content:o}).content:o,N8=(e,n,o)=>{const r=ja(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Sg(pe.fromDom(n))?r:D.trim(r)},iN=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(n,r);return sN(a),a},I8=(e,n,o)=>dn(e,n).serialize(o),$8=(e,n,o,r,a)=>{const u=I8(n,o,r);return B8(e,a,u)},Bw=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=n&&n.dom?n.dom:Ko.DOM,u=n&&n.schema?n.schema:xd(r),h=Gi(r,u);oN(h,r,a);const v=(C,O={})=>{const F={format:"html",...O},H=P8(n,C,F),j=N8(a,H,F),oe=iN(h,j,F);return F.format==="tree"?oe:$8(n,r,u,oe,F)};return{schema:u,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:v,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:Ge(M8,h,o),getTempAttrs:st(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},B4=(e,n)=>{const o=Bw(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},aN="html",L8=(e,n)=>({...e,format:n,get:!0,getInner:!0}),F8=(e,n={})=>{const o=n.format?n.format:aN,r=L8(n,o);return p4(e,r).fold(eo,a=>{const u=S8(e,a);return AB(e,u,a)})},H8="html",cN=(e,n)=>({format:H8,...e,set:!0,content:n}),N4=(e,n,o={})=>{const r=cN(o,n);return GE(e,r).map(a=>{const u=E8(e,a.content,a);return P1(e,u.html,a),u.content}).getOr(n)},z8="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),V8=[],U8="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),W8=[],Yu=(e,n)=>{const o=Jt(n,r=>un(e,r));return is(o)},I4=e=>{const n=Yu(e,z8),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),is(n)},j8=e=>Yu(e,V8),lN=(e,n)=>{const o=D.makeMap(e.plugins," "),a=Jt(n,u=>un(o,u));return is(a)},Z8=e=>lN(e,U8),q8=e=>lN(e,W8.map(n=>n.name)),Do=(e,n)=>{const o=I4(e),r=Z8(n),a=r.length>0,u=o.length>0,h=n.theme==="mobile";if(a||u||h){const v=`
- `,C=h?`

Themes:${v}mobile`:"",O=a?`

Plugins:${v}${r.join(v)}`:"",F=u?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+C+O+F)}},$G=e=>Jo(W8,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),G8=(e,n)=>{const o=j8(e),r=q8(n),a=r.length>0,u=o.length>0;if(a||u){const h=`
- `,v=a?`

Plugins:${h}${r.map($G).join(h)}`:"",C=u?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+v+C)}},K8=(e,n)=>{Do(e,n),G8(e,n)},ps=Ko.DOM,Y8=e=>{ps.setStyle(e.id,"display",e.orgDisplay)},Np=e=>K.from(e).each(n=>n.destroy()),X8=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},J8=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),ps.unbind(n,"submit reset",e.formEventDelegate))},Q8=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&je(a==null?void 0:a.nextSibling)&&ps.remove(a.nextSibling),_k(e),e.editorManager.remove(e),!e.inline&&r&&Y8(e),Tk(e),ps.remove(e.getContainer()),Np(n),Np(o),e.destroy()}},uN=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Np(o),Np(r)),J8(e),X8(e),e.destroyed=!0}},Ma=(()=>{const e={};return{add:(a,u)=>{e[a]=u},get:a=>e[a]?e[a]:{icons:{}},has:a=>un(e,a)}})(),Hf=zi.ModelManager,um=(e,n)=>n.dom[e],Kd=(e,n)=>parseInt(gu(n,e),10),Nw=Ge(um,"clientWidth"),$4=Ge(um,"clientHeight"),L4=Ge(Kd,"margin-top"),dN=Ge(Kd,"margin-left"),fN=e=>e.dom.getBoundingClientRect(),ez=(e,n,o)=>{const r=Nw(e),a=$4(e);return n>=0&&o>=0&&n<=r&&o<=a},tz=(e,n,o,r)=>{const a=fN(n),u=e?a.left+n.dom.clientLeft+dN(n):0,h=e?a.top+n.dom.clientTop+L4(n):0,v=o-u,C=r-h;return{x:v,y:C}},hN=(e,n,o)=>{const r=pe.fromDom(e.getBody()),a=e.inline?r:xn(r),u=tz(e.inline,a,n,o);return ez(a,u.x,u.y)},mN=e=>K.from(e).map(pe.fromDom),pN=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return mN(n).map(mh).getOr(!1)};var gN=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const n_=e=>{const n=[],o=()=>{const j=e.theme;return j&&j.getNotificationManagerImpl?j.getNotificationManagerImpl():gN()},r=()=>K.from(n[0]),a=(j,oe)=>j.type===oe.type&&j.text===oe.text&&!j.progressBar&&!j.timeout&&!oe.progressBar&&!oe.timeout,u=()=>{Le(n,j=>{j.reposition()})},h=j=>{n.push(j)},v=j=>{wn(n,oe=>oe===j).each(oe=>{n.splice(oe,1)})},C=(j,oe=!0)=>e.removed||!pN(e)?{}:(oe&&e.dispatch("BeforeOpenNotification",{notification:j}),Jo(n,le=>a(o().getArgs(le),j)).getOrThunk(()=>{e.editorManager.setActive(e);const le=o().open(j,()=>{v(le),u(),oP(e)&&r().fold(()=>e.focus(),re=>K2(pe.fromDom(re.getEl())))});return h(le),u(),e.dispatch("OpenNotification",{notification:{...le}}),le})),O=()=>{r().each(j=>{o().close(j),v(j),u()})},F=st(n);return(j=>{j.on("SkinLoaded",()=>{const oe=Xx(j);oe&&C({text:oe,type:"warning",timeout:0},!1),u()}),j.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),j.on("remove",()=>{Le(n.slice(),oe=>{o().close(oe)})})})(e),{open:C,close:O,getNotifications:F}},Iw=zi.PluginManager,I1=zi.ThemeManager;var LG=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const vN=e=>{let n=[];const o=()=>{const re=e.theme;return re&&re.getWindowManagerImpl?re.getWindowManagerImpl():LG()},r=(re,de)=>(...Ce)=>de?de.apply(re,Ce):void 0,a=re=>{e.dispatch("OpenWindow",{dialog:re})},u=re=>{e.dispatch("CloseWindow",{dialog:re})},h=re=>{n.push(re),a(re)},v=re=>{u(re),n=Jt(n,de=>de!==re),n.length===0&&e.focus()},C=()=>K.from(n[n.length-1]),O=re=>{e.editorManager.setActive(e),Y2(e),e.ui.show();const de=re();return h(de),de},F=(re,de)=>O(()=>o().open(re,de,v)),H=re=>O(()=>o().openUrl(re,v)),j=(re,de,Ce)=>{const Ee=o();Ee.alert(re,r(Ce||Ee,de))},oe=(re,de,Ce)=>{const Ee=o();Ee.confirm(re,r(Ce||Ee,de))},le=()=>{C().each(re=>{o().close(re),v(re)})};return e.on("remove",()=>{Le(n,re=>{o().close(re)})}),{open:F,openUrl:H,alert:j,confirm:oe,close:le}},bN=(e,n)=>{e.notificationManager.open({type:"error",text:n})},tu=(e,n)=>{e._skinLoaded?bN(e,n):e.on("SkinLoaded",()=>{bN(e,n)})},FG=(e,n)=>{tu(e,Rr.translate(["Failed to upload image: {0}",n]))},o_=(e,n,o)=>{VS(e,n,{message:o}),console.error(o)},$w=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,Lw=(e,n,o)=>{o_(e,"PluginLoadError",$w("plugin",n,o))},nz=(e,n,o)=>{o_(e,"IconsLoadError",$w("icons",n,o))},yN=(e,n,o)=>{o_(e,"LanguageLoadError",$w("language",n,o))},wN=(e,n,o)=>{o_(e,"ThemeLoadError",$w("theme",n,o))},CN=(e,n,o)=>{o_(e,"ModelLoadError",$w("model",n,o))},oz=(e,n,o)=>{const r=Rr.translate(["Failed to initialize plugin: {0}",n]);VS(e,"PluginLoadError",{message:r}),s_(r,o),tu(e,r)},s_=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Ip=e=>/^[a-z0-9\-]+$/i.test(e),F4=e=>"content/"+e+"/content.css",sz=e=>tinymce.Resource.has(F4(e)),rz=e=>xN(e,HR(e)),iz=e=>xN(e,Kx(e)),xN=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Tn(n,u=>sz(u)?u:Ip(u)&&!e.inline?`${o}/${u}/${a}`:e.documentBaseURI.toAbsolute(u))},az=e=>{e.contentCSS=e.contentCSS.concat(rz(e),iz(e))},cz=e=>e?Ji(e.getElementsByTagName("img")):[],lz=(e,n)=>{const o={};return{findAll:(a,u=ht)=>{const h=Jt(cz(a),C=>{const O=C.src;return C.hasAttribute("data-mce-bogus")||C.hasAttribute("data-mce-placeholder")||!O||O===Mt.transparentSrc?!1:Bs(O,"blob:")?!e.isUploaded(O)&&u(C):Bs(O,"data:")?u(C):!1}),v=Tn(h,C=>{const O=C.src;if(un(o,O))return o[O].then(F=>ue(F)?F:{image:C,blobInfo:F.blobInfo});{const F=vH(n,O).then(H=>(delete o[O],{image:C,blobInfo:H})).catch(H=>(delete o[O],H));return o[O]=F,F}});return Promise.all(v)}}},SN=()=>{let o={};const r=(j,oe)=>({status:j,resultUri:oe}),a=j=>j in o;return{hasBlobUri:a,getResultUri:j=>{const oe=o[j];return oe?oe.resultUri:null},isPending:j=>a(j)?o[j].status===1:!1,isUploaded:j=>a(j)?o[j].status===2:!1,markPending:j=>{o[j]=r(1,null)},markUploaded:(j,oe)=>{o[j]=r(2,oe)},removeFailed:j=>{delete o[j]},destroy:()=>{o={}}}};let r_=0;const uz=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},dz=e=>e+r_+++uz(),HG=()=>{let e=[];const n=H=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[H.toLowerCase()]||"dat",o=(H,j,oe,le,re)=>{if(ue(H))return r({id:H,name:le,filename:re,blob:j,base64:oe});if(mt(H))return r(H);throw new Error("Unknown input type")},r=H=>{if(!H.blob||!H.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const j=H.id||dz("blobid"),oe=H.name||j,le=H.blob;return{id:st(j),name:st(oe),filename:st(H.filename||oe+"."+n(le.type)),blob:st(le),base64:st(H.base64),blobUri:st(H.blobUri||URL.createObjectURL(le)),uri:st(H.uri)}},a=H=>{h(H.id())||e.push(H)},u=H=>Jo(e,H).getOrUndefined(),h=H=>u(j=>j.id()===H);return{create:o,add:a,get:h,getByUri:H=>u(j=>j.blobUri()===H),getByData:(H,j)=>u(oe=>oe.base64()===H&&oe.blob().type===j),findFirst:u,removeByUri:H=>{e=Jt(e,j=>j.blobUri()===H?(URL.revokeObjectURL(j.blobUri()),!1):!0)},destroy:()=>{Le(e,H=>{URL.revokeObjectURL(H.blobUri())}),e=[]}}},Fw=(e,n)=>{const o={},r=(re,de)=>re?re.replace(/\/$/,"")+"/"+de.replace(/^\//,""):de,a=(re,de)=>new Promise((Ce,Ee)=>{const _e=new XMLHttpRequest;_e.open("POST",n.url),_e.withCredentials=n.credentials,_e.upload.onprogress=qe=>{de(qe.loaded/qe.total*100)},_e.onerror=()=>{Ee("Image upload failed due to a XHR Transport error. Code: "+_e.status)},_e.onload=()=>{if(_e.status<200||_e.status>=300){Ee("HTTP Error: "+_e.status);return}const qe=JSON.parse(_e.responseText);if(!qe||!ue(qe.location)){Ee("Invalid JSON: "+_e.responseText);return}Ce(r(n.basePath,qe.location))};const Be=new FormData;Be.append("file",re.blob(),re.filename()),_e.send(Be)}),u=ye(n.handler)?n.handler:a,h=()=>new Promise(re=>{re([])}),v=(re,de)=>({url:de,blobInfo:re,status:!0}),C=(re,de)=>({url:"",blobInfo:re,status:!1,error:de}),O=(re,de)=>{D.each(o[re],Ce=>{Ce(de)}),delete o[re]},F=(re,de,Ce)=>(e.markPending(re.blobUri()),new Promise(Ee=>{let _e,Be;try{const qe=()=>{_e&&(_e.close(),Be=wt)},bt=dt=>{qe(),e.markUploaded(re.blobUri(),dt),O(re.blobUri(),v(re,dt)),Ee(v(re,dt))},Rt=dt=>{qe(),e.removeFailed(re.blobUri()),O(re.blobUri(),C(re,dt)),Ee(C(re,dt))};Be=dt=>{dt<0||dt>100||K.from(_e).orThunk(()=>K.from(Ce).map(_n)).each(Ue=>{_e=Ue,Ue.progressBar.value(dt)})},de(re,Be).then(bt,dt=>{Rt(ue(dt)?{message:dt}:dt)})}catch(qe){Ee(C(re,qe))}})),H=re=>re===a,j=re=>{const de=re.blobUri();return new Promise(Ce=>{o[de]=o[de]||[],o[de].push(Ce)})},oe=(re,de)=>(re=D.grep(re,Ce=>!e.isUploaded(Ce.blobUri())),Promise.all(D.map(re,Ce=>e.isPending(Ce.blobUri())?j(Ce):F(Ce,u,de))));return{upload:(re,de)=>!n.url&&H(u)?h():oe(re,de)}},EN=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),i_=(e,n)=>Fw(n,{url:t2(e),basePath:tb(e),credentials:jx(e),handler:Zx(e)}),fz=e=>{const n=SN(),o=i_(e,n);return{upload:(r,a=!0)=>o.upload(r,a?EN(e):void 0)}},hz=(e,n)=>e.dom.isEmpty(n.dom)&&je(e.schema.getTextBlockElements()[Jn(n)]),mz=e=>n=>{hz(e,n)&&fr(n,pe.fromHtml('<br data-mce-bogus="1" />'))},pz=e=>{const n=HG();let o,r;const a=SN(),u=[],h=_e=>Be=>e.selection?_e(Be):[],v=_e=>_e+(_e.indexOf("?")===-1?"?":"&")+new Date().getTime(),C=(_e,Be,qe)=>{let bt=0;do bt=_e.indexOf(Be,bt),bt!==-1&&(_e=_e.substring(0,bt)+qe+_e.substr(bt+Be.length),bt+=qe.length-Be.length+1);while(bt!==-1);return _e},O=(_e,Be,qe)=>{const bt=`src="${qe}"${qe===Mt.transparentSrc?' data-mce-placeholder="1"':""}`;return _e=C(_e,`src="${Be}"`,bt),_e=C(_e,'data-mce-src="'+Be+'"','data-mce-src="'+qe+'"'),_e},F=(_e,Be)=>{Le(e.undoManager.data,qe=>{qe.type==="fragmented"?qe.fragments=Tn(qe.fragments,bt=>O(bt,_e,Be)):qe.content=O(qe.content,_e,Be)})},H=(_e,Be)=>{const qe=e.convertURL(Be,"src");F(_e.src,Be),xi(pe.fromDom(_e),{src:e2(e)?v(Be):Be,"data-mce-src":qe})},j=()=>(o||(o=i_(e,a)),de().then(h(_e=>{const Be=Tn(_e,qe=>qe.blobInfo);return o.upload(Be,EN(e)).then(h(qe=>{const bt=[];let Rt=!1;const dt=Tn(qe,(Ue,Ye)=>{const{blobInfo:Ot,image:Yt}=_e[Ye];let zn=!1;return Ue.status&&bi(e)?(Ue.url&&!Fr(Yt.src,Ue.url)&&(Rt=!0),n.removeByUri(Yt.src),$c(e)||H(Yt,Ue.url)):Ue.error&&(Ue.error.remove&&(F(Yt.src,Mt.transparentSrc),bt.push(Yt),zn=!0),FG(e,Ue.error.message)),{element:Yt,status:Ue.status,uploadUri:Ue.url,blobInfo:Ot,removed:zn}});return bt.length>0&&!$c(e)?e.undoManager.transact(()=>{Le(bv(bt),Ue=>{const Ye=Hn(Ue);Eo(Ue),Ye.each(mz(e)),n.removeByUri(Ue.dom.src)})}):Rt&&e.undoManager.dispatchChange(),dt}))}))),oe=()=>ss(e)?j():Promise.resolve([]),le=_e=>gr(u,Be=>Be(_e)),re=_e=>{u.push(_e)},de=()=>(r||(r=lz(a,n)),r.findAll(e.getBody(),le).then(h(_e=>{const Be=Jt(_e,qe=>ue(qe)?(tu(e,qe),!1):qe.uriType!=="blob");return $c(e)||Le(Be,qe=>{F(qe.image.src,qe.blobInfo.blobUri()),qe.image.src=qe.blobInfo.blobUri(),qe.image.removeAttribute("data-mce-src")}),Be}))),Ce=()=>{n.destroy(),a.destroy(),r=o=null},Ee=_e=>_e.replace(/src="(blob:[^"]+)"/g,(Be,qe)=>{const bt=a.getResultUri(qe);if(bt)return'src="'+bt+'"';let Rt=n.getByUri(qe);return Rt||(Rt=To(e.editorManager.get(),(dt,Ue)=>dt||Ue.editorUpload&&Ue.editorUpload.blobCache.getByUri(qe),void 0)),Rt?'src="data:'+Rt.blob().type+";base64,"+Rt.base64()+'"':Be});return e.on("SetContent",()=>{ss(e)?oe():de()}),e.on("RawSaveContent",_e=>{_e.content=Ee(_e.content)}),e.on("GetContent",_e=>{_e.source_view||_e.format==="raw"||_e.format==="tree"||(_e.content=Ee(_e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",_e=>{Le(_e,Be=>{const qe=Be.attr("src");if(!qe||n.getByUri(qe))return;const bt=a.getResultUri(qe);bt&&Be.attr("src",bt)})})}),{blobCache:n,addFilter:re,uploadImages:j,uploadImagesAuto:oe,scanForImages:de,destroy:Ce}},$1=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,a,u]:[a,h,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,u,h)=>Wt(a)&&a.hasAttribute("href"),onformat:(a,u,h)=>{D.each(h,(v,C)=>{n.setAttrib(a,C,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var u;return(u=a==null?void 0:a.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return D.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},$p={remove_similar:!0,inherit:!1},dm={selector:"td,th",...$p},a_={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...dm},tablecellverticalalign:{styles:{"vertical-align":"%value"},...dm},tablecellbordercolor:{styles:{borderColor:"%value"},...dm},tablecellclass:{classes:["%value"],...dm},tableclass:{selector:"table",classes:["%value"],...$p},tablecellborderstyle:{styles:{borderStyle:"%value"},...dm},tablecellborderwidth:{styles:{borderWidth:"%value"},...dm}},L1=st(a_),F1=e=>{const n={},o=h=>je(h)?n[h]:n,r=h=>un(n,h),a=(h,v)=>{h&&(ue(h)?(Gt(v)||(v=[v]),Le(v,C=>{Cn(C.deep)&&(C.deep=!Ai(C)),Cn(C.split)&&(C.split=!Ai(C)||Bo(C)),Cn(C.remove)&&Ai(C)&&!Bo(C)&&(C.remove="none"),Ai(C)&&Bo(C)&&(C.mixed=!0,C.block_expand=!0),ue(C.classes)&&(C.classes=C.classes.split(/\s+/))}),n[h]=v):Dt(h,(C,O)=>{a(O,C)}))},u=h=>(h&&n[h]&&delete n[h],n);return a($1(e)),a(L1()),a(nb(e)),{get:o,has:r,register:a,unregister:u}},H1=D.each,lc=Ko.DOM,c_=e=>je(e)&&mt(e),l_=(e,n)=>{const o=n&&n.schema||xd({}),r=(C,O)=>{O.classes.length>0&&lc.addClass(C,O.classes.join(" ")),lc.setAttribs(C,O.attrs)},a=C=>{const O=ue(C)?{name:C,classes:[],attrs:{}}:C,F=lc.create(O.name);return r(F,O),F},u=(C,O)=>{const F=o.getElementRule(C.nodeName.toLowerCase()),H=F==null?void 0:F.parentsRequired;return H&&H.length?O&&An(H,O)?O:H[0]:!1},h=(C,O,F)=>{let H;const j=O[0],oe=c_(j)?j.name:void 0,le=u(C,oe);if(le)oe===le?(H=j,O=O.slice(1)):H=le;else if(j)H=j,O=O.slice(1);else if(!F)return C;const re=H?a(H):lc.create("div");re.appendChild(C),F&&D.each(F,Ce=>{const Ee=a(Ce);re.insertBefore(Ee,C)});const de=c_(H)?H.siblings:void 0;return h(re,O,de)},v=lc.create("div");if(e.length>0){const C=e[0],O=a(C),F=c_(C)?C.siblings:void 0;v.appendChild(h(O,e.slice(1),F))}return v},H4=e=>{e=D.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,u,h,v)=>{switch(a){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":D.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(h==="["){const C=v.match(/([\w\-]+)(?:\=\"([^\"]+))?/);C&&(o.attrs[C[1]]=C[2])}return""})),o.name=n||"div",o},_N=e=>ue(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),D.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=D.map(n.split(/(?:~\+|~|\+)/),H4),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],TN=(e,n)=>{let o="",r=Lg(e);if(r==="")return"";const a=j=>ue(j)?j.replace(/%(\w+)/g,""):"",u=(j,oe)=>lc.getStyle(oe??e.getBody(),j,!0);if(ue(n)){const j=e.formatter.get(n);if(!j)return"";n=j[0]}if("preview"in n){const j=n.preview;if(j===!1)return"";r=j||r}let h=n.block||n.inline||"span",v;const C=_N(n.selector);C.length>0?(C[0].name||(C[0].name=h),h=n.selector,v=l_(C,e)):v=l_([h],e);const O=lc.select(h,v)[0]||v.firstChild;H1(n.styles,(j,oe)=>{const le=a(j);le&&lc.setStyle(O,oe,le)}),H1(n.attributes,(j,oe)=>{const le=a(j);le&&lc.setAttrib(O,oe,le)}),H1(n.classes,j=>{const oe=a(j);lc.hasClass(O,oe)||lc.addClass(O,oe)}),e.dispatch("PreviewFormats"),lc.setStyles(v,{position:"absolute",left:-65535}),e.getBody().appendChild(v);const F=u("fontSize"),H=/px$/.test(F)?parseInt(F,10):0;return H1(r.split(" "),j=>{let oe=u(j,O);if(!(j==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(oe)&&(oe=u(j),kh(oe).toLowerCase()==="#ffffff"))&&!(j==="color"&&kh(oe).toLowerCase()==="#000000")){if(j==="font-size"&&/em|%$/.test(oe)){if(H===0)return;oe=parseFloat(oe)/(/%$/.test(oe)?100:1)*H+"px"}j==="border"&&oe&&(o+="padding:0 2px;"),o+=j+":"+oe+";"}}),e.dispatch("AfterPreviewFormats"),lc.remove(v),o},u0=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},z4=e=>{const n=F1(e),o=or({});return u0(e),Z7(e),$c(e)||cH(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,a,u)=>{eu(e,r,a,u)},remove:(r,a,u,h)=>{w8(e,r,a,u,h)},toggle:(r,a,u)=>{C8(e,r,a,u)},match:(r,a,u,h)=>KB(e,r,a,u,h),closest:r=>y8(e,r),matchAll:(r,a)=>R4(e,r,a),matchNode:(r,a,u,h)=>v8(e,r,a,u,h),canApply:r=>b8(e,r),formatChanged:(r,a,u,h)=>x8(e,o,r,a,u,h),getCssText:Ge(TN,e)}},V4=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},AN=(e,n,o)=>{const r=or(!1),a=C=>{QE(n,!1,o),n.add({},C)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",C=>{const O=C.command;V4(O)||(A4(n,o),n.beforeChange())}),e.on("ExecCommand",C=>{const O=C.command;V4(O)||a(C)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",C=>{const O=C.keyCode;if(C.isDefaultPrevented())return;const F=Mt.os.isMacOS()&&C.key==="Meta";(O>=33&&O<=36||O>=37&&O<=40||O===45||C.ctrlKey||F)&&(a(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),r.get()&&n.typing&&!_4(Pw(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",C=>{const O=C.keyCode;if(C.isDefaultPrevented())return;if(O>=33&&O<=36||O>=37&&O<=40||O===45){n.typing&&a(C);return}const F=C.ctrlKey&&!C.altKey||C.metaKey;if((O<16||O>20)&&O!==224&&O!==91&&!n.typing&&!F){n.beforeChange(),QE(n,!0,o),n.add({},C),r.set(!0);return}(Mt.os.isMacOS()?C.metaKey:C.ctrlKey&&!C.altKey)&&n.beforeChange()}),e.on("mousedown",C=>{n.typing&&a(C)});const u=C=>C.inputType==="insertReplacementText",h=C=>C.inputType==="insertText"&&C.data===null,v=C=>C.inputType==="insertFromPaste"||C.inputType==="insertFromDrop";e.on("input",C=>{C.inputType&&(u(C)||h(C)||v(C))&&a(C)}),e.on("AddUndo Undo Redo ClearUndos",C=>{C.isDefaultPrevented()||e.nodeChanged()})},u_=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},U4=e=>{const n=Cf(),o=or(0),r=or(0),a={data:[],typing:!1,beforeChange:()=>{jB(e,o,n)},add:(u,h)=>ZB(e,a,r,o,n,u,h),dispatchChange:()=>{e.setDirty(!0);const u=Pw(e);u.bookmark=Zy(e.selection),e.dispatch("change",{level:u,lastLevel:pa(a.data,r.get()).getOrUndefined()})},undo:()=>h8(e,a,o,r),redo:()=>m8(e,r,a.data),clear:()=>{e_(e,a,r)},reset:()=>{p8(e,a)},hasUndo:()=>O4(e,a,r),hasRedo:()=>g8(e,a,r),transact:u=>qB(e,a,o,u),ignore:u=>{GB(e,o,u)},extra:(u,h)=>{D4(e,a,r,u,h)}};return $c(e)||AN(e,a,o),u_(e),a},kN=[9,27,Ft.HOME,Ft.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ft.DOWN,Ft.UP,Ft.LEFT,Ft.RIGHT].concat(Mt.browser.isFirefox()?[224]:[]),W4="data-mce-placeholder",j4=e=>e.type==="keydown"||e.type==="keyup",zf=e=>{const n=e.keyCode;return n===Ft.BACKSPACE||n===Ft.DELETE},Lp=e=>{if(j4(e)){const n=e.keyCode;return!zf(e)&&(Ft.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||An(kN,n))}else return!1},Xu=e=>j4(e)&&!(zf(e)||e.type==="keyup"&&e.keyCode===229),gz=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},vz=e=>{var n;const o=e.dom,r=Ui(e),a=(n=s2(e))!==null&&n!==void 0?n:"",u=(h,v)=>{if(Lp(h))return;const C=e.getBody(),O=Xu(h)?!1:gz(o,C,r);(o.getAttrib(C,W4)!==""!==O||v)&&(o.setAttrib(C,W4,O?a:null),Ok(e,O),e.on(O?"keydown":"keyup",u),e.off(O?"keyup":"keydown",u))};Uo(a)&&e.on("init",h=>{u(h,!0),e.on("change SetContent ExecCommand",u),e.on("paste",v=>Kl.setEditorTimeout(e,()=>u(v)))})},bz=(e,n)=>({block:e,position:n}),yz=(e,n)=>({from:e,to:n}),Z4=(e,n)=>{const o=pe.fromDom(e),r=pe.fromDom(n.container());return rw(o,r).map(a=>bz(a,n))},wz=e=>!Je(e.from.block,e.to.block),ON=(e,n)=>Li(n,a=>xg(a)||kr(a.dom),a=>Je(a,e)).filter(dr).getOr(e),Cz=(e,n)=>{const o=pe.fromDom(e);return Je(ON(o,n.from.block),ON(o,n.to.block))},xz=e=>bs(e.from.block.dom)===!1&&bs(e.to.block.dom)===!1,Sz=e=>{const n=o=>yx(o)||zm(o.dom);return n(e.from.block)&&n(e.to.block)},Ez=(e,n,o,r)=>ts(r.position.getNode())&&!Ls(e,r.block)?Xh(!1,r.block.dom).bind(a=>a.isEqual(r.position)?Oc(o,n,a).bind(u=>Z4(n,u)):K.some(r)).getOr(r):r,_z=(e,n,o,r)=>{const a=Z4(n,Ve.fromRangeStart(r)),u=a.bind(h=>Oc(o,n,h.position).bind(v=>Z4(n,v).map(C=>Ez(e,n,o,C))));return ie(a,u,yz).filter(h=>wz(h)&&Cz(n,h)&&xz(h)&&Sz(h))},q4=(e,n,o,r)=>r.collapsed?_z(e,n,o,r):K.none(),G4=(e,n)=>{const o=ks(e);return wn(o,r=>n.isBlock(Jn(r))).fold(st(o),r=>o.slice(0,r))},K4=(e,n)=>{const o=G4(e,n);return Le(o,Eo),o},DN=(e,n,o)=>{const r=If(o,n);return Jo(r.reverse(),a=>Ls(e,a)).each(Eo)},Tz=(e,n)=>Jt(pi(n),o=>!Ls(e,o)).length===0,RN=(e,n,o,r,a)=>{if(Ls(r,o))return Rd(o),ji(o.dom);Tz(r,a)&&Ls(r,n)&&Si(a,pe.fromTag("br"));const u=Oa(o.dom,Ve.before(a.dom));return Le(K4(n,r),h=>{Si(a,h)}),DN(r,e,n),u},PN=(e,n)=>e.isInline(Jn(n)),Y4=(e,n,o,r)=>{if(Ls(r,o)){if(Ls(r,n)){const h=Ya((v=>{const C=(O,F)=>zr(O).fold(()=>F,H=>PN(r,H)?C(H,F.concat($h(H))):F);return C(v,[])})(o),(v,C)=>(VC(v,C),C),Eg());gh(n),fr(n,h)}return Eo(o),ji(n.dom)}const a=fl(o.dom);return Le(K4(n,r),u=>{fr(o,u)}),DN(r,e,n),a},MN=(e,n)=>{const o=If(n,e);return K.from(o[o.length-1])},BN=(e,n)=>Zt(n,e)?MN(n,e):K.none(),d_=(e,n)=>{Xh(e,n.dom).bind(o=>K.from(o.getNode())).map(pe.fromDom).filter(Od).each(Eo)},NN=(e,n,o,r)=>(d_(!0,n),d_(!1,o),BN(n,o).fold(Ge(Y4,e,n,o,r),Ge(RN,e,n,o,r))),IN=(e,n,o,r,a)=>n?NN(e,r,o,a):NN(e,o,r,a),Ju=(e,n)=>{const o=pe.fromDom(e.getBody());return q4(e.schema,o.dom,n,e.selection.getRng()).map(a=>()=>{IN(o,n,a.from.block,a.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},Qu=(e,n,o)=>{const r=n.getRng();return ie(rw(e,pe.fromDom(r.startContainer)),rw(e,pe.fromDom(r.endContainer)),(a,u)=>Je(a,u)?K.none():K.some(()=>{r.deleteContents(),IN(e,!0,a,u,o).each(h=>{n.setRng(h.toRange())})})).getOr(K.none())},Hw=(e,n)=>{const o=pe.fromDom(n),r=Ge(Je,e);return Is(o,xg,r).isSome()},$N=(e,n)=>Hw(e,n.startContainer)||Hw(e,n.endContainer),f_=(e,n)=>{const o=Oa(e.dom,Ve.fromRangeStart(n)).isNone(),r=ra(e.dom,Ve.fromRangeEnd(n)).isNone();return!$N(e,n)&&o&&r},LN=e=>K.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),FN=e=>{const n=pe.fromDom(e.getBody()),o=e.selection.getRng();return f_(n,o)?LN(e):Qu(n,e.selection,e.schema)},h_=(e,n)=>e.selection.isCollapsed()?K.none():FN(e),Vf=(e,n,o,r,a)=>K.from(n._selectionOverrides.showCaret(e,o,r,a)),HN=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},d0=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?K.none():K.some(HN(n)),m_=(e,n,o)=>{const r=ri(1,e.getBody(),n),a=Ve.fromRangeStart(r),u=a.getNode();if(Wg(u))return Vf(1,e,u,!a.isAtEnd(),!1);const h=a.getNode(!0);if(Wg(h))return Vf(1,e,h,!1,!1);const v=Dp(e.dom.getRoot(),a.getNode());return Wg(v)?Vf(1,e,v,!1,o):K.none()},zw=(e,n,o)=>n.collapsed?m_(e,n,o).getOr(n):n,Az=e=>Vd(e)||Vb(e),kz=e=>im(e)||Q2(e),Oz=(e,n)=>{at(n)&&n.data.length===0&&e.remove(n)},zN=(e,n,o,r,a,u)=>{Vf(r,e,u.getNode(!a),a,!0).each(h=>{if(n.collapsed){const v=n.cloneRange();a?v.setEnd(h.startContainer,h.startOffset):v.setStart(h.endContainer,h.endOffset),v.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),Oz(e.dom,o)},VN=(e,n)=>{const o=e.selection.getRng();if(!at(o.commonAncestorContainer))return K.none();const r=n?ii.Forwards:ii.Backwards,a=Wl(e.getBody()),u=Ge(Kg,n?a.next:a.prev),h=n?Az:kz,v=Vl(r,e.getBody(),o),C=u(v),O=C&&Ra(n,C);if(!O||!Yg(v,O))return K.none();if(h(O))return K.some(()=>zN(e,o,v.getNode(),r,n,O));const F=u(O);return F&&h(F)&&Yg(O,F)?K.some(()=>zN(e,o,v.getNode(),r,n,F)):K.none()},X4=(e,n)=>VN(e,n),J4=(e,n)=>{const o=e.getBody();return n?ji(o).filter(Vd):fl(o).filter(im)},Vw=e=>{const n=e.selection.getRng();return!n.collapsed&&(J4(e,!0).exists(o=>o.isEqual(Ve.fromRangeStart(n)))||J4(e,!1).exists(o=>o.isEqual(Ve.fromRangeEnd(n))))},Dz=e=>je(e)&&(xg(pe.fromDom(e))||xc(pe.fromDom(e))),yl=Iu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Rz=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Wt(o)&&o.getAttribute("data-mce-caret")===r},Pz=(e,n,o,r,a)=>{const u=h=>a.isInline(h.nodeName.toLowerCase())&&!Ac(o,r,e);return db(!n,o).fold(()=>db(n,r).fold(He,u),u)},UN=(e,n,o,r,a)=>{const u=a.getNode(!o);return rw(pe.fromDom(n),pe.fromDom(r.getNode())).map(h=>Ls(e,h)?yl.remove(h.dom):yl.moveToElement(u)).orThunk(()=>K.some(yl.moveToElement(u)))},WN=(e,n,o,r)=>Oc(n,e,o).bind(a=>Dz(a.getNode())||Pz(e,n,o,a,r)?K.none():n&&bs(a.getNode())||!n&&bs(a.getNode(!0))?UN(r,e,n,o,a):n&&im(o)||!n&&Vd(o)?K.some(yl.moveToPosition(a)):K.none()),Mz=(e,n)=>Sn(n)?K.none():e&&bs(n.nextSibling)?K.some(yl.moveToElement(n.nextSibling)):!e&&bs(n.previousSibling)?K.some(yl.moveToElement(n.previousSibling)):K.none(),p_=(e,n,o)=>o.fold(r=>K.some(yl.remove(r)),r=>K.some(yl.moveToElement(r)),r=>Ac(n,r,e)?K.none():K.some(yl.moveToPosition(r))),Q4=(e,n,o,r)=>Rz(n,o)?Mz(n,o.getNode(!n)).orThunk(()=>WN(e,n,o,r)):WN(e,n,o,r).bind(a=>p_(e,o,a)),Bz=(e,n,o,r)=>{const a=ri(n?1:-1,e,o),u=Ve.fromRangeStart(a),h=pe.fromDom(e);return!n&&im(u)?K.some(yl.remove(u.getNode(!0))):n&&Vd(u)?K.some(yl.remove(u.getNode())):!n&&Vd(u)&&sO(h,u,r)?s7(h,u,r).map(v=>yl.remove(v.getNode())):n&&im(u)&&ew(h,u,r)?r7(h,u,r).map(v=>yl.remove(v.getNode())):Q4(e,n,u,r)},Nz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),y1(e,n,pe.fromDom(o)),!0),Iz=(e,n)=>o=>{const r=n?Ve.before(o):Ve.after(o);return e.selection.setRng(r.toRange()),!0},$z=e=>n=>(e.selection.setRng(n.toRange()),!0),eD=(e,n)=>K.from(Dp(e.getBody(),n)),Lz=(e,n)=>{const o=e.selection.getNode();return eD(e,o).filter(bs).fold(()=>Bz(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Nz(e,n),Iz(e,n),$z(e))),()=>K.some(wt))},Fz=e=>{Le(vi(e,".mce-offscreen-selection"),Eo)},tD=(e,n)=>{const o=e.selection.getNode();return bs(o)&&!Qc(o)?eD(e,o.parentNode).filter(bs).fold(()=>K.some(()=>{Fz(pe.fromDom(e.getBody())),y1(e,n,pe.fromDom(e.selection.getNode())),iw(e)}),()=>K.some(wt)):Vw(e)?K.some(()=>{zP(e,e.selection.getRng(),pe.fromDom(e.getBody()))}):K.none()},jN=e=>{const n=e.dom,o=e.selection,r=Dp(e.getBody(),o.getNode());if(kr(r)&&n.isBlock(r)&&n.isEmpty(r)){const a=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(a),o.setRng(Ve.before(a).toRange())}return!0},nD=(e,n)=>e.selection.isCollapsed()?Lz(e,n):tD(e,n),Hz=(e,n)=>{const o=Ve.fromRangeStart(e.selection.getRng());return Oc(n,e.getBody(),o).filter(r=>n?Q6(r):e7(r)).bind(r=>ub(n?0:-1,r)).map(r=>()=>e.selection.select(r))},oD=(e,n)=>e.selection.isCollapsed()?Hz(e,n):K.none(),f0=at,ZN=e=>f0(e)&&e.data[0]===Wr,qN=e=>f0(e)&&e.data[e.data.length-1]===Wr,Uw=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Wr)},g_=e=>{var n;if(f0(e.previousSibling))return qN(e.previousSibling)||e.previousSibling.appendData(Wr),e.previousSibling;if(f0(e))return ZN(e)||e.insertData(0,Wr),e;{const o=Uw(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},zz=e=>{var n,o;if(f0(e.nextSibling))return ZN(e.nextSibling)||e.nextSibling.insertData(0,Wr),e.nextSibling;if(f0(e))return qN(e)||e.appendData(Wr),e;{const r=Uw(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},v_=(e,n)=>e?g_(n):zz(n),b_=Ge(v_,!0),Vz=Ge(v_,!1),GN=(e,n)=>at(e.container())?v_(n,e.container()):v_(n,e.getNode()),KN=(e,n)=>{const o=n.get();return o&&e.container()===o&&Pd(o)},sD=(e,n)=>n.fold(o=>{qh(e.get());const r=b_(o);return e.set(r),K.some(Ve(r,r.length-1))},o=>ji(o).map(r=>{if(KN(r,e)){const a=e.get();return Ve(a,1)}else{qh(e.get());const a=GN(r,!0);return e.set(a),Ve(a,1)}}),o=>fl(o).map(r=>{if(KN(r,e)){const a=e.get();return Ve(a,a.length-1)}else{qh(e.get());const a=GN(r,!1);return e.set(a),Ve(a,a.length-1)}}),o=>{qh(e.get());const r=Vz(o);return e.set(r),K.some(Ve(r,1))}),YN=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return K.none()},Ka=Iu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),XN=(e,n)=>{const o=Df(n,e);return o||e},Uz=(e,n,o)=>{const r=sw(o),a=XN(n,r.container());return ca(e,a,r).fold(()=>ra(a,r).bind(Ge(ca,e,a)).map(u=>Ka.before(u)),K.none)},Wz=(e,n)=>qn(e,n)===null,JN=(e,n,o)=>ca(e,n,o).filter(Ge(Wz,n)),jz=(e,n,o)=>{const r=fO(o);return JN(e,n,r).bind(a=>Oa(a,r).isNone()?K.some(Ka.start(a)):K.none())},zG=(e,n,o)=>{const r=sw(o);return JN(e,n,r).bind(a=>ra(a,r).isNone()?K.some(Ka.end(a)):K.none())},ed=(e,n,o)=>{const r=fO(o),a=XN(n,r.container());return ca(e,a,r).fold(()=>Oa(a,r).bind(Ge(ca,e,a)).map(u=>Ka.after(u)),K.none)},y_=e=>!vl(w_(e)),Yd=(e,n,o)=>YN([Uz,jz,zG,ed],[e,n,o]).filter(y_),w_=e=>e.fold(eo,eo,eo,eo),QN=e=>e.fold(st("before"),st("start"),st("end"),st("after")),Ww=e=>e.fold(Ka.before,Ka.before,Ka.after,Ka.after),rD=e=>e.fold(Ka.start,Ka.start,Ka.end,Ka.end),eI=(e,n)=>QN(e)===QN(n)&&w_(e)===w_(n),Zz=(e,n,o,r,a,u)=>ie(ca(n,o,r),ca(n,o,a),(h,v)=>h!==v&&x7(o,h,v)?Ka.after(e?h:v):u).getOr(u),qz=(e,n)=>e.fold(ht,o=>!eI(o,n)),Gz=(e,n,o,r,a)=>{const u=Ra(e,a);return Oc(e,o,u).map(Ge(Ra,e)).fold(()=>r.map(Ww),C=>Yd(n,o,C).map(Ge(Zz,e,n,o,u,C)).filter(Ge(qz,r))).filter(y_)},h0=(e,n)=>e?n.fold(P(K.some,Ka.start),K.none,P(K.some,Ka.after),K.none):n.fold(K.none,P(K.some,Ka.before),K.none,P(K.some,Ka.end)),tI=(e,n,o,r)=>{const a=Ra(e,r),u=Yd(n,o,a);return Yd(n,o,a).bind(Ge(h0,e)).orThunk(()=>Gz(e,n,o,u,r))},nI=e=>ye(e.selection.getSel().modify),iD=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ve(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},aD=(e,n)=>{const o=n.selection.getRng(),r=e?Ve.fromRangeEnd(o):Ve.fromRangeStart(o);return nI(n)?e&&zv(r)?iD(!0,n.selection,r):!e&&Vv(r)?iD(!1,n.selection,r):!1:!1};var Uf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Uf||(Uf={}));const C_=(e,n)=>e===ii.Backwards?Ts(n):n,Kz=(e,n,o)=>e===ii.Forwards?n.next(o):n.prev(o),VG=(e,n,o,r)=>ts(r.getNode(n===ii.Forwards))?Uf.Br:Ac(o,r)===!1?Uf.Block:Uf.Wrap,Yz=(e,n,o,r)=>{const a=Wl(o);let u=r;const h=[];for(;u;){const v=Kz(n,a,u);if(!v)break;if(ts(v.getNode(!1)))return n===ii.Forwards?{positions:C_(n,h).concat([v]),breakType:Uf.Br,breakAt:K.some(v)}:{positions:C_(n,h),breakType:Uf.Br,breakAt:K.some(v)};if(!v.isVisible()){u=v;continue}if(e(u,v)){const C=VG(o,n,u,v);return{positions:C_(n,h),breakType:C,breakAt:K.some(v)}}h.push(v),u=v}return{positions:C_(n,h),breakType:Uf.Eol,breakAt:K.none()}},Xz=(e,n,o,r)=>n(o,r).breakAt.map(a=>{const u=n(o,a).positions;return e===ii.Backwards?u.concat(a):[a].concat(u)}).getOr([]),wl=(e,n)=>To(e,(o,r)=>o.fold(()=>K.some(r),a=>ie(Ys(a.getClientRects()),Ys(r.getClientRects()),(u,h)=>{const v=Math.abs(n-u.left);return Math.abs(n-h.left)<=v?r:a}).or(o)),K.none()),x_=(e,n)=>Ys(n.getClientRects()).bind(o=>wl(e,o.left)),jw=Ge(Yz,Ve.isAbove,-1),Xd=Ge(Yz,Ve.isBelow,1),cD=Ge(Xz,-1,jw),oI=Ge(Xz,1,Xd),Zw=(e,n)=>jw(e,n).breakAt.isNone(),sI=(e,n)=>Xd(e,n).breakAt.isNone(),Jz=e=>ji(e).map(n=>[n].concat(Xd(e,n).positions)).getOr([]),Qz=e=>fl(e).map(n=>jw(e,n).positions.concat(n)).getOr([]),eV=(e,n)=>x_(cD(e,n),n),rI=(e,n)=>x_(oI(e,n),n),tV=bs,Wf=(e,n)=>Math.abs(e.left-n),iI=(e,n)=>Math.abs(e.right-n),nV=e=>Lr(e,"node"),aI=(e,n)=>ba(e,(o,r)=>{const a=Math.min(Wf(o,n),iI(o,n)),u=Math.min(Wf(r,n),iI(r,n));return u===a&&nV(r)&&tV(r.node)||u<a?r:o}),oV=e=>{const n=o=>Tn(o,r=>{const a=Sf(r);return a.node=e,a});if(Wt(e))return n(e.getClientRects());if(at(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},cI=e=>Mi(e,oV);var z1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(z1||(z1={}));const lD=(e,n,o,r)=>{let a=r;for(;a=qg(a,e,$y,n);)if(o(a))return},S_=(e,n,o,r,a,u)=>{let h=0;const v=[],C=H=>{let j=cI([H]);e===-1&&(j=j.reverse());for(let oe=0;oe<j.length;oe++){const le=j[oe];if(!o(le,O)){if(v.length>0&&n(le,Na(v))&&h++,le.line=h,a(le))return!0;v.push(le)}}return!1},O=Na(u.getClientRects());if(!O)return v;const F=u.getNode();return F&&(C(F),lD(e,r,C,F)),v},lI=(e,n)=>n.line>e,uI=(e,n)=>n.line===e,dI=Ge(S_,z1.Up,Bu,Ag),sV=Ge(S_,z1.Down,Ag,Bu),m0=e=>Na(e.getClientRects()),E_=(e,n,o,r)=>{const a=Wl(n);let u,h,v,C;const O=[];let F=0;e===1?(u=a.next,h=Ag,v=Bu,C=Ve.after(r)):(u=a.prev,h=Bu,v=Ag,C=Ve.before(r));const H=m0(C);do{if(!C.isVisible())continue;const j=m0(C);if(v(j,H))continue;O.length>0&&h(j,Na(O))&&F++;const oe=Sf(j);if(oe.position=C,oe.line=F,o(oe))return O;O.push(oe)}while(C=u(C));return O},uD=e=>n=>lI(e,n),__=e=>n=>uI(e,n),jf=(e,n)=>{e.selection.setRng(n),Hb(e,e.selection.getRng())},T_=(e,n,o)=>K.some(zw(e,n,o)),qw=(e,n,o,r,a,u)=>{const h=n===ii.Forwards,v=Wl(e.getBody()),C=Ge(Kg,h?v.next:v.prev),O=h?r:a;if(!o.collapsed){const le=rp(o);if(u(le))return Vf(n,e,le,n===ii.Backwards,!1);if(Vw(e)){const re=o.cloneRange();return re.collapse(n===ii.Backwards),K.from(re)}}const F=Vl(n,e.getBody(),o);if(O(F))return d0(e,F.getNode(!h));let H=C(F);const j=Cx(o);if(H)H=Ra(h,H);else return j?K.some(o):K.none();if(O(H))return Vf(n,e,H.getNode(!h),h,!1);const oe=C(H);return oe&&O(oe)&&Yg(H,oe)?Vf(n,e,oe.getNode(!h),h,!1):j?T_(e,H.toRange(),!1):K.none()},A_=(e,n,o,r,a,u)=>{const h=Vl(n,e.getBody(),o),v=Na(h.getClientRects()),C=n===z1.Down,O=e.getBody();if(!v)return K.none();if(Vw(e)){const de=C?Ve.fromRangeEnd(o):Ve.fromRangeStart(o);return(C?rI:eV)(O,de).orThunk(()=>K.from(de)).map(Ee=>Ee.toRange())}const H=(C?sV:dI)(O,uD(1),h),j=Jt(H,__(1)),oe=v.left,le=aI(j,oe);if(le&&u(le.node)){const de=Math.abs(oe-le.left),Ce=Math.abs(oe-le.right);return Vf(n,e,le.node,de<Ce,!1)}let re;if(r(h)?re=h.getNode():a(h)?re=h.getNode(!0):re=rp(o),re){const de=E_(n,O,uD(1),re);let Ce=aI(Jt(de,__(1)),oe);if(Ce||(Ce=Na(Jt(de,__(0))),Ce))return T_(e,Ce.position.toRange(),!1)}return j.length===0?V1(e,C).filter(C?a:r).map(de=>zw(e,de.toRange(),!1)):K.none()},V1=(e,n)=>{const o=e.selection.getRng(),r=n?Ve.fromRangeEnd(o):Ve.fromRangeStart(o),a=sk(r.container(),e.getBody());if(n){const u=Xd(a,r);return ga(u.positions)}else{const u=jw(a,r);return Ys(u.positions)}},fI=(e,n,o)=>V1(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),Gw=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},hI=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},mI=(e,n,o)=>sD(n,o).map(r=>(Gw(e,r),o)),pI=(e,n,o)=>{const r=Ve.fromRangeStart(e);if(e.collapsed)return r;{const a=Ve.fromRangeEnd(e);return o?Oa(n,a).getOr(a):ra(n,r).getOr(r)}},rV=(e,n,o)=>{const r=e.getBody(),a=pI(e.selection.getRng(),r,o),u=Ge(w1,e);return tI(o,u,r,a).bind(v=>mI(e,n,v))},gI=(e,n,o)=>{const r=Tn(vi(pe.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),a=Jt(r,e),u=Jt(o,e);Le(sh(a,u),Ge(hI,!1)),Le(sh(u,a),Ge(hI,!0))},UG=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ve.fromRangeStart(e.selection.getRng());Ve.isTextPosition(r)&&!Lo(r)&&(Gw(e,Zh(o,r)),n.set(null))}},iV=(e,n,o,r)=>{if(n.selection.isCollapsed()){const a=Jt(r,e);Le(a,u=>{const h=Ve.fromRangeStart(n.selection.getRng());Yd(e,n.getBody(),h).bind(v=>mI(n,o,v))})}},vI=(e,n,o)=>Af(e)?rV(e,n,o).isSome():!1,bI=(e,n,o)=>Af(n)?aD(e,n):!1,aV=e=>{const n=or(null),o=Ge(w1,e);return e.on("NodeChange",r=>{Af(e)&&(gI(o,e.dom,r.parents),UG(e,n),iV(o,e,n,r.parents))}),n},cV=Ge(bI,!0),lV=Ge(bI,!1),k_=(e,n,o)=>{if(Af(e)){const r=V1(e,n).getOrThunk(()=>{const a=e.selection.getRng();return n?Ve.fromRangeEnd(a):Ve.fromRangeStart(a)});return Yd(Ge(w1,e),e.getBody(),r).exists(a=>{const u=Ww(a);return sD(o,u).exists(h=>(Gw(e,h),!0))})}else return!1},uV=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},yI=e=>ie(ji(e),fl(e),(n,o)=>{const r=Ra(!0,n),a=Ra(!1,o);return ra(e,r).forall(u=>u.isEqual(a))}).getOr(!0),wI=(e,n)=>o=>sD(n,o).map(r=>()=>Gw(e,r)),Fp=(e,n,o,r)=>{const a=e.getBody(),u=Ge(w1,e);e.undoManager.ignore(()=>{e.selection.setRng(uV(o,r)),mO(e),Yd(u,a,Ve.fromRangeStart(e.selection.getRng())).map(rD).bind(wI(e,n)).each($n)}),e.nodeChanged()},CI=(e,n)=>{const o=Df(n,e);return o||e},dD=(e,n,o,r)=>{const a=CI(e.getBody(),r.container()),u=Ge(w1,e),h=Yd(u,a,r);return h.bind(C=>o?C.fold(st(K.some(rD(C))),K.none,st(K.some(Ww(C))),K.none):C.fold(K.none,st(K.some(Ww(C))),K.none,st(K.some(rD(C))))).map(wI(e,n)).getOrThunk(()=>{const C=Yh(o,a,r),O=C.bind(F=>Yd(u,a,F));return ie(h,O,()=>ca(u,a,r).bind(F=>yI(F)?K.some(()=>{y1(e,o,pe.fromDom(F))}):K.none())).getOrThunk(()=>O.bind(()=>C.map(F=>()=>{o?Fp(e,n,r,F):Fp(e,n,F,r)})))})},O_=(e,n,o)=>{if(e.selection.isCollapsed()&&Af(e)){const r=Ve.fromRangeStart(e.selection.getRng());return dD(e,n,o,r)}return K.none()},fD=e=>ta(e)>1,fm=(e,n)=>{const o=pe.fromDom(e.getBody()),r=pe.fromDom(e.selection.getStart()),a=If(r,o);return wn(a,n).fold(st(a),u=>a.slice(0,u))},xI=e=>ta(e)===1,nu=e=>fm(e,n=>e.schema.isBlock(Jn(n))||fD(n)),U1=e=>fm(e,n=>e.schema.isBlock(Jn(n))),D_=(e,n)=>{const o=Ge(MM,e);return Mi(n,r=>o(r)?[r.dom]:[])},SI=e=>{const n=U1(e);return D_(e,n)},EI=(e,n,o,r)=>{const a=D_(n,r);if(a.length===0)y1(n,e,o);else{const u=bw(o.dom,a);n.selection.setRng(u.toRange())}},dV=(e,n)=>{const o=Jt(nu(e),xI);return ga(o).bind(r=>{const a=Ve.fromRangeStart(e.selection.getRng());return gO(n,a,r.dom)&&!D2(r)?K.some(()=>EI(n,e,r,o)):K.none()})},fV=(e,n)=>{const o=n.parentElement;return ts(n)&&!A(o)&&e.dom.isEmpty(o)},hV=e=>D2(pe.fromDom(e)),_I=(e,n)=>{const o=e.selection.getStart(),r=fV(e,o)||hV(o)?bw(o,n):cm(e.selection.getRng(),n);e.selection.setRng(r.toRange())},mV=(e,n)=>{const o=sh(n,SI(e));o.length>0&&_I(e,o)},hD=e=>at(e.startContainer),pV=e=>e.startOffset===0&&hD(e),gV=(e,n)=>{const o=n.startContainer.parentElement;return!A(o)&&MM(e,pe.fromDom(o))},p0=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!A(n)&&!A(o)&&n.isEqualNode(o)},mD=e=>{const n=e.endContainer;return e.endOffset===(at(n)?n.length:n.childNodes.length)},TI=e=>p0(e)&&mD(e),AI=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),pD=e=>TI(e)||AI(e),vV=e=>{const n=e.selection.getRng();return pV(n)&&gV(e,n)&&pD(n)},bV=e=>{if(vV(e)){const n=SI(e);return K.some(()=>{mO(e),mV(e,n)})}else return K.none()},gD=(e,n)=>e.selection.isCollapsed()?dV(e,n):bV(e),yV=(e,n)=>oy(e,o=>ac(o.dom),o=>n.isBlock(Jn(o))),wV=e=>yV(pe.fromDom(e.selection.getStart()),e.schema),CV=e=>{const n=e.selection.getRng();return n.collapsed&&(hD(n)||e.dom.isEmpty(n.startContainer))&&!wV(e)},Kw=e=>(CV(e)&&_I(e,[]),!0),R_=(e,n,o)=>je(o)?K.some(()=>{e._selectionOverrides.hideFakeCaret(),y1(e,n,pe.fromDom(o))}):K.none(),xV=(e,n)=>{const o=n?Vb:Q2,r=n?ii.Forwards:ii.Backwards,a=Vl(r,e.getBody(),e.selection.getRng());return o(a)?R_(e,n,a.getNode(!n)):K.from(Ra(n,a)).filter(u=>o(u)&&Yg(a,u)).bind(u=>R_(e,n,u.getNode(!n)))},SV=(e,n)=>{const o=e.selection.getNode();return Or(o)?R_(e,n,o):K.none()},uc=(e,n)=>e.selection.isCollapsed()?xV(e,n):SV(e,n),EV=e=>Li(e,n=>kr(n.dom)||bs(n.dom)).exists(n=>kr(n.dom)),Yw=e=>Zc(e??"").getOr(0),vD=(e,n)=>{const o=e||bx(n)?"margin":"padding",r=gu(n,"direction")==="rtl"?"-right":"-left";return o+r},bD=(e,n,o,r,a,u)=>{const h=vD(o,pe.fromDom(u)),v=Yw(e.getStyle(u,h));if(n==="outdent"){const C=Math.max(0,v-r);e.setStyle(u,h,C?C+a:"")}else{const C=v+r+a;e.setStyle(u,h,C)}},_V=(e,n)=>gr(n,o=>{const r=vD(lp(e),o),a=Hi(o,r).map(Yw).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),kI=e=>{const n=DI(e);return!e.mode.isReadOnly()&&(n.length>1||_V(e,n))},OI=e=>Fv(e)||xc(e),TV=e=>Hn(e).exists(OI),DI=e=>Jt(bv(e.selection.getSelectedBlocks()),n=>!OI(n)&&!TV(n)&&EV(n)),yD=(e,n)=>{var o,r;const{dom:a}=e,u=Gx(e),h=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",v=Yw(u),C=lp(e);Le(DI(e),O=>{bD(a,n,C,v,h,O.dom)})},AV=e=>yD(e,"indent"),RI=e=>yD(e,"outdent"),g0=e=>{if(e.selection.isCollapsed()&&kI(e)){const n=e.dom,o=e.selection.getRng(),r=Ve.fromRangeStart(o),a=n.getParent(o.startContainer,n.isBlock);if(a!==null&&oO(pe.fromDom(a),r,e.schema))return K.some(()=>RI(e))}return K.none()},Zf=(e,n,o)=>zc([g0,nD,X4,(r,a)=>O_(r,n,a),Ju,Op,oD,uc,h_,gD],r=>r(e,o)).filter(r=>e.selection.isEditable()),W1=(e,n)=>{Zf(e,n,!1).fold(()=>{e.selection.isEditable()&&(mO(e),iw(e))},$n)},P_=(e,n)=>{Zf(e,n,!0).fold(()=>{e.selection.isEditable()&&pO(e)},$n)},wD=(e,n)=>{e.addCommand("delete",()=>{W1(e,n)}),e.addCommand("forwardDelete",()=>{P_(e,n)})},M_=5,PI=400,MI=e=>e.touches===void 0||e.touches.length!==1?K.none():K.some(e.touches[0]),BI=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>M_||r>M_},NI=e=>{const n=Cf(),o=or(!1),r=Ty(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},PI);e.on("touchstart",a=>{MI(a).each(u=>{r.cancel();const h={x:u.clientX,y:u.clientY,target:a.target};r.throttle(a),o.set(!1),n.set(h)})},!0),e.on("touchmove",a=>{r.cancel(),MI(a).each(u=>{n.on(h=>{BI(u,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},CD=(e,n)=>un(e,n.nodeName),kV=(e,n)=>at(n)?!0:Wt(n)?!CD(e.getBlockElements(),n)&&!Dc(n)&&!vf(e,n)&&!Fm(n):!1,OV=(e,n,o)=>Xo(tO(pe.fromDom(o),pe.fromDom(n)),r=>CD(e,r.dom)),DV=(e,n)=>{if(at(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||CD(e,n.nextSibling)||Fm(n.nextSibling)}return!1},II=e=>e.dom.create(Ui(e),$g(e)),RV=e=>{const n=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),u=o.getStart(),h=e.getBody();let v,C,O=!1;const F=Ui(e);if(!u||!Wt(u))return;const H=h.nodeName.toLowerCase();if(!r.isValidChild(H,F.toLowerCase())||OV(a,h,u))return;const j=o.getRng(),{startContainer:oe,startOffset:le,endContainer:re,endOffset:de}=j,Ce=p1(e);let Ee=h.firstChild;for(;Ee;)if(Wt(Ee)&&nA(r,Ee),kV(r,Ee)){if(DV(a,Ee)){C=Ee,Ee=Ee.nextSibling,n.remove(C);continue}v||(v=II(e),h.insertBefore(v,Ee),O=!0),C=Ee,Ee=Ee.nextSibling,v.appendChild(C)}else v=null,Ee=Ee.nextSibling;O&&Ce&&(j.setStart(oe,le),j.setEnd(re,de),o.setRng(j),e.nodeChanged())},xD=(e,n,o)=>{const r=pe.fromDom(II(e)),a=Eg();fr(r,a),o(n,r);const u=document.createRange();return u.setStartBefore(a.dom),u.setEndBefore(a.dom),u},$I=e=>{e.on("NodeChange",Ge(RV,e))},PV=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,WG=(e,n,o)=>function(r){const a=arguments,u=a[a.length-2],h=u>0?n.charAt(u-1):"";if(h==='"')return r;if(h===">"){const v=n.lastIndexOf("<",u);if(v!==-1&&n.substring(v,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},jG=(e,n,o)=>{let r=n.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(n[r],WG(e,a,fS(e)));o.content=a}},MV=e=>{const n="contenteditable",o=" "+D.trim(u2(e))+" ",r=" "+D.trim(fS(e))+" ",a=PV(o),u=PV(r),h=XA(e);h.length>0&&e.on("BeforeSetContent",v=>{jG(e,h,v)}),e.parser.addAttributeFilter("class",v=>{let C=v.length;for(;C--;){const O=v[C];a(O)?O.attr(n,"true"):u(O)&&O.attr(n,"false")}}),e.serializer.addAttributeFilter(n,v=>{let C=v.length;for(;C--;){const O=v[C];!a(O)&&!u(O)||(h.length>0&&O.attr("data-mce-content")?(O.name="#text",O.type=3,O.raw=!0,O.value=O.attr("data-mce-content")):O.attr(n,null))}})},ZG=e=>cg(pe.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),BV=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Tg(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},NV=(e,n)=>{const o=ZG(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),BV(e,o);return}jr(o)&&(BV(e,o),e.undoManager.add())}},IV=e=>{e.on("keyup compositionstart",Ge(NV,e))},$V=bs,LV=(e,n,o)=>qw(n,e,o,Vd,im,$V),Lc=(e,n,o)=>A_(n,e,o,u=>Vd(u)||Wn(u),u=>im(u)||eO(u),$V),LI=e=>{const n=e.dom.create(Ui(e));return n.innerHTML='<br data-mce-bogus="1">',n},v0=(e,n,o)=>{const r=Wl(e.getBody()),a=Ge(Kg,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!a(Ve.fromRangeStart(o))){const v=pe.fromDom(LI(e));n===1?bd(pe.fromDom(u),v):Si(pe.fromDom(u),v),e.selection.select(v.dom,!0),e.selection.collapse()}}},FV=(e,n)=>{const o=n?ii.Forwards:ii.Backwards,r=e.selection.getRng();return LV(o,e,r).orThunk(()=>(v0(e,o,r),K.none()))},FI=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Lc(o,e,r).orThunk(()=>(v0(e,o,r),K.none()))},HI=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return vl(o)?!n:n},B_=(e,n)=>FV(e,HI(e.selection,n)).exists(o=>(jf(e,o),!0)),zI=(e,n)=>FI(e,n).exists(o=>(jf(e,o),!0)),VI=(e,n)=>fI(e,n,n?im:Vd),Xw=(e,n)=>J4(e,!n).map(o=>{const r=o.toRange(),a=e.selection.getRng();return n?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(jf(e,o),!0)),HV=e=>An(["figcaption"],Jn(e)),zV=(e,n,o)=>{const r=Ge(Je,n);return Li(pe.fromDom(e.container()),a=>o.isBlock(Jn(a)),r).filter(HV)},VV=(e,n,o)=>n?sI(e.dom,o):Zw(e.dom,o),SD=(e,n)=>{const o=pe.fromDom(e.getBody()),r=Ve.fromRangeStart(e.selection.getRng());return zV(r,o,e.schema).exists(()=>{if(VV(o,n,r)){const u=xD(e,o,n?fr:Ml);return e.selection.setRng(u),!0}else return!1})},UI=(e,n)=>e.selection.isCollapsed()?SD(e,n):!1,UV=(e,n,o)=>{const r=e.selection.getRng(),a=Ve.fromRangeStart(r);return e.getBody().firstChild===n&&Zw(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},qG=(e,n)=>{const o=e.selection.getRng(),r=Ve.fromRangeStart(o);return e.getBody().lastChild===n&&sI(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},WV=(e,n)=>n?K.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>qG(e,o)).getOr(!1):K.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>K.from(e.dom.getParent(o,"details")).map(r=>UV(e,r,o))).getOr(!1),ED=(e,n)=>WV(e,n),jV={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},ZV=e=>Tn(e,n=>({...jV,...n})),qV=e=>Tn(e,n=>({...jV,...n})),WI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,_D=(e,n)=>Mi(ZV(e),o=>WI(o,n)?[o]:[]),N_=(e,n)=>Mi(qV(e),o=>WI(o,n)?[o]:[]),Pn=(e,...n)=>()=>e.apply(null,n),b0=(e,n)=>Jo(_D(e,n),o=>o.action()),jI=(e,n)=>zc(N_(e,n),o=>o.action()),ZI=(e,n)=>{const o=n?ii.Forwards:ii.Backwards,r=e.selection.getRng();return qw(e,o,r,Vb,Q2,Or).exists(a=>(jf(e,a),!0))},I_=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return A_(e,o,r,Vb,Q2,Or).exists(a=>(jf(e,a),!0))},qI=(e,n)=>fI(e,n,n?Q2:Vb),GI=Iu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Jw={...GI,none:e=>GI.none(e)},td=(e,n)=>TD(e,n,ht),TD=(e,n,o)=>Mi(ks(e),r=>ge(r,n)?o(r)?[r]:[]:TD(r,n,o)),KI=(e,n,o=He)=>{if(o(n))return K.none();if(An(e,Jn(n)))return K.some(n);const r=a=>ge(a,"table")||o(a);return ag(n,e.join(","),r)},KG=(e,n)=>KI(["td","th"],e,n),YG=e=>td(e,"th,td"),GV=(e,n)=>uf(e,"table",n),YI=(e,n,o,r,a=ht)=>{const u=r===1;if(!u&&o<=0)return Jw.first(e[0]);if(u&&o>=e.length-1)return Jw.last(e[e.length-1]);{const h=o+r,v=e[h];return a(v)?Jw.middle(n,v):YI(e,n,h,r,a)}},XI=(e,n)=>GV(e,n).bind(o=>{const r=YG(o);return wn(r,u=>Je(e,u)).map(u=>({index:u,all:r}))}),$_=(e,n,o)=>XI(e,o).fold(()=>Jw.none(e),a=>YI(a.all,e,a.index,1,n)),KV=(e,n,o)=>XI(e,o).fold(()=>Jw.none(),a=>YI(a.all,e,a.index,-1,n)),AD=e=>vx(e).filter(n=>n.trim().length!==0||n.indexOf(ei)>-1).isSome(),JI=e=>wa(e)&&ds(e,"contenteditable")==="false",QI=["img","br"],e$=e=>AD(e)||An(QI,Jn(e))||JI(e),YV=e=>Fi(e,e$),XV=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),JV=(e,n)=>Mi(n,o=>{const r=XV(Sf(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),QV=(e,n,o)=>To(e,(r,a)=>r.fold(()=>K.some(a),u=>{const h=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),v=Math.sqrt(Math.abs(a.x-n)+Math.abs(a.y-o));return K.some(v<h?a:u)}),K.none()),Qw=(e,n,o,r,a)=>{const u=vi(pe.fromDom(o),"td,th,caption").map(v=>v.dom),h=Jt(JV(e,u),v=>n(v,a));return QV(h,r,a).map(v=>v.cell)},e9=e=>e.bottom,t9=e=>e.top,n9=(e,n)=>e.y<n,kD=(e,n)=>e.y>n,o9=Ge(Qw,e9,n9),s9=Ge(Qw,t9,kD),t$=(e,n)=>Ys(n.getClientRects()).bind(o=>o9(e,o.left,o.top)).bind(o=>x_(Qz(o),n)),r9=(e,n)=>ga(n.getClientRects()).bind(o=>s9(e,o.left,o.top)).bind(o=>x_(Jz(o),n)),i9=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),a9=e=>e.breakType===Uf.Wrap&&e.positions.length===0,c9=e=>e.breakType===Uf.Br&&e.positions.length===1,n$=(e,n,o)=>{const r=e(n,o);return a9(r)||!ts(o.getNode())&&c9(r)?!i9(e,n,r):r.breakAt.isNone()},l9=Ge(n$,jw),OD=Ge(n$,Xd),u9=(e,n,o)=>{const r=Ve.fromRangeStart(n);return Xh(!e,o).exists(a=>a.isEqual(r))},o$=(e,n,o,r)=>{const a=e.selection.getRng(),u=n?1:-1;return cb()&&u9(n,a,o)?(Vf(u,e,o,!n,!1).each(h=>{jf(e,h)}),!0):!1},d9=(e,n,o)=>t$(n,o).orThunk(()=>Ys(o.getClientRects()).bind(r=>wl(cD(e,Ve.before(n)),r.left))).getOr(Ve.before(n)),f9=(e,n,o)=>r9(n,o).orThunk(()=>Ys(o.getClientRects()).bind(r=>wl(oI(e,Ve.after(n)),r.left))).getOr(Ve.after(n)),s$=(e,n)=>{const o=n.getNode(e);return wr(o)?K.some(o):K.none()},h9=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?bd:Si,a=xD(n,pe.fromDom(o),r);jf(n,a)})},r$=(e,n,o)=>{const r=s$(!!n,o),a=n===!1;r.fold(()=>jf(e,o.toRange()),u=>Xh(a,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>jf(e,o.toRange()),h=>h9(n,e,u)))},m9=(e,n,o,r)=>{const a=e.selection.getRng(),u=Ve.fromRangeStart(a),h=e.getBody();if(!n&&l9(r,u)){const v=d9(h,o,u);return r$(e,n,v),!0}else if(n&&OD(r,u)){const v=f9(h,o,u);return r$(e,n,v),!0}else return!1},Br=(e,n,o)=>K.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>K.from(e.dom.getParent(r,"table")).map(a=>o(e,n,a,r))).getOr(!1),i$=(e,n)=>Br(e,n,o$),DD=(e,n)=>Br(e,n,m9),p9=e=>{const n=tm.exact(e,0,e,0);return Lk(n)},RD=(e,n,o)=>o.fold(K.none,K.none,(r,a)=>YV(a).map(u=>p9(u)),r=>(e.execCommand("mceTableInsertRowAfter"),L_(e,n,r))),L_=(e,n,o)=>RD(e,n,$_(o,Ln)),a$=(e,n,o)=>RD(e,n,KV(o,Ln)),hm=(e,n)=>{const o=["table","li","dl"],r=pe.fromDom(e.getBody()),a=v=>{const C=Jn(v);return Je(v,r)||An(o,C)},u=e.selection.getRng(),h=pe.fromDom(n?u.endContainer:u.startContainer);return KG(h,a).map(v=>(GV(v,a).each(F=>{e.model.table.clearSelectedCells(F.dom)}),e.selection.collapse(!n),(n?L_:a$)(e,a,v).each(F=>{e.selection.setRng(F)}),!0)).getOr(!1)},PD=(e,n,o)=>{const r=Mt.os.isMacOS()||Mt.os.isiOS();b0([{keyCode:Ft.RIGHT,action:Pn(B_,e,!0)},{keyCode:Ft.LEFT,action:Pn(B_,e,!1)},{keyCode:Ft.UP,action:Pn(zI,e,!1)},{keyCode:Ft.DOWN,action:Pn(zI,e,!0)},...r?[{keyCode:Ft.UP,action:Pn(Xw,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ft.DOWN,action:Pn(Xw,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ft.RIGHT,action:Pn(i$,e,!0)},{keyCode:Ft.LEFT,action:Pn(i$,e,!1)},{keyCode:Ft.UP,action:Pn(DD,e,!1)},{keyCode:Ft.DOWN,action:Pn(DD,e,!0)},{keyCode:Ft.UP,action:Pn(DD,e,!1)},{keyCode:Ft.UP,action:Pn(ED,e,!1)},{keyCode:Ft.DOWN,action:Pn(ED,e,!0)},{keyCode:Ft.RIGHT,action:Pn(ZI,e,!0)},{keyCode:Ft.LEFT,action:Pn(ZI,e,!1)},{keyCode:Ft.UP,action:Pn(I_,e,!1)},{keyCode:Ft.DOWN,action:Pn(I_,e,!0)},{keyCode:Ft.RIGHT,action:Pn(vI,e,n,!0)},{keyCode:Ft.LEFT,action:Pn(vI,e,n,!1)},{keyCode:Ft.RIGHT,ctrlKey:!r,altKey:r,action:Pn(cV,e,n)},{keyCode:Ft.LEFT,ctrlKey:!r,altKey:r,action:Pn(lV,e,n)},{keyCode:Ft.UP,action:Pn(UI,e,!1)},{keyCode:Ft.DOWN,action:Pn(UI,e,!0)}],o).each(a=>{o.preventDefault()})},c$=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||PD(e,n,o)})},ou=(e,n)=>({container:e,offset:n}),y0=Ko.DOM,w0=e=>n=>e===n?-1:0,l$=e=>n=>e.isBlock(n)||An(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",C0=(e,n,o)=>{if(at(e)&&n>=0)return K.some(ou(e,n));{const r=Lh(y0);return K.from(r.backwards(e,n,w0(e),o)).map(a=>ou(a.container,a.container.data.length))}},F_=(e,n,o)=>{if(at(e)&&n>=e.length)return K.some(ou(e,n));{const r=Lh(y0);return K.from(r.forwards(e,n,w0(e),o)).map(a=>ou(a.container,0))}},j1=(e,n,o)=>{if(!at(e))return K.none();const r=e.data;if(n>=0&&n<=r.length)return K.some(ou(e,n));{const a=Lh(y0);return K.from(a.backwards(e,n,w0(e),o)).bind(u=>{const h=u.container.data;return j1(u.container,n+h.length,o)})}},x0=(e,n,o)=>{if(!at(e))return K.none();const r=e.data;if(n<=r.length)return K.some(ou(e,n));{const a=Lh(y0);return K.from(a.forwards(e,n,w0(e),o)).bind(u=>x0(u.container,n-r.length,o))}},Cl=(e,n,o,r,a)=>{const u=Lh(e,l$(e));return K.from(u.backwards(n,o,r,a))},eC=e=>e.collapsed&&at(e.startContainer),u$=e=>ja(e.toString().replace(/\u00A0/g," ")),MD=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,g9=(e,n)=>e.substring(n.length),d$=(e,n,o,r=!1)=>{let a;const u=o.charAt(0);for(a=n-1;a>=0;a--){const h=e.charAt(a);if(!r&&MD(h))return K.none();if(u===h&&Fr(e,o,a,n))break}return K.some(a)},BD=(e,n,o,r=!1)=>{if(!eC(n))return K.none();const a={text:"",offset:0},u=(v,C,O)=>(a.text=O+a.text,a.offset+=C,d$(a.text,a.offset,o,r).getOr(C)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Cl(e,n.startContainer,n.startOffset,u,h).bind(v=>{const C=n.cloneRange();if(C.setStart(v.container,v.offset),C.setEnd(n.endContainer,n.endOffset),C.collapsed)return K.none();const O=u$(C);return O.lastIndexOf(o)!==0?K.none():K.some({text:g9(O,o),range:C,trigger:o})})},v9=e=>e.nodeType===Ao,tC=e=>e.nodeType===Hr,f$=e=>{if(v9(e))return ou(e,e.data.length);{const n=e.childNodes;return n.length>0?f$(n[n.length-1]):ou(e,n.length)}},h$=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?h$(o[n],0):o.length>0&&tC(e)&&o.length===n?f$(o[o.length-1]):ou(e,n)},b9=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Cl(e,n.container,n.offset,(a,u)=>u===0?-1:u,r).filter(a=>{const u=a.container.data.charAt(a.offset-1);return!MD(u)}).isSome()},y9=e=>n=>{const o=h$(n.startContainer,n.startOffset);return!b9(e,o)},w9=(e,n,o)=>zc(o.triggers,r=>BD(e,n,r)),C9=(e,n)=>{const o=n(),r=e.selection.getRng();return w9(e.dom,r,o).bind(a=>m$(e,n,a))},m$=(e,n,o,r={})=>{var a;const u=n(),v=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",C=Jt(u.lookupByTrigger(o.trigger),F=>o.text.length>=F.minChars&&F.matches.getOrThunk(()=>y9(e.dom))(o.range,v,o.text));if(C.length===0)return K.none();const O=Promise.all(Tn(C,F=>F.fetch(o.text,F.maxResults,r).then(j=>({matchText:o.text,items:j,columns:F.columns,onAction:F.onAction,highlightOn:F.highlightOn}))));return K.some({lookupData:O,context:o})};var Jd;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Jd||(Jd={}));const ND=(e,n,o)=>e.stype===Jd.Error?n(e.serror):o(e.svalue),x9=e=>{const n=[],o=[];return Le(e,r=>{ND(r,a=>o.push(a),a=>n.push(a))}),{values:n,errors:o}},S9=(e,n)=>e.stype===Jd.Error?{stype:Jd.Error,serror:n(e.serror)}:e,E9=(e,n)=>e.stype===Jd.Value?{stype:Jd.Value,svalue:n(e.svalue)}:e,_9=(e,n)=>e.stype===Jd.Value?n(e.svalue):e,T9=(e,n)=>e.stype===Jd.Error?n(e.serror):e,ID=e=>({stype:Jd.Value,svalue:e}),$D=e=>({stype:Jd.Error,serror:e}),Ki={fromResult:e=>e.fold($D,ID),toResult:e=>ND(e,Vi.error,Vi.value),svalue:ID,partition:x9,serror:$D,bind:_9,bindError:T9,map:E9,mapError:S9,fold:ND},LD=e=>mt(e)&&fi(e).length>100?" removed due to size":JSON.stringify(e,null,2),k9=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:st("... (only showing first ten failures)")}]):e;return Tn(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},nC=(e,n)=>Ki.serror([{path:e,getErrorInfo:n}]),O9=(e,n,o)=>nC(e,()=>'Could not find valid *required* value for "'+n+'" in '+LD(o)),p$=(e,n)=>nC(e,()=>'Choice schema did not contain choice key: "'+n+'"'),D9=(e,n,o)=>nC(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+LD(n)),g$=(e,n)=>nC(e,st(n)),v$=(e,n,o,r)=>Qo(o,r).fold(()=>D9(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),R9=(e,n)=>({extract:(a,u)=>Qo(u,e).fold(()=>p$(a,e),v=>v$(a,u,n,v)),toString:()=>"chooseOn("+e+"). Possible values: "+fi(n)}),P9=(e,n)=>n,M9=(e,n)=>Vn(e)&&Vn(n)?oC(e,n):n,b$=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const a=n[r];for(const u in a)un(a,u)&&(o[u]=e(o[u],a[u]))}return o},oC=b$(M9),B9=b$(P9),y$=()=>({tag:"required",process:{}}),w$=e=>({tag:"defaultedThunk",process:e}),C$=e=>w$(st(e)),N9=()=>({tag:"option",process:{}}),x$=(e,n)=>e.length>0?Ki.svalue(oC(n,B9.apply(void 0,e))):Ki.svalue(n),S$=e=>P(Ki.serror,Ir)(e),E$={consolidateObj:(e,n)=>{const o=Ki.partition(e);return o.errors.length>0?S$(o.errors):x$(o.values,n)},consolidateArr:e=>{const n=Ki.partition(e);return n.errors.length>0?S$(n.errors):Ki.svalue(n.values)}},_$=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),I9=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),T$=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},FD=e=>{const n=(r,a)=>Ki.bindError(e(a),u=>g$(r,u)),o=st("val");return{extract:n,toString:o}},$9=FD(Ki.svalue),L9=(e,n,o,r)=>Qo(n,o).fold(()=>O9(e,o,n),r),A$=(e,n,o,r)=>{const a=Qo(e,n).getOrThunk(()=>o(e));return r(a)},F9=(e,n,o)=>o(Qo(e,n)),H9=(e,n,o,r)=>{const a=Qo(e,n).map(u=>u===!0?o(e):u);return r(a)},eK=(e,n,o,r,a)=>{const u=v=>a.extract(n.concat([r]),v),h=v=>v.fold(()=>Ki.svalue(K.none()),C=>{const O=a.extract(n.concat([r]),C);return Ki.map(O,K.some)});switch(e.tag){case"required":return L9(n,o,r,u);case"defaultedThunk":return A$(o,r,e.process,u);case"option":return F9(o,r,h);case"defaultedOptionThunk":return H9(o,r,e.process,h);case"mergeWithThunk":return A$(o,r,st({}),v=>{const C=oC(e.process(o),v);return u(C)})}},z9=(e,n,o)=>{const r={},a=[];for(const u of o)T$(u,(h,v,C,O)=>{const F=eK(C,e,n,h,O);Ki.fold(F,H=>{a.push(...H)},H=>{r[v]=H})},(h,v)=>{r[h]=v(n)});return a.length>0?Ki.serror(a):Ki.svalue(r)},S0=e=>({extract:(r,a)=>z9(r,a,e),toString:()=>`obj{
`+Tn(e,a=>T$(a,(u,h,v,C)=>u+" -> "+C.toString(),(u,h)=>"state("+u+")")).join(`
`)+"}"}),HD=e=>({extract:(r,a)=>{const u=Tn(a,(h,v)=>e.extract(r.concat(["["+v+"]"]),h));return E$.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),k$=e=>FD(n=>e(n).fold(Ki.serror,Ki.svalue)),V9=(e,n,o)=>{const r=n.extract([e],o);return Ki.mapError(r,a=>({input:o,errors:a}))},O$=(e,n,o)=>Ki.toResult(V9(e,n,o)),D$=e=>`Errors: 
`+k9(e.errors).join(`
`)+`

Input object: `+LD(e.input),R$=(e,n)=>R9(e,go(n,S0)),U9=st($9),H_=(e,n)=>FD(o=>{const r=typeof o;return e(o)?Ki.svalue(o):Ki.serror(`Expected type: ${n} but got: ${r}`)}),P$=H_(Ze,"number"),z_=H_(ue,"string"),zD=H_(mn,"boolean"),VD=H_(ye,"function"),sC=_$,M$=I9,B$=e=>k$(n=>An(e,n)?Vi.value(n):Vi.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),N$=(e,n)=>sC(e,e,y$(),n),I$=e=>N$(e,z_),$$=e=>N$(e,VD),W9=(e,n)=>sC(e,e,y$(),HD(n)),UD=(e,n)=>sC(e,e,N9(),n),Er=e=>UD(e,z_),qf=e=>UD(e,VD),j9=(e,n)=>sC(e,e,C$(n),U9()),rC=(e,n,o)=>sC(e,e,C$(n),o),L$=(e,n)=>rC(e,n,P$),Z9=(e,n)=>rC(e,n,z_),F$=(e,n,o)=>rC(e,n,B$(o)),WD=(e,n)=>rC(e,n,zD),V_=(e,n)=>rC(e,n,VD),E0=(e,n,o)=>rC(e,n,HD(o)),tK=I$("type"),q9=$$("fetch"),jD=$$("onAction"),Qd=V_("onSetup",()=>wt),G9=Er("text"),K9=Er("icon"),H$=Er("tooltip"),Y9=Er("label"),ZD=WD("active",!1),z$=WD("enabled",!0),V$=WD("primary",!1),X9=e=>j9("columns",e),iC=e=>Z9("type",e),U$=S0([tK,I$("trigger"),L$("minChars",1),X9(1),L$("maxResults",10),qf("matches"),q9,jD,E0("highlightOn",[],z_)]),W$=e=>O$("Autocompleter",U$,e),aC=[z$,H$,K9,G9,Qd],U_=[ZD].concat(aC),qD=[V_("predicate",He),F$("scope","node",["node","editor"]),F$("position","selection",["node","selection","line"])],J9=aC.concat([iC("contextformbutton"),V$,jD,M$("original",eo)]),Q9=U_.concat([iC("contextformbutton"),V$,jD,M$("original",eo)]),eU=aC.concat([iC("contextformbutton")]),tU=U_.concat([iC("contextformtogglebutton")]),GD=R$("type",{contextformbutton:J9,contextformtogglebutton:Q9});S0([iC("contextform"),V_("initValue",st("")),Y9,W9("commands",GD),UD("launch",R$("type",{contextformbutton:eU,contextformtogglebutton:tU}))].concat(qD));const j$=e=>{const n=e.ui.registry.getAll().popups,o=go(n,h=>W$(h).fold(v=>{throw new Error(D$(v))},eo)),r=dd(uu(o,h=>h.trigger)),a=ud(o);return{dataset:o,triggers:r,lookupByTrigger:h=>Jt(a,v=>v.trigger===h)}},nU=(e,n)=>{const o=Ty(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),n.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},Z$=e=>{const n=Cf(),o=or(!1),r=n.isSet,a=()=>{r()&&(jR(e),o.set(!1),n.clear())},u=H=>{r()||n.set({trigger:H.trigger,matchLength:H.text.length})},h=Ja(()=>j$(e)),v=H=>n.get().map(j=>BD(e.dom,e.selection.getRng(),j.trigger,!0).bind(oe=>m$(e,h,oe,H))).getOrThunk(()=>C9(e,h)),C=H=>{v(H).fold(a,j=>{u(j.context),j.lookupData.then(oe=>{n.get().map(le=>{const re=j.context;le.trigger===re.trigger&&(re.text.length-le.matchLength>=10?a():(n.set({...le,matchLength:re.text.length}),o.get()?(qS(e,{range:re.range}),Dk(e,{lookupData:oe})):(o.set(!0),qS(e,{range:re.range}),WR(e,{lookupData:oe}))))})})})},O=(H,j)=>{const oe=H.compareBoundaryPoints(window.Range.START_TO_START,j),le=H.compareBoundaryPoints(window.Range.END_TO_END,j);return oe>=0&&le<=0},F=()=>n.get().bind(({trigger:H})=>{const j=e.selection.getRng();return BD(e.dom,j,H,o.get()).filter(({range:oe})=>O(j,oe)).map(({range:oe})=>oe)});e.addCommand("mceAutocompleterReload",(H,j)=>{const oe=mt(j)?j.fetchOptions:{};C(oe)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{F().each(H=>{qS(e,{range:H})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>F().isSome()),nU(e,{cancelIfNecessary:a,load:C})},KD=oc().browser.isSafari(),q$=e=>Rd(pe.fromDom(e)),G$=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},W_=(e,n)=>K.from(e.getParent(n.container(),"details")),K$=(e,n)=>W_(e,n).isSome(),oU=(e,n)=>{const o=K.from(e.getParent(n.startContainer,"details")),r=K.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(u=>K.from(e.select("summary",u)[0]));return K.some({startSummary:a,startDetails:o,endDetails:r})}else return K.none()},Y$=(e,n)=>ji(n).exists(o=>o.isEqual(e)),YD=(e,n)=>fl(n).exists(o=>ts(o.getNode())&&Oa(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),X$=(e,n)=>n.startSummary.exists(o=>Y$(e,o)),J$=(e,n)=>n.startSummary.exists(o=>YD(e,o)),sU=(e,n)=>n.startDetails.exists(o=>Oa(o,e).forall(r=>n.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),rU=(e,n,o)=>o.startDetails.exists(r=>ra(e,n).forall(a=>!r.contains(a.container()))),Q$=(e,n)=>{const o=n.getNode();Cn(o)||e.selection.setCursorLocation(o,n.offset())},cC=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?ji(a):fl(a)).each(h=>Q$(e,h))}else Q$(e,n)},e5=(e,n)=>{const o=C=>C.contains(e.startContainer),r=C=>C.contains(e.endContainer),a=n.startSummary.exists(o),u=n.startSummary.exists(r),h=n.startDetails.forall(C=>n.endDetails.forall(O=>C!==O));return(a||u)&&!(a&&u)||h},XD=(e,n,o)=>{const{dom:r,selection:a}=e,u=e.getBody();if(o==="character"){const h=Ve.fromRangeStart(a.getRng()),v=r.getParent(h.container(),r.isBlock),C=W_(r,h),O=v&&r.isEmpty(v),F=A(v==null?void 0:v.previousSibling),H=A(v==null?void 0:v.nextSibling);return O&&(n?H:F)&&Yh(!n,u,h).exists(le=>K$(r,le)&&!Q(C,W_(r,le)))?!0:Yh(n,u,h).fold(He,j=>{const oe=W_(r,j);if(K$(r,j)&&!Q(C,oe)){if(n||cC(e,j,!1),v&&O){if(n&&F)return!0;if(!n&&H)return!0;cC(e,j,n),e.dom.remove(v)}return!0}else return!1})}else return!1},iU=(e,n,o,r)=>{const u=e.selection.getRng(),h=Ve.fromRangeStart(u),v=e.getBody();return r==="selection"?e5(u,n):o?J$(h,n)||rU(v,h,n):X$(h,n)||sU(h,n)},aU=(e,n,o)=>oU(e.dom,e.selection.getRng()).fold(()=>XD(e,n,o),r=>iU(e,r,n,o)||XD(e,n,o)),oK=(e,n,o)=>{const r=e.selection,a=r.getNode(),u=r.getRng(),h=Ve.fromRangeStart(u);return ug(a)?(o==="selection"&&G$(u,a)||gO(n,h,a)?q$(a):e.undoManager.transact(()=>{const v=r.getSel();let{anchorNode:C,anchorOffset:O,focusNode:F,focusOffset:H}=v??{};const j=()=>{je(C)&&je(O)&&je(F)&&je(H)&&(v==null||v.setBaseAndExtent(C,O,F,H))},oe=()=>{C=v==null?void 0:v.anchorNode,O=v==null?void 0:v.anchorOffset,F=v==null?void 0:v.focusNode,H=v==null?void 0:v.focusOffset},le=(de,Ce)=>{Le(de.childNodes,Ee=>{xp(Ee)&&Ce.appendChild(Ee)})},re=e.dom.create("span",{"data-mce-bogus":"1"});le(a,re),a.appendChild(re),j(),(o==="word"||o==="line")&&(v==null||v.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&G$(r.getRng(),re)?q$(a):(e.execCommand(n?"ForwardDelete":"Delete"),oe(),le(re,a),j()),e.dom.remove(re)}),!0):!1},_0=(e,n,o)=>aU(e,n,o)||KD&&oK(e,n,o)?K.some(wt):K.none(),cU=e=>(n,o,r={})=>{const a=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:wt,inputType:o},h=lx(new InputEvent(e));return n.dispatch(e,{...h,...u,...r})},lC=cU("input"),JD=cU("beforeinput"),t5=oc(),n5=t5.os,lU=n5.isMacOS()||n5.isiOS(),ar=t5.browser.isFirefox(),QD=(e,n,o)=>{const r=o.keyCode===Ft.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),u=a?"character":"selection",h=v=>a?v?"word":"line":"selection";jI([{keyCode:Ft.BACKSPACE,action:Pn(g0,e)},{keyCode:Ft.BACKSPACE,action:Pn(nD,e,!1)},{keyCode:Ft.DELETE,action:Pn(nD,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(X4,e,!1)},{keyCode:Ft.DELETE,action:Pn(X4,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(O_,e,n,!1)},{keyCode:Ft.DELETE,action:Pn(O_,e,n,!0)},{keyCode:Ft.BACKSPACE,action:Pn(Op,e,!1)},{keyCode:Ft.DELETE,action:Pn(Op,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(_0,e,!1,u)},{keyCode:Ft.DELETE,action:Pn(_0,e,!0,u)},...lU?[{keyCode:Ft.BACKSPACE,altKey:!0,action:Pn(_0,e,!1,h(!0))},{keyCode:Ft.DELETE,altKey:!0,action:Pn(_0,e,!0,h(!0))},{keyCode:Ft.BACKSPACE,metaKey:!0,action:Pn(_0,e,!1,h(!1))}]:[{keyCode:Ft.BACKSPACE,ctrlKey:!0,action:Pn(_0,e,!1,h(!0))},{keyCode:Ft.DELETE,ctrlKey:!0,action:Pn(_0,e,!0,h(!0))}],{keyCode:Ft.BACKSPACE,action:Pn(oD,e,!1)},{keyCode:Ft.DELETE,action:Pn(oD,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(uc,e,!1)},{keyCode:Ft.DELETE,action:Pn(uc,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(h_,e,!1)},{keyCode:Ft.DELETE,action:Pn(h_,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(Ju,e,!1)},{keyCode:Ft.DELETE,action:Pn(Ju,e,!0)},{keyCode:Ft.BACKSPACE,action:Pn(gD,e,!1)},{keyCode:Ft.DELETE,action:Pn(gD,e,!0)}],o).filter(v=>e.selection.isEditable()).each(v=>{o.preventDefault(),JD(e,r).isDefaultPrevented()||(v(),lC(e,r))})},Gf=(e,n,o)=>b0([{keyCode:Ft.BACKSPACE,action:Pn(jN,e)},{keyCode:Ft.DELETE,action:Pn(jN,e)},...lU?[{keyCode:Ft.BACKSPACE,altKey:!0,action:Pn(Kw,e)},{keyCode:Ft.DELETE,altKey:!0,action:Pn(Kw,e)},...o?[{keyCode:ar?224:91,action:Pn(Kw,e)}]:[]]:[{keyCode:Ft.BACKSPACE,ctrlKey:!0,action:Pn(Kw,e)},{keyCode:Ft.DELETE,ctrlKey:!0,action:Pn(Kw,e)}]],n),o5=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ft.BACKSPACE,r.isDefaultPrevented()||QD(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||Gf(e,r,o),o=!1})},s5=e=>{for(;e;){if(Wt(e)||at(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},T0=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=s5(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(ei),n.firstChild)}const a=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new $s(n,n);let h=n,v;for(;v=u.current();){if(at(v)){a.setStart(v,0),a.setEnd(v,0);break}if(r[v.nodeName.toLowerCase()]){a.setStartBefore(v),a.setEndBefore(v);break}h=v,v=u.next()}v||(a.setStart(h,0),a.setEnd(h,0))}else ts(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)):(a.setStart(n,0),a.setEnd(n,0));e.selection.setRng(a),Hb(e,a)},Hp=(e,n)=>{const o=e.getRoot();let r,a=n;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},uC=e=>K.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),r5=e=>uC(e).fold(st(""),n=>n.nodeName.toUpperCase()),i5=e=>uC(e).filter(n=>xc(pe.fromDom(n))).isSome(),e3=e=>{e.innerHTML='<br data-mce-bogus="1">'},uU=(e,n,o)=>{const r=e.dom;K.from(o.style).map(r.parseStyle).each(C=>{const F={...yc(pe.fromDom(n)),...C};r.setStyles(n,F)});const a=K.from(o.class).map(C=>C.split(/\s+/)),u=K.from(n.className).map(C=>Jt(C.split(/\s+/),O=>O!==""));ie(a,u,(C,O)=>{const F=Jt(O,j=>!An(C,j)),H=[...C,...F];r.setAttrib(n,"class",H.join(" "))});const h=["style","class"],v=as(o,(C,O)=>!An(h,O));r.setAttribs(n,v)},dC=(e,n)=>{if(Ui(e).toLowerCase()===n.tagName.toLowerCase()){const r=$g(e);uU(e,n,r)}},a5=(e,n,o,r,a=!0,u,h)=>{const v=e.dom,C=e.schema,O=Ui(e),F=o?o.nodeName.toUpperCase():"";let H=n;const j=C.getTextInlineElements();let oe;u||F==="TABLE"||F==="HR"?oe=v.create(u||O,h||{}):oe=o.cloneNode(!1);let le=oe;if(!a)v.setAttrib(oe,"style",null),v.setAttrib(oe,"class",null);else do if(j[H.nodeName]){if(ac(H)||Dc(H))continue;const re=H.cloneNode(!1);v.setAttrib(re,"id",""),oe.hasChildNodes()?(re.appendChild(oe.firstChild),oe.appendChild(re)):(le=re,oe.appendChild(re))}while((H=H.parentNode)&&H!==r);return dC(e,oe),e3(le),oe},dU=(e,n)=>e.dom.getParent(n,el),c5=(e,n,o)=>{let r=n;for(;r&&r!==e&&A(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return el(a);r=a}return!1},fU=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Ui(e)&&e.dom.isEmpty(o)&&c5(e.getBody(),o,r=>un(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),hU=(e,n,o)=>{var r,a,u;const h=n(Ui(e)),v=dU(e,o);v&&(e.dom.insertAfter(h,v),T0(e,h),((u=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},mU=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,pU=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},l5=(e,n)=>{const o=e==null?void 0:e.parentNode;return je(o)&&o.nodeName===n},t3=e=>je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),j_=e=>je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),gU=e=>t3(e)&&t3(e.parentNode),Z_=e=>{const n=e.parentNode;return j_(n)?n:e},n3=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Wt(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},q_=e=>To(uu(yc(pe.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),vU=(e,n,o,r,a)=>{const u=e.dom,h=e.selection.getRng(),v=o.parentNode;if(o===e.getBody()||!v)return;gU(o)&&(a="LI");const C=j_(r)?q_(r):void 0;let O=j_(r)&&C?n(a,{style:q_(r)}):n(a);if(n3(o,r,!0)&&n3(o,r,!1))if(l5(o,"LI")){const F=Z_(o);u.insertAfter(O,F),pU(o)?u.remove(F):u.remove(o)}else u.replace(O,o);else if(n3(o,r,!0))l5(o,"LI")?(u.insertAfter(O,Z_(o)),O.appendChild(u.doc.createTextNode(" ")),O.appendChild(o)):v.insertBefore(O,o),u.remove(r);else if(n3(o,r,!1))u.insertAfter(O,Z_(o)),u.remove(r);else{o=Z_(o);const F=h.cloneRange();F.setStartAfter(r),F.setEndAfter(o);const H=F.extractContents();if(a==="LI"&&mU(H,"LI")){const j=Jt(Tn(O.children,pe.fromDom),ct($a("br")));O=H.firstChild,u.insertAfter(H,o),Le(j,oe=>Ml(pe.fromDom(O),oe)),C&&O.setAttribute("style",C)}else u.insertAfter(H,o),u.insertAfter(O,o);u.remove(r)}T0(e,O)},bU=e=>{Le(ny(pe.fromDom(e),jo),n=>{const o=n.dom;o.nodeValue=ja(o.data)})},yU=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},u5=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),o3=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,G_=(e,n)=>je(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",wU=(e,n,o)=>{var r;const a=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;Wt(u)&&!n[u.nodeName.toLowerCase()]&&a.push(u)}let h=a.length;for(;h--;)u=a[h],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||u5(e,u))&&e.remove(u)},s3=(e,n,o)=>at(n)?e?o===1&&n.data.charAt(o-1)===Wr?0:o:o===n.data.length-1&&n.data.charAt(o)===Wr?n.data.length:o:o,rK=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,s3(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,s3(!1,e.endContainer,e.endOffset)),n},ua=e=>{let n=e;do at(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},CU=(e,n,o,r,a)=>{var u,h;const v=e.dom,C=(u=Hp(v,r))!==null&&u!==void 0?u:v.getRoot();let O=v.getParent(r,v.isBlock);if(!O||!G_(v,O)){if(O=O||C,!O.hasChildNodes()){const oe=v.create(n);return dC(e,oe),O.appendChild(oe),o.setStart(oe,0),o.setEnd(oe,0),oe}let F=r;for(;F&&F.parentNode!==O;)F=F.parentNode;let H;for(;F&&!v.isBlock(F);)H=F,F=F.previousSibling;const j=(h=H==null?void 0:H.parentElement)===null||h===void 0?void 0:h.nodeName;if(H&&j&&e.schema.isValidChild(j,n.toLowerCase())){const oe=H.parentNode,le=v.create(n);for(dC(e,le),oe.insertBefore(le,H),F=H;F&&!v.isBlock(F);){const re=F.nextSibling;le.appendChild(F),F=re}o.setStart(r,a),o.setEnd(r,a)}}return r},xU=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Wt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},SU=(e,n)=>{const o=cp(e);return Sn(n)?!1:ue(o)?An(D.explode(o),n.nodeName.toLowerCase()):o},d5={insert:(e,n)=>{let o,r,a,u,h=!1;const v=e.dom,C=e.schema,O=C.getNonEmptyElements(),F=e.selection.getRng(),H=Ui(e),j=pe.fromDom(F.startContainer),oe=La(j,F.startOffset),le=oe.exists(Ye=>wa(Ye)&&!Ln(Ye)),re=F.collapsed&&le,de=(Ye,Ot)=>a5(e,o,bt,qe,MA(e),Ye,Ot),Ce=Ye=>{const Ot=s3(Ye,o,r);if(at(o)&&(Ye?Ot>0:Ot<o.data.length))return!1;if((o.parentNode===bt||o===bt)&&h&&!Ye||Ye&&Wt(o)&&o===bt.firstChild)return!0;if(o3(o,"TABLE")||o3(o,"HR"))return h&&!Ye||!h&&Ye;const Yt=new $s(o,bt);at(o)&&(Ye&&Ot===0?Yt.prev():!Ye&&Ot===o.data.length&&Yt.next());let zn;for(;zn=Yt.current();){if(Wt(zn)){if(!zn.getAttribute("data-mce-bogus")){const Qn=zn.nodeName.toLowerCase();if(O[Qn]&&Qn!=="br")return!1}}else if(at(zn)&&!Nl(zn.data))return!1;Ye?Yt.prev():Yt.next()}return!0},Ee=()=>{let Ye;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Rt!=="HGROUP"?Ye=de(H):Ye=de(),SU(e,u)&&G_(v,u)&&v.isEmpty(bt,void 0,{includeZwsp:!0})?Ye=v.split(u,bt):v.insertAfter(Ye,bt),T0(e,Ye),Ye};At(v,F).each(Ye=>{F.setStart(Ye.startContainer,Ye.startOffset),F.setEnd(Ye.endContainer,Ye.endOffset)}),o=F.startContainer,r=F.startOffset;const _e=!!(n&&n.shiftKey),Be=!!(n&&n.ctrlKey);Wt(o)&&o.hasChildNodes()&&!re&&(h=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,h&&at(o)?r=o.data.length:r=0);const qe=Hp(v,o);if(!qe||yU(e,o))return;_e||(o=CU(e,H,F,o,r));let bt=v.getParent(o,v.isBlock)||v.getRoot();u=je(bt==null?void 0:bt.parentNode)?v.getParent(bt.parentNode,v.isBlock):null,a=bt?bt.nodeName.toUpperCase():"";const Rt=u?u.nodeName.toUpperCase():"";if(Rt==="LI"&&!Be){const Ye=u;bt=Ye,u=Ye.parentNode,a=Rt}if(Wt(u)&&fU(e,_e,bt))return hU(e,de,bt);if(/^(LI|DT|DD)$/.test(a)&&Wt(u)&&v.isEmpty(bt)){vU(e,de,u,bt,H);return}if(!re&&(bt===e.getBody()||!G_(v,bt)))return;const dt=bt.parentNode;let Ue;if(re)Ue=de(H),oe.fold(()=>{fr(j,pe.fromDom(Ue))},Ye=>{Si(Ye,pe.fromDom(Ue))}),e.selection.setCursorLocation(Ue,0);else if(np(bt))Ue=Tg(bt),v.isEmpty(bt)&&e3(bt),dC(e,Ue),T0(e,Ue);else if(Ce(!1))Ue=Ee();else if(Ce(!0)&&dt){Ue=dt.insertBefore(de(),bt);const Ye=hv(pe.fromDom(F.startContainer))&&F.collapsed;T0(e,o3(bt,"HR")||Ye?Ue:bt)}else{const Ye=rK(F).cloneRange();Ye.setEndAfter(bt);const Ot=Ye.extractContents();bU(Ot),ua(Ot),Ue=Ot.firstChild,v.insertAfter(Ot,bt),wU(v,O,Ue),xU(v,bt),v.isEmpty(bt)&&e3(bt),Ue.normalize(),v.isEmpty(Ue)?(v.remove(Ue),Ee()):(dC(e,Ue),T0(e,Ue))}v.setAttrib(Ue,"id",""),e.dispatch("NewBlock",{newBlock:Ue})},fakeEventName:"insertParagraph"},EU=(e,n,o)=>{const r=new $s(n,o);let a;const u=e.getNonEmptyElements();for(;a=r.next();)if(u[a.nodeName.toLowerCase()]||at(a)&&a.length>0)return!0;return!1},fC=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Hb(e,r)},_U=(e,n)=>{const o=e.selection,r=e.dom,a=o.getRng();let u,h=!1;At(r,a).each(oe=>{a.setStart(oe.startContainer,oe.startOffset),a.setEnd(oe.endContainer,oe.endOffset)});let v=a.startOffset,C=a.startContainer;if(Wt(C)&&C.hasChildNodes()){const oe=v>C.childNodes.length-1;C=C.childNodes[Math.min(v,C.childNodes.length-1)]||C,oe&&at(C)?v=C.data.length:v=0}let O=r.getParent(C,r.isBlock);const F=O&&O.parentNode?r.getParent(O.parentNode,r.isBlock):null,H=F?F.nodeName.toUpperCase():"",j=!!(n&&n.ctrlKey);H==="LI"&&!j&&(O=F),at(C)&&v>=C.data.length&&(EU(e.schema,C,O||r.getRoot())||(u=r.create("br"),a.insertNode(u),a.setStartAfter(u),a.setEndAfter(u),h=!0)),u=r.create("br"),Pg(r,a,u),fC(e,u,h),e.undoManager.add()},TU=(e,n)=>{const o=pe.fromTag("br");Si(pe.fromDom(n),o),e.undoManager.add()},r3=(e,n)=>{AU(e.getBody(),n)||bd(pe.fromDom(n),pe.fromTag("br"));const o=pe.fromTag("br");bd(pe.fromDom(n),o),fC(e,o.dom,!1),e.undoManager.add()},i3=e=>ts(e.getNode()),AU=(e,n)=>i3(Ve.after(n))?!0:ra(e,Ve.after(n)).map(o=>ts(o.getNode())).getOr(!1),kU=e=>e&&e.nodeName==="A"&&"href"in e,cK=e=>e.fold(He,kU,kU,He),lK=e=>{const n=Ge(w1,e),o=Ve.fromRangeStart(e.selection.getRng());return Yd(n,e.getBody(),o).filter(cK)},OU=(e,n)=>{n.fold(wt,Ge(TU,e),Ge(r3,e),wt)},f5={insert:(e,n)=>{const o=lK(e);o.isSome()?o.each(Ge(OU,e)):_U(e,n)},fakeEventName:"insertLineBreak"},nd=(e,n)=>uC(e).filter(o=>n.length>0&&ge(pe.fromDom(o),n)).isSome(),DU=e=>nd(e,Ux(e)),h5=e=>nd(e,Bd(e)),xl=Iu.generate([{br:[]},{block:[]},{none:[]}]),RU=(e,n)=>h5(e),m5=e=>(n,o)=>i5(n)===e,p5=(e,n)=>(o,r)=>r5(o)===e.toUpperCase()===n,PU=e=>{const n=Hp(e.dom,e.selection.getStart());return Sn(n)},hC=e=>p5("pre",e),MU=()=>p5("summary",!0),A0=e=>(n,o)=>PA(n)===e,g5=(e,n)=>DU(e),Z1=(e,n)=>n,BU=e=>{const n=Ui(e),o=Hp(e.dom,e.selection.getStart());return je(o)&&e.schema.isValidChild(o.nodeName,n)},NU=e=>{const n=e.selection.getRng(),o=pe.fromDom(n.startContainer),a=La(o,n.startOffset).map(u=>wa(u)&&!Ln(u));return n.collapsed&&a.getOr(!0)},su=(e,n)=>(o,r)=>To(e,(u,h)=>u&&h(o,r),!0)?K.some(n):K.none(),IU=(e,n)=>YN([su([RU],xl.none()),su([hC(!0),PU],xl.none()),su([MU()],xl.br()),su([hC(!0),A0(!1),Z1],xl.br()),su([hC(!0),A0(!1)],xl.block()),su([hC(!0),A0(!0),Z1],xl.block()),su([hC(!0),A0(!0)],xl.br()),su([m5(!0),Z1],xl.br()),su([m5(!0)],xl.block()),su([g5],xl.br()),su([Z1],xl.br()),su([BU],xl.block()),su([NU],xl.block())],[e,!!(n&&n.shiftKey)]).getOr(xl.none()),K_=(e,n,o)=>{n.selection.isCollapsed()||hO(n),!(je(o)&&JD(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),je(o)&&lC(n,e.fakeEventName))},a3=(e,n)=>{const o=()=>K_(f5,e,n),r=()=>K_(d5,e,n),a=IU(e,n);switch(Vx(e)){case"linebreak":a.fold(o,o,wt);break;case"block":a.fold(r,r,wt);break;case"invert":a.fold(r,o,wt);break;default:a.fold(o,r,wt);break}},v5=oc(),b5=v5.os.isiOS()&&v5.browser.isSafari(),c3=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),n8(e.undoManager),e.undoManager.transact(()=>{a3(e,n)}))},$U=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(at(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},LU=e=>{let n=K.none();const o=a=>{n=K.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,u)=>{a.undoManager.undo(),n.fold(wt,h=>a.selection.moveToBookmark(h)),c3(a,u),n=K.none()};e.on("keydown",a=>{a.keyCode===Ft.ENTER&&(b5&&$U(e.selection.getRng())?o(e):c3(e,a))}),e.on("keyup",a=>{a.keyCode===Ft.ENTER&&n.each(()=>r(e,a))})},l3=(e,n,o)=>{const r=Mt.os.isMacOS()||Mt.os.isiOS();b0([{keyCode:Ft.END,action:Pn(VI,e,!0)},{keyCode:Ft.HOME,action:Pn(VI,e,!1)},...r?[]:[{keyCode:Ft.HOME,action:Pn(Xw,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ft.END,action:Pn(Xw,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ft.END,action:Pn(qI,e,!0)},{keyCode:Ft.HOME,action:Pn(qI,e,!1)},{keyCode:Ft.END,action:Pn(k_,e,!0,n)},{keyCode:Ft.HOME,action:Pn(k_,e,!1,n)}],o).each(a=>{o.preventDefault()})},FU=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||l3(e,n,o)})},HU=e=>{e.on("input",n=>{n.isComposing||Ms(e)})},Y_=oc(),zU=(e,n,o)=>{b0([{keyCode:Ft.PAGE_UP,action:Pn(k_,e,!1,n)},{keyCode:Ft.PAGE_DOWN,action:Pn(k_,e,!0,n)}],o)},X_=e=>e.stopImmediatePropagation(),J_=e=>e.keyCode===Ft.PAGE_UP||e.keyCode===Ft.PAGE_DOWN,u3=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",X_,!0):!o&&e.get()&&n.off("NodeChange",X_),e.set(o)},VU=(e,n)=>{if(Y_.os.isMacOS())return;const o=or(!1);e.on("keydown",r=>{J_(r)&&u3(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||zU(e,n,r),J_(r)&&o.get()&&(u3(o,e,!1),e.nodeChanged())})},dK=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Xo(n.getTargetRanges(),o=>!sP(e.dom,o)))&&n.preventDefault()})},mm=(e,n)=>{const o=n.container(),r=n.offset();return at(o)?(o.insertData(r,e),K.some(Ve(o,r+e.length))):Lu(n).map(a=>{const u=pe.fromText(e);return n.isAtEnd()?bd(a,u):Si(a,u),Ve(u.dom,e.length)})},y5=Ge(mm,ei),w5=Ge(mm," "),UU=(e,n,o)=>iO(e,n,o)?y5(n):w5(n),Q_=e=>n=>n.fold(o=>Oa(e.dom,Ve.before(o)),o=>ji(o),o=>fl(o),o=>ra(e.dom,Ve.after(o))),C5=(e,n,o)=>r=>iO(e,r,o)?y5(n):w5(n),d3=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},WU=(e,n)=>e.isEditable(e.getParent(n,"summary")),x5=e=>{const n=Ve.fromRangeStart(e.selection.getRng()),o=pe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ge(w1,e),a=Ve.fromRangeStart(e.selection.getRng());return Yd(r,e.getBody(),a).bind(Q_(o)).map(u=>()=>C5(o,n,e.schema)(u).each(d3(e)))}else return K.none()},jU=e=>{const n=()=>{const o=pe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Ve.fromRangeStart(e.selection.getRng());UU(o,r,e.schema).each(d3(e))};return me(Mt.browser.isFirefox()&&e.selection.isEditable()&&WU(e.dom,e.selection.getRng().startContainer),n)},ZU=(e,n)=>{jI([{keyCode:Ft.SPACEBAR,action:Pn(x5,e)},{keyCode:Ft.SPACEBAR,action:Pn(jU,e)}],n).each(o=>{n.preventDefault(),JD(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),lC(e,"insertText",{data:" "}))})},qU=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||ZU(e,n)})},S5=e=>pS(e)?[{keyCode:Ft.TAB,action:Pn(hm,e,!0)},{keyCode:Ft.TAB,shiftKey:!0,action:Pn(hm,e,!1)}]:[],f3=(e,n)=>{b0([...S5(e)],n).each(o=>{n.preventDefault()})},GU=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||f3(e,n)})},h3=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Z$(e),$c(e))return or(null);{const n=aV(e);return dK(e),IV(e),c$(e,n),o5(e,n),LU(e),qU(e),HU(e),GU(e),FU(e,n),VU(e,n),n}};class E5{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",a=>{const u=n.selection.getRng(),h={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(a.type==="nodechange"||!g(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{Y2(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const a=n.selection.getStart(!0);a&&t1(n)&&!r.isSameElementPath(a)&&n.dom.isChildOf(a,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",a=>{!a.isDefaultPrevented()&&t1(n)&&(n.selection.getNode().nodeName==="IMG"?Kl.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!zA(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const u=[];this.editor.dom.getParent(r,h=>h===a?!0:(u.push(h),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,a=Ts(r.dom.getParents(n,ht,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const mC=Qm("image"),_5=e=>{const n=e;return K.from(n[mC])},T5=(e,n)=>{const o=e;o[mC]=n},m3=Qm("event"),KU=e=>{const n=e;return K.from(n[m3])},q1=e=>n=>{const o=n;o[m3]=e},A5=(e,n)=>q1(n)(e),k5=q1(0),YU=q1(2),O5=q1(1),XU=(e=>n=>{const o=n;return K.from(o[m3]).exists(r=>r===e)})(0),JU=()=>Object.freeze({length:0,item:e=>null}),p3=Qm("mode"),QU=e=>{const n=e;return K.from(n[p3])},pC=e=>n=>{const o=n;o[p3]=e},D5=(e,n)=>pC(n)(e),g3=pC(0),v3=pC(2),eW=pC(1),R5=e=>n=>{const o=n;return K.from(o[p3]).exists(r=>r===e)},k0=R5(0),P5=R5(1),O0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(k0(e))if(ue(o)){if(!Cn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{k0(e)&&n.remove(o)},clear:()=>{k0(e)&&n.clear()}}),tW=["none","copy","link","move"],nW=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],eT=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(a){An(tW,a)&&(n=a)},get effectAllowed(){return o},set effectAllowed(a){XU(r)&&An(nW,a)&&(o=a)},get items(){return O0(r,e.items)},get files(){return P5(r)?JU():e.files},get types(){return e.types},setDragImage:(a,u,h)=>{k0(r)&&(T5(r,{image:a,x:u,y:h}),e.setDragImage(a,u,h))},getData:a=>P5(r)?"":e.getData(a),setData:(a,u)=>{k0(r)&&e.setData(a,u)},clearData:a=>{k0(r)&&e.clearData(a)}};return g3(r),r},oW=e=>{const n=eT(),o=QU(e);return v3(e),k5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,_5(e).each(r=>n.setDragImage(r.image,r.x,r.y)),Le(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),Le(e.files,r=>n.items.add(r)),KU(e).each(r=>{A5(n,r)}),o.each(r=>{D5(e,r),D5(n,r)}),n},sW=e=>{const n=e.getData("text/html");return n===""?K.none():K.some(n)},M5=(e,n)=>e.setData("text/html",n),b3="x-tinymce/html",tT=st(b3),y3="<!-- "+b3+" -->",hK=e=>y3+e,nT=e=>e.replace(y3,""),B5=e=>e.indexOf(y3)!==-1,rW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),iW=(e,n)=>{let o="<"+e;const r=uu(n,(a,u)=>u+'="'+na.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},aW=(e,n,o)=>{const r=e.split(/\n\n/),a=iW(n,o),u="</"+n+">",h=Tn(r,C=>C.split(/\n/).join("<br />")),v=C=>a+C+u;return h.length===1?h[0]:Tn(h,v).join("")},N5="%MCEPASTEBIN%",cW=(e,n)=>{const{dom:o,selection:r}=e,a=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},N5);Mt.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),u.focus(),r.select(u,!0)},lW=(e,n)=>{const o=e.dom;if(w3(e)){let r;const a=n.get();for(;r=w3(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}n.set(null)},w3=e=>e.dom.get("mcepastebin"),uW=e=>je(e)&&e.id==="mcepastebin",dW=e=>{const n=e.dom,o=(h,v)=>{h.appendChild(v),n.remove(v,!0)},[r,...a]=Jt(e.getBody().childNodes,uW);Le(a,h=>{o(r,h)});const u=n.select("div[id=mcepastebin]",r);for(let h=u.length-1;h>=0;h--){const v=n.create("div");r.insertBefore(v,u[h]),o(v,u[h])}return r?r.innerHTML:""},I5=e=>e===N5,fW=e=>{const n=or(null);return{create:()=>cW(e,n),remove:()=>lW(e,n),getEl:()=>w3(e),getHtml:()=>dW(e),getLastRng:n.get}},$5=(e,n)=>(D.each(n,o=>{nn(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),rs=e=>{const n=xd(),o=Gi({},n);let r="";const a=n.getVoidElements(),u=D.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),v=C=>{const O=C.name,F=C;if(O==="br"){r+=`
`;return}if(O!=="wbr"){if(a[O]&&(r+=" "),u[O]){r+=" ";return}if(C.type===3&&(r+=C.value),!(C.name in n.getVoidElements())){let H=C.firstChild;if(H)do v(H);while(H=H.next)}h[O]&&F.next&&(r+=`
`,O==="p"&&(r+=`
`))}};return e=$5(e,[/<!\[[^\]]+\]>/g]),v(o.parse(e)),r},L5=e=>(e=$5(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":ei],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),F5=e=>{let n=0;return()=>e+n++},hW=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return D.hasOwn(o,n)?"image/"+o[n]:"image/"+n},C3=(e,n)=>{const o=Gi({sanitize:hS(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:mp(e),convert_unsafe_embeds:gS(e)},e.schema);o.addNodeFilter("meta",a=>{D.each(a,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return dn({validate:!0},e.schema).serialize(r)},x3=(e,n)=>({content:e,cancelled:n}),mW=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),a=En(e,r,o);return x3(a.node.innerHTML,a.isDefaultPrevented())},pW=(e,n,o)=>{const r=ZR(e,n,o),a=C3(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?mW(e,a,o):x3(a,r.isDefaultPrevented())},H5=(e,n,o)=>pW(e,n,o),gC=(e,n)=>(e.insertContent(n,{merge:qA(e),paste:!0}),!0),S3=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),gW=(e,n)=>S3(n)&&Xo(hp(e),o=>jc(n.toLowerCase(),`.${o.toLowerCase()}`)),vW=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),z5=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),bW=(e,n,o)=>!e.selection.isCollapsed()&&S3(n)?z5(e,n,o):!1,yW=(e,n,o)=>gW(e,n)?vW(e,n,o):!1,D0=(e,n)=>{D.each([bW,yW,gC],o=>!o(e,n,gC))},wW=(e,n,o)=>{o||!dS(e)?gC(e,n):D0(e,n)},R0=F5("mceclip"),vC=e=>{const n=eT();return M5(n,e),v3(n),n},V5=(e,n,o,r,a)=>{const u=H5(e,n,o);if(!u.cancelled){const h=u.content,v=()=>wW(e,h,r);a?JD(e,"insertFromPaste",{dataTransfer:vC(h)}).isDefaultPrevented()||(v(),lC(e,"insertFromPaste")):v()}},oT=(e,n,o,r)=>{const a=o||B5(n);V5(e,nT(n),a,!1,r)},zp=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),a=ry(r,GA(e)),u=aW(a,Ui(e),$g(e));V5(e,u,!1,!0,o)},U5=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Kf=(e,n)=>n in e&&e[n].length>0,W5=e=>Kf(e,"text/html")||Kf(e,"text/plain"),j5=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return je(o)?e.dom.encode(o[1]):void 0},Z5=(e,n,o,r)=>{const a=R0(),u=e2(e)&&je(o.name),h=u?j5(e,o.name):a,v=u?o.name:void 0,C=n.create(a,o,r,h,v);return n.add(C),C},E3=(e,n)=>{$E(n.uri).each(({data:o,type:r,base64Encoded:a})=>{const u=a?o:btoa(o),h=n.file,v=e.editorUpload.blobCache,C=v.getByData(u,r),O=C??Z5(e,v,h,u);oT(e,`<img src="${O.blobUri()}">`,!1,!0)})},q5=e=>e.type==="paste",CW=e=>Promise.all(Tn(e,n=>Ew(n).then(o=>({file:n,uri:o})))),xW=e=>{const n=hp(e);return o=>Bs(o.type,"image/")&&Xo(n,r=>hW(r)===o.type)},G5=(e,n)=>{const o=n.items?Mi(Ji(n.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=n.files?Ji(n.files):[];return Jt(o.length>0?o:r,xW(e))},K5=(e,n,o)=>{const r=q5(n)?n.clipboardData:n.dataTransfer;if(Nd(e)&&r){const a=G5(e,r);if(a.length>0)return n.preventDefault(),CW(a).then(u=>{o&&e.selection.setRng(o),Le(u,h=>{E3(e,h)})}),!0}return!1},Y5=e=>{var n,o;return Mt.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},_3=e=>Ft.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,sT=(e,n,o,r,a)=>{let u=L5(o);const h=Kf(n,tT())||B5(o),v=!h&&rW(u),C=S3(u);(I5(u)||!u.length||v&&!C)&&(r=!0),(r||C)&&(Kf(n,"text/plain")&&v?u=n["text/plain"]:u=rs(u)),!I5(u)&&(r?zp(e,u,a):oT(e,u,h,a))},SW=(e,n,o)=>{let r;const a=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{_3(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||Y5(u))return;const h=o.get()==="text"||r;r=!1;const v=U5(u.clipboardData);!W5(v)&&K5(e,u,a())||(Kf(v,"text/html")?(u.preventDefault(),sT(e,v,v["text/html"],h,!0)):Kf(v,"text/plain")&&Kf(v,"text/uri-list")?(u.preventDefault(),sT(e,v,v["text/plain"],h,!0)):(n.create(),Kl.setEditorTimeout(e,()=>{const C=n.getHtml();n.remove(),sT(e,v,C,h,!1)},0)))})},EW=e=>{const n=a=>Bs(a,"webkit-fake-url"),o=a=>Bs(a,"data:"),r=a=>{var u;return((u=a.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(a,u,h)=>{if(!Nd(e)&&r(h))for(const v of a){const C=v.attr("src");ue(C)&&!v.attr("data-mce-object")&&C!==Mt.transparentSrc&&(n(C)||!l2(e)&&o(C))&&v.remove()}})},_W=(e,n,o)=>{SW(e,n,o),EW(e)},X5=(e,n)=>{n.get()==="text"?(n.set("html"),GS(e,!1)):(n.set("text"),GS(e,!0)),e.focus()},T3=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{X5(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&oT(e,r.html,r.internal,!1),r.text&&zp(e,r.text,!1)})},TW=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(tT(),n),!0}catch{return!1}else return!1},A3=(e,n,o,r)=>{TW(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},k3=e=>(n,o)=>{const{dom:r,selection:a}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(h),r.add(e.getBody(),u);const v=a.getRng();h.focus();const C=r.createRng();C.selectNodeContents(h),a.setRng(C),Kl.setEditorTimeout(e,()=>{a.setRng(v),r.remove(u),o()},0)},J5=e=>({html:hK(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Q5=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),eL=e=>!e.selection.isCollapsed()||Q5(e),AW=e=>n=>{!n.isDefaultPrevented()&&eL(e)&&e.selection.isEditable()&&A3(n,J5(e),k3(e),()=>{if(Mt.browser.isChromium()||Mt.browser.isFirefox()){const o=e.selection.getRng();Kl.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},kW=e=>n=>{!n.isDefaultPrevented()&&eL(e)&&A3(n,J5(e),k3(e),wt)},OW=e=>{e.on("cut",AW(e)),e.on("copy",kW(e))},tL=(e,n)=>{var o,r;return $t.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},rT=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},nL=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},oL=e=>Xo(e.files,n=>/^image\//.test(n.type)),DW=(e,n,o,r)=>{const a=e.getParent(o,h=>vf(n,h));if(!A(e.getParent(o,"summary")))return!0;if(a&&un(r,"text/html")){const h=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!A(h.querySelector(a.nodeName.toLowerCase()))}else return!1},RW=e=>{e.on("input",n=>{const o=r=>A(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Jt(e.dom.select("details"),o);Le(r,a=>{ts(a.firstChild)&&a.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Eg().dom),a.prepend(u)})}})},sL=(e,n)=>{aS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Nd(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&oL(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=tL(e,o);if(Sn(r))return;const a=U5(o.dataTransfer),u=Kf(a,tT());if((!W5(a)||rT(a))&&K5(e,o,r))return;const h=a[tT()],v=h||a["text/html"]||a["text/plain"],C=DW(e.dom,e.schema,r.startContainer,a),O=n.get();O&&!C||v&&(o.preventDefault(),Kl.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||O&&C)&&e.execCommand("Delete"),nL(e,r);const F=L5(v);a["text/html"]?oT(e,F,u,!0):zp(e,F,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Nd(e)&&!n.get()&&(o.preventDefault(),nL(e,tL(e,o))),o.type==="dragend"&&n.set(!1)}),RW(e)},rL=e=>{const n=a=>u=>{a(e,u)},o=rb(e);ye(o)&&e.on("PastePreProcess",n(o));const r=c2(e);ye(r)&&e.on("PastePostProcess",n(r))},PW=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},MW=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,iL=e=>D.trim(e).replace(MW,kh).toLowerCase(),BW=(e,n,o)=>{const r=lS(e);if(o||r==="all"||!uS(e))return n;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const u=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(v,C,O,F)=>{const H=u.parseStyle(u.decode(O)),j={};for(let le=0;le<a.length;le++){const re=H[a[le]];let de=re,Ce=u.getStyle(h,a[le],!0);/color/.test(a[le])&&(de=iL(de),Ce=iL(Ce)),Ce!==de&&(j[a[le]]=re)}const oe=u.serializeStyle(j,"span");return oe?C+' style="'+oe+'"'+F:C+F})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,h,v,C)=>h+' style="'+v+'"'+C),n},NW=e=>{(Mt.browser.isChromium()||Mt.browser.isSafari())&&PW(e,BW)},aL=e=>{const n=or(!1),o=or(Hg(e)?"text":"html"),r=fW(e);NW(e),T3(e,o),rL(e),e.on("PreInit",()=>{OW(e),sL(e,n),_W(e,r,o)})},IW=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},$W=e=>{e.parser.addNodeFilter("details",n=>{const o=tk(e);Le(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=nk(e);Le(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},LW=e=>{IW(e),$W(e)},FW=ts,cL=at,HW=e=>bs(e.dom),zW=e=>kr(e.dom),lL=e=>n=>Je(pe.fromDom(e),n),uL=(e,n,o)=>Li(pe.fromDom(e),r=>zW(r)||o.isBlock(Jn(r)),lL(n)).getOr(pe.fromDom(n)).dom,O3=(e,n)=>Li(pe.fromDom(e),HW,lL(n)),dL=(e,n,o)=>{const r=new $s(e,n),a=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let h=o?e:a();h&&!FW(h);h=a())ic(h)&&(u=h);return u},VW=(e,n,o)=>{const a=Ve.fromRangeStart(e).getNode(),u=uL(a,n,o),h=dL(a,u,!1),v=dL(a,u,!0),C=document.createRange();return O3(h,u).fold(()=>{cL(h)?C.setStart(h,0):C.setStartBefore(h)},O=>C.setStartBefore(O.dom)),O3(v,u).fold(()=>{cL(v)?C.setEnd(v,v.data.length):C.setEndAfter(v)},O=>C.setEndAfter(O.dom)),C},UW=e=>{const n=VW(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(xE(n))},WW=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),UW(e))})};var P0;(function(e){e.Before="before",e.After="after"})(P0||(P0={}));const jW=(e,n)=>Math.abs(e.left-n),ZW=(e,n)=>Math.abs(e.right-n),iT=(e,n)=>e>=n.top&&e<=n.bottom,fL=(e,n)=>e.top<n.bottom&&e.bottom>n.top,qW=(e,n)=>{const o=Dy(e,n)/Math.min(e.height,n.height);return fL(e,n)&&o>.5},hL=(e,n)=>{const o=Jt(e,r=>iT(n,r));return xA(o).fold(()=>[[],e],r=>{const{pass:a,fail:u}=Nr(e,h=>qW(h,r));return[a,u]})},mL=(e,n)=>({node:e.node,position:jW(e,n)<ZW(e,n)?P0.Before:P0.After}),D3=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),R3=(e,n,o,r)=>{const a=H=>ic(H.node)?K.some(H):Wt(H.node)?R3(Ji(H.node.childNodes),n,o,!1):K.none(),u=(H,j,oe)=>a(j).filter(le=>Math.abs(oe(H,n,o)-oe(le,n,o))<2&&at(le.node)),h=(H,j)=>{const oe=is(H,(le,re)=>j(le,n,o)-j(re,n,o));return zc(oe,a).map(le=>r&&!at(le.node)&&oe.length>1?u(le,oe[1],j).getOr(le):le)},[v,C]=hL(cI(e),o),{pass:O,fail:F}=Nr(C,H=>H.top<o);return h(v,D3).orThunk(()=>h(F,Ef)).orThunk(()=>h(O,Ef))},pL=(e,n,o,r)=>{const a=(u,h)=>{const v=O=>Wt(O)&&O.classList.contains("mce-drag-container"),C=Jt(u.dom.childNodes,ct(v));return h.fold(()=>R3(C,o,r,!0),O=>{const F=Jt(C,H=>H!==O.dom);return R3(F,o,r,!0)}).orThunk(()=>(Je(u,e)?K.none():so(u)).bind(F=>a(F,K.some(u))))};return a(n,K.none())},GW=(e,n,o)=>{const r=pe.fromDom(e),a=fn(r),h=pe.fromPoint(a,n,o).filter(v=>Zt(r,v)).getOr(r);return pL(r,h,n,o)},P3=(e,n,o)=>GW(e,n,o).filter(r=>jg(r.node)).map(r=>mL(r,n)),gL=e=>{var n,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,u=a.documentElement,h=a.defaultView;return{top:r.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},vL=e=>e.inline?gL(e.getBody()):{left:0,top:0},KW=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},YW=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},a={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:a},XW=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=gL(e.getContentAreaContainer()),r=YW(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},bC=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),JW=(e,n)=>bC(vL(e),KW(e),XW(e,n)),bL=e=>({target:e,srcElement:e}),yL=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...bL(o)}),QW=(e,n,o)=>{const r=Rn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:wt,stopImmediatePropagation:wt,stopPropagation:wt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...bL(n)}},ej=(e,n)=>{const o=oW(e);return n==="dragstart"?(k5(o),g3(o)):n==="drop"?(YU(o),v3(o)):(O5(o),eW(o)),o},tj=(e,n,o,r)=>{const a=ej(o,e);return Cn(r)?QW(e,n,a):yL(e,r,n,a)},aT=32,nj=100,G1=8,yC=16,M3=bs,oj=Py(M3,kr),sj=(e,n,o)=>M3(o)&&o!==n&&e.isEditable(o.parentElement),rj=(e,n,o)=>Sn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),mK=(e,n,o,r)=>{const a=e.dom,u=n.cloneNode(!0);a.setStyles(u,{width:o,height:r}),a.setAttrib(u,"data-mce-selected",null);const h=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(u,{margin:0,boxSizing:"border-box"}),h.appendChild(u),h},ij=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},wC=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},cT=wC("left",-aT),CC=wC("left",aT),wL=wC("top",-aT),CL=wC("top",aT),xL=(e,n,o,r,a,u,h,v,C,O,F,H)=>{let j=0,oe=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>a&&(j=n.pageX+o-a),n.pageY+r>u&&(oe=n.pageY+r-u),e.style.width=o-j+"px",e.style.height=r-oe+"px";const le=C.clientHeight,re=C.clientWidth,de=h+C.getBoundingClientRect().top,Ce=v+C.getBoundingClientRect().left;F.on(Ee=>{Ee.intervalId.clear(),Ee.dragging&&H&&(h+G1>=le?Ee.intervalId.set(CL(O)):h-G1<=0?Ee.intervalId.set(wL(O)):v+G1>=re?Ee.intervalId.set(CC(O)):v-G1<=0?Ee.intervalId.set(cT(O)):de+yC>=window.innerHeight?Ee.intervalId.set(CL(window)):de-yC<=0?Ee.intervalId.set(wL(window)):Ce+yC>=window.innerWidth?Ee.intervalId.set(CC(window)):Ce-yC<=0&&Ee.intervalId.set(cT(window)))})},SL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},B3=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);SL(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Rd(pe.fromDom(o))},EL=e=>e.button===0,aj=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),cj=(e,n)=>o=>{if(EL(o)){const r=Jo(n.dom.getParents(o.target),oj).getOr(null);if(je(r)&&sj(n.dom,n.getBody(),r)){const a=n.dom.getPos(r),u=n.getBody(),h=n.getDoc().documentElement;e.set({element:r,dataTransfer:eT(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:h.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:mK(n,r,r.offsetWidth,r.offsetHeight),intervalId:hA(nj)})}}},_L=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),P3(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===P0.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(n,o)})},xC=(e,n,o,r,a)=>{n==="dragstart"&&M5(r,e.dom.getOuterHTML(o));const u=tj(n,o,r,a);return e.dispatch(n,u)},pK=(e,n)=>{const o=Bv((a,u)=>_L(n,a,u),0);n.on("remove",o.cancel);const r=e;return a=>e.on(u=>{const h=Math.max(Math.abs(a.screenX-u.screenX),Math.abs(a.screenY-u.screenY));if(!u.dragging&&h>10){const v=xC(n,"dragstart",u.element,u.dataTransfer,a);if(je(v.dataTransfer)&&(u.dataTransfer=v.dataTransfer),v.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const v=a.currentTarget===n.getDoc().documentElement,C=aj(u,JW(n,a));ij(u.ghost,n.getBody()),xL(u.ghost,C,u.width,u.height,u.maxX,u.maxY,a.clientY,a.clientX,n.getContentAreaContainer(),n.getWin(),r,v),o.throttle(a.clientX,a.clientY)}})},lj=e=>{const n=e.getSel();if(je(n)){const r=n.getRangeAt(0).startContainer;return at(r)?r.parentNode:r}else return null},uj=(e,n)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(rj(n,lj(n.selection),r.element)){const u=(a=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:n.getBody();xC(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{B3(n.dom,r.element),sW(r.dataTransfer).each(v=>n.insertContent(v)),n._selectionOverrides.hideFakeCaret()})}xC(n,"dragend",n.getBody(),r.dataTransfer,o)}}),kL(e)},TL=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>xC(n,"dragend",r.element,r.dataTransfer),a=>xC(n,"dragend",r.element,r.dataTransfer,a))}),kL(e)},AL=(e,n)=>o=>TL(e,n,K.some(o)),kL=e=>{e.on(n=>{n.intervalId.clear(),SL(n.ghost)}),e.clear()},OL=e=>{const n=Cf(),o=Ko.DOM,r=document,a=cj(n,e),u=pK(n,e),h=uj(n,e),v=AL(n,e);e.on("mousedown",a),e.on("mousemove",u),e.on("mouseup",h),o.bind(r,"mousemove",u),o.bind(r,"mouseup",v),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",v)}),e.on("keydown",C=>{C.keyCode===Ft.ESC&&TL(n,e,K.none())})},dj=e=>{const n=a=>{if(!a.isDefaultPrevented()){const u=a.dataTransfer;u&&(An(u.types,"Files")||u.files.length>0)&&(a.preventDefault(),a.type==="drop"&&tu(e,"Dropped file type is not supported"))}},o=a=>{X2(e,a.target)&&n(a)},r=()=>{const a=Ko.DOM,u=e.dom,h=document,v=e.inline?e.getBody():e.getDoc(),C=["drop","dragover"];Le(C,O=>{a.bind(h,O,o),u.bind(v,O,n)}),e.on("remove",()=>{Le(C,O=>{a.unbind(h,O,o),u.unbind(v,O,n)})})};e.on("init",()=>{Kl.setEditorTimeout(e,r,0)})},fj=e=>{OL(e),nS(e)&&dj(e)},hj=e=>{const n=Bv(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=zw(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},mj=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Or(o)){const r=Dp(e.getBody(),o),a=bs(r)?r:o;e.selection.getNode()!==a&&d0(e,a).each(u=>e.selection.setRng(u))}})})},SC=bs,N3=(e,n)=>Dp(e.getBody(),n),gK=e=>{const n=e.selection,o=e.dom,r=e.getBody(),a=SS(e,r,o.isBlock,()=>p1(e)),u="sel-"+o.uniqueId(),h="data-mce-selected";let v;const C=Rt=>je(Rt)&&o.hasClass(Rt,"mce-offscreen-selection"),O=Rt=>Rt!==r&&(SC(Rt)||Or(Rt))&&o.isChildOf(Rt,r)&&o.isEditable(Rt.parentNode),F=Rt=>{Rt&&n.setRng(Rt)},H=(Rt,dt,Ue,Ye=!0)=>e.dispatch("ShowCaret",{target:dt,direction:Rt,before:Ue}).isDefaultPrevented()?null:(Ye&&n.scrollIntoView(dt,Rt===-1),a.show(Ue,dt)),j=Rt=>{Rt.hasAttribute("data-mce-caret")&&(Tg(Rt),n.scrollIntoView(Rt))},oe=()=>{e.on("click",dt=>{o.isEditable(dt.target)||(dt.preventDefault(),e.focus())}),e.on("blur NewBlock",Be),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",dt=>{const Ue=dt.target,Ye=N3(e,Ue);SC(Ye)?(dt.preventDefault(),d0(e,Ye).each(_e)):O(Ue)&&d0(e,Ue).each(_e)},!0),e.on("mousedown",dt=>{const Ue=dt.target;if(Ue!==r&&Ue.nodeName!=="HTML"&&!o.isChildOf(Ue,r)||!hN(e,dt.clientX,dt.clientY))return;Be(),bt();const Ye=N3(e,Ue);SC(Ye)?(dt.preventDefault(),d0(e,Ye).each(_e)):P3(r,dt.clientX,dt.clientY).each(Ot=>{dt.preventDefault();const Yt=H(1,Ot.node,Ot.position===P0.Before,!1);F(Yt),wd(Ye)?Ye.focus():e.getBody().focus()})}),e.on("keypress",dt=>{Ft.modifierPressed(dt)||SC(n.getNode())&&dt.preventDefault()}),e.on("GetSelectionRange",dt=>{let Ue=dt.range;if(v){if(!v.parentNode){v=null;return}Ue=Ue.cloneRange(),Ue.selectNode(v),dt.range=Ue}}),e.on("SetSelectionRange",dt=>{dt.range=de(dt.range);const Ue=_e(dt.range,dt.forward);Ue&&(dt.range=Ue)});const Rt=dt=>Wt(dt)&&dt.id==="mcepastebin";e.on("AfterSetSelectionRange",dt=>{const Ue=dt.range,Ye=Ue.startContainer.parentElement;!re(Ue)&&!Rt(Ye)&&bt(),C(Ye)||Be()}),fj(e),hj(e),mj(e)},le=Rt=>ka(Rt)||Uv(Rt)||_g(Rt),re=Rt=>le(Rt.startContainer)||le(Rt.endContainer),de=Rt=>{const dt=e.schema.getVoidElements(),Ue=o.createRng(),Ye=Rt.startContainer,Ot=Rt.startOffset,Yt=Rt.endContainer,zn=Rt.endOffset;return un(dt,Ye.nodeName.toLowerCase())?Ot===0?Ue.setStartBefore(Ye):Ue.setStartAfter(Ye):Ue.setStart(Ye,Ot),un(dt,Yt.nodeName.toLowerCase())?zn===0?Ue.setEndBefore(Yt):Ue.setEndAfter(Yt):Ue.setEnd(Yt,zn),Ue},Ce=(Rt,dt)=>{const Ue=pe.fromDom(e.getBody()),Ye=e.getDoc(),Ot=cg(Ue,"#"+u).getOrThunk(()=>{const Qn=pe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ye);return Zo(Qn,"id",u),fr(Ue,Qn),Qn}),Yt=o.createRng();gh(Ot),es(Ot,[pe.fromText(ei,Ye),pe.fromDom(dt),pe.fromText(ei,Ye)]),Yt.setStart(Ot.dom.firstChild,1),Yt.setEnd(Ot.dom.lastChild,0),lg(Ot,{top:o.getPos(Rt,e.getBody()).y+"px"}),K2(Ot);const zn=n.getSel();return zn&&(zn.removeAllRanges(),zn.addRange(Yt)),Yt},Ee=Rt=>{const dt=Rt.cloneNode(!0),Ue=e.dispatch("ObjectSelected",{target:Rt,targetClone:dt});if(Ue.isDefaultPrevented())return null;const Ye=Ce(Rt,Ue.targetClone),Ot=pe.fromDom(Rt);return Le(vi(pe.fromDom(e.getBody()),`*[${h}]`),Yt=>{Je(Ot,Yt)||vr(Yt,h)}),o.getAttrib(Rt,h)||Rt.setAttribute(h,"1"),v=Rt,bt(),Ye},_e=(Rt,dt)=>{if(!Rt)return null;if(Rt.collapsed){if(!re(Rt)){const Yt=dt?1:-1,zn=Vl(Yt,r,Rt),Qn=zn.getNode(!dt);if(je(Qn)){if(jg(Qn))return H(Yt,Qn,dt?!zn.isAtEnd():!1,!1);if(Pd(Qn)&&bs(Qn.nextSibling)){const Ho=o.createRng();return Ho.setStart(Qn,0),Ho.setEnd(Qn,0),Ho}}const Ro=zn.getNode(dt);if(je(Ro)){if(jg(Ro))return H(Yt,Ro,dt?!1:!zn.isAtEnd(),!1);if(Pd(Ro)&&bs(Ro.previousSibling)){const Ho=o.createRng();return Ho.setStart(Ro,1),Ho.setEnd(Ro,1),Ho}}}return null}let Ue=Rt.startContainer,Ye=Rt.startOffset;const Ot=Rt.endOffset;if(at(Ue)&&Ye===0&&SC(Ue.parentNode)&&(Ue=Ue.parentNode,Ye=o.nodeIndex(Ue),Ue=Ue.parentNode),!Wt(Ue))return null;if(Ot===Ye+1&&Ue===Rt.endContainer){const Yt=Ue.childNodes[Ye];if(O(Yt))return Ee(Yt)}return null},Be=()=>{v&&v.removeAttribute(h),cg(pe.fromDom(e.getBody()),"#"+u).each(Eo),v=null},qe=()=>{a.destroy(),v=null},bt=()=>{a.hide()};return $c(e)||oe(),{showCaret:H,showBlockCaretContainer:j,hideFakeCaret:bt,destroy:qe}},pj=(e,n)=>{let o=n;for(let r=e.previousSibling;at(r);r=r.previousSibling)o+=r.data.length;return o},I3=(e,n,o,r,a)=>{if(at(o)&&(r<0||r>o.data.length))return[];const u=a&&at(o)?[pj(o,r)]:[r];let h=o;for(;h!==n&&h.parentNode;)u.push(e.nodeIndex(h,a)),h=h.parentNode;return h===n?u.reverse():[]},$3=(e,n,o,r,a,u,h=!1)=>{const v=I3(e,n,o,r,h),C=I3(e,n,a,u,h);return{start:v,end:C}},lT=(e,n)=>{const o=n.slice(),r=o.pop();return Ze(r)?To(o,(u,h)=>u.bind(v=>K.from(v.childNodes[h])),K.some(e)).bind(u=>at(u)&&(r<0||r>u.data.length)?K.none():K.some({node:u,offset:r})):K.none()},DL=(e,n)=>lT(e,n.start).bind(({node:o,offset:r})=>lT(e,n.end).map(({node:a,offset:u})=>{const h=document.createRange();return h.setStart(o,r),h.setEnd(a,u),h})),gj=(e,n,o,r=!1)=>$3(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),M0=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,at(n.firstChild)&&Nl(n.firstChild.data)),M0(e,r,o)}},EC=(e,n,o,r=!0)=>{const a=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(at(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),at(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),M0(e,a,o),a!==u&&M0(e,u,o))},K1=(e,n)=>K.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),uT=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:si(r).concat(e.blockPatterns),inlinePatterns:Jv(r).concat(e.inlinePatterns)}},dT=(e,n,o,r)=>{const a=e.createRng();return a.setStart(n,0),a.setEnd(o,r),a.toString()},RL=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),fT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},L3=(e,n,o)=>{const r=DL(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,u=r.endContainer,h=r.endOffset===0?u:u.splitText(r.endOffset),v=r.startOffset===0?a:a.splitText(r.startOffset),C=v.parentNode,O=h.parentNode;return{prefix:n,end:O.insertBefore(RL(e,n+"-end"),h),start:C.insertBefore(RL(e,n+"-start"),v)}},PL=(e,n,o)=>{M0(e,e.get(n.prefix+"-end"),o),M0(e,e.get(n.prefix+"-start"),o)},F3=e=>e.start.length===0,vj=e=>(n,o)=>{const a=n.data.substring(0,o),u=a.lastIndexOf(e.charAt(e.length-1)),h=a.lastIndexOf(e);return h!==-1?h+e.length:u!==-1?u+1:-1},hT=(e,n,o,r)=>{const a=n.start;return Cl(e,r.container,r.offset,vj(a),o).bind(h=>{var v,C;const O=(C=(v=o.textContent)===null||v===void 0?void 0:v.indexOf(a))!==null&&C!==void 0?C:-1;if(O!==-1&&h.offset>=O+a.length){const H=e.createRng();return H.setStart(h.container,h.offset-a.length),H.setEnd(h.container,h.offset),K.some(H)}else{const H=h.offset-a.length;return j1(h.container,H,o).map(j=>{const oe=e.createRng();return oe.setStart(j.container,j.offset),oe.setEnd(h.container,h.offset),oe}).filter(j=>j.toString()===a).orThunk(()=>hT(e,n,o,ou(h.container,0)))}})},bj=(e,n,o,r,a,u=!1)=>{if(n.start.length===0&&!u){const h=e.createRng();return h.setStart(o,r),h.setEnd(o,r),K.some(h)}return C0(o,r,a).bind(h=>hT(e,n,a,h).bind(C=>{var O;if(u){if(C.endContainer===h.container&&C.endOffset===h.offset)return K.none();if(h.offset===0&&((O=C.endContainer.textContent)===null||O===void 0?void 0:O.length)===C.endOffset)return K.none()}return K.some(C)}))},yj=(e,n,o,r)=>{const a=e.dom,u=a.getRoot(),h=o.pattern,v=o.position.container,C=o.position.offset;return j1(v,C-o.pattern.end.length,n).bind(O=>{const F=$3(a,u,O.container,O.offset,v,C,r);if(F3(h))return K.some({matches:[{pattern:h,startRng:F,endRng:F}],position:O});{const H=mT(e,o.remainingPatterns,O.container,O.offset,n,r),j=H.getOr({matches:[],position:O}),oe=j.position;return bj(a,h,oe.container,oe.offset,n,H.isNone()).map(re=>{const de=gj(a,u,re,r);return{matches:j.matches.concat([{pattern:h,startRng:de,endRng:F}]),position:ou(re.startContainer,re.startOffset)}})}})},mT=(e,n,o,r,a,u)=>{const h=e.dom;return C0(o,r,h.getRoot()).bind(v=>{const C=dT(h,a,o,r);for(let O=0;O<n.length;O++){const F=n[O];if(!jc(C,F.end))continue;const H=n.slice();H.splice(O,1);const j=yj(e,a,{pattern:F,remainingPatterns:H,position:v},u);if(j.isNone()&&r>0)return mT(e,n,o,r-1,a,u);if(j.isSome())return j}return K.none()})},ML=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?Le(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},wj=(e,n,o,r)=>{const a=fT(e.dom,o);EC(e.dom,a,r),ML(e,n,a)},Cj=(e,n,o,r,a)=>{const u=e.dom,h=fT(u,r),v=fT(u,o);EC(u,v,a),EC(u,h,a);const C={prefix:o.prefix,start:o.end,end:r.start},O=fT(u,C);ML(e,n,O)},BL=(e,n)=>{const o=Qm("mce_textpattern"),r=Ya(n,(a,u)=>{const h=L3(e,o+`_end${a.length}`,u.endRng);return a.concat([{...u,endMarker:h}])},[]);return Ya(r,(a,u)=>{const h=r.length-a.length-1,v=F3(u.pattern)?u.endMarker:L3(e,o+`_start${h}`,u.startRng);return a.concat([{...u,startMarker:v}])},[])},NL=e=>is(e,(n,o)=>o.end.length-n.end.length),H3=(e,n)=>{const o=gr(e,r=>Xo(n,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},pT=(e,n,o,r,a,u)=>{const h=mT(e,a.inlinePatterns,o,r,n,u).fold(()=>[],C=>C.matches),v=mT(e,NL(a.inlinePatterns),o,r,n,u).fold(()=>[],C=>C.matches);return H3(h,v)},IL=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=BL(o,n);Le(a,u=>{const h=o.getParent(u.startMarker.start,o.isBlock),v=C=>C===h;F3(u.pattern)?wj(e,u.pattern,u.endMarker,v):Cj(e,u.pattern,u.startMarker,u.endMarker,v),PL(o,u.endMarker,v),PL(o,u.startMarker,v)}),e.selection.moveToBookmark(r)},gT=(e,n,o)=>F_(n,0,n).map(r=>{const a=r.container;return x0(a,o.start.length,n).each(u=>{const h=e.createRng();h.setStart(a,0),h.setEnd(u.container,u.offset),EC(e,h,v=>v===n)}),a}),$L=e=>(n,o)=>{const r=n.dom,a=o.pattern,u=DL(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(v,C)=>{const O=C.get(v);return Gt(O)&&Ys(O).exists(F=>un(F,"block"))};return K1(n,u).each(v=>{a.type==="block-format"?h(a.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,v,a),n.formatter.apply(a.format)}):a.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,v,a),n.execCommand(a.cmd,!1,a.value)})}),!0},xj=e=>is(e,(n,o)=>o.start.length-n.start.length),z3=e=>(n,o)=>{const r=xj(n),a=o.replace(ei," ");return Jo(r,u=>e(u,o,a))},LL=(e,n)=>(o,r,a,u,h)=>{var v;h===void 0&&(h=(v=r.textContent)!==null&&v!==void 0?v:"");const C=o.dom,O=Ui(o);return C.is(r,O)?e(a.blockPatterns,h).map(F=>n&&D.trim(h).length===F.start.length?[]:[{pattern:F,range:$3(C,C.getRoot(),r,0,r,0,u)}]).getOr([]):[]},Sj=e=>/^\s[^\s]/.test(e),Ej=$L((e,n,o)=>{gT(e,n,o).each(r=>{const a=pe.fromDom(r),u=Wa(a);Sj(u)&&gA(a,u.slice(1))})}),_j=z3((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),Tj=LL(_j,!0),Aj=(e,n)=>{const o=e.selection.getRng();return K1(e,o).map(r=>{var a;const u=Math.max(0,o.startOffset),h=uT(n,r,(a=r.textContent)!==null&&a!==void 0?a:""),v=pT(e,r,o.startContainer,u,h,!0),C=Tj(e,r,h,!0);return{inlineMatches:v,blockMatches:C}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},FL=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();Le(n,r=>Ej(e,r)),e.selection.moveToBookmark(o)},kj=$L(gT),V3=z3((e,n,o)=>n===e.start||o===e.start),Oj=LL(V3,!1),Dj=(e,n)=>{const o=e.selection.getRng();return K1(e,o).map(r=>{const a=Math.max(0,o.startOffset),u=dT(e.dom,r,o.startContainer,a),h=uT(n,r,u);return Oj(e,r,h,!1,u)}).filter(r=>r.length>0)},Rj=(e,n)=>{Le(n,o=>kj(e,o))},Pj=(e,n)=>Aj(e,n).fold(He,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{wx(e),IL(e,o),FL(e,r);const a=e.selection.getRng(),u=C0(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(h=>{const v=h.container;v.data.charAt(h.offset-1)===yd&&(v.deleteData(h.offset-1,1),M0(e.dom,v.parentNode,C=>C===e.dom.getRoot()))})}),!0)),Mj=(e,n)=>{const o=e.selection.getRng();K1(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),u=dT(e.dom,r,o.startContainer,a),h=uT(n,r,u),v=pT(e,r,o.startContainer,a,h,!1);v.length>0&&e.undoManager.transact(()=>{IL(e,v)})})},Bj=(e,n)=>Dj(e,n).fold(He,o=>(e.undoManager.transact(()=>{Rj(e,o)}),!0)),_C=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},Nj=(e,n)=>_C(e,n,(o,r)=>o===r.keyCode&&!Ft.modifierPressed(r)),Ij=(e,n)=>_C(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),$j=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>ll(KA(e),YA(e)),a=()=>Wi(e);e.on("keydown",h=>{if(h.keyCode===13&&!Ft.modifierPressed(h)&&e.selection.isCollapsed()){const v=Gy(r(),"enter");(v.inlinePatterns.length>0||v.blockPatterns.length>0||a())&&Pj(e,v)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()){const v=Gy(r(),"space");(v.blockPatterns.length>0||a())&&Bj(e,v)&&h.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const h=Gy(r(),"space");(h.inlinePatterns.length>0||a())&&Mj(e,h)}};e.on("keyup",h=>{Nj(o,h)&&u()}),e.on("keypress",h=>{Ij(n,h)&&Kl.setEditorTimeout(e,u)})},Lj=e=>{$j(e)},Fj=e=>{const n=D.each,o=Ft.BACKSPACE,r=Ft.DELETE,a=e.dom,u=e.selection,h=e.parser,v=Mt.browser,C=v.isFirefox(),O=v.isChromium()||v.isSafari(),F=Mt.deviceType.isiPhone()||Mt.deviceType.isiPad(),H=Mt.os.isMacOS()||Mt.os.isiOS(),j=(kt,ln)=>{try{e.getDoc().execCommand(kt,!1,String(ln))}catch{}},oe=kt=>kt.isDefaultPrevented(),le=()=>{const kt=Gn=>{const Bt=a.create("body"),jn=Gn.cloneContents();return Bt.appendChild(jn),u.serializer.serialize(Bt,{format:"html"})},ln=Gn=>{const Bt=kt(Gn),jn=a.createRng();jn.selectNode(e.getBody());const Zn=kt(jn);return Bt===Zn};e.on("keydown",Gn=>{const Bt=Gn.keyCode;if(!oe(Gn)&&(Bt===r||Bt===o)&&e.selection.isEditable()){const jn=e.selection.isCollapsed(),Zn=e.getBody();if(jn&&!_i(e.schema,Zn)||!jn&&!ln(e.selection.getRng()))return;Gn.preventDefault(),e.setContent(""),Zn.firstChild&&a.isBlock(Zn.firstChild)?e.selection.setCursorLocation(Zn.firstChild,0):e.selection.setCursorLocation(Zn,0),e.nodeChanged()}})},re=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},de=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",kt=>{let ln;if(kt.target===e.getDoc().documentElement)if(ln=u.getRng(),e.getBody().focus(),kt.type==="mousedown"){if(ka(ln.startContainer))return;u.placeCaretAt(kt.clientX,kt.clientY)}else u.setRng(ln)})},Ce=()=>{e.on("keydown",kt=>{if(!oe(kt)&&kt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const ln=u.getNode(),Gn=ln.previousSibling;if(ln.nodeName==="HR"){a.remove(ln),kt.preventDefault();return}Gn&&Gn.nodeName&&Gn.nodeName.toLowerCase()==="hr"&&(a.remove(Gn),kt.preventDefault())}}})},Ee=()=>{Range.prototype.getClientRects||e.on("mousedown",kt=>{if(!oe(kt)&&kt.target.nodeName==="HTML"){const ln=e.getBody();ln.blur(),Kl.setEditorTimeout(e,()=>{ln.focus()})}})},_e=()=>{const kt=oS(e);e.on("click",ln=>{const Gn=ln.target;/^(IMG|HR)$/.test(Gn.nodeName)&&a.isEditable(Gn)&&(ln.preventDefault(),e.selection.select(Gn),e.nodeChanged()),Gn.nodeName==="A"&&a.hasClass(Gn,kt)&&Gn.childNodes.length===0&&a.isEditable(Gn.parentNode)&&(ln.preventDefault(),u.select(Gn))})},Be=()=>{const kt=()=>{const Gn=a.getAttribs(u.getStart().cloneNode(!1));return()=>{const Bt=u.getStart();Bt!==e.getBody()&&(a.setAttrib(Bt,"style",null),n(Gn,jn=>{Bt.setAttributeNode(jn.cloneNode(!0))}))}},ln=()=>!u.isCollapsed()&&a.getParent(u.getStart(),a.isBlock)!==a.getParent(u.getEnd(),a.isBlock);e.on("keypress",Gn=>{let Bt;return!oe(Gn)&&(Gn.keyCode===8||Gn.keyCode===46)&&ln()?(Bt=kt(),e.getDoc().execCommand("delete",!1),Bt(),Gn.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Gn=>{if(!oe(Gn)&&ln()){const Bt=kt();Kl.setEditorTimeout(e,()=>{Bt()})}})},qe=()=>{e.on("keydown",kt=>{if(!oe(kt)&&kt.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const ln=u.getNode().previousSibling;if(ln&&ln.nodeName&&ln.nodeName.toLowerCase()==="table")return kt.preventDefault(),!1}return!0})},bt=()=>{e.on("keydown",kt=>{if(oe(kt)||kt.keyCode!==Ft.BACKSPACE)return;let ln=u.getRng();const Gn=ln.startContainer,Bt=ln.startOffset,jn=a.getRoot();let Zn=Gn;if(!(!ln.collapsed||Bt!==0)){for(;Zn.parentNode&&Zn.parentNode.firstChild===Zn&&Zn.parentNode!==jn;)Zn=Zn.parentNode;Zn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zn),ln=a.createRng(),ln.setStart(Gn,0),ln.setEnd(Gn,0),u.setRng(ln))}})},Rt=()=>{const kt=()=>{j("StyleWithCSS",!1),j("enableInlineTableEditing",!1),Yx(e)||j("enableObjectResizing",!1)};i2(e)||e.on("BeforeExecCommand mousedown",kt)},dt=()=>{const kt=()=>{n(a.select("a:not([data-mce-block])"),ln=>{var Gn;let Bt=ln.parentNode;const jn=a.getRoot();if((Bt==null?void 0:Bt.lastChild)===ln){for(;Bt&&!a.isBlock(Bt);){if(((Gn=Bt.parentNode)===null||Gn===void 0?void 0:Gn.lastChild)!==Bt||Bt===jn)return;Bt=Bt.parentNode}a.add(Bt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ln=>{(ln.type==="setcontent"||ln.command==="mceInsertLink")&&kt()})},Ue=()=>{e.on("init",()=>{j("DefaultParagraphSeparator",Ui(e))})},Ye=kt=>{const ln=kt.getBody(),Gn=kt.selection.getRng();return Gn.startContainer===Gn.endContainer&&Gn.startContainer===ln&&Gn.startOffset===0&&Gn.endOffset===ln.childNodes.length},Ot=()=>{e.on("keyup focusin mouseup",kt=>{!Ft.modifierPressed(kt)&&!Ye(e)&&u.normalize()},!0)},Yt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},zn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Qn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",kt=>{let ln;kt.target.nodeName==="HTML"&&(ln=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ln),e.selection.normalize(),e.nodeChanged())}))},Ro=()=>{H&&e.on("keydown",kt=>{Ft.metaKeyPressed(kt)&&!kt.shiftKey&&(kt.keyCode===37||kt.keyCode===39)&&(kt.preventDefault(),e.selection.getSel().modify("move",kt.keyCode===37?"backward":"forward","lineboundary"))})},Ho=()=>{e.on("click",kt=>{let ln=kt.target;do if(ln.tagName==="A"){kt.preventDefault();return}while(ln=ln.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},cs=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",kt=>{kt.preventDefault()})})},Ri=()=>{h.addNodeFilter("br",kt=>{let ln=kt.length;for(;ln--;)kt[ln].attr("class")==="Apple-interchange-newline"&&kt[ln].remove()})},zo=wt,Tt=()=>{if(!C||e.removed)return!1;const kt=e.selection.getSel();return!kt||!kt.rangeCount||kt.rangeCount===0},Kt=()=>{O&&(de(),_e(),cs(),re(),F&&(zn(),Qn(),Ho())),C&&(Ee(),Rt(),Yt(),Ro())},to=()=>{bt(),le(),Mt.windowsPhone||Ot(),O&&(de(),_e(),Ue(),cs(),qe(),Ri(),F?(zn(),Qn(),Ho()):re()),C&&(Ce(),Ee(),Be(),Rt(),dt(),Yt(),Ro(),qe())};return $c(e)?Kt():to(),{refreshContentEditable:zo,isHidden:Tt}},Hj=e=>e.toLowerCase()==="gpl",zj=e=>e.length>=64&&e.length<=255,Vj=e=>Hj(e)||zj(e)?"VALID":"INVALID",Uj=e=>{const n=sa(e);!ue(Vg(e))&&(Cn(n)||Vj(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},vT=Ko.DOM,Wj=(e,n)=>{const o=pe.fromDom(e.getBody()),r=pv(vd(o)),a=pe.fromTag("style");Zo(a,"type","text/css"),fr(a,pe.fromText(n)),fr(r,a),e.on("remove",()=>{Eo(a)})},HL=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,U3=e=>as(e,n=>Cn(n)===!1),zL=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return U3({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:HL(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:mp(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},W3=e=>{const n=e.options.get;return U3({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},TC=e=>{const n=e.options.get;return{...zL(e),...W3(e),...U3({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},jj=e=>{const n=Gi(zL(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,u="data-mce-"+r;let h=o.length;for(;h--;){const v=o[h];let C=v.attr(r);if(C&&!v.attr(u)){if(C.indexOf("data:")===0||C.indexOf("blob:")===0)continue;r==="style"?(C=a.serializeStyle(a.parseStyle(C),v.name),C.length||(C=null),v.attr(u,C),v.attr(r,C)):r==="tabindex"?(v.attr(u,C),v.attr(r,null)):v.attr(u,e.convertURL(C,r,v.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],u=a.attr("type")||"no/type";u.indexOf("mce-")!==0&&a.attr("type","mce-"+u)}}),zg(e)&&n.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const u=o[a];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(a)&&u.getAll("br").length===0&&u.append(new Da("br",1))}}),n},VL=e=>{const n=ZA(e);n&&Kl.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Zj=e=>{const n=e.dom.getRoot();!e.inline&&(!t1(e)||e.selection.getStart(!0)===n)&&ji(n).each(o=>{const r=o.getNode(),a=wr(r)?ji(r).getOr(o):o;e.selection.setRng(a.toRange())})},qj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,L2(e),e.focus(!0),Zj(e),e.nodeChanged({initial:!0});const n=rS(e);ye(n)&&n.call(e,e),VL(e)},j3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Gj=(e,n,o)=>{const{pass:r,fail:a}=Nr(n,v=>tinymce.Resource.has(F4(v))),h=[...r.map(v=>{const C=tinymce.Resource.get(F4(v));return ue(C)?Promise.resolve(j3(e).loadRawCss(v,C)):Promise.resolve()}),j3(e).loadAll(a)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},Z3=e=>{const n=j3(e),o=Kx(e),r=e.contentCSS,a=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let C="";D.each(e.contentStyles,O=>{C+=O+`\r
`}),e.dom.addStyle(C)}const h=Promise.all(Gj(e,r,o)).then(u).catch(u),v=Uh(e);return v&&Wj(e,v),h},Kj=e=>{const n=e.getDoc(),o=e.getBody();$2(e),sb(e)||(n.body.spellcheck=!1,vT.setAttrib(o,"spellcheck","false")),e.quirks=Fj(e),kk(e);const r=IA(e);r!==void 0&&(o.dir=r);const a=iS(e);a&&e.on("BeforeSetContent",u=>{D.each(a,h=>{u.content=u.content.replace(h,v=>"<!--mce:protected "+escape(v)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},UL=e=>{$c(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},q3=e=>{e.removed!==!0&&(UL(e),qj(e))},Yj=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},WL=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(vT.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=i2(e),e._editableRoot=VA(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&vT.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=pz(e),e.schema=xd(W3(e)),e.dom=Ko(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:BA(e),referrerPolicy:n2(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=jj(e),e.serializer=B4(TC(e),e),e.selection=B1(e.dom,e.getWin(),e.serializer,e),e.annotator=Pc(e),e.formatter=z4(e),e.undoManager=U4(e),e._nodeChangeDispatcher=new E5(e),e._selectionOverrides=gK(e),NI(e),LW(e),MV(e),$c(e)||(WW(e),Lj(e));const a=h3(e);wD(e,a),$I(e),vz(e),aL(e);const u=NG(e);Kj(e),Uj(e),u.fold(()=>{const h=Yj(e);Z3(e).then(()=>{q3(e),h()})},h=>{e.setProgressState(!0),Z3(e).then(()=>{h().then(v=>{e.setProgressState(!1),q3(e),XB(e)},v=>{e.notificationManager.open({type:"error",text:String(v)}),q3(e),XB(e)})})})},Xj=ht,Jj=(e,n,o)=>wv(e,n,Xj,o),G3=Ko.DOM,Qj=(e,n,o,r)=>{const a=pe.fromTag("iframe");return r.each(u=>Zo(a,"tabindex",u)),xi(a,o),xi(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),hu(a,"tox-edit-area__iframe"),a},eZ=e=>{let n=Qy(e)+"<html><head>";Hx(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=zx(e),r=RA(e),a=e.translate(sS(e));return Ig(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Ig(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,n},tZ=(e,n)=>{const o=e.translate("Rich Text Area"),r=bc(pe.fromDom(e.getElement()),"tabindex").bind(Zc),a=Qj(e.id,o,DA(e),r).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=a,e.iframeHTML=eZ(e),G3.add(n.iframeContainer,a)},jL=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,WL(e)};if(mS(e)||Mt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=Jj(pe.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},K3=(e,n)=>{tZ(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=G3.isHidden(n.editorContainer)),e.getElement().style.display="none",G3.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,jL(e)},Y3=Ko.DOM,ZL=(e,n,o)=>{const r=Iw.get(o),a=Iw.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=D.trim(o),r&&D.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,a)||{};e.plugins[o]=u,ye(u.init)&&(u.init(e,a),n.push(o))}catch(u){oz(e,o,u)}}},nZ=e=>e.replace(/^\-/,""),oZ=e=>{const n=[];Le(Fg(e),o=>{ZL(e,n,nZ(o))})},sZ=e=>{const n=D.trim(xr(e)),o=e.ui.registry.getAll().icons,r={...Ma.get("default").icons,...Ma.get(n).icons};Dt(r,(a,u)=>{un(o,u)||e.ui.registry.addIcon(u,a)})},qL=e=>{const n=up(e);if(ue(n)){const o=I1.get(n);e.theme=o(e,I1.urls[n])||{},ye(e.theme.init)&&e.theme.init(e,I1.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},GL=e=>{const n=r2(e),o=Hf.get(n);e.model=o(e,Hf.urls[n])},rZ=e=>{const n=e.theme.renderUI;return n?n():AC(e)},iZ=e=>{const n=e.getElement(),r=up(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},bT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),yT=e=>{const n=Y3.create("div");return Y3.insertAfter(n,e),bT(n,n)},AC=e=>{const n=e.getElement();return e.inline?bT(null):yT(n)},pm=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ue(up(e))?rZ(e):ye(up(e))?iZ(e):AC(e)},wT=(e,n)=>{const o={show:K.from(n.show).getOr(wt),hide:K.from(n.hide).getOr(wt),isEnabled:K.from(n.isEnabled).getOr(ht),setEnabled:r=>{e.mode.isReadOnly()||K.from(n.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...o}},B0=async e=>{e.dispatch("ScriptsLoaded"),sZ(e),qL(e),GL(e),oZ(e);const n=await pm(e);wT(e,K.from(n.api).getOr({})),e.editorContainer=n.editorContainer,az(e),e.inline?WL(e):K3(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Vp=Ko.DOM,KL=e=>e.charAt(0)==="-",aZ=(e,n)=>{const o=qx(n),r=NA(n);if(!Rr.hasCode(o)&&o!=="en"){const a=Uo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{yN(n,a,o)})}},YL=(e,n)=>{const o=up(e);if(ue(o)&&!KL(o)&&!un(I1.urls,o)){const r=LA(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;I1.load(o,a).catch(()=>{wN(e,a,o)})}},cZ=(e,n)=>{const o=r2(e);if(o!=="plugin"&&!un(Hf.urls,o)){const r=ul(e),a=ue(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;Hf.load(o,a).catch(()=>{CN(e,a,o)})}},X3=e=>K.from(Wx(e)).filter(Uo).map(n=>({url:n,name:K.none()})),kC=(e,n,o)=>K.from(n).filter(r=>Uo(r)&&!Ma.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:K.some(r)})),Up=(e,n,o)=>{const r=kC(n,"default",o),a=X3(n).orThunk(()=>kC(n,xr(n),""));Le(X([r,a]),u=>{e.add(u.url).catch(()=>{nz(n,u.url,u.name.getOrUndefined())})})},Y1=(e,n)=>{const o=(r,a)=>{Iw.load(r,a).catch(()=>{Lw(e,a,r)})};Dt(tS(e),(r,a)=>{o(a,r),e.options.set("plugins",Fg(e).concat(a))}),Le(Fg(e),r=>{r=D.trim(r),r&&!Iw.urls[r]&&!KL(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},XL=e=>{const n=up(e);return!ue(n)||je(I1.get(n))},lZ=e=>{const n=r2(e);return je(Hf.get(n))},uZ=(e,n)=>{const o=Va.ScriptLoader,r=()=>{!e.removed&&XL(e)&&lZ(e)&&B0(e)};YL(e,n),cZ(e,n),aZ(o,e),Up(o,e,n),Y1(e,n),o.loadQueue().then(r,r)},dZ=(e,n)=>Cu.forElement(e,{contentCssCors:eS(n),referrerPolicy:n2(n)}),fZ=e=>{const n=e.id;Rr.setCode(qx(e));const o=()=>{Vp.unbind(window,"ready",o),e.render()};if(!_d.Event.domLoaded){Vp.bind(window,"ready",o);return}if(!e.getElement())return;const r=pe.fromDom(e.getElement()),a=Rl(r);e.on("remove",()=>{di(r.dom.attributes,h=>vr(r,h.name)),xi(r,a)}),e.ui.styleSheetLoader=dZ(r,e),jh(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||Vp.getParent(n,"form");u&&(e.formElement=u,dl(e)&&!Ur(e.getElement())&&(Vp.insertAfter(Vp.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},Vp.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),dp(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=vN(e),e.notificationManager=n_(e),ek(e)&&e.on("GetContent",h=>{h.save&&(h.content=Vp.encode(h.content))}),FA(e)&&e.on("submit",()=>{e.initialized&&e.save()}),Qx(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),uZ(e,e.suffix)},hZ=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Rk(e,n))},mZ=e=>e._editableRoot,JL=(e,n)=>({sections:st(e),options:st(n)}),QL=oc().deviceType,eF=QL.isPhone(),pZ=QL.isTablet(),CT=e=>{if(Sn(e))return[];{const n=Gt(e)?e:e.split(/[ ,]/),o=Tn(n,Qa);return Jt(o,Uo)}},gZ=(e,n)=>{const o=$r(n,(r,a)=>An(e,a));return JL(o.t,o.f)},J3=(e,n,o={})=>{const r=e.sections(),a=Qo(r,n).getOr({});return D.extend({},o,a)},Q3=(e,n)=>un(e.sections(),n),vZ=(e,n)=>Q3(e,n)?e.sections()[n]:{},tF=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Qo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),bZ=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?D.extend({},e.external_plugins,r):r},nF=(e,n)=>[...CT(e),...CT(n)],yZ=(e,n,o,r)=>e&&Q3(n,"mobile")?r:o,eR=(e,n,o,r)=>{const a=CT(o.forced_plugins),u=CT(r.plugins),h=vZ(n,"mobile"),v=h.plugins?CT(h.plugins):u,C=yZ(e,n,u,v),O=nF(a,C);return D.extend(r,{forced_plugins:a,plugins:O})},wZ=(e,n)=>e&&Q3(n,"mobile"),CZ=(e,n,o,r,a)=>{var u;const h=e?{mobile:tF((u=a.mobile)!==null&&u!==void 0?u:{},n)}:{},v=gZ(["mobile"],oC(h,a)),C=D.extend(o,r,v.options(),wZ(e,v)?J3(v,"mobile"):{},{external_plugins:bZ(r,v.options())});return eR(e,v,r,C)},xZ=(e,n)=>CZ(eF||pZ,eF,n,e,n),SZ=(e,n)=>T8(e,n),oF=e=>{const n=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{Le("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},tR=e=>{const n=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Xo(a,u=>je(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},sF=e=>{oF(e),tR(e)},nR=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mt.os.isMacOS()||Mt.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},EZ=(e,n,o,r)=>{const a=pe.fromDom(e.getRoot());return Wb(a,Ve.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),jb(a,Ve.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},bK=e=>{if(typeof e!="string"){const n=D.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},yK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?EZ(r,o.getRng(),n,e.schema):n},xT=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=bK(n);GE(e,{...r,content:yK(e,o),format:"html",set:!1,selection:!0}).each(a=>{const u=YB(e,a.content,r);P1(e,u,a),e.addVisual()})}},rF=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{xT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{xT(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{xT(e,r)},mceInsertContent:(n,o,r)=>{xT(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(cS(e))}})},_Z={"font-size":"size","font-family":"face"},TZ=$a("font"),AZ=(e,n,o)=>{const r=u=>Hi(u,e).orThunk(()=>TZ(u)?Qo(_Z,e).bind(h=>bc(u,h)):K.none()),a=u=>Je(pe.fromDom(n),u);return VO(pe.fromDom(o),u=>r(u),a)},wK=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),CK=(e,n)=>K.from(Ko.DOM.getStyle(n,e,!0)),oR=e=>(n,o)=>K.from(o).map(pe.fromDom).filter(dr).bind(r=>AZ(e,n,r.dom).or(CK(e,r.dom))).getOr(""),iF=oR("font-size"),kZ=P(wK,oR("font-family")),OZ=e=>ji(e.getBody()).bind(n=>{const o=n.container();return K.from(at(o)?o.parentNode:o)}),DZ=e=>K.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?K.none():K.from(e.selection.getStart(!0))}),xK=(e,n)=>DZ(e).orThunk(Ge(OZ,e)).map(pe.fromDom).filter(dr).bind(n),aF=(e,n)=>xK(e,yn(K.some,n)),RZ=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=QA(e),a=fp(e);return a.length>0?a[o-1]||n:r[o-1]||n}else return n}else return n},PZ=e=>{const n=e.split(/\s*,\s*/);return Tn(n,o=>o.indexOf(" ")!==-1&&!(Bs(o,'"')||Bs(o,"'"))?`'${o}'`:o).join(",")},SK=(e,n)=>{const o=RZ(e,n);e.formatter.toggle("fontname",{value:PZ(o)}),e.nodeChanged()},MZ=e=>aF(e,n=>kZ(e.getBody(),n.dom)).getOr(""),X1=(e,n)=>{e.formatter.toggle("fontsize",{value:RZ(e,n)}),e.nodeChanged()},sR=e=>aF(e,n=>iF(e.getBody(),n.dom)).getOr(""),ST=e=>aF(e,n=>{const o=pe.fromDom(e.getBody()),r=VO(n,u=>Hi(u,"line-height"),Ge(Je,o)),a=()=>{const u=parseFloat(gu(n,"line-height")),h=parseFloat(gu(n,"font-size"));return String(u/h)};return r.getOrThunk(a)}).getOr(""),cF=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},lF=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,a)=>{n(o,{value:a})},BackColor:(o,r,a)=>{n("hilitecolor",{value:a})},FontName:(o,r,a)=>{SK(e,a)},FontSize:(o,r,a)=>{X1(e,a)},LineHeight:(o,r,a)=>{cF(e,a)},Lang:(o,r,a)=>{var u;n(o,{value:a.code,customValue:(u=a.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,a)=>{n(ue(a)?a:"p")},mceToggleFormat:(o,r,a)=>{n(a)}})},uF=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>MZ(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>sR(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ST(e))},BZ=e=>{lF(e),uF(e)},NZ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},IZ=e=>{e.editorCommands.addCommands({Indent:()=>{AV(e)},Outdent:()=>{RI(e)}}),e.editorCommands.addCommands({Outdent:()=>kI(e)},"state")},$Z=e=>{const n=(o,r,a)=>{const u=ue(a)?{href:a}:a,h=e.dom.getParent(e.selection.getNode(),"a");mt(u)&&ue(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!h||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},Wp=(e,n,o,r)=>{const a=e.dom,u=v=>a.isBlock(v)&&v.parentElement===o,h=u(n)?n:a.getParent(r,u,o);return K.from(h).map(pe.fromDom)},dF=(e,n)=>{const o=e.dom,r=e.selection.getRng(),a=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,h=Hp(o,u);if(!h||!h.isContentEditable)return;const v=n?Si:bd,C=Ui(e);Wp(e,a,h,u).each(O=>{const F=a5(e,u,O.dom,h,!1,C);v(O,pe.fromDom(F)),e.selection.setCursorLocation(F,0),e.dispatch("NewBlock",{newBlock:F}),lC(e,"insertParagraph")})},fF=e=>dF(e,!0),LZ=e=>dF(e,!1),ET=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{fF(e)},InsertNewBlockAfter:()=>{LZ(e)}})},FZ=e=>{e.editorCommands.addCommands({insertParagraph:()=>{K_(d5,e)},mceInsertNewLine:(n,o,r)=>{a3(e,r)},InsertLineBreak:(n,o,r)=>{K_(f5,e)}})},HZ=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),u=>Wt(u)&&a++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),kr);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},zZ=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{H6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},hF=e=>{sF(e),nR(e),NZ(e),HZ(e),rF(e),$Z(e),IZ(e),ET(e),FZ(e),BZ(e),zZ(e)},VZ=["toggleview"],mF=e=>An(VZ,e.toLowerCase());class pF{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,a){const u=this.editor,h=n.toLowerCase(),v=a==null?void 0:a.skip_focus;if(u.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!v?u.focus():JR(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const O=this.commands.exec[h];return ye(O)?(O(h,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!mF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ye(r)?r(o):!1}queryCommandValue(n){if(!mF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ye(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Dt(n,(a,u)=>{Le(u.toLowerCase().split(","),h=>{r[o][h]=a})})}addCommand(n,o,r){const a=n.toLowerCase();this.commands.exec[a]=(u,h,v)=>o.call(r??this.editor,h,v)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const gm="data-mce-contenteditable",UZ=(e,n,o)=>{gd(e,n)&&!o?Yc(e,n):o&&hu(e,n)},rR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},mr=(e,n)=>{e.dom.contentEditable=n?"true":"false"},WZ=e=>{Le(vi(e,'*[contenteditable="true"]'),n=>{Zo(n,gm,"true"),mr(n,!1)})},jZ=e=>{Le(vi(e,`*[${gm}="true"]`),n=>{vr(n,gm),mr(n,!0)})},iR=e=>{K.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},gF=e=>{e.selection.setRng(e.selection.getRng())},aR=(e,n)=>{const o=pe.fromDom(e.getBody());UZ(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),iR(e),e.readonly=!0,mr(o,!1),WZ(o)):(e.readonly=!1,e.hasEditableRoot()&&mr(o,!0),jZ(o),rR(e,"StyleWithCSS",!1),rR(e,"enableInlineTableEditing",!1),rR(e,"enableObjectResizing",!1),oP(e)&&e.focus(),gF(e),e.nodeChanged())},J1=e=>e.readonly,vF=e=>{e.parser.addAttributeFilter("contenteditable",n=>{J1(e)&&Le(n,o=>{o.attr(gm,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(gm,n=>{J1(e)&&Le(n,o=>{o.attr("contenteditable",o.attr(gm))})}),e.serializer.addTempAttr(gm)},ZZ=e=>{e.serializer?vF(e):e.on("PreInit",()=>{vF(e)})},qZ=e=>e.type==="click",GZ=["copy"],KZ=e=>An(GZ,e.type),YZ=(e,n)=>uf(n,"a",r=>Je(r,pe.fromDom(e.getBody()))).bind(r=>bc(r,"href")),XZ=(e,n)=>{if(qZ(n)&&!Ft.metaKeyPressed(n)){const o=pe.fromDom(n.target);YZ(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${hd(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else KZ(n)&&e.dispatch(n.type,n)},N0=e=>{e.on("ShowCaret",n=>{J1(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{J1(e)&&n.preventDefault()})},ef=D.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class cR{static isNative(n){return!!ef[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),a=Hl(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const u=this.bindings[r];if(u)for(let h=0,v=u.length;h<v;h++){const C=u[h];if(!C.removed){if(C.once&&this.off(r,C.func),a.isImmediatePropagationStopped())return a;if(C.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(n,o,r,a){if(o===!1&&(o=He),o){const u={func:o,removed:!1};a&&D.extend(u,a);const h=n.toLowerCase().split(" ");let v=h.length;for(;v--;){const C=h[v];let O=this.bindings[C];O||(O=[],this.toggleEvent(C,!0)),r?O=[u,...O]:O=[...O,u],this.bindings[C]=O}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let a=r.length;for(;a--;){const u=r[a];let h=this.bindings[u];if(!u)return Dt(this.bindings,(v,C)=>{this.toggleEvent(C,!1),delete this.bindings[C]}),this;if(h){if(!o)h.length=0;else{const v=Nr(h,C=>C.func===o);h=v.fail,this.bindings[u]=h,Le(v.pass,C=>{C.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else Dt(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const OC=e=>(e._eventDispatcher||(e._eventDispatcher=new cR({scope:e,toggleEvent:(n,o)=>{cR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),lR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Hl(e.toLowerCase(),n??{},r);const a=OC(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!a.isPropagationStopped();)u.dispatch(e,a,!1),u=u.parent?u.parent():void 0}return a},on(e,n,o){return OC(this).on(e,n,o)},off(e,n){return OC(this).off(e,n)},once(e,n){return OC(this).once(e,n)},hasEventListeners(e){return OC(this).has(e)}},_T=Ko.DOM;let Q1;const TT=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Wh(e);return o?(e.eventRoot||(e.eventRoot=_T.select(o)[0]),e.eventRoot):e.getBody()},JZ=e=>!e.hidden&&!J1(e),bF=(e,n,o)=>{JZ(e)?e.dispatch(n,o):J1(e)&&XZ(e,o)},yF=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=TT(e,n);if(Wh(e)){if(Q1||(Q1={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Q1&&(Dt(Q1,(a,u)=>{e.dom.unbind(TT(e,u))}),Q1=null)})),Q1[n])return;const r=a=>{const u=a.target,h=e.editorManager.get();let v=h.length;for(;v--;){const C=h[v].getBody();(C===u||_T.isChildOf(u,C))&&bF(h[v],n,a)}};Q1[n]=r,_T.bind(o,n,r)}else{const r=a=>{bF(e,n,a)};_T.bind(o,n,r),e.delegates[n]=r}},QZ={...lR,bindPendingEventDelegates(){const e=this;D.each(e._pendingNativeEvents,n=>{yF(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?yF(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(TT(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Dt(e.delegates,(r,a)=>{e.dom.unbind(TT(e,a),a,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},eq=e=>ue(e)?{value:e.split(/[ ,]/),valid:!0}:Vt(e,ue)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},tq=e=>{const n=(()=>{switch(e){case"array":return Gt;case"boolean":return mn;case"function":return ye;case"number":return Ze;case"object":return mt;case"string":return ue;case"string[]":return eq;case"object[]":return o=>Vt(o,mt);case"regexp":return o=>nn(o,RegExp);default:return ht}})();return o=>uR(o,n,`The value must be a ${e}.`)},nq=e=>ue(e.processor),wF=(e,n)=>{const o=Ii(n.message)?"":`. ${n.message}`;return e+o},CF=e=>e.valid,uR=(e,n,o="")=>{const r=n(e);return mn(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},EK=(e,n,o)=>{if(!Cn(n)){const r=uR(n,o);if(CF(r))return r.value;console.error(wF(`Invalid default value passed for the "${e}" option`,r))}},oq=(e,n)=>{const o={},r={},a=(H,j,oe)=>{const le=uR(j,oe);return CF(le)?(r[H]=le.value,!0):(console.warn(wF(`Invalid value passed for the ${H} option`,le)),!1)},u=(H,j)=>{const oe=nq(j)?tq(j.processor):j.processor,le=EK(H,j.default,oe);o[H]={...j,default:le,processor:oe},Qo(r,H).orThunk(()=>Qo(n,H)).each(de=>a(H,de,oe))},h=H=>un(o,H);return{register:u,isRegistered:h,get:H=>Qo(r,H).orThunk(()=>Qo(o,H).map(j=>j.default)).getOrUndefined(),set:(H,j)=>{if(h(H)){const oe=o[H];return oe.immutable?(console.error(`"${H}" is an immutable option and cannot be updated`),!1):a(H,j,oe.processor)}else return console.warn(`"${H}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:H=>{const j=h(H);return j&&delete r[H],j},isSet:H=>un(r,H)}},sq=["design","readonly"],xF=(e,n,o,r)=>{const a=o[n.get()],u=o[r];try{u.activate()}catch(h){console.error(`problem while activating editor mode ${r}:`,h);return}a.deactivate(),a.editorReadOnly!==u.editorReadOnly&&aR(e,u.editorReadOnly),n.set(r),ro(e,r)},rq=(e,n,o,r)=>{if(r!==o.get()){if(!un(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?xF(e,o,n,r):e.on("init",()=>xF(e,o,n,r))}},iq=(e,n,o)=>{if(An(sq,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},aq=e=>{const n=or("design"),o=or({design:{activate:wt,deactivate:wt,editorReadOnly:!1},readonly:{activate:wt,deactivate:wt,editorReadOnly:!0}});return ZZ(e),N0(e),{isReadOnly:()=>J1(e),set:r=>rq(e,o.get(),n,r),get:()=>n.get(),register:(r,a)=>{o.set(iq(o.get(),r,a))}}},dR=D.each,fR=D.explode,cq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},SF=D.makeMap("alt,ctrl,shift,meta,access"),lq=e=>e in SF,uq=e=>{const n={},o=Mt.os.isMacOS()||Mt.os.isiOS();dR(fR(e.toLowerCase(),"+"),u=>{lq(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=cq[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let a;for(a in SF)n[a]?r.push(a):n[a]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class EF{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(dR(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,a){const u=this,h=u.normalizeCommandFunc(r);return dR(fR(D.trim(n)),v=>{const C=u.createShortcut(v,o,h,a);u.shortcuts[C.id]=C}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:D.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,a){const u=D.map(fR(n,">"),uq);return u[u.length-1]=D.extend(u[u.length-1],{func:r,scope:a||this.editor}),D.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const dq=()=>{const e={},n={},o={},r={},a={},u={},h={},v={},C=(F,H)=>(j,oe)=>{F[j.toLowerCase()]={...oe,type:H}},O=(F,H)=>r[F.toLowerCase()]=H;return{addButton:C(e,"button"),addGroupToolbarButton:C(e,"grouptoolbarbutton"),addToggleButton:C(e,"togglebutton"),addMenuButton:C(e,"menubutton"),addSplitButton:C(e,"splitbutton"),addMenuItem:C(n,"menuitem"),addNestedMenuItem:C(n,"nestedmenuitem"),addToggleMenuItem:C(n,"togglemenuitem"),addAutocompleter:C(o,"autocompleter"),addContextMenu:C(a,"contextmenu"),addContextToolbar:C(u,"contexttoolbar"),addContextForm:C(u,"contextform"),addSidebar:C(h,"sidebar"),addView:C(v,"views"),addIcon:O,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:a,contextToolbars:u,sidebars:h,views:v})}},fq=()=>{const e=dq();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},ev=Ko.DOM,hR=D.extend,hq=D.each;class AT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,hR(this,QZ);const a=this;this.id=n,this.hidden=!1;const u=xZ(r.defaultOptions,o);this.options=oq(a,u),OA(a);const h=this.options.get;h("deprecation_warnings")&&K8(o,u);const v=h("suffix");v&&(r.suffix=v),this.suffix=r.suffix;const C=h("base_url");C&&r._setBaseUrl(C),this.baseUri=r.baseURI;const O=n2(a);O&&(Va.ScriptLoader._setReferrerPolicy(O),Ko.DOM.styleSheetLoader._setReferrerPolicy(O));const F=eS(a);je(F)&&Ko.DOM.styleSheetLoader._setContentCssCors(F),zi.languageLoad=h("language_load"),zi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ku(Hx(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=jh(a),this.hasVisual=UA(a),this.shortcuts=new EF(this),this.editorCommands=new pF(this),hF(this);const H=h("cache_suffix");H&&(Mt.cacheSuffix=H.replace(/^[\?\&]+/,"")),this.ui={registry:fq(),styleSheetLoader:void 0,show:wt,hide:wt,setEnabled:wt,isEnabled:ht},this.mode=aq(a),r.dispatch("SetupEditor",{editor:this});const j=a2(a);ye(j)&&j.call(a,a)}render(){fZ(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return p1(this)}translate(n){return Rr.translate(n)}getParam(n,o,r){const a=this.options;return a.isRegistered(n)||(je(r)?a.register(n,{processor:r,default:o}):a.register(n,{processor:ht,default:o})),!a.isSet(n)&&!Cn(o)?o:a.get(n)}hasPlugin(n,o){return An(Fg(this),n)?o?Iw.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,a){this.shortcuts.add(n,o,r,a)}execCommand(n,o,r,a){return this.editorCommands.execCommand(n,o,r,a)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(ev.show(n.getContainer()),ev.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(ev.hide(n.getContainer()),ev.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...n,load:!0},u=Ur(r)?r.value:r.innerHTML,h=o.setContent(u,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),h}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...n,save:!0,element:r};let u=o.getContent(a);const h={...a,content:u};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),u=h.content,Ur(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const v=ev.getParent(o.id,"form");v&&hq(v.elements,C=>C.name===o.id?(C.value=u,!1):!0)}return h.element=a.element=r=null,h.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return N4(this,n,o)}getContent(n){return F8(this,n)}insertContent(n,o){o&&(n=hR({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?N4(this,this.startContent,{format:"raw"}):N4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||ev.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=ev.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const a=this,u=a.options.get,h=jA(a);if(ye(h))return h.call(a,n,r,!0,o);if(!u("convert_urls")||r==="link"||mt(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const v=new Ku(n);return v.protocol!=="http"&&v.protocol!=="https"&&v.protocol!==""?n:u("relative_urls")?a.documentBaseURI.toRelative(n):(n=a.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){SZ(this,n)}setEditableRoot(n){hZ(this,n)}hasEditableRoot(){return mZ(this)}remove(){Q8(this)}destroy(n){uN(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const I0=Ko.DOM,kT=D.each;let _F=!1,OT,dc=[];const DT=e=>{const n=e.type;kT(jp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},mR=e=>{if(e!==_F){const n=Ko.DOM;e?(n.bind(window,"resize",DT),n.bind(window,"scroll",DT)):(n.unbind(window,"resize",DT),n.unbind(window,"scroll",DT)),_F=e}},TF=e=>{const n=dc;return dc=Jt(dc,o=>e!==o),jp.activeEditor===e&&(jp.activeEditor=dc.length>0?dc[0]:null),jp.focusedEditor===e&&(jp.focusedEditor=null),n.length!==dc.length},mq=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(TF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},pq=document.compatMode!=="CSS1Compat",jp={...lR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"0.1",releaseDate:"2024-04-10",i18n:Rr,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Ku.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)n=a.base||a.baseURL,o=a.suffix;else{const u=document.getElementsByTagName("script");for(let h=0;h<u.length;h++){const v=u[h].src||"";if(v==="")continue;const C=v.substring(v.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(v)){C.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new Ku(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Ku(e.baseURL),e.suffix=o,M6(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Dt(r,(a,u)=>{zi.PluginManager.urls[u]=a})},init(e){const n=this;let o;const r=D.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(F,H)=>F.inline&&H.tagName.toLowerCase()in r,u=F=>{let H=F.id;return H||(H=Qo(F,"name").filter(j=>!I0.get(j)).getOrThunk(I0.uniqueId),F.setAttribute("id",H)),H},h=F=>{const H=e[F];if(H)return H.apply(n,[])},v=F=>Mt.browser.isIE()||Mt.browser.isEdge()?(s_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):pq?(s_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ue(F.selector)?I0.select(F.selector):je(F.target)?[F.target]:[];let C=F=>{o=F};const O=()=>{let F=0;const H=[];let j;const oe=(le,re,de)=>{const Ce=new AT(le,re,n);H.push(Ce),Ce.on("init",()=>{++F===j.length&&C(H)}),Ce.targetElm=Ce.targetElm||de,Ce.render()};I0.unbind(window,"ready",O),h("onpageload"),j=af(v(e)),D.each(j,le=>{mq(n.get(le.id))}),j=D.grep(j,le=>!n.get(le.id)),j.length===0?C([]):kT(j,le=>{a(e,le)?s_("Could not initialize inline editor on invalid inline target element",le):oe(u(le),e,le)})};return I0.bind(window,"ready",O),new Promise(F=>{o?F(o):C=H=>{F(H)}})},get(e){return arguments.length===0?dc.slice(0):ue(e)?Jo(dc,n=>n.id===e).getOr(null):Ze(e)&&dc[e]?dc[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&dc.push(e),mR(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),OT||(OT=r=>{const a=n.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",OT))),e},createEditor(e,n){return this.add(new AT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=dc.length-1;r>=0;r--)n.remove(dc[r]);return}if(ue(e)){kT(I0.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,A(n.get(o.id))?null:(TF(o)&&n.dispatch("RemoveEditor",{editor:o}),dc.length===0&&window.removeEventListener("beforeunload",OT),o.remove(),mR(dc.length>0),o)},execCommand(e,n,o){var r;const a=this,u=mt(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(u)){const h=o.options;new AT(u,h,a).render()}return!0}case"mceRemoveEditor":{const h=a.get(u);return h&&h.remove(),!0}case"mceToggleEditor":{const h=a.get(u);return h?(h.isHidden()?h.show():h.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{kT(dc,e=>{e.save()})},addI18n:(e,n)=>{Rr.add(e,n)},translate:e=>Rr.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ku(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ku(this.baseURL)}};jp.setup();const gq=(()=>{const e=Cf(),n=u=>({items:u,types:fi(u),getType:h=>Qo(u,h).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:a}})(),AF=Math.min,$0=Math.max,DC=Math.round,vq=(e,n,o)=>{let r=n.x,a=n.y;const u=e.w,h=e.h,v=n.w,C=n.h,O=(o||"").split("");return O[0]==="b"&&(a+=C),O[1]==="r"&&(r+=v),O[0]==="c"&&(a+=DC(C/2)),O[1]==="c"&&(r+=DC(v/2)),O[3]==="b"&&(a-=h),O[4]==="r"&&(r-=u),O[3]==="c"&&(a-=DC(h/2)),O[4]==="c"&&(r-=DC(u/2)),L0(r,a,u,h)},kF=(e,n,o,r)=>{for(let a=0;a<r.length;a++){const u=vq(e,n,r[a]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[a]}return null},bq=(e,n,o)=>L0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),OF=(e,n)=>{const o=$0(e.x,n.x),r=$0(e.y,n.y),a=AF(e.x+e.w,n.x+n.w),u=AF(e.y+e.h,n.y+n.h);return a-o<0||u-r<0?null:L0(o,r,a-o,u-r)},yq=(e,n,o)=>{let r=e.x,a=e.y,u=e.x+e.w,h=e.y+e.h;const v=n.x+n.w,C=n.y+n.h,O=$0(0,n.x-r),F=$0(0,n.y-a),H=$0(0,u-v),j=$0(0,h-C);return r+=O,a+=F,o&&(u+=O,h+=F,r-=H,a-=j),u-=H,h-=j,L0(r,a,u-r,h-a)},L0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),wq={inflate:bq,relativePosition:vq,findBestRelativePosition:kF,intersect:OF,clamp:yq,create:L0,fromClientRect:e=>L0(e.left,e.top,e.width,e.height)},Cq=(e,n,o=1e3)=>{let r=!1,a=null;const u=O=>(...F)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),O.apply(null,F))},h=u(e),v=u(n);return{start:(...O)=>{!r&&a===null&&(a=setTimeout(()=>v.apply(null,O),o))},resolve:h,reject:v}},pR=(()=>{const e={},n={},o={};return{load:(C,O)=>{const F=`Script at URL "${O}" failed to load`,H=`Script at URL "${O}" did not call \`tinymce.Resource.add('${C}', data)\` within 1 second`;if(e[C]!==void 0)return e[C];{const j=new Promise((oe,le)=>{const re=Cq(oe,le);n[C]=re.resolve,Va.ScriptLoader.loadScript(O).then(()=>re.start(H),()=>re.reject(F))});return e[C]=j,j}},add:(C,O)=>{n[C]!==void 0&&(n[C](O),delete n[C]),e[C]=Promise.resolve(O),o[C]=O},has:C=>C in o,get:C=>o[C],unload:C=>{delete e[C],delete o[C]}}})(),gR=()=>(()=>{let e={},n=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{n.push(r),e[r]=String(a)},key:r=>n[r],removeItem:r=>{n=n.filter(a=>a===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let RC;try{const e="__storage_test__";RC=window.localStorage,RC.setItem(e,e),RC.removeItem(e)}catch{RC=gR()}var DF=RC;const xq={geom:{Rect:wq},util:{Delay:Kl,Tools:D,VK:Ft,URI:Ku,EventDispatcher:cR,Observable:lR,I18n:Rr,LocalStorage:DF,ImageUploader:fz},dom:{EventUtils:_d,TreeWalker:$s,TextSeeker:Lh,DOMUtils:Ko,ScriptLoader:Va,RangeUtils:$t,Serializer:B4,StyleSheetLoader:wu,ControlSelection:Rb,BookmarkManager:Sr,Selection:B1,Event:_d.Event},html:{Styles:rl,Entities:na,Node:Da,Schema:xd,DomParser:Gi,Writer:pP,Serializer:dn},Env:Mt,AddOnManager:zi,Annotator:Pc,Formatter:z4,UndoManager:U4,EditorCommands:pF,WindowManager:vN,NotificationManager:n_,EditorObservable:QZ,Shortcuts:EF,Editor:AT,FocusManager:QR,EditorManager:jp,DOM:Ko.DOM,ScriptLoader:Va.ScriptLoader,PluginManager:Iw,ThemeManager:I1,ModelManager:Hf,IconManager:Ma,Resource:pR,FakeClipboard:gq,trim:D.trim,isArray:D.isArray,is:D.is,toArray:D.toArray,makeMap:D.makeMap,each:D.each,map:D.map,grep:D.grep,inArray:D.inArray,extend:D.extend,walk:D.walk,resolve:D.resolve,explode:D.explode,_addCacheSuffix:D._addCacheSuffix},RF=D.extend(jp,xq),Sq=e=>{try{S.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(RF),Sq(RF)})()})(nee);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>'}});(function(){const S=Object.getPrototypeOf,y=(t,s,i)=>{var c;return i(t,s.prototype)?!0:((c=t.constructor)===null||c===void 0?void 0:c.name)===s.name},k=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&y(t,String,(i,c)=>c.isPrototypeOf(i))?"string":s},M=t=>s=>k(s)===t,V=t=>s=>typeof s===t,G=t=>s=>t===s,te=(t,s)=>W(t)&&y(t,s,(i,c)=>S(i)===c),q=M("string"),W=M("object"),U=t=>te(t,Object),I=M("array"),ee=G(null),ce=V("boolean"),be=G(void 0),he=t=>t==null,xe=t=>!he(t),Re=V("function"),et=V("number"),nn=(t,s)=>{if(I(t)){for(let i=0,c=t.length;i<c;++i)if(!s(t[i]))return!1;return!0}return!1},ue=()=>{},mt=t=>()=>t(),Vn=(t,s)=>(...i)=>t(s.apply(null,i)),Gt=(t,s)=>i=>t(s(i)),A=t=>()=>t,mn=t=>t,Cn=(t,s)=>t===s;function Sn(t,...s){return(...i)=>{const c=s.concat(i);return t.apply(null,c)}}const je=t=>s=>!t(s),ye=t=>()=>{throw new Error(t)},Ze=t=>t(),Vt=A(!1),wt=A(!0);class P{constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return xe(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const yn=Array.prototype.slice,st=Array.prototype.indexOf,eo=Array.prototype.push,jt=(t,s)=>st.call(t,s),Ge=(t,s)=>{const i=jt(t,s);return i===-1?P.none():P.some(i)},ct=(t,s)=>jt(t,s)>-1,Rn=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];if(s(d,i))return!0}return!1},_n=(t,s)=>{const i=[];for(let c=0;c<t;c++)i.push(s(c));return i},$n=(t,s)=>{const i=[];for(let c=0;c<t.length;c+=s){const d=yn.call(t,c,c+s);i.push(d)}return i},He=(t,s)=>{const i=t.length,c=new Array(i);for(let d=0;d<i;d++){const m=t[d];c[d]=s(m,d)}return c},ht=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];s(d,i)}},K=(t,s)=>{for(let i=t.length-1;i>=0;i--){const c=t[i];s(c,i)}},Xr=(t,s)=>{const i=[],c=[];for(let d=0,m=t.length;d<m;d++){const p=t[d];(s(p,d)?i:c).push(p)}return{pass:i,fail:c}},po=(t,s)=>{const i=[];for(let c=0,d=t.length;c<d;c++){const m=t[c];s(m,c)&&i.push(m)}return i},Cs=(t,s,i)=>(K(t,(c,d)=>{i=s(i,c,d)}),i),Mo=(t,s,i)=>(ht(t,(c,d)=>{i=s(i,c,d)}),i),ld=(t,s,i)=>{for(let c=0,d=t.length;c<d;c++){const m=t[c];if(s(m,c))return P.some(m);if(i(m,c))break}return P.none()},An=(t,s)=>ld(t,s,Vt),Xo=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];if(s(d,i))return P.some(i)}return P.none()},Tn=t=>{const s=[];for(let i=0,c=t.length;i<c;++i){if(!I(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);eo.apply(s,t[i])}return s},Le=(t,s)=>Tn(He(t,s)),di=(t,s)=>{for(let i=0,c=t.length;i<c;++i){const d=t[i];if(s(d,i)!==!0)return!1}return!0},Nr=t=>{const s=yn.call(t,0);return s.reverse(),s},Jt=(t,s)=>po(t,i=>!ct(s,i)),Ya=(t,s)=>{const i={};for(let c=0,d=t.length;c<d;c++){const m=t[c];i[String(m)]=s(m,c)}return i},To=t=>[t],Xa=(t,s)=>{const i=yn.call(t,0);return i.sort(s),i},Jo=(t,s)=>s>=0&&s<t.length?P.some(t[s]):P.none(),wn=t=>Jo(t,0),Ir=t=>Jo(t,t.length-1),Mi=Re(Array.from)?Array.from:t=>yn.call(t),gr=(t,s)=>{for(let i=0;i<t.length;i++){const c=s(t[i],i);if(c.isSome())return c}return P.none()},Ts=Object.keys,sh=Object.hasOwnProperty,lr=(t,s)=>{const i=Ts(t);for(let c=0,d=i.length;c<d;c++){const m=i[c],p=t[m];s(p,m)}},is=(t,s)=>pa(t,(i,c)=>({k:c,v:s(i,c)})),pa=(t,s)=>{const i={};return lr(t,(c,d)=>{const m=s(c,d);i[m.k]=m.v}),i},Ys=t=>(s,i)=>{t[i]=s},ga=(t,s,i,c)=>{lr(t,(d,m)=>{(s(d,m)?i:c)(d,m)})},Ji=(t,s)=>{const i={},c={};return ga(t,s,Ys(i),Ys(c)),{t:i,f:c}},zc=(t,s)=>{const i={};return ga(t,s,Ys(i),ue),i},af=(t,s)=>{const i=[];return lr(t,(c,d)=>{i.push(s(c,d))}),i},fi=(t,s)=>{const i=Ts(t);for(let c=0,d=i.length;c<d;c++){const m=i[c],p=t[m];if(s(p,m,t))return P.some(p)}return P.none()},Xp=t=>af(t,mn),Dt=(t,s)=>go(t,s)?P.from(t[s]):P.none(),go=(t,s)=>sh.call(t,s),va=(t,s)=>go(t,s)&&t[s]!==void 0&&t[s]!==null,Qi=(t,s,i=Cn)=>t.exists(c=>i(c,s)),ea=(t,s,i=Cn)=>uu(t,s,i).getOr(t.isNone()&&s.isNone()),$r=t=>{const s=[],i=c=>{s.push(c)};for(let c=0;c<t.length;c++)t[c].each(i);return s},as=t=>{const s=[];for(let i=0;i<t.length;i++){const c=t[i];if(c.isSome())s.push(c.getOrDie());else return P.none()}return P.some(s)},uu=(t,s,i)=>t.isSome()&&s.isSome()?P.some(i(t.getOrDie(),s.getOrDie())):P.none(),ud=(t,s,i,c)=>t.isSome()&&s.isSome()&&i.isSome()?P.some(c(t.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),Qo=(t,s)=>t!=null?P.some(s(t)):P.none(),un=(t,s)=>t?P.some(s):P.none(),Lr=(t,s)=>t+s,Al=(t,s)=>t.substring(s),dd=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Jp=(t,s)=>Xs(t,s)?Al(t,s.length):t,Bi=(t,s)=>Vc(t,s)?t:Lr(t,s),hi=(t,s,i=0,c)=>{const d=t.indexOf(s,i);return d!==-1?be(c)?!0:d+s.length<=c:!1},Xs=(t,s)=>dd(t,s,0),Vc=(t,s)=>dd(t,s,t.length-s.length),Uc=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ba=t=>t.length>0,Go=t=>!ba(t),Na=t=>t.style!==void 0&&Re(t.style.getPropertyValue),Ja=(t,s)=>{const c=(s||document).createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return Wc(c.childNodes[0])},Qp=(t,s)=>{const c=(s||document).createElement(t);return Wc(c)},ym=(t,s)=>{const c=(s||document).createTextNode(t);return Wc(c)},Wc=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ae={fromHtml:Ja,fromTag:Qp,fromText:ym,fromDom:Wc,fromPoint:(t,s,i)=>P.from(t.dom.elementFromPoint(s,i)).map(Wc)},Ni=typeof window<"u"?window:Function("return this;")(),fd=(t,s)=>{let i=s??Ni;for(let c=0;c<t.length&&i!==void 0&&i!==null;++c)i=i[t[c]];return i},eg=(t,s)=>{const i=t.split(".");return fd(i,s)},wm=(t,s)=>eg(t,s),us=(t,s)=>{const i=wm(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},rh=Object.getPrototypeOf,Z0=t=>us("HTMLElement",t),ih=t=>{const s=eg("ownerDocument.defaultView",t);return W(t)&&(Z0(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(rh(t).constructor.name))},hd=9,Fr=11,Bs=1,jc=3,Vs=t=>t.dom.nodeName.toLowerCase(),Qa=t=>t.dom.nodeType,du=t=>s=>Qa(s)===t,cf=t=>Uo(t)&&ih(t.dom),Uo=du(Bs),Ii=du(jc),lv=du(hd),Zc=du(Fr),kl=t=>s=>Uo(s)&&Vs(s)===t,$i=(t,s)=>{const i=t.dom;if(i.nodeType!==Bs)return!1;{const c=i;if(c.matches!==void 0)return c.matches(s);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(s);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(s);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ns=t=>t.nodeType!==Bs&&t.nodeType!==hd&&t.nodeType!==Fr||t.childElementCount===0,pc=(t,s)=>{const i=s===void 0?document:s.dom;return Ns(i)?[]:He(i.querySelectorAll(t),Ae.fromDom)},Cm=(t,s)=>{const i=s===void 0?document:s.dom;return Ns(i)?P.none():P.from(i.querySelector(t)).map(Ae.fromDom)},yo=(t,s)=>t.dom===s.dom,Ia=(t,s)=>{const i=t.dom,c=s.dom;return i===c?!1:i.contains(c)},ya=t=>Ae.fromDom(t.dom.ownerDocument),Us=t=>lv(t)?t:ya(t),qc=t=>Ae.fromDom(Us(t).dom.documentElement),Ol=t=>Ae.fromDom(Us(t).dom.defaultView),ec=t=>P.from(t.dom.parentNode).map(Ae.fromDom),gc=t=>ec(t),tc=t=>P.from(t.dom.parentElement).map(Ae.fromDom),xm=(t,s)=>{const i=Re(s)?s:Vt;let c=t.dom;const d=[];for(;c.parentNode!==null&&c.parentNode!==void 0;){const m=c.parentNode,p=Ae.fromDom(m);if(d.push(p),i(p)===!0)break;c=m}return d},Sm=t=>P.from(t.dom.offsetParent).map(Ae.fromDom),tg=t=>P.from(t.dom.nextSibling).map(Ae.fromDom),vc=t=>He(t.dom.childNodes,Ae.fromDom),Dl=(t,s)=>{const i=t.dom.childNodes;return P.from(i[s]).map(Ae.fromDom)},Em=t=>Dl(t,0),_m=(t,s)=>({element:t,offset:s}),ah=(t,s)=>{const i=vc(t);return i.length>0&&s<i.length?_m(i[s],0):_m(t,s)},ng=t=>Zc(t)&&xe(t.dom.host),ch=Re(Element.prototype.attachShadow)&&Re(Node.prototype.getRootNode),uv=A(ch),gs=ch?t=>Ae.fromDom(t.dom.getRootNode()):Us,nc=t=>ng(t)?t:Ae.fromDom(Us(t).dom.body),q0=t=>og(t).isSome(),og=t=>{const s=gs(t);return ng(s)?P.some(s):P.none()},oc=t=>Ae.fromDom(t.dom.host),sg=t=>{if(uv()&&xe(t.target)){const s=Ae.fromDom(t.target);if(Uo(s)&&lh(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return wn(i)}}return P.from(t.target)},lh=t=>xe(t.dom.shadowRoot),ur=t=>{const s=Ii(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return og(Ae.fromDom(s)).fold(()=>i.body.contains(s),Gt(ur,oc))},Jr=()=>fu(Ae.fromDom(document)),fu=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ae.fromDom(s)},Tm=(t,s,i)=>{if(q(i)||ce(i)||et(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},Mt=(t,s,i)=>{Tm(t.dom,s,i)},dv=(t,s)=>{const i=t.dom;lr(s,(c,d)=>{Tm(i,d,c)})},As=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Js=(t,s)=>P.from(As(t,s)),Am=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},xs=(t,s)=>{t.dom.removeAttribute(s)},G0=t=>Mo(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),uh=(t,s,i)=>{if(!q(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);Na(t)&&t.style.setProperty(s,i)},dh=(t,s)=>{Na(t)&&t.style.removeProperty(s)},b=(t,s,i)=>{const c=t.dom;uh(c,s,i)},_=(t,s)=>{const i=t.dom;lr(s,(c,d)=>{uh(i,d,c)})},D=(t,s)=>{const i=t.dom;lr(s,(c,d)=>{c.fold(()=>{dh(i,d)},m=>{uh(i,d,m)})})},L=(t,s)=>{const i=t.dom,d=window.getComputedStyle(i).getPropertyValue(s);return d===""&&!ur(t)?Q(i,s):d},Q=(t,s)=>Na(t)?t.style.getPropertyValue(s):"",X=(t,s)=>{const i=t.dom,c=Q(i,s);return P.from(c).filter(d=>d.length>0)},ie=t=>{const s={},i=t.dom;if(Na(i))for(let c=0;c<i.style.length;c++){const d=i.style.item(c);s[d]=i.style[d]}return s},Te=(t,s,i)=>{const c=Ae.fromTag(t);return b(c,s,i),X(c,s).isSome()},me=(t,s)=>{const i=t.dom;dh(i,s),Qi(Js(t,"style").map(Uc),"")&&xs(t,"style")},Ne=t=>t.dom.offsetWidth,nt=(t,s)=>{const i=(x,E)=>{if(!et(E)&&!E.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+E);const R=x.dom;Na(R)&&(R.style[t]=E+"px")},c=x=>{const E=s(x);if(E<=0||E===null){const R=L(x,t);return parseFloat(R)||0}return E},d=c,m=(x,E)=>Mo(E,(R,N)=>{const z=L(x,N),Y=z===void 0?0:parseInt(z,10);return isNaN(Y)?R:R+Y},0);return{set:i,get:c,getOuter:d,aggregate:m,max:(x,E,R)=>{const N=m(x,R);return E>N?E-N:0}}},gt=nt("height",t=>{const s=t.dom;return ur(t)?s.getBoundingClientRect().height:s.offsetHeight}),We=t=>gt.get(t),It=t=>gt.getOuter(t),co=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=gt.max(t,s,i);b(t,"max-height",c+"px")},Wo=(t,s)=>({left:t,top:s,translate:(c,d)=>Wo(t+c,s+d)}),kn=Wo,mi=t=>{const s=t.getBoundingClientRect();return kn(s.left,s.top)},Io=(t,s)=>t!==void 0?t:s!==void 0?s:0,Qs=t=>{const s=t.dom.ownerDocument,i=s.body,c=s.defaultView,d=s.documentElement;if(i===t.dom)return kn(i.offsetLeft,i.offsetTop);const m=Io(c==null?void 0:c.pageYOffset,d.scrollTop),p=Io(c==null?void 0:c.pageXOffset,d.scrollLeft),x=Io(d.clientTop,i.clientTop),E=Io(d.clientLeft,i.clientLeft);return Hr(t).translate(p-E,m-x)},Hr=t=>{const s=t.dom,c=s.ownerDocument.body;return c===s?kn(c.offsetLeft,c.offsetTop):ur(t)?mi(s):kn(0,0)},Ao=nt("width",t=>t.dom.offsetWidth),Jn=(t,s)=>Ao.set(t,s),uo=t=>Ao.get(t),vs=t=>Ao.getOuter(t),Gc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=Ao.max(t,s,i);b(t,"max-width",c+"px")},wa=t=>{let s=!1,i;return(...c)=>(s||(s=!0,i=t.apply(null,c)),i)},dr=(t,s,i,c)=>{const d=t.isiOS()&&/ipad/i.test(i)===!0,m=t.isiOS()&&!d,p=t.isiOS()||t.isAndroid(),x=p||c("(pointer:coarse)"),E=d||!m&&p&&c("(min-device-width:768px)"),R=m||p&&!E,N=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,z=!R&&!E&&!N;return{isiPad:A(d),isiPhone:A(m),isTablet:A(E),isPhone:A(R),isTouch:A(x),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:A(N),isDesktop:A(z)}},jo=(t,s)=>{for(let i=0;i<t.length;i++){const c=t[i];if(c.test(s))return c}},Ca=(t,s)=>{const i=jo(t,s);if(!i)return{major:0,minor:0};const c=d=>Number(s.replace(i,"$"+d));return Ci(c(1),c(2))},xa=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?$a():Ca(t,i)},$a=()=>Ci(0,0),Ci=(t,s)=>({major:t,minor:s}),Zo={nu:Ci,detect:xa,unknown:$a},xi=(t,s)=>gr(s.brands,i=>{const c=i.brand.toLowerCase();return An(t,d=>{var m;return c===((m=d.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(d=>({current:d.name,version:Zo.nu(parseInt(i.version,10),0)}))}),ds=(t,s)=>{const i=String(s).toLowerCase();return An(t,c=>c.search(i))},bc=(t,s)=>ds(t,s).map(i=>{const c=Zo.detect(i.versionRegexes,s);return{current:i.name,version:c}}),md=(t,s)=>ds(t,s).map(i=>{const c=Zo.detect(i.versionRegexes,s);return{current:i.name,version:c}}),vr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,So=t=>s=>hi(s,t),Rl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>hi(t,"edge/")&&hi(t,"chrome")&&hi(t,"safari")&&hi(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vr],search:t=>hi(t,"chrome")&&!hi(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>hi(t,"msie")||hi(t,"trident")},{name:"Opera",versionRegexes:[vr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:So("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:So("firefox")},{name:"Safari",versionRegexes:[vr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(hi(t,"safari")||hi(t,"mobile/"))&&hi(t,"applewebkit")}],Sa=[{name:"Windows",search:So("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>hi(t,"iphone")||hi(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:So("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:So("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:So("linux"),versionRegexes:[]},{name:"Solaris",search:So("sunos"),versionRegexes:[]},{name:"FreeBSD",search:So("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:So("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kc={browsers:A(Rl),oses:A(Sa)},km="Edge",lf="Chromium",fh="IE",Ea="Opera",pd="Firefox",br="Safari",hu=()=>mu({current:void 0,version:Zo.unknown()}),mu=t=>{const s=t.current,i=t.version,c=d=>()=>s===d;return{current:s,version:i,isEdge:c(km),isChromium:c(lf),isIE:c(fh),isOpera:c(Ea),isFirefox:c(pd),isSafari:c(br)}},Yc={unknown:hu,nu:mu,edge:A(km),chromium:A(lf),ie:A(fh),opera:A(Ea),firefox:A(pd),safari:A(br)},hh="Windows",gd="iOS",fv="Android",Pl="Linux",Om="macOS",pu="Solaris",K0="FreeBSD",pe="ChromeOS",Dm=()=>ge({current:void 0,version:Zo.unknown()}),ge=t=>{const s=t.current,i=t.version,c=d=>()=>s===d;return{current:s,version:i,isWindows:c(hh),isiOS:c(gd),isAndroid:c(fv),isMacOS:c(Om),isLinux:c(Pl),isSolaris:c(pu),isFreeBSD:c(K0),isChromeOS:c(pe)}},Oe={unknown:Dm,nu:ge,windows:A(hh),ios:A(gd),android:A(fv),linux:A(Pl),macos:A(Om),solaris:A(pu),freebsd:A(K0),chromeos:A(pe)},it={detect:(t,s,i)=>{const c=Kc.browsers(),d=Kc.oses(),m=s.bind(E=>xi(c,E)).orThunk(()=>bc(c,t)).fold(Yc.unknown,Yc.nu),p=md(d,t).fold(Oe.unknown,Oe.nu),x=dr(p,m,t,i);return{browser:m,os:p,deviceType:x}}},Je=t=>window.matchMedia(t).matches;let Zt=wa(()=>it.detect(navigator.userAgent,P.from(navigator.userAgentData),Je));const en=()=>Zt(),fn=(t,s,i,c,d,m,p)=>({target:t,x:s,y:i,stop:c,prevent:d,kill:m,raw:p}),xn=t=>{const s=Ae.fromDom(sg(t).getOr(t.target)),i=()=>t.stopPropagation(),c=()=>t.preventDefault(),d=Vn(c,i);return fn(s,t.clientX,t.clientY,i,c,d,t)},xo=(t,s)=>i=>{t(i)&&s(xn(i))},Hn=(t,s,i,c,d)=>{const m=xo(i,c);return t.dom.addEventListener(s,m,d),{unbind:Sn(Yn,t,s,m,d)}},so=(t,s,i,c)=>Hn(t,s,i,c,!1),ko=(t,s,i,c)=>Hn(t,s,i,c,!0),Yn=(t,s,i,c)=>{t.dom.removeEventListener(s,i,c)},No=(t,s)=>{ec(t).each(c=>{c.dom.insertBefore(s.dom,t.dom)})},Qr=(t,s)=>{tg(t).fold(()=>{ec(t).each(d=>{er(d,s)})},c=>{No(c,s)})},pi=(t,s)=>{Em(t).fold(()=>{er(t,s)},c=>{t.dom.insertBefore(s.dom,c.dom)})},er=(t,s)=>{t.dom.appendChild(s.dom)},ks=(t,s,i)=>{Dl(t,i).fold(()=>{er(t,s)},c=>{No(c,s)})},La=(t,s)=>{ht(s,i=>{er(t,i)})},zr=t=>{t.dom.textContent="",ht(vc(t),s=>{Xc(s)})},Xc=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ta=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,c=s.body.scrollTop||s.documentElement.scrollTop;return kn(i,c)},hv=(t,s,i)=>{const d=(i!==void 0?i.dom:document).defaultView;d&&d.scrollTo(t,s)},HC=t=>{const s=t===void 0?window:t;return en().browser.isFirefox()?P.none():P.from(s.visualViewport)},rg=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),ig=t=>{const s=t===void 0?window:t,i=s.document,c=ta(Ae.fromDom(i));return HC(s).fold(()=>{const d=s.document.documentElement,m=d.clientWidth,p=d.clientHeight;return rg(c.left,c.top,m,p)},d=>rg(Math.max(d.pageLeft,c.left),Math.max(d.pageTop,c.top),d.width,d.height))},mv=()=>Ae.fromDom(document),vd=(t,s)=>t.view(s).fold(A([]),c=>{const d=t.owner(c),m=vd(t,d);return[c].concat(m)}),pv=(t,s)=>{const i=s.owner(t),c=vd(s,i);return P.some(c)};var KT=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?P.none():P.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ae.fromDom)},owner:t=>ya(t)});const gv=t=>{const s=mv(),i=ta(s);return pv(t,KT).fold(Sn(Qs,t),d=>{const m=Hr(t),p=Cs(d,(x,E)=>{const R=Hr(E);return{left:x.left+R.left,top:x.top+R.top}},{left:0,top:0});return kn(p.left+m.left+i.left,p.top+m.top+i.top)})},YT=(t,s,i)=>({point:t,width:s,height:i}),mh=(t,s,i,c)=>({x:t,y:s,width:i,height:c}),yr=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),Is=t=>{const s=Qs(t),i=vs(t),c=It(t);return yr(s.left,s.top,i,c)},Li=t=>{const s=gv(t),i=vs(t),c=It(t);return yr(s.left,s.top,i,c)},Y0=(t,s)=>{const i=Math.max(t.x,s.x),c=Math.max(t.y,s.y),d=Math.min(t.right,s.right),m=Math.min(t.bottom,s.bottom),p=d-i,x=m-c;return yr(i,c,p,x)},XT=(t,s)=>Mo(s,(i,c)=>Y0(i,c),t),Fi=()=>ig(window);var ag=tinymce.util.Tools.resolve("tinymce.ThemeManager");const cg=t=>{const s=m=>m(t),i=A(t),c=()=>d,d={tag:!0,inner:t,fold:(m,p)=>p(t),isValue:wt,isError:Vt,map:m=>Ln.value(m(t)),mapError:c,bind:s,exists:s,forall:s,getOr:i,or:c,getOrThunk:i,orThunk:c,getOrDie:i,each:m=>{m(t)},toOptional:()=>P.some(t)};return d},uf=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(c,d)=>c(t),isValue:Vt,isError:wt,map:s,mapError:c=>Ln.error(c(t)),bind:s,exists:Vt,forall:wt,getOr:mn,or:mn,getOrThunk:Ze,orThunk:Ze,getOrDie:ye(String(t)),each:ue,toOptional:P.none};return i},Ln={value:cg,error:uf,fromOption:(t,s)=>t.fold(()=>uf(s),cg)};var Fa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Fa||(Fa={}));const ph=(t,s,i)=>t.stype===Fa.Error?s(t.serror):i(t.svalue),vv=t=>{const s=[],i=[];return ht(t,c=>{ph(c,d=>i.push(d),d=>s.push(d))}),{values:s,errors:i}},zC=(t,s)=>t.stype===Fa.Error?{stype:Fa.Error,serror:s(t.serror)}:t,Rm=(t,s)=>t.stype===Fa.Value?{stype:Fa.Value,svalue:s(t.svalue)}:t,lg=(t,s)=>t.stype===Fa.Value?s(t.svalue):t,gu=(t,s)=>t.stype===Fa.Error?s(t.serror):t,sc=t=>({stype:Fa.Value,svalue:t}),Hi=t=>({stype:Fa.Error,serror:t}),tr={fromResult:t=>t.fold(Hi,sc),toResult:t=>ph(t,Ln.error,Ln.value),svalue:sc,partition:vv,serror:Hi,bind:lg,bindError:gu,map:Rm,mapError:zC,fold:ph},Si=(t,s,i,c)=>({tag:"field",key:t,newKey:s,presence:i,prop:c}),bd=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Ml=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},fr=(t,s)=>s,VC=(t,s)=>U(t)&&U(s)?es(t,s):s,UC=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let c=0;c<s.length;c++){const d=s[c];for(const m in d)go(d,m)&&(i[m]=t(i[m],d[m]))}return i},es=UC(VC),gh=UC(fr),Eo=()=>({tag:"required",process:{}}),vu=t=>({tag:"defaultedThunk",process:t}),X0=t=>vu(A(t)),bv=()=>({tag:"option",process:{}}),J0=t=>({tag:"mergeWithThunk",process:t}),Q0=t=>J0(A(t)),fo=(t,s)=>t.length>0?tr.svalue(es(s,gh.apply(void 0,t))):tr.svalue(s),yv=t=>Vn(tr.serror,Tn)(t),WC={consolidateObj:(t,s)=>{const i=tr.partition(t);return i.errors.length>0?yv(i.errors):fo(i.values,s)},consolidateArr:t=>{const s=tr.partition(t);return s.errors.length>0?yv(s.errors):tr.svalue(s.values)}},wv=t=>W(t)&&Ts(t).length>100?" removed due to size":JSON.stringify(t,null,2),eA=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:A("... (only showing first ten failures)")}]):t;return He(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},vh=(t,s)=>tr.serror([{path:t,getErrorInfo:s}]),bu=(t,s,i)=>vh(t,()=>'Could not find valid *required* value for "'+s+'" in '+wv(i)),jC=(t,s)=>vh(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Cv=(t,s,i)=>vh(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+wv(s)),ZC=(t,s)=>vh(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Bl=(t,s)=>vh(t,A(s)),ff=t=>{const s=(c,d)=>tr.bindError(t(d),m=>Bl(c,m)),i=A("val");return{extract:s,toString:i}},Pm=ff(tr.svalue),Mm=(t,s,i,c)=>Dt(s,i).fold(()=>bu(t,i,s),c),qC=(t,s,i,c)=>{const d=Dt(t,s).getOrThunk(()=>i(t));return c(d)},ey=(t,s,i)=>i(Dt(t,s)),ty=(t,s,i,c)=>{const d=Dt(t,s).map(m=>m===!0?i(t):m);return c(d)},GC=(t,s,i,c,d)=>{const m=x=>d.extract(s.concat([c]),x),p=x=>x.fold(()=>tr.svalue(P.none()),E=>{const R=d.extract(s.concat([c]),E);return tr.map(R,P.some)});switch(t.tag){case"required":return Mm(s,i,c,m);case"defaultedThunk":return qC(i,c,t.process,m);case"option":return ey(i,c,p);case"defaultedOptionThunk":return ty(i,c,t.process,p);case"mergeWithThunk":return qC(i,c,A({}),x=>{const E=es(t.process(i),x);return m(E)})}},ny=(t,s,i)=>{const c={},d=[];for(const m of i)Ml(m,(p,x,E,R)=>{const N=GC(E,t,s,p,R);tr.fold(N,z=>{d.push(...z)},z=>{c[x]=z})},(p,x)=>{c[p]=x(s)});return d.length>0?tr.serror(d):tr.svalue(c)},vi=t=>({extract:(c,d)=>t().extract(c,d),toString:()=>t().toString()}),oy=t=>Ts(zc(t,xe)),_a=t=>{const s=pn(t),i=Cs(t,(d,m)=>Ml(m,p=>es(d,{[p]:!0}),A(d)),{});return{extract:(d,m)=>{const p=ce(m)?[]:oy(m),x=po(p,E=>!va(i,E));return x.length===0?s.extract(d,m):ZC(d,x)},toString:s.toString}},pn=t=>({extract:(c,d)=>ny(c,d,t),toString:()=>`obj{
`+He(t,d=>Ml(d,(m,p,x,E)=>m+" -> "+E.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),$s=t=>({extract:(c,d)=>{const m=He(d,(p,x)=>t.extract(c.concat(["["+x+"]"]),p));return WC.consolidateArr(m)},toString:()=>"array("+t.toString()+")"}),yd=(t,s)=>{const i=s!==void 0?s:mn;return{extract:(m,p)=>{const x=[];for(const E of t){const R=E.extract(m,p);if(R.stype===Fa.Value)return{stype:Fa.Value,svalue:i(R.svalue)};x.push(R)}return WC.consolidateArr(x)},toString:()=>"oneOf("+He(t,m=>m.toString()).join(", ")+")"}},ei=(t,s)=>{const i=(m,p)=>$s(ff(t)).extract(m,p);return{extract:(m,p)=>{const x=Ts(p),E=i(m,x);return tr.bind(E,R=>{const N=He(R,z=>Si(z,z,Eo(),s));return pn(N).extract(m,p)})},toString:()=>"setOf("+s.toString()+")"}},Bm=(t,s)=>{const i=wa(s);return{extract:(m,p)=>i().extract(m,p),toString:()=>i().toString()}},KC=Vn($s,pn),yu=A(Pm),Nl=(t,s)=>ff(i=>{const c=typeof i;return t(i)?tr.svalue(i):tr.serror(`Expected type: ${s} but got: ${c}`)}),bh=Nl(et,"number"),ti=Nl(q,"string"),Nm=Nl(ce,"boolean"),sy=Nl(Re,"function"),ry=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>ry(t[s]));default:return!1}},hf=ff(t=>ry(t)?tr.svalue(t):tr.serror("Expected value to be acceptable for sending via postMessage")),xv=(t,s,i,c)=>Dt(i,c).fold(()=>Cv(t,i,c),m=>m.extract(t.concat(["branch: "+c]),s)),Wt=(t,s)=>({extract:(d,m)=>Dt(m,t).fold(()=>jC(d,t),x=>xv(d,m,s,x)),toString:()=>"chooseOn("+t+"). Possible values: "+Ts(s)}),wd=()=>$s(Pm),Im=t=>ff(s=>t(s).fold(tr.serror,tr.svalue)),yh=(t,s)=>ei(i=>tr.fromResult(t(i)),s),Jc=(t,s,i)=>{const c=s.extract([t],i);return tr.mapError(c,d=>({input:i,errors:d}))},fs=(t,s,i)=>tr.toResult(Jc(t,s,i)),Il=t=>t.fold(s=>{throw new Error($m(s))},mn),Vr=(t,s,i)=>Il(fs(t,s,i)),$m=t=>`Errors: 
`+eA(t.errors).join(`
`)+`

Input object: `+wv(t.input),wr=(t,s)=>Wt(t,is(s,pn)),iy=(t,s)=>Bm(t,s),Ur=Si,at=bd,mf=t=>Im(s=>ct(t,s)?Ln.value(s):Ln.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),rt=t=>Ur(t,t,Eo(),yu()),ni=(t,s)=>Ur(t,t,Eo(),s),Lm=t=>ni(t,bh),nr=t=>ni(t,ti),ts=(t,s)=>Ur(t,t,Eo(),mf(s)),ay=t=>ni(t,Nm),kr=t=>ni(t,sy),bs=(t,s)=>Ur(t,t,bv(),ff(i=>tr.serror("The field: "+t+" is forbidden. "+s))),Qc=(t,s)=>Ur(t,t,Eo(),pn(s)),YC=(t,s)=>Ur(t,t,Eo(),KC(s)),Or=(t,s)=>Ur(t,t,Eo(),$s(s)),_o=t=>Ur(t,t,bv(),yu()),el=(t,s)=>Ur(t,t,bv(),s),ug=t=>el(t,bh),Ei=t=>el(t,ti),XC=(t,s)=>el(t,mf(s)),pf=t=>el(t,sy),JC=(t,s)=>el(t,$s(s)),Ta=(t,s)=>el(t,pn(s)),cy=(t,s)=>el(t,_a(s)),Pe=(t,s)=>Ur(t,t,X0(s),yu()),wc=(t,s,i)=>Ur(t,t,X0(s),i),dg=(t,s)=>wc(t,s,bh),_i=(t,s)=>wc(t,s,ti),Ls=(t,s,i)=>wc(t,s,mf(i)),Ti=(t,s)=>wc(t,s,Nm),Os=(t,s)=>wc(t,s,sy),Fm=(t,s)=>wc(t,s,hf),Cd=(t,s,i)=>wc(t,s,$s(i)),Sv=(t,s,i)=>wc(t,s,pn(i)),rn=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},$l={generate:t=>{if(!I(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return ht(t,(c,d)=>{const m=Ts(c);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],x=c[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!I(x))throw new Error("case arguments must be an array");s.push(p),i[p]=(...E)=>{const R=E.length;if(R!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+R);return{fold:(...z)=>{if(z.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+z.length);return z[d].apply(null,E)},match:z=>{const Y=Ts(z);if(s.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+Y.join(","));if(!di(s,se=>ct(Y,se)))throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+s.join(", "));return z[p].apply(null,E)},log:z=>{console.log(z,{constructors:s,constructor:p,params:E})}}}}),i}};$l.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const gf=t=>{const s=[],i=[];return ht(t,c=>{c.fold(d=>{s.push(d)},d=>{i.push(d)})}),{errors:s,values:i}},QC=(t,s)=>{const i={};return lr(t,(c,d)=>{ct(s,d)||(i[d]=c)}),i},ex=(t,s)=>({[t]:s}),tx=t=>{const s={};return ht(t,i=>{s[i.key]=i.value}),s},tA=(t,s)=>QC(t,s),wh=(t,s)=>ex(t,s),Hm=t=>tx(t),uy=(t,s)=>t.length===0?Ln.value(s):Ln.value(es(s,gh.apply(void 0,t))),nA=t=>Ln.error(Tn(t)),NR=(t,s)=>{const i=gf(t);return i.errors.length>0?nA(i.errors):uy(i.values,s)},zm=t=>Re(t)?t:Vt,Vm=(t,s,i)=>{let c=t.dom;const d=zm(i);for(;c.parentNode;){c=c.parentNode;const m=Ae.fromDom(c),p=s(m);if(p.isSome())return p;if(d(m))break}return P.none()},Ch=(t,s,i)=>{const c=s(t),d=zm(i);return c.orThunk(()=>d(t)?P.none():Vm(t,s,d))},vf=(t,s)=>yo(t.element,s.event.target),bf={can:wt,abort:Vt,run:ue},yf=t=>{if(!va(t,"can")&&!va(t,"abort")&&!va(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...bf,...t}},oA=(t,s)=>(...i)=>Mo(t,(c,d)=>c&&s(d).apply(void 0,i),!0),nx=(t,s)=>(...i)=>Mo(t,(c,d)=>c||s(d).apply(void 0,i),!1),ox=t=>Re(t)?{can:wt,abort:Vt,run:t}:t,dy=t=>{const s=oA(t,d=>d.can),i=nx(t,d=>d.abort);return{can:s,abort:i,run:(...d)=>{ht(t,m=>{m.run.apply(void 0,d)})}}},oi=A,wu=oi("touchstart"),Ev=oi("touchmove"),Cu=oi("touchend"),_v=oi("touchcancel"),Aa=oi("mousedown"),fg=oi("mousemove"),hg=oi("mouseout"),fy=oi("mouseup"),xu=oi("mouseover"),tl=oi("focusin"),Um=oi("focusout"),nl=oi("keydown"),Tv=oi("keyup"),Su=oi("input"),ol=oi("change"),wf=oi("click"),sx=oi("transitioncancel"),Ll=oi("transitionend"),sA=oi("transitionstart"),rA=oi("selectstart"),Fs=t=>A("alloy."+t),hy={tap:Fs("tap")},Eu=Fs("focus"),xh=Fs("blur.post"),mg=Fs("paste.post"),_u=Fs("receive"),Ha=Fs("execute"),Sh=Fs("focus.item"),na=hy.tap,Dr=Fs("longpress"),pg=Fs("sandbox.close"),Av=Fs("typeahead.cancel"),kv=Fs("system.init"),iA=Fs("system.touchmove"),rx=Fs("system.touchend"),Ov=Fs("system.scroll"),Eh=Fs("system.resize"),za=Fs("system.attached"),Fl=Fs("system.detached"),Tu=Fs("system.dismissRequested"),_h=Fs("system.repositionRequested"),sl=Fs("focusmanager.shifted"),Wm=Fs("slotcontainer.visibility"),my=Fs("system.external.element.scroll"),py=Fs("change.tab"),gy=Fs("dismiss.tab"),jm=Fs("highlight"),Th=Fs("dehighlight"),Un=(t,s)=>{Rv(t,t.element,s,{})},on=(t,s,i)=>{Rv(t,t.element,s,i)},Au=t=>{Un(t,Ha())},Dv=(t,s,i)=>{Rv(t,s,i,{})},Rv=(t,s,i,c)=>{const d={target:s,...c};t.getSystem().triggerEvent(i,s,d)},vy=(t,s,i,c)=>{const d={...c,target:s};t.getSystem().triggerEvent(i,s,d)},xd=(t,s,i,c)=>{t.getSystem().triggerEvent(i,s,c.event)},ns=t=>Hm(t),ix=(t,s)=>({key:t,value:yf({abort:s})}),by=(t,s)=>({key:t,value:yf({can:s})}),yy=t=>({key:t,value:yf({run:(s,i)=>{i.event.prevent()}})}),Ke=(t,s)=>({key:t,value:yf({run:s})}),wy=(t,s,i)=>({key:t,value:yf({run:(c,d)=>{s.apply(void 0,[c,d].concat(i))}})}),ax=t=>s=>Ke(t,s),Ah=t=>s=>({key:t,value:yf({run:(i,c)=>{vf(i,c)&&s(i,c)}})}),cx=(t,s)=>Ke(t,(i,c)=>{i.getSystem().getByUid(s).each(d=>{xd(d,d.element,t,c)})}),Sd=(t,s,i)=>{const c=s.partUids[i];return cx(t,c)},kh=(t,s)=>Ke(t,(i,c)=>{const d=c.event,m=i.getSystem().getByDom(d.target).getOrThunk(()=>Ch(d.target,x=>i.getSystem().getByDom(x).toOptional(),Vt).getOr(i));s(i,m,c)}),rl=t=>Ke(t,(s,i)=>{i.cut()}),aA=t=>Ke(t,(s,i)=>{i.stop()}),Zm=(t,s)=>Ah(t)(s),ys=Ah(za()),ku=Ah(Fl()),lx=Ah(kv()),Hl=ax(Ha()),cA=(t,s)=>{const c=(s||document).createElement("div");return c.innerHTML=t,vc(Ae.fromDom(c))},Cy=t=>t.dom.innerHTML,Ed=(t,s)=>{const c=ya(t).dom,d=Ae.fromDom(c.createDocumentFragment()),m=cA(s,c);La(d,m),zr(t),er(t,d)},qm=t=>{const s=Ae.fromTag("div"),i=Ae.fromDom(t.dom.cloneNode(!0));return er(s,i),Cy(s)},ux=(t,s)=>Ae.fromDom(t.dom.cloneNode(s)),Oh=t=>ux(t,!1),Pv=t=>ux(t,!0),_d=t=>{if(ng(t))return"#shadow-root";{const s=Oh(t);return qm(s)}},Ou=t=>_d(t),dx=(t,s,i)=>yo(s,t.element)&&!yo(s,i),xy=ns([by(Eu(),(t,s)=>{const i=s.event,c=i.originator,d=i.target;return dx(t,c,d)?(console.warn(Eu()+` did not get interpreted by the desired target. 
Originator: `+Ou(c)+`
Target: `+Ou(d)+`
Check the `+Eu()+" event handlers"),!1):!0})]);var lA=Object.freeze({__proto__:null,events:xy});let Dh=0;const zt=t=>{const i=new Date().getTime(),c=Math.floor(Math.random()*1e9);return Dh++,t+"_"+c+Dh+String(i)},Rh=A("alloy-id-"),fx=A("data-alloy-id"),uA=Rh(),Gm=fx(),dA=(t,s)=>{const i=zt(uA+t);return Ko(s,i),i},Ko=(t,s)=>{Object.defineProperty(t.dom,Gm,{value:s,writable:!0})},Ph=t=>{const s=Uo(t)?t.dom[Gm]:null;return P.from(s)},Km=t=>zt(t),Sy=mn,Mh=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Ou(t().element)+" is not in context.":""),i=d=>()=>{throw new Error(s(d))},c=d=>()=>{console.warn(s(d))};return{debugInfo:A("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Vt}},hx=Mh(),Va=(t,s,i)=>{const c=i.toString(),d=c.indexOf(")")+1,m=c.indexOf("("),p=c.substring(m+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:or(p.slice(0,1).concat(p.slice(3)))}),t},or=t=>He(t,s=>Vc(s,"/*")?s.substring(0,s.length-2):s),Ey=(t,s)=>{const i=t.toString(),c=i.indexOf(")")+1,d=i.indexOf("("),m=i.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:or(m)}),t},fA=(t,s)=>{const i=s.toString(),c=i.indexOf(")")+1,d=i.indexOf("("),m=i.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:or(m.slice(1))}),t},Mv=zt("alloy-premade"),Bh=t=>(Object.defineProperty(t.element.dom,Mv,{value:t.uid,writable:!0}),wh(Mv,t)),_y=t=>go(t.dom,Mv),gg=t=>Dt(t,Mv),il=t=>fA((s,...i)=>t(s.getApis(),s,...i),t),Du={init:()=>Cc({readState:A("No State required")})},Cc=t=>t,IR=(t,s)=>{const i=He(s,d=>Ta(d.name(),[rt("config"),Pe("state",Du)])),c=fs("component.behaviours",pn(i),t.behaviours).fold(d=>{throw new Error($m(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},mn);return{list:s,data:is(c,d=>{const m=d.map(p=>({config:p.config,state:p.state.init(p.config)}));return A(m)})}},$R=t=>t.list,LR=t=>t.data,vg=(t,s)=>{const i={};return lr(t,(c,d)=>{lr(c,(m,p)=>{const x=Dt(i,p).getOr([]);i[p]=x.concat([s(d,m)])})}),i},Rr=t=>({classes:be(t.classes)?[]:t.classes,attributes:be(t.attributes)?{}:t.attributes,styles:be(t.styles)?{}:t.styles}),zi=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),mx=(t,s,i,c)=>{const d={...s};ht(i,N=>{d[N.name()]=N.exhibit(t,c)});const m=vg(d,(N,z)=>({name:N,modification:z})),p=N=>Cs(N,(z,Y)=>({...Y.modification,...z}),{}),x=Cs(m.classes,(N,z)=>z.modification.concat(N),[]),E=p(m.attributes),R=p(m.styles);return Rr({classes:x,attributes:E,styles:R})},hA=(t,s,i,c)=>{try{const d=Xa(i,(m,p)=>{const x=m[s],E=p[s],R=c.indexOf(x),N=c.indexOf(E);if(R===-1)throw new Error("The ordering for "+t+" does not have an entry for "+x+`.
Order specified: `+JSON.stringify(c,null,2));if(N===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(c,null,2));return R<N?-1:N<R?1:0});return Ln.value(d)}catch(d){return Ln.error([d])}},Cf=(t,s)=>({handler:t,purpose:s}),Bv=(t,s)=>({cHandler:t,purpose:s}),Ty=(t,s)=>Bv(Sn.apply(void 0,[t.handler].concat(s)),t.purpose),Ym=t=>t.cHandler,Xm=(t,s)=>({name:t,handler:s}),xf=(t,s)=>{const i={};return ht(t,c=>{i[c.name()]=c.handlers(s)}),i},Td=(t,s,i)=>{const c={...i,...xf(s,t)};return vg(c,Xm)},bg=(t,s,i,c)=>{const d=Td(t,i,c);return wg(d,s)},Jm=t=>{const s=ox(t);return(i,c,...d)=>{const m=[i,c].concat(d);s.abort.apply(void 0,m)?c.stop():s.can.apply(void 0,m)&&s.run.apply(void 0,m)}},Nh=(t,s)=>Ln.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,i=>i.name),null,2)]),yg=(t,s,i)=>{const c=s[i];return c?hA("Event: "+i,"name",t,c).map(d=>{const m=He(d,p=>p.handler);return dy(m)}):Nh(i,t)},wg=(t,s)=>{const i=af(t,(c,d)=>(c.length===1?Ln.value(c[0].handler):yg(c,s,d)).map(p=>{const x=Jm(p),E=c.length>1?po(s[d],R=>Rn(c,N=>N.name===R)).join(" > "):c[0].name;return wh(d,Cf(x,E))}));return NR(i,{})},Ru="alloy.base.behaviour",px=pn([Ur("dom","dom",Eo(),pn([rt("tag"),Pe("styles",{}),Pe("classes",[]),Pe("attributes",{}),_o("value"),_o("innerHtml")])),rt("components"),rt("uid"),Pe("events",{}),Pe("apis",{}),Ur("eventOrder","eventOrder",Q0({[Ha()]:["disabling",Ru,"toggling","typeaheadevents"],[Eu()]:[Ru,"focusing","keying"],[kv()]:[Ru,"disabling","toggling","representing"],[Su()]:[Ru,"representing","streaming","invalidating"],[Fl()]:[Ru,"representing","item-events","toolbar-button-events","tooltipping"],[Aa()]:["focusing",Ru,"item-type-events"],[wu()]:["focusing",Ru,"item-type-events"],[xu()]:["item-type-events","tooltipping"],[_u()]:["receiving","reflecting","tooltipping"]}),yu()),_o("domModification")]),Ay=t=>fs("custom.definition",px,t),Nv=t=>({...t.dom,uid:t.uid,domChildren:He(t.components,s=>s.element)}),mA=t=>t.domModification.fold(()=>Rr({}),Rr),pA=t=>t.events,Cg=(t,s)=>{const i=As(t,s);return i===void 0||i===""?[]:i.split(" ")},Iv=(t,s,i)=>{const d=Cg(t,s).concat([i]);return Mt(t,s,d.join(" ")),!0},Qm=(t,s,i)=>{const c=po(Cg(t,s),d=>d!==i);return c.length>0?Mt(t,s,c.join(" ")):xs(t,s),!1},Ih=t=>t.dom.classList!==void 0,$v=t=>Cg(t,"class"),gx=(t,s)=>Iv(t,"class",s),$h=(t,s)=>Qm(t,"class",s),ep=(t,s)=>ct($v(t),s)?$h(t,s):gx(t,s),Ds=(t,s)=>{Ih(t)?t.dom.classList.add(s):gx(t,s)},ky=t=>{(Ih(t)?t.dom.classList:$v(t)).length===0&&xs(t,"class")},Ps=(t,s)=>{Ih(t)?t.dom.classList.remove(s):$h(t,s),ky(t)},Lh=(t,s)=>{const i=Ih(t)?t.dom.classList.toggle(s):ep(t,s);return ky(t),i},Ua=(t,s)=>Ih(t)&&t.dom.classList.contains(s),Ad=(t,s)=>{ht(s,i=>{Ds(t,i)})},Wa=(t,s)=>{ht(s,i=>{Ps(t,i)})},vx=(t,s)=>{ht(s,i=>{Lh(t,i)})},gA=(t,s)=>di(s,i=>Ua(t,i)),vA=t=>{const s=t.dom.classList,i=new Array(s.length);for(let c=0;c<s.length;c++){const d=s.item(c);d!==null&&(i[c]=d)}return i},tp=t=>Ih(t)?vA(t):$v(t),kd=t=>t.dom.value,Pu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Oy=(t,s,i)=>Dl(t,s).map(d=>{if(i.exists(p=>!yo(p,d))){const p=i.map(Vs).getOr("span"),x=Ae.fromTag(p);return No(d,x),x}else return d}),Lv=(t,s,i)=>{i.fold(()=>er(t,s),c=>{yo(c,s)||(No(c,s),Xc(c))})},sr=(t,s,i)=>{const c=He(s,i),d=vc(t);return ht(d.slice(c.length),Xc),c},bx=(t,s,i,c)=>{const d=Dl(t,s),m=c(i,d),p=Oy(t,s,d);return Lv(t,m.element,p),m},Od=(t,s,i)=>sr(t,s,(c,d)=>bx(t,d,c,i)),yx=(t,s)=>sr(t,s,(i,c)=>{const d=Dl(t,c);return Lv(t,i,d),i}),Fv=(t,s)=>{const i=Ts(t),c=Ts(s),d=Jt(c,i),m=Ji(t,(p,x)=>!go(s,x)||p!==s[x]).t;return{toRemove:d,toSet:m}},xc=(t,s)=>{const{class:i,style:c,...d}=G0(s),{toSet:m,toRemove:p}=Fv(t.attributes,d),x=()=>{ht(p,Se=>xs(s,Se)),dv(s,m)},E=ie(s),{toSet:R,toRemove:N}=Fv(t.styles,E),z=()=>{ht(N,Se=>me(s,Se)),_(s,R)},Y=tp(s),J=Jt(Y,t.classes),se=Jt(t.classes,Y),fe=()=>{Ad(s,se),Wa(s,J)},Me=Se=>{Ed(s,Se)},we=()=>{const Se=t.domChildren;yx(s,Se)},ke=()=>{const Se=s,ot=t.value.getOrUndefined();ot!==kd(Se)&&Pu(Se,ot??"")};return x(),fe(),z(),t.innerHtml.fold(we,Me),ke(),s},Dd=t=>{const s=Ae.fromTag(t.tag);dv(s,t.attributes),Ad(s,t.classes),_(s,t.styles),t.innerHtml.each(c=>Ed(s,c));const i=t.domChildren;return La(s,i),t.value.each(c=>{Pu(s,c)}),s},xg=(t,s)=>{try{const i=xc(t,s);return P.some(i)}catch{return P.none()}},Sg=t=>t.innerHtml.isSome()&&t.domChildren.length>0,bA=(t,s)=>{const i=d=>Vs(d)===t.tag&&!Sg(t)&&!_y(d),c=s.filter(i).bind(d=>xg(t,d)).getOrThunk(()=>Dd(t));return Ko(c,t.uid),c},yA=t=>{const s=Dt(t,"behaviours").getOr({});return Le(Ts(s),i=>{const c=s[i];return xe(c)?[c.me]:[]})},Eg=(t,s)=>IR(t,s),Rd=t=>{const s=yA(t);return Eg(t,s)},wA=(t,s,i)=>{const c=Nv(t),d=mA(t),m={"alloy.base.modification":d},p=s.length>0?mx(i,m,s,c):d;return zi(c,p)},Wr=(t,s,i)=>{const c={"alloy.base.behaviour":pA(t)};return bg(i,t.eventOrder,s,c).getOrDie()},Hv=(t,s)=>{const i=()=>Se,c=rn(hx),d=Il(Ay(t)),m=Rd(t),p=$R(m),x=LR(m),E=wA(d,p,x),R=bA(E,s),N=Wr(d,p,x),z=rn(d.components),Y=ot=>{c.set(ot)},J=()=>{c.set(Mh(i))},se=()=>{const ot=vc(R),Qe=Le(ot,lt=>c.get().getByDom(lt).fold(()=>[],To));z.set(Qe)},fe=ot=>{const Qe=x;return(Re(Qe[ot.name()])?Qe[ot.name()]:()=>{throw new Error("Could not find "+ot.name()+" in "+JSON.stringify(t,null,2))})()},Me=ot=>Re(x[ot.name()]),we=()=>d.apis,ke=ot=>x[ot]().map(Qe=>Qe.state.readState()).getOr("not enabled"),Se={uid:t.uid,getSystem:c.get,config:fe,hasConfigured:Me,spec:t,readState:ke,getApis:we,connect:Y,disconnect:J,element:R,syncComponents:se,components:z.get,events:N};return Se},ja=(t,s)=>{const i=Dt(t,"components").getOr([]);return s.fold(()=>He(i,jr),c=>He(i,(d,m)=>ka(d,Dl(c,m))))},wx=(t,s)=>{const{events:i,...c}=Sy(t),d=ja(c,s),m={...c,events:{...lA,...i},components:d};return Ln.value(Hv(m,s))},Ws=t=>{const s=Ae.fromText(t);return Mu({element:s})},Mu=t=>{const s=Vr("external.component",_a([rt("element"),_o("uid")]),t),i=rn(Mh()),c=x=>{i.set(x)},d=()=>{i.set(Mh(()=>p))},m=s.uid.getOrThunk(()=>Km("external"));Ko(s.element,m);const p={uid:m,getSystem:i.get,config:P.none,hasConfigured:Vt,connect:c,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:A("No state"),syncComponents:ue,components:A([]),events:{}};return Bh(p)},np=Km,Pd=t=>go(t,"uid"),ka=(t,s)=>gg(t).getOrThunk(()=>{const i=Pd(t)?t:{uid:np(""),...t};return wx(i,s).getOrDie()}),jr=t=>ka(t,P.none()),Sc=Bh;var zv=(t,s,i,c,d)=>t(i,c)?P.some(i):Re(d)&&d(i)?P.none():s(i,c,d);const Vv=(t,s,i)=>{let c=t.dom;const d=Re(i)?i:Vt;for(;c.parentNode;){c=c.parentNode;const m=Ae.fromDom(c);if(s(m))return P.some(m);if(d(m))break}return P.none()},op=(t,s,i)=>zv((d,m)=>m(d),Vv,t,s,i),Uv=(t,s)=>{const i=t.dom;return i.parentNode?_g(Ae.fromDom(i.parentNode),c=>!yo(t,c)&&s(c)):P.none()},_g=(t,s)=>{const i=d=>s(Ae.fromDom(d));return An(t.dom.childNodes,i).map(Ae.fromDom)},CA=(t,s)=>{const i=c=>{for(let d=0;d<c.childNodes.length;d++){const m=Ae.fromDom(c.childNodes[d]);if(s(m))return P.some(m);const p=i(c.childNodes[d]);if(p.isSome())return p}return P.none()};return i(t.dom)},Tg=(t,s,i)=>op(t,s,i).isSome(),Cx=t=>Cm(t),rc=(t,s,i)=>Vv(t,c=>$i(c,s),i),Sf=(t,s)=>Uv(t,i=>$i(i,s)),Wv=(t,s)=>_g(t,i=>$i(i,s)),hs=(t,s)=>Cm(s,t),zl=(t,s,i)=>zv((d,m)=>$i(d,m),rc,t,s,i),Bu="aria-controls",Ag=t=>op(t,i=>{if(!Uo(i))return!1;const c=As(i,"id");return c!==void 0&&c.indexOf(Bu)>-1}).bind(i=>{const c=As(i,"id"),d=gs(i);return hs(d,`[${Bu}="${c}"]`)}),xx=()=>{const t=zt(Bu);return{id:t,link:c=>{Mt(c,Bu,t)},unlink:c=>{xs(c,Bu)}}},xA=(t,s)=>Ag(s).exists(i=>Ef(t,i)),Ef=(t,s)=>Tg(s,i=>yo(i,t.element),Vt)||xA(t,s),Dy="unknown";var sp;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(sp||(sp={}));const rp=rn({}),Md=(t,s)=>{const i=[],c=new Date().getTime();return{logEventCut:(d,m,p)=>{i.push({outcome:"cut",target:m,purpose:p})},logEventStopped:(d,m,p)=>{i.push({outcome:"stopped",target:m,purpose:p})},logNoParent:(d,m,p)=>{i.push({outcome:"no-parent",target:m,purpose:p})},logEventNoHandlers:(d,m)=>{i.push({outcome:"no-handlers-left",target:m})},logEventResponse:(d,m,p)=>{i.push({outcome:"response",purpose:p,target:m})},write:()=>{const d=new Date().getTime();ct(["mousemove","mouseover","mouseout",kv()],t)||console.log(t,{event:t,time:d-c,target:s.dom,sequence:He(i,m=>ct(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+Ou(m.target)+")":m.outcome)})}}},SA=(t,s,i)=>{switch(Dt(rp.get(),t).orThunk(()=>{const d=Ts(rp.get());return gr(d,m=>t.indexOf(m)>-1?P.some(rp.get()[m]):P.none())}).getOr(sp.NORMAL)){case sp.NORMAL:return i(Sx());case sp.LOGGING:{const d=Md(t,s),m=i(d);return d.write(),m}case sp.STOP:return!0}},EA=["alloy/data/Fields","alloy/debugging/Debugging"],Ry=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return An(s,i=>i.indexOf("alloy")>0&&!Rn(EA,c=>i.indexOf(c)>-1)).getOr(Dy)}else return Dy},Py={logEventCut:ue,logEventStopped:ue,logNoParent:ue,logEventNoHandlers:ue,logEventResponse:ue,write:ue},jv=(t,s,i)=>SA(t,s,i),Sx=A(Py),My=A([rt("menu"),rt("selectedMenu")]),By=A([rt("item"),rt("selectedItem")]);A(pn(By().concat(My())));const Ex=A(pn(By())),FR=Qc("initSize",[rt("numColumns"),rt("numRows")]),_f=()=>ni("markers",Ex()),Ny=()=>Qc("markers",[rt("backgroundMenu")].concat(My()).concat(By())),al=t=>Qc("markers",He(t,rt)),ic=(t,s,i)=>(Ry(),Ur(s,s,i,Im(c=>Ln.value((...d)=>c.apply(void 0,d))))),ho=t=>ic("onHandler",t,X0(ue)),oa=t=>ic("onKeyboardHandler",t,X0(P.none)),Fh=t=>ic("onHandler",t,Eo()),Iy=t=>ic("onKeyboardHandler",t,Eo()),ms=(t,s)=>at(t,A(s)),$y=t=>at(t,mn),Ly=A(FR),Zr=(t,s,i,c,d,m,p,x=!1)=>({x:t,y:s,bubble:i,direction:c,placement:d,restriction:m,label:`${p}-${d}`,alwaysFit:x}),Nu=$l.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),_x=(t,s,i,c,d,m,p,x,E)=>t.fold(s,i,c,d,m,p,x,E),kg=(t,s,i,c)=>t.fold(s,s,c,c,s,c,i,i),_A=(t,s,i,c)=>t.fold(s,c,s,c,i,i,s,c),Ec=Nu.southeast,ip=Nu.southwest,Og=Nu.northeast,Hh=Nu.northwest,Zv=Nu.south,qv=Nu.north,Fy=Nu.east,Dg=Nu.west,Rg=(t,s,i,c)=>{const d=t+s;return d>c?i:d<i?c:d},Hs=(t,s,i)=>Math.min(Math.max(t,s),i),Tx=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},js=(t,s)=>Ya(["left","right","top","bottom"],i=>Dt(s,i).map(c=>Tx(t,c))),zh=(t,s,i)=>{const c=(E,R)=>s[E].map(N=>{const z=E==="top"||E==="bottom",Y=z?i.top:i.left,se=(E==="left"||E==="top"?Math.max:Math.min)(N,R)+Y;return z?Hs(se,t.y,t.bottom):Hs(se,t.x,t.right)}).getOr(R),d=c("left",t.x),m=c("top",t.y),p=c("right",t.right),x=c("bottom",t.bottom);return yr(d,m,p-d,x-m)},Tf="layout",Ve=t=>t.x,Vh=(t,s)=>t.x+t.width/2-s.width/2,Ax=(t,s)=>t.x+t.width-s.width,Hy=(t,s)=>t.y-s.height,Pg=t=>t.y+t.height,_c=(t,s)=>t.y+t.height/2-s.height/2,zy=t=>t.x+t.width,Mg=(t,s)=>t.x-s.width,hr=(t,s,i)=>Zr(Ve(t),Pg(t),i.southeast(),Ec(),"southeast",js(t,{left:1,top:3}),Tf),rr=(t,s,i)=>Zr(Ax(t,s),Pg(t),i.southwest(),ip(),"southwest",js(t,{right:0,top:3}),Tf),os=(t,s,i)=>Zr(Ve(t),Hy(t,s),i.northeast(),Og(),"northeast",js(t,{left:1,bottom:2}),Tf),Cr=(t,s,i)=>Zr(Ax(t,s),Hy(t,s),i.northwest(),Hh(),"northwest",js(t,{right:0,bottom:2}),Tf),qr=(t,s,i)=>Zr(Vh(t,s),Hy(t,s),i.north(),qv(),"north",js(t,{bottom:2}),Tf),Zs=(t,s,i)=>Zr(Vh(t,s),Pg(t),i.south(),Zv(),"south",js(t,{top:3}),Tf),Vy=(t,s,i)=>Zr(zy(t),_c(t,s),i.east(),Fy(),"east",js(t,{left:0}),Tf),Gv=(t,s,i)=>Zr(Mg(t,s),_c(t,s),i.west(),Dg(),"west",js(t,{right:1}),Tf),kx=()=>[hr,rr,os,Cr,Zs,qr,Vy,Gv],Ox=()=>[rr,hr,Cr,os,Zs,qr,Vy,Gv],Uy=()=>[os,Cr,hr,rr,qr,Zs],Bg=()=>[Cr,os,rr,hr,qr,Zs],Ng=()=>[hr,rr,os,Cr,Zs,qr],Kv=()=>[rr,hr,Cr,os,Zs,qr],TA=(t,s)=>s.universal?t:po(t,i=>ct(s.channels,i));var Rx=Object.freeze({__proto__:null,events:t=>ns([Ke(_u(),(s,i)=>{const c=t.channels,d=Ts(c),m=i,p=TA(d,m);ht(p,x=>{const E=c[x],R=E.schema,N=Vr("channel["+x+`] data
Receiver: `+Ou(s.element),R,m.data);E.onReceive(s,N)})})])}),Px=[ni("channels",yh(Ln.value,_a([Fh("onReceive"),Pe("schema",yu())])))];const Mx=(t,s,i)=>Hl(c=>{i(c,t,s)}),Wy=(t,s,i)=>lx((c,d)=>{i(c,t,s)}),Bx=(t,s,i,c,d,m)=>{const p=_a(t),x=Ta(s,[cy("config",t)]);return jy(p,x,s,i,c,d,m)},Yv=(t,s,i,c,d,m)=>{const p=t,x=Ta(s,[el("config",t)]);return jy(p,x,s,i,c,d,m)},AA=(t,s,i)=>Va((d,...m)=>{const p=[d].concat(m);return d.config({name:A(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},x=>{const E=Array.prototype.slice.call(p,1);return s.apply(void 0,[d,x.config,x.state].concat(E))})},i,s),Nx=t=>({key:t,value:void 0}),jy=(t,s,i,c,d,m,p)=>{const x=z=>va(z,i)?z[i]():P.none(),E=is(d,(z,Y)=>AA(i,z,Y)),N={...is(m,(z,Y)=>Ey(z,Y)),...E,revoke:Sn(Nx,i),config:z=>{const Y=Vr(i+"-config",t,z);return{key:i,value:{config:Y,me:N,configAsRaw:wa(()=>Vr(i+"-config",t,z)),initialConfig:z,state:p}}},schema:A(s),exhibit:(z,Y)=>uu(x(z),Dt(c,"exhibit"),(J,se)=>se(Y,J.config,J.state)).getOrThunk(()=>Rr({})),name:A(i),handlers:z=>x(z).map(Y=>Dt(c,"events").getOr(()=>({}))(Y.config,Y.state)).getOr({})};return N},yt=t=>Hm(t),Zy=_a([rt("fields"),rt("name"),Pe("active",{}),Pe("apis",{}),Pe("state",Du),Pe("extra",{})]),Gr=t=>{const s=Vr("Creating behaviour: "+t.name,Zy,t);return Bx(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Ix=_a([rt("branchKey"),rt("branches"),rt("name"),Pe("active",{}),Pe("apis",{}),Pe("state",Du),Pe("extra",{})]),qy=t=>{const s=Vr("Creating behaviour: "+t.name,Ix,t);return Yv(wr(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Vi=A(void 0),Za=Gr({fields:Px,name:"receiving",active:Rx});var $x=Object.freeze({__proto__:null,exhibit:(t,s)=>Rr({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Tc=(t,s=!1)=>t.dom.focus({preventScroll:s}),Xv=t=>t.dom.blur(),ap=t=>{const s=gs(t).dom;return t.dom===s.activeElement},cl=(t=mv())=>P.from(t.dom.activeElement).map(Ae.fromDom),si=t=>cl(gs(t)).filter(s=>t.dom.contains(s.dom)),Jv=(t,s)=>{const i=gs(s),c=cl(i).bind(m=>{const p=x=>yo(m,x);return p(s)?P.some(s):CA(s,p)}),d=t(s);return c.each(m=>{cl(i).filter(p=>yo(p,m)).fold(()=>{Tc(m)},ue)}),d},ll=(t,s,i,c,d)=>{const m=p=>p+"px";return{position:t,left:s.map(m),top:i.map(m),right:c.map(m),bottom:d.map(m)}},Gy=t=>({...t,position:P.some(t.position)}),Ky=(t,s)=>{D(t,Gy(s))},Yy=$l.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Qv=(t,s,i,c,d,m)=>{const p=s.rect,x=p.x-i,E=p.y-c,R=p.width,N=p.height,z=d-(x+R),Y=m-(E+N),J=P.some(x),se=P.some(E),fe=P.some(z),Me=P.some(Y),we=P.none();return _x(s.direction,()=>ll(t,J,se,we,we),()=>ll(t,we,se,fe,we),()=>ll(t,J,we,we,Me),()=>ll(t,we,we,fe,Me),()=>ll(t,J,se,we,we),()=>ll(t,J,we,we,Me),()=>ll(t,J,se,we,we),()=>ll(t,we,se,fe,we))},Lx=(t,s)=>t.fold(()=>{const i=s.rect;return ll("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,c,d,m)=>Qv("absolute",s,i,c,d,m),(i,c,d,m)=>Qv("fixed",s,i,c,d,m)),Xy=(t,s)=>{const i=Sn(gv,s),c=t.fold(i,i,()=>{const p=ta();return gv(s).translate(-p.left,-p.top)}),d=vs(s),m=It(s);return yr(c.left,c.top,d,m)},kA=(t,s)=>s.fold(()=>t.fold(Fi,Fi,yr),i=>t.fold(A(i),A(i),()=>{const c=Jy(t,i.x,i.y);return yr(c.left,c.top,i.width,i.height)})),Jy=(t,s,i)=>{const c=kn(s,i),d=()=>{const m=ta();return c.translate(-m.left,-m.top)};return t.fold(A(c),A(c),d)},Lt=(t,s,i,c)=>t.fold(s,i,c);Yy.none;const eb=Yy.relative,Fx=Yy.fixed,OA=(t,s)=>({anchorBox:t,origin:s}),DA=(t,s)=>OA(t,s),Qy="data-alloy-placement",Hx=(t,s)=>{Mt(t,Qy,s)},zx=t=>Js(t,Qy),RA=t=>xs(t,Qy),Ig=$l.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),PA=(t,s)=>{const{x:i,y:c,right:d,bottom:m}=s,{x:p,y:x,right:E,bottom:R,width:N,height:z}=t,Y=p>=i&&p<=d,J=x>=c&&x<=m,se=Y&&J,fe=E<=d&&E>=i,Me=R<=m&&R>=c,we=fe&&Me,ke=Math.min(N,p>=i?d-p:E-i),Se=Math.min(z,x>=c?m-x:R-c);return{originInBounds:se,sizeInBounds:we,visibleW:ke,visibleH:Se}},Ui=(t,s)=>{const{x:i,y:c,right:d,bottom:m}=s,{x:p,y:x,width:E,height:R}=t,N=Math.max(i,d-E),z=Math.max(c,m-R),Y=Hs(p,i,N),J=Hs(x,c,z),se=Math.min(Y+E,d)-Y,fe=Math.min(J+R,m)-J;return yr(Y,J,se,fe)},$g=(t,s,i)=>{const c=A(s.bottom-i.y),d=A(i.bottom-s.y),m=kg(t,d,d,c),p=A(s.right-i.x),x=A(i.right-s.x);return{maxWidth:_A(t,x,x,p),maxHeight:m}},Vx=(t,s,i,c)=>{const d=t.bubble,m=d.offset,p=zh(c,t.restriction,m),x=t.x+m.left,E=t.y+m.top,R=yr(x,E,s,i),{originInBounds:N,sizeInBounds:z,visibleW:Y,visibleH:J}=PA(R,p),se=N&&z,fe=se?R:Ui(R,p),Me=fe.width>0&&fe.height>0,{maxWidth:we,maxHeight:ke}=$g(t.direction,fe,c),Se={rect:fe,maxHeight:ke,maxWidth:we,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:E};return se||t.alwaysFit?Ig.fit(Se):Ig.nofit(Se,Y,J,Me)},Ux=(t,s,i,c,d,m)=>{const p=c.width,x=c.height,E=(N,z,Y,J,se)=>{const fe=N(i,c,d,t,m),Me=Vx(fe,p,x,m);return Me.fold(A(Me),(we,ke,Se,ot)=>(se===ot?Se>J||ke>Y:!se&&ot)?Me:Ig.nofit(z,Y,J,se))};return Mo(s,(N,z)=>{const Y=Sn(E,z);return N.fold(A(N),Y)},Ig.nofit({rect:i,maxHeight:c.height,maxWidth:c.width,direction:Ec(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(mn,mn)},Bd=t=>{const s=rn(P.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:x=>{i(),s.set(P.some(x))}}},MA=()=>Bd(t=>t.destroy()),cp=()=>Bd(t=>t.unbind()),ss=()=>{const t=Bd(ue);return{...t,on:i=>t.get().each(i)}},e2=wt,bi=(t,s,i)=>so(t,s,e2,i),xr=(t,s,i)=>ko(t,s,e2,i),Wx=xn,t2=["top","bottom","right","left"],tb="data-alloy-transition-timer",jx=(t,s)=>gA(t,s.classes),Zx=(t,s,i)=>i.exists(c=>{const d=t.mode;return d==="all"?!0:c[d]!==s[d]}),BA=(t,s)=>{const i=c=>parseFloat(c).toFixed(3);return fi(s,(c,d)=>{const m=t[d].map(i),p=c.map(i);return!ea(m,p)}).isSome()},n2=t=>{const s=m=>{const x=L(t,m).split(/\s*,\s*/);return po(x,ba)},i=m=>{if(q(m)&&/^[\d.]+/.test(m)){const p=parseFloat(m);return Vc(m,"ms")?p:p*1e3}else return 0},c=s("transition-delay"),d=s("transition-duration");return Mo(d,(m,p,x)=>{const E=i(c[x])+i(p);return Math.max(m,E)},0)},qx=(t,s)=>{const i=cp(),c=cp();let d;const m=R=>{var N;const z=(N=R.raw.pseudoElement)!==null&&N!==void 0?N:"";return yo(R.target,t)&&Go(z)&&ct(t2,R.raw.propertyName)},p=R=>{if(he(R)||m(R)){i.clear(),c.clear();const N=R==null?void 0:R.raw.type;(he(N)||N===Ll())&&(clearTimeout(d),xs(t,tb),Wa(t,s.classes))}},x=bi(t,sA(),R=>{m(R)&&(x.unbind(),i.set(bi(t,Ll(),p)),c.set(bi(t,sx(),p)))}),E=n2(t);requestAnimationFrame(()=>{d=setTimeout(p,E+17),Mt(t,tb,d)})},NA=(t,s)=>{Ad(t,s.classes),Js(t,tb).each(i=>{clearTimeout(parseInt(i,10)),xs(t,tb)}),qx(t,s)},lp=(t,s,i,c,d,m)=>{const p=Zx(c,d,m);if(p||jx(t,c)){b(t,"position",i.position);const x=Xy(s,t),E=Lx(s,{...d,rect:x}),R=Ya(t2,N=>E[N]);BA(i,R)&&(D(t,R),p&&NA(t,c),Ne(t))}else Wa(t,c.classes)},Gx=t=>({width:vs(t),height:It(t)}),HR=(t,s,i,c)=>{me(s,"max-height"),me(s,"max-width");const d=Gx(s);return Ux(s,c.preference,t,d,i,c.bounds)},Uh=(t,s)=>{const i=s.classes;Wa(t,i.off),Ad(t,i.on)},Kx=(t,s,i)=>{const c=i.maxHeightFunction;c(t,s.maxHeight)},IA=(t,s,i)=>{const c=i.maxWidthFunction;c(t,s.maxWidth)},$A=(t,s,i)=>{const c=Lx(i.origin,s);i.transition.each(d=>{lp(t,i.origin,c,d,s,i.lastPlacement)}),Ky(t,c)},Yx=(t,s)=>{Hx(t,s.placement)},o2=(t,s)=>{co(t,Math.floor(s))},s2=A((t,s)=>{o2(t,s),_(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Wh=A((t,s)=>{o2(t,s)}),Xx=(t,s,i)=>t[s]===void 0?i:t[s],up=(t,s,i,c,d,m,p,x)=>{const E=Xx(p,"maxHeightFunction",s2()),R=Xx(p,"maxWidthFunction",ue),N=t.anchorBox,z=t.origin,Y={bounds:kA(z,m),origin:z,preference:c,maxHeightFunction:E,maxWidthFunction:R,lastPlacement:d,transition:x};return LA(N,s,i,Y)},LA=(t,s,i,c)=>{const d=HR(t,s,i,c);return $A(s,d,c),Yx(s,d),Uh(s,d),Kx(s,d,c),IA(s,d,c),{layout:d.layout,placement:d.placement}},r2=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ul=(t,s,i,c=1)=>{const d=t*c,m=s*c,p=E=>Dt(i,E).getOr([]),x=(E,R,N)=>{const z=Jt(r2,N);return{offset:kn(E,R),classesOn:Le(N,p),classesOff:Le(z,p)}};return{southeast:()=>x(-t,s,["top","alignLeft"]),southwest:()=>x(t,s,["top","alignRight"]),south:()=>x(-t/2,s,["top","alignCentre"]),northeast:()=>x(-t,-s,["bottom","alignLeft"]),northwest:()=>x(t,-s,["bottom","alignRight"]),north:()=>x(-t/2,-s,["bottom","alignCentre"]),east:()=>x(t,-s/2,["valignCentre","left"]),west:()=>x(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>x(d,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-d,m,["top","alignRight","inset"]),insetNorth:()=>x(-d/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(d,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-d,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-d/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-d,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(d,-m/2,["valignCentre","left","inset"])}},Af=()=>ul(0,0,{}),nb=mn,Lg=(t,s)=>i=>Jx(i)==="rtl"?s:t,Jx=t=>L(t,"direction")==="rtl"?"rtl":"ltr";var $u;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})($u||($u={}));const ob="data-alloy-vertical-dir",jh=t=>Tg(t,s=>Uo(s)&&As(s,"data-alloy-vertical-dir")===$u.BottomToTop),dl=()=>Ta("layouts",[rt("onLtr"),rt("onRtl"),_o("onBottomLtr"),_o("onBottomRtl")]),dp=(t,s,i,c,d,m,p)=>{const x=p.map(jh).getOr(!1),E=s.layouts.map(J=>J.onLtr(t)),R=s.layouts.map(J=>J.onRtl(t)),N=x?s.layouts.bind(J=>J.onBottomLtr.map(se=>se(t))).or(E).getOr(d):E.getOr(i),z=x?s.layouts.bind(J=>J.onBottomRtl.map(se=>se(t))).or(R).getOr(m):R.getOr(c);return Lg(N,z)(t)},FA=(t,s,i)=>{const c=s.hotspot,d=Xy(i,c.element),m=dp(t.element,s,Ng(),Kv(),Uy(),Bg(),P.some(s.hotspot.element));return P.some(nb({anchorBox:d,bubble:s.bubble.getOr(Af()),overrides:s.overrides,layouts:m}))};var Qx=[rt("hotspot"),_o("bubble"),Pe("overrides",{}),dl(),ms("placement",FA)];const HA=(t,s,i)=>{const c=Jy(i,s.x,s.y),d=yr(c.left,c.top,s.width,s.height),m=dp(t.element,s,kx(),Ox(),kx(),Ox(),P.none());return P.some(nb({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:m}))};var zA=[rt("x"),rt("y"),Pe("height",0),Pe("width",0),Pe("bubble",Af()),Pe("overrides",{}),dl(),ms("placement",HA)];const i2=$l.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),VA=t=>t.fold(mn,(s,i,c)=>s.translate(-i,-c)),eS=t=>t.fold(mn,mn),Fg=t=>Mo(t,(s,i)=>s.translate(i.left,i.top),kn(0,0)),tS=t=>{const s=He(t,VA);return Fg(s)},nS=t=>{const s=He(t,eS);return Fg(s)},UA=i2.screen,WA=i2.absolute,oS=(t,s,i)=>{const c=Ol(i.root).dom,d=m=>{const p=ya(m),x=ya(t.element);return yo(p,x)};return P.from(c.frameElement).map(Ae.fromDom).filter(d).map(Qs)},sS=(t,s,i)=>{const c=ya(t.element),d=ta(c),m=oS(t,s,i).getOr(d);return WA(m,d.left,d.top)},a2=(t,s,i,c)=>{const d=UA(kn(t,s));return P.some(YT(d,i,c))},rS=(t,s,i,c,d)=>t.map(m=>{const p=[s,m.point],x=Lt(c,()=>nS(p),()=>nS(p),()=>tS(p)),E=mh(x.left,x.top,m.width,m.height),R=i.showAbove?Uy():Ng(),N=i.showAbove?Bg():Kv(),z=dp(d,i,R,N,R,N,P.none());return nb({anchorBox:E,bubble:i.bubble.getOr(Af()),overrides:i.overrides,layouts:z})}),jA=(t,s,i)=>{const c=sS(t,i,s);return s.node.filter(ur).bind(d=>{const m=d.dom.getBoundingClientRect(),p=a2(m.left,m.top,m.width,m.height),x=s.node.getOr(t.element);return rS(p,c,s,i,x)})};var ZA=[rt("node"),rt("root"),_o("bubble"),dl(),Pe("overrides",{}),Pe("showAbove",!1),ms("placement",jA)];const sb="\uFEFF",iS=" ",Nd={create:(t,s,i,c)=>({start:t,soffset:s,finish:i,foffset:c})},rb=$l.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),c2=(t,s,i,c)=>t.fold(s,i,c),cS=t=>t.fold(mn,mn,mn),lS=rb.before,uS=rb.on,qA=rb.after,dS={before:lS,on:uS,after:qA,cata:c2,getStart:cS},Hg=$l.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),GA=t=>Hg.exact(t.start,t.soffset,t.finish,t.foffset),l2=t=>t.match({domRange:s=>Ae.fromDom(s.startContainer),relative:(s,i)=>dS.getStart(s),exact:(s,i,c,d)=>s}),KA=Hg.domRange,YA=Hg.relative,fS=Hg.exact,u2=t=>{const s=l2(t);return Ol(s)},XA=Nd.create,zg={domRange:KA,relative:YA,exact:fS,exactFromRange:GA,getWin:u2,range:XA},JA=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,c)=>{t.setStart(i.dom,c)},i=>{t.setStartAfter(i.dom)})},hS=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,c)=>{t.setEnd(i.dom,c)},i=>{t.setEndAfter(i.dom)})},mS=(t,s,i)=>{const c=t.document.createRange();return JA(c,s),hS(c,i),c},Wi=(t,s,i,c,d)=>{const m=t.document.createRange();return m.setStart(s.dom,i),m.setEnd(c.dom,d),m},QA=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),fp=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(QA):P.none()},ek=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(QA):P.none()},hp=$l.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pS=(t,s,i)=>s(Ae.fromDom(i.startContainer),i.startOffset,Ae.fromDom(i.endContainer),i.endOffset),tk=(t,s)=>s.match({domRange:i=>({ltr:A(i),rtl:P.none}),relative:(i,c)=>({ltr:wa(()=>mS(t,i,c)),rtl:wa(()=>P.some(mS(t,c,i)))}),exact:(i,c,d,m)=>({ltr:wa(()=>Wi(t,i,c,d,m)),rtl:wa(()=>P.some(Wi(t,d,m,i,c)))})}),nk=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>hp.rtl(Ae.fromDom(d.endContainer),d.endOffset,Ae.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>pS(t,hp.ltr,i)):pS(t,hp.ltr,i)},d2=(t,s)=>{const i=tk(t,s);return nk(t,i)},mp=(t,s)=>d2(t,s).match({ltr:(c,d,m,p)=>{const x=t.document.createRange();return x.setStart(c.dom,d),x.setEnd(m.dom,p),x},rtl:(c,d,m,p)=>{const x=t.document.createRange();return x.setStart(m.dom,p),x.setEnd(c.dom,d),x}});hp.ltr,hp.rtl;const gS=(t,s,i)=>po(xm(t,i),s),sa=(t,s)=>pc(s,t),Vg=(t,s,i,c)=>{const m=ya(t).dom.createRange();return m.setStart(t.dom,s),m.setEnd(i.dom,c),m},vS=(t,s,i,c)=>{const d=Vg(t,s,i,c),m=yo(t,i)&&s===c;return d.collapsed&&!m},bS=t=>P.from(t.getSelection()),f2=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return P.some(Nd.create(Ae.fromDom(s.startContainer),s.startOffset,Ae.fromDom(i.endContainer),i.endOffset))}else return P.none()},h2=t=>{if(t.anchorNode===null||t.focusNode===null)return f2(t);{const s=Ae.fromDom(t.anchorNode),i=Ae.fromDom(t.focusNode);return vS(s,t.anchorOffset,i,t.focusOffset)?P.some(Nd.create(s,t.anchorOffset,i,t.focusOffset)):f2(t)}},ib=t=>bS(t).filter(s=>s.rangeCount>0).bind(h2),yS=(t,s)=>{const i=mp(t,s);return fp(i)},Ug=(t,s)=>{const i=mp(t,s);return ek(i)},wS=((t,s)=>{const i=m=>{if(!t(m))throw new Error("Can only get "+s+" value of a "+s+" node");return c(m).getOr("")},c=m=>t(m)?P.from(m.dom.nodeValue):P.none();return{get:i,getOption:c,set:(m,p)=>{if(!t(m))throw new Error("Can only set raw "+s+" value of a "+s+" node");m.dom.nodeValue=p}}})(Ii,"text"),CS=t=>wS.get(t),Zh=(t,s)=>({element:t,offset:s}),qh=(t,s)=>{const i=vc(t);if(i.length===0)return Zh(t,s);if(s<i.length)return Zh(i[s],0);{const c=i[i.length-1],d=Ii(c)?CS(c).length:vc(c).length;return Zh(c,d)}},m2=(t,s)=>Ii(t)?Zh(t,s):qh(t,s),p2=t=>t.foffset!==void 0,ab=(t,s)=>s.getSelection.getOrThunk(()=>()=>ib(t))().map(c=>{if(p2(c)){const d=m2(c.start,c.soffset),m=m2(c.finish,c.foffset);return zg.range(d.element,d.offset,m.element,m.offset)}else return c}),xS=(t,s,i)=>{const c=Ol(s.root).dom,d=sS(t,i,s),m=ab(c,s).bind(E=>{if(p2(E))return Ug(c,zg.exactFromRange(E)).orThunk(()=>{const N=Ae.fromText(sb);No(E.start,N);const z=yS(c,zg.exact(N,0,N,1));return Xc(N),z}).bind(N=>a2(N.left,N.top,N.width,N.height));{const R=is(E,z=>z.dom.getBoundingClientRect()),N={left:Math.min(R.firstCell.left,R.lastCell.left),right:Math.max(R.firstCell.right,R.lastCell.right),top:Math.min(R.firstCell.top,R.lastCell.top),bottom:Math.max(R.firstCell.bottom,R.lastCell.bottom)};return a2(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),x=ab(c,s).bind(E=>p2(E)?Uo(E.start)?P.some(E.start):tc(E.start):P.some(E.firstCell)).getOr(t.element);return rS(m,d,s,i,x)};var Gh=[_o("getSelection"),rt("root"),_o("bubble"),dl(),Pe("overrides",{}),Pe("showAbove",!1),ms("placement",xS)];const kf="link-layout",SS=t=>t.x+t.width,cb=(t,s)=>t.x-s.width,Wg=(t,s)=>t.y-s.height+t.height,jg=t=>t.y,g2=(t,s,i)=>Zr(SS(t),jg(t),i.southeast(),Ec(),"southeast",js(t,{left:0,top:2}),kf),pp=(t,s,i)=>Zr(cb(t,s),jg(t),i.southwest(),ip(),"southwest",js(t,{right:1,top:2}),kf),ES=(t,s,i)=>Zr(SS(t),Wg(t,s),i.northeast(),Og(),"northeast",js(t,{left:0,bottom:3}),kf),v2=(t,s,i)=>Zr(cb(t,s),Wg(t,s),i.northwest(),Hh(),"northwest",js(t,{right:1,bottom:3}),kf),lb=()=>[g2,pp,ES,v2],b2=()=>[pp,g2,v2,ES],ok=(t,s,i)=>{const c=Xy(i,s.item.element),d=dp(t.element,s,lb(),b2(),lb(),b2(),P.none());return P.some(nb({anchorBox:c,bubble:Af(),overrides:s.overrides,layouts:d}))};var _S=[rt("item"),dl(),Pe("overrides",{}),ms("placement",ok)],TS=wr("type",{selection:Gh,node:ZA,hotspot:Qx,submenu:_S,makeshift:zA});const Id=[Or("classes",ti),Ls("mode","all",["all","layout","placement"])],Of=[Pe("useFixed",Vt),_o("getBounds")],Zg=[ni("anchor",TS),Ta("transition",Id)],qg=()=>{const t=document.documentElement;return Fx(0,0,t.clientWidth,t.clientHeight)},sk=t=>{const s=Qs(t.element),i=t.element.dom.getBoundingClientRect();return eb(s.left,s.top,i.width,i.height)},Df=(t,s,i,c,d,m)=>{const p=DA(s.anchorBox,t);return up(p,c.element,s.bubble,s.layouts,d,i,s.overrides,m)},Ac=(t,s,i,c,d)=>{const m=P.none();ub(t,s,i,c,d,m)},ub=(t,s,i,c,d,m)=>{const p=Vr("placement.info",pn(Zg),d),x=p.anchor,E=c.element,R=i.get(c.uid);Jv(()=>{b(E,"position","fixed");const N=X(E,"visibility");b(E,"visibility","hidden");const z=s.useFixed()?qg():sk(t);x.placement(t,x,z).each(Y=>{const J=m.orThunk(()=>s.getBounds.map(Ze)),se=Df(z,Y,J,c,R,p.transition);i.set(c.uid,se)}),N.fold(()=>{me(E,"visibility")},Y=>{b(E,"visibility",Y)}),X(E,"left").isNone()&&X(E,"top").isNone()&&X(E,"right").isNone()&&X(E,"bottom").isNone()&&Qi(X(E,"position"),"fixed")&&me(E,"position")},E)};var ik=Object.freeze({__proto__:null,position:Ac,positionWithinBounds:ub,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,c)=>{const d=c.element;ht(["position","left","right","top","bottom"],m=>me(d,m)),RA(d),i.clear(c.uid)}}),Gg=Object.freeze({__proto__:null,init:()=>{let t={};return Cc({readState:()=>t,clear:d=>{xe(d)?delete t[d]:t={}},set:(d,m)=>{t[d]=m},get:d=>Dt(t,d)})}});const ri=Gr({fields:Of,name:"positioning",active:$x,apis:ik,state:Gg}),db=t=>t.getSystem().isConnected(),Vl=t=>{Un(t,Fl());const s=t.components();ht(s,Vl)},Lu=t=>{const s=t.components();ht(s,Lu),Un(t,za())},AS=(t,s)=>{t.getSystem().addToWorld(s),ur(t.element)&&Lu(s)},Kg=t=>{Vl(t),t.getSystem().removeFromWorld(t)},Yg=(t,s)=>{er(t.element,s.element)},ii=t=>{ht(t.components(),s=>Xc(s.element)),zr(t.element),t.syncComponents()},ak=(t,s,i)=>{const c=t.components();ii(t);const d=i(s),m=Jt(c,d);ht(m,p=>{Vl(p),t.getSystem().removeFromWorld(p)}),ht(d,p=>{db(p)?Yg(t,p):(t.getSystem().addToWorld(p),Yg(t,p),ur(t.element)&&Lu(p))}),t.syncComponents()},kc=(t,s,i)=>{const c=t.components(),d=Le(s,x=>gg(x).toArray());ht(c,x=>{ct(d,x)||Kg(x)});const m=i(s),p=Jt(c,m);ht(p,x=>{db(x)&&Kg(x)}),ht(m,x=>{db(x)||AS(t,x)}),t.syncComponents()},Ul=(t,s)=>{Xg(t,s,er)},Xg=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),ur(t.element)&&Lu(s),t.syncComponents()},Kh=t=>{Vl(t),Xc(t.element),t.getSystem().removeFromWorld(t)},Fu=t=>{const s=ec(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());Kh(t),s.each(i=>{i.syncComponents()})},Jg=t=>{const s=t.components();ht(s,Kh),zr(t.element),t.syncComponents()},gp=(t,s)=>{fb(t,s,er)},vp=(t,s)=>{fb(t,s,Qr)},fb=(t,s,i)=>{i(t,s.element);const c=vc(s.element);ht(c,d=>{s.getByDom(d).each(Lu)})},kS=t=>{const s=vc(t.element);ht(s,i=>{t.getByDom(i).each(Vl)}),Xc(t.element)},Hu=(t,s,i,c)=>{i.get().each(p=>{Jg(t)});const d=s.getAttachPoint(t);Ul(d,t);const m=t.getSystem().build(c);return Ul(t,m),i.set(m),m},Wl=(t,s,i,c)=>{const d=Hu(t,s,i,c);return s.onOpen(t,d),d},zu=(t,s,i,c)=>i.get().map(()=>Hu(t,s,i,c)),ck=(t,s,i,c,d)=>{Yh(t,s),Wl(t,s,i,c),d(),Xh(t,s)},hb=(t,s,i)=>{i.get().each(c=>{Jg(t),Fu(t),s.onClose(t,c),i.clear()})},y2=(t,s,i)=>i.isOpen(),lk=(t,s,i,c)=>y2(t,s,i)&&i.get().exists(d=>s.isPartOf(t,d,c)),uk=(t,s,i)=>i.get(),dk=(t,s,i,c)=>{X(t.element,s).fold(()=>{xs(t.element,i)},d=>{Mt(t.element,i,d)}),b(t.element,s,c)},Oc=(t,s,i)=>{Js(t.element,i).fold(()=>me(t.element,s),c=>b(t.element,s,c))},Yh=(t,s,i)=>{const c=s.getAttachPoint(t);b(t.element,"position",ri.getMode(c)),dk(t,"visibility",s.cloakVisibilityAttr,"hidden")},mb=t=>Rn(["top","left","right","bottom"],s=>X(t,s).isSome()),Xh=(t,s,i)=>{mb(t.element)||me(t.element,"position"),Oc(t,"visibility",s.cloakVisibilityAttr)};var ra=Object.freeze({__proto__:null,cloak:Yh,decloak:Xh,open:Wl,openWhileCloaked:ck,close:hb,isOpen:y2,isPartOf:lk,getState:uk,setContent:zu}),ji=Object.freeze({__proto__:null,events:(t,s)=>ns([Ke(pg(),(i,c)=>{hb(i,t,s)})])}),fl=[ho("onOpen"),ho("onClose"),rt("isPartOf"),rt("getAttachPoint"),Pe("cloakVisibilityAttr","data-precloak-visibility")],ac=Object.freeze({__proto__:null,init:()=>{const t=ss(),s=A("not-implemented");return Cc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const qn=Gr({fields:fl,name:"sandboxing",active:ji,apis:ra,state:ac}),Rf=A("dismiss.popups"),bp=A("reposition.popups"),w2=A("mouse.released"),C2=_a([Pe("isExtraPart",Vt),Ta("fireEventInstead",[Pe("event",Tu())])]),Qg=t=>{const s=Vr("Dismissal",C2,t);return{[Rf()]:{schema:_a([rt("target")]),onReceive:(i,c)=>{qn.isOpen(i)&&(qn.isPartOf(i,c.target)||s.isExtraPart(i,c.target)||s.fireEventInstead.fold(()=>qn.close(i),m=>Un(i,m.event)))}}}},gb=_a([Ta("fireEventInstead",[Pe("event",_h())]),kr("doReposition")]),vb=t=>{const s=Vr("Reposition",gb,t);return{[bp()]:{onReceive:i=>{qn.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),c=>Un(i,c.event))}}}},bb=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},yb=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var DS=Object.freeze({__proto__:null,onLoad:bb,onUnload:yb,setValue:(t,s,i,c)=>{s.store.manager.setValue(t,s,i,c)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),S2=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[ys((c,d)=>{bb(c,t,s)}),ku((c,d)=>{yb(c,t,s)})]:[Wy(t,s,bb)];return ns(i)}});const E2=()=>{const t=rn(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,c=()=>{t.set(null)};return Cc({set:t.set,get:t.get,isNotSet:i,clear:c,readState:s})},yp=()=>Cc({readState:ue}),wb=()=>{const t=rn({}),s=rn({});return Cc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:p=>Dt(t.get(),p).orThunk(()=>Dt(s.get(),p)),update:p=>{const x=t.get(),E=s.get(),R={},N={};ht(p,z=>{R[z.value]=z,Dt(z,"meta").each(Y=>{Dt(Y,"text").each(J=>{N[J]=z})})}),t.set({...x,...R}),s.set({...E,...N})},clear:()=>{t.set({}),s.set({})}})};var wp=Object.freeze({__proto__:null,memory:E2,dataset:wb,manual:yp,init:t=>t.store.manager.state(t)});const PS=(t,s,i,c)=>{const d=s.store;i.update([c]),d.setValue(t,c),s.onSetValue(t,c)},Dc=(t,s,i)=>{const c=s.store,d=c.getDataKey(t);return i.lookup(d).getOrThunk(()=>c.getFallbackEntry(d))},VR=(t,s,i)=>{s.store.initialValue.each(d=>{PS(t,s,i,d)})},Cb=(t,s,i)=>{i.clear()};var Ld=[_o("initialValue"),rt("getFallbackEntry"),rt("getDataKey"),rt("setValue"),ms("manager",{setValue:PS,getValue:Dc,onLoad:VR,onUnload:Cb,state:wb})];const T2=(t,s,i)=>s.store.getValue(t),A2=(t,s,i,c)=>{s.store.setValue(t,c),s.onSetValue(t,c)},fk=(t,s,i)=>{s.store.initialValue.each(c=>{s.store.setValue(t,c)})};var hk=[rt("getValue"),Pe("setValue",ue),_o("initialValue"),ms("manager",{setValue:A2,getValue:T2,onLoad:fk,onUnload:ue,state:Du.init})];const mk=(t,s,i,c)=>{i.set(c),s.onSetValue(t,c)},pk=(t,s,i)=>i.get(),MS=(t,s,i)=>{s.store.initialValue.each(c=>{i.isNotSet()&&i.set(c)})},jl=(t,s,i)=>{i.clear()};var e1=[_o("initialValue"),ms("manager",{setValue:mk,getValue:pk,onLoad:MS,onUnload:jl,state:E2})],gk=[wc("store",{mode:"memory"},wr("mode",{memory:e1,manual:hk,dataset:Ld})),ho("onSetValue"),Pe("resetOnDom",!1)];const Nt=Gr({fields:gk,name:"representing",active:S2,apis:DS,extra:{setValueFrom:(t,s)=>{const i=Nt.getValue(s);Nt.setValue(t,i)}},state:wp}),Pr=(t,s)=>Sv(t,{},He(s,i=>bs(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([at("dump",mn)])),Fd=t=>t.dump,Mr=(t,s)=>({...yt(s),...t.dump}),cc={field:Pr,augment:Mr,get:Fd},t1="placeholder",Cp=$l.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Jh=t=>go(t,"uiType"),xp=(t,s,i,c)=>t.exists(d=>d!==i.owner)?Cp.single(!0,A(i)):Dt(c,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Ts(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},d=>d.replace()),n1=(t,s,i,c)=>Jh(i)&&i.uiType===t1?xp(t,s,i,c):Cp.single(!1,A(i)),BS=(t,s,i,c)=>n1(t,s,i,c).fold((m,p)=>{const x=Jh(i)?p(s,i.config,i.validated):p(s),E=Dt(x,"components").getOr([]),R=Le(E,N=>BS(t,s,N,c));return[{...x,components:R}]},(m,p)=>{if(Jh(i)){const x=p(s,i.config,i.validated);return i.validated.preprocess.getOr(mn)(x)}else return p(s)}),k2=(t,s,i,c)=>Le(i,d=>BS(t,s,d,c)),NS=(t,s)=>{let i=!1;const c=()=>i,d=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},m=()=>s.fold((p,x)=>p,(p,x)=>p);return{name:A(t),required:m,used:c,replace:d}},O2=(t,s,i,c)=>{const d=is(c,(p,x)=>NS(x,p)),m=k2(t,s,i,d);return lr(d,p=>{if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),m},o1=Cp.single,Sp=Cp.multiple,s1=A(t1),xb=$l.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),r1=Pe("factory",{sketch:mn}),Sb=Pe("schema",[]),Zl=rt("name"),i1=Ur("pname","pname",vu(t=>"<alloy."+zt(t.name)+">"),yu()),a1=at("schema",()=>[_o("preprocess")]),hl=Pe("defaults",A({})),c1=Pe("overrides",A({})),l1=pn([r1,Sb,Zl,i1,hl,c1]),u1=pn([r1,Sb,Zl,hl,c1]),vk=pn([r1,Sb,Zl,i1,hl,c1]),bk=pn([r1,a1,Zl,rt("unit"),i1,hl,c1]),Rc=t=>t.fold(P.some,P.none,P.some,P.some),IS=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},yk=t=>t.fold(mn,mn,mn,mn),Ai=(t,s)=>i=>{const c=Vr("Converting part type",s,i);return t(c)},Bo=Ai(xb.required,l1),ml=Ai(xb.external,u1),qa=Ai(xb.optional,vk),pl=Ai(xb.group,bk),Eb=A("entirety");var D2=Object.freeze({__proto__:null,required:Bo,external:ml,optional:qa,group:pl,asNamedPart:Rc,name:IS,asCommon:yk,original:Eb});const Vu=(t,s,i,c)=>es(s.defaults(t,i,c),i,{uid:t.partUids[s.name]},s.overrides(t,i,c)),$S=(t,s,i)=>{const c={},d={};return ht(i,m=>{m.fold(p=>{c[p.pname]=o1(!0,(x,E,R)=>p.factory.sketch(Vu(x,p,E,R)))},p=>{const x=s.parts[p.name];d[p.name]=A(p.factory.sketch(Vu(s,p,x[Eb()]),x))},p=>{c[p.pname]=o1(!1,(x,E,R)=>p.factory.sketch(Vu(x,p,E,R)))},p=>{c[p.pname]=Sp(!0,(x,E,R)=>{const N=x[p.name];return He(N,z=>p.factory.sketch(es(p.defaults(x,z,R),z,p.overrides(x,z))))})})}),{internals:A(c),externals:A(d)}},_b=(t,s)=>{const i={};return ht(s,c=>{Rc(c).each(d=>{const m=wk(t,d.pname);i[d.name]=p=>{const x=Vr("Part: "+d.name+" in "+t,pn(d.schema),p);return{...m,config:p,validated:x}}})}),i},wk=(t,s)=>({uiType:s1(),owner:t,name:s}),LS=(t,s,i)=>({uiType:s1(),owner:t,name:s,config:i,validated:{}}),FS=t=>Le(t,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>Qc(i.name,i.schema.concat([$y(Eb())]))).toArray()),R2=t=>He(t,IS),P2=(t,s,i)=>$S(t,s,i),M2=(t,s,i)=>O2(P.some(t),s,s.components,i),$o=(t,s,i)=>{const c=s.partUids[i];return t.getSystem().getByUid(c).toOptional()},Hd=(t,s,i)=>$o(t,s,i).getOrDie("Could not find part: "+i),B2=(t,s,i)=>{const c={},d=s.partUids,m=t.getSystem();return ht(i,p=>{c[p]=A(m.getByUid(d[p]))}),c},N2=(t,s)=>{const i=t.getSystem();return is(s.partUids,(c,d)=>A(i.getByUid(c)))},d1=t=>Ts(t.partUids),Tb=(t,s,i)=>{const c={},d=s.partUids,m=t.getSystem();return ht(i,p=>{c[p]=A(m.getByUid(d[p]).getOrDie())}),c},Pf=(t,s)=>{const i=R2(s);return Hm(He(i,c=>({key:c,value:t+"-"+c})))},Mf=t=>Ur("partUids","partUids",J0(s=>Pf(s.uid,t)),yu());var Ck=Object.freeze({__proto__:null,generate:_b,generateOne:LS,schemas:FS,names:R2,substitutes:P2,components:M2,defaultUids:Pf,defaultUidsSchema:Mf,getAllParts:N2,getAllPartNames:d1,getPart:$o,getPartOrDie:Hd,getParts:B2,getPartsOrDie:Tb});const xk=(t,s)=>(t.length>0?[Qc("parts",t)]:[]).concat([rt("uid"),Pe("dom",{}),Pe("components",[]),$y("originalSpec"),Pe("debug.sketcher",{})]).concat(s),HS=(t,s,i,c,d)=>{const m=xk(c,d);return Vr(t+" [SpecSchema]",_a(m.concat(s)),i)},Sk=(t,s,i,c)=>{const d=Qh(c),m=HS(t,s,d,[],[]);return i(m,d)},Ab=(t,s,i,c,d)=>{const m=Qh(d),p=FS(i),x=Mf(i),E=HS(t,s,m,p,[x]),R=P2(t,E,i),N=M2(t,E,R.internals());return c(E,N,m,R.externals())},Ep=t=>go(t,"uid"),Qh=t=>Ep(t)?t:{...t,uid:Km("uid")},I2=t=>t.uid!==void 0,Ek=_a([rt("name"),rt("factory"),rt("configFields"),Pe("apis",{}),Pe("extraApis",{})]),Pc=_a([rt("name"),rt("factory"),rt("configFields"),rt("partFields"),Pe("apis",{}),Pe("extraApis",{})]),Sr=t=>{const s=Vr("Sketcher for "+t.name,Ek,t),i=m=>Sk(s.name,s.configFields,s.factory,m),c=is(s.apis,il),d=is(s.extraApis,(m,p)=>Ey(m,p));return{name:s.name,configFields:s.configFields,sketch:i,...c,...d}},ki=t=>{const s=Vr("Sketcher for "+t.name,Pc,t),i=p=>Ab(s.name,s.configFields,s.partFields,s.factory,p),c=_b(s.name,s.partFields),d=is(s.apis,il),m=is(s.extraApis,(p,x)=>Ey(p,x));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:c,...d,...m}},Uu=t=>kl("input")(t)&&As(t,"type")!=="radio"||kl("textarea")(t);var _k=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const Tk=[rt("find")],ro=Gr({fields:Tk,name:"composing",apis:_k}),Ak=["input","button","textarea","select"],zS=(t,s,i)=>{(s.disabled()?F2:kb)(t,s)},$2=(t,s)=>s.useNative===!0&&ct(Ak,Vs(t.element)),kk=t=>Am(t.element,"disabled"),L2=t=>{Mt(t.element,"disabled","disabled")},Ok=t=>{xs(t.element,"disabled")},VS=t=>As(t.element,"aria-disabled")==="true",US=t=>{Mt(t.element,"aria-disabled","true")},WS=t=>{Mt(t.element,"aria-disabled","false")},F2=(t,s,i)=>{s.disableClass.each(d=>{Ds(t.element,d)}),($2(t,s)?L2:US)(t),s.onDisabled(t)},kb=(t,s,i)=>{s.disableClass.each(d=>{Ps(t.element,d)}),($2(t,s)?Ok:WS)(t),s.onEnabled(t)},jS=(t,s)=>$2(t,s)?kk(t):VS(t);var WR=Object.freeze({__proto__:null,enable:kb,disable:F2,isDisabled:jS,onLoad:zS,set:(t,s,i,c)=>{(c?F2:kb)(t,s)}}),jR=Object.freeze({__proto__:null,exhibit:(t,s)=>Rr({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>ns([ix(Ha(),(i,c)=>jS(i,t)),Wy(t,s,zS)])}),ZR=[Os("disabled",Vt),Pe("useNative",!0),_o("disableClass"),ho("onDisabled"),ho("onEnabled")];const En=Gr({fields:ZR,name:"disabling",active:jR,apis:WR}),GS=(t,s,i,c)=>{const d=sa(t.element,"."+s.highlightClass);ht(d,m=>{Rn(c,x=>yo(x.element,m))||(Ps(m,s.highlightClass),t.getSystem().getByDom(m).each(x=>{s.onDehighlight(t,x),Un(x,Th())}))})},Rk=(t,s,i)=>GS(t,s,i,[]),Ft=(t,s,i,c)=>{z2(t,s,i,c)&&(Ps(c.element,s.highlightClass),s.onDehighlight(t,c),Un(c,Th()))},Wu=(t,s,i,c)=>{GS(t,s,i,[c]),z2(t,s,i,c)||(Ds(c.element,s.highlightClass),s.onHighlight(t,c),Un(c,jm()))},Ob=(t,s,i)=>{V2(t,s).each(c=>{Wu(t,s,i,c)})},KS=(t,s,i)=>{Pb(t,s).each(c=>{Wu(t,s,i,c)})},Db=(t,s,i,c)=>{YS(t,s,i,c).fold(d=>{throw d},d=>{Wu(t,s,i,d)})},H2=(t,s,i,c)=>{const d=U2(t,s);An(d,c).each(p=>{Wu(t,s,i,p)})},z2=(t,s,i,c)=>Ua(c.element,s.highlightClass),Rb=(t,s,i)=>hs(t.element,"."+s.highlightClass).bind(c=>t.getSystem().getByDom(c).toOptional()),YS=(t,s,i,c)=>{const d=sa(t.element,"."+s.itemClass);return P.from(d[c]).fold(()=>Ln.error(new Error("No element found with index "+c)),t.getSystem().getByDom)},V2=(t,s,i)=>hs(t.element,"."+s.itemClass).bind(c=>t.getSystem().getByDom(c).toOptional()),Pb=(t,s,i)=>{const c=sa(t.element,"."+s.itemClass);return(c.length>0?P.some(c[c.length-1]):P.none()).bind(m=>t.getSystem().getByDom(m).toOptional())},Mb=(t,s,i,c)=>{const d=sa(t.element,"."+s.itemClass);return Xo(d,p=>Ua(p,s.highlightClass)).bind(p=>{const x=Rg(p,c,0,d.length-1);return t.getSystem().getByDom(d[x]).toOptional()})},f1=(t,s,i)=>Mb(t,s,i,-1),Bb=(t,s,i)=>Mb(t,s,i,1),U2=(t,s,i)=>{const c=sa(t.element,"."+s.itemClass);return $r(He(c,d=>t.getSystem().getByDom(d).toOptional()))};var Pk=Object.freeze({__proto__:null,dehighlightAll:Rk,dehighlight:Ft,highlight:Wu,highlightFirst:Ob,highlightLast:KS,highlightAt:Db,highlightBy:H2,isHighlighted:z2,getHighlighted:Rb,getFirst:V2,getLast:Pb,getPrevious:f1,getNext:Bb,getCandidates:U2}),Mk=[rt("highlightClass"),rt("itemClass"),ho("onHighlight"),ho("onDehighlight")];const wo=Gr({fields:Mk,name:"highlighting",apis:Pk}),Nb=[8],ju=[9],Zu=[13],Ib=[27],Ga=[32],_p=[37],h1=[38],$b=[39],m1=[40],Bk=(t,s,i)=>{const c=Nr(t.slice(0,s)),d=Nr(t.slice(s+1));return An(c.concat(d),i)},qR=(t,s,i)=>{const c=Nr(t.slice(0,s));return An(c,i)},Bf=(t,s,i)=>{const c=t.slice(0,s),d=t.slice(s+1);return An(d.concat(c),i)},W2=(t,s,i)=>{const c=t.slice(s+1);return An(c,i)},io=t=>s=>{const i=s.raw;return ct(t,i.which)},ql=t=>s=>di(t,i=>i(s)),em=t=>t.raw.shiftKey===!0,Nk=t=>t.raw.ctrlKey===!0,Tp=je(em),lo=(t,s)=>({matches:t,classification:s}),Ik=(t,s)=>An(t,c=>c.matches(s)).map(c=>c.classification),tm=(t,s,i)=>{s.exists(d=>i.exists(m=>yo(m,d)))||on(t,sl(),{prevFocus:s,newFocus:i})},Ap=()=>{const t=i=>si(i.element);return{get:t,set:(i,c)=>{const d=t(i);i.getSystem().triggerFocus(c,i.element);const m=t(i);tm(i,d,m)}}},$k=()=>{const t=i=>wo.getHighlighted(i).map(c=>c.element);return{get:t,set:(i,c)=>{const d=t(i);i.getSystem().getByDom(c).fold(ue,p=>{wo.highlight(i,p)});const m=t(i);tm(i,d,m)}}};var nm;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(nm||(nm={}));const om=(t,s,i,c,d)=>{const m=()=>t.concat([Pe("focusManager",Ap()),wc("focusInside","onFocus",Im(R=>ct(["onFocus","onEnterOrSpace","onApi"],R)?Ln.value(R):Ln.error("Invalid value for focusInside"))),ms("handler",E),ms("state",s),ms("sendFocusIn",d)]),p=(R,N,z,Y,J)=>{const se=z(R,N,Y,J);return Ik(se,N.event).bind(fe=>fe(R,N,Y,J))},E={schema:m,processKey:p,toEvents:(R,N)=>{const z=R.focusInside!==nm.OnFocusMode?P.none():d(R).map(se=>Ke(Eu(),(fe,Me)=>{se(fe,R,N),Me.stop()})),Y=(se,fe)=>{const Me=io(Ga.concat(Zu))(fe.event);R.focusInside===nm.OnEnterOrSpaceMode&&Me&&vf(se,fe)&&d(R).each(we=>{we(se,R,N),fe.stop()})},J=[Ke(nl(),(se,fe)=>{p(se,fe,i,R,N).fold(()=>{Y(se,fe)},Me=>{fe.stop()})}),Ke(Tv(),(se,fe)=>{p(se,fe,c,R,N).each(Me=>{fe.stop()})})];return ns(z.toArray().concat(J))}};return E},Lb=t=>{const s=[_o("onEscape"),_o("onEnter"),Pe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pe("firstTabstop",0),Pe("useTabstopAt",wt),_o("visibilitySelector")].concat([t]),i=(we,ke)=>{const Se=we.visibilitySelector.bind(ot=>zl(ke,ot)).getOr(ke);return We(Se)>0},c=(we,ke)=>{const Se=sa(we.element,ke.selector),ot=po(Se,Qe=>i(ke,Qe));return P.from(ot[ke.firstTabstop])},d=(we,ke)=>ke.focusManager.get(we).bind(Se=>zl(Se,ke.selector)),m=(we,ke)=>i(we,ke)&&we.useTabstopAt(ke),p=(we,ke,Se)=>{c(we,ke).each(ot=>{ke.focusManager.set(we,ot)})},x=(we,ke,Se,ot,Qe)=>Qe(ke,Se,lt=>m(ot,lt)).fold(()=>ot.cyclic?P.some(!0):P.none(),lt=>(ot.focusManager.set(we,lt),P.some(!0))),E=(we,ke,Se,ot)=>{const Qe=sa(we.element,Se.selector);return d(we,Se).bind(lt=>Xo(Qe,Sn(yo,lt)).bind(Xe=>x(we,Qe,Xe,Se,ot)))},R=(we,ke,Se)=>{const ot=Se.cyclic?Bk:qR;return E(we,ke,Se,ot)},N=(we,ke,Se)=>{const ot=Se.cyclic?Bf:W2;return E(we,ke,Se,ot)},z=we=>gc(we).bind(Em).exists(ke=>yo(ke,we)),Y=(we,ke,Se)=>d(we,Se).filter(ot=>!Se.useTabstopAt(ot)).bind(ot=>(z(ot)?R:N)(we,ke,Se)),J=(we,ke,Se)=>Se.onEnter.bind(ot=>ot(we,ke)),se=(we,ke,Se)=>Se.onEscape.bind(ot=>ot(we,ke)),fe=A([lo(ql([em,io(ju)]),R),lo(io(ju),N),lo(ql([Tp,io(Zu)]),J)]),Me=A([lo(io(Ib),se),lo(io(ju),Y)]);return om(s,Du.init,fe,Me,()=>P.some(p))};var Lk=Lb(at("cyclic",Vt)),l=Lb(at("cyclic",wt));const f=(t,s,i)=>(Dv(t,i,Ha()),P.some(!0)),g=(t,s,i)=>Uu(i)&&io(Ga)(s.event)?P.none():f(t,s,i),w=(t,s)=>P.some(!0),T=[Pe("execute",g),Pe("useSpace",!1),Pe("useEnter",!0),Pe("useControlEnter",!1),Pe("useDown",!1)],B=(t,s,i)=>i.execute(t,s,t.element),Z=(t,s,i,c)=>{const d=i.useSpace&&!Uu(t.element)?Ga:[],m=i.useEnter?Zu:[],p=i.useDown?m1:[],x=d.concat(m).concat(p);return[lo(io(x),B)].concat(i.useControlEnter?[lo(ql([Nk,io(Zu)]),B)]:[])},ne=(t,s,i,c)=>i.useSpace&&!Uu(t.element)?[lo(io(Ga),w)]:[];var ae=om(T,Du.init,Z,ne,()=>P.none());const ve=()=>{const t=ss();return Cc({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,m)=>{t.set({numRows:d,numColumns:m})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var ft=Object.freeze({__proto__:null,flatgrid:ve,init:t=>t.state(t)});const At=t=>(s,i,c,d)=>{const m=t(s.element);return ut(m,s,i,c,d)},Et=(t,s)=>{const i=Lg(t,s);return At(i)},vt=(t,s)=>{const i=Lg(s,t);return At(i)},$t=t=>(s,i,c,d)=>ut(t,s,i,c,d),ut=(t,s,i,c,d)=>c.focusManager.get(s).bind(p=>t(s.element,p,c,d)).map(p=>(c.focusManager.set(s,p),!0)),Ct=$t,an=$t,gn=$t,vo=t=>t.offsetWidth<=0&&t.offsetHeight<=0,ws=t=>!vo(t.dom),Ss=(t,s)=>Xo(t,s).map(i=>({index:i,candidates:t})),Oi=(t,s,i)=>{const c=p=>yo(p,s),d=sa(t,i),m=po(d,ws);return Ss(m,c)},Mc=(t,s)=>Xo(t,i=>yo(s,i)),Nf=(t,s,i,c)=>{const d=Math.floor(s/i),m=s%i;return c(d,m).bind(p=>{const x=p.row*i+p.column;return x>=0&&x<t.length?P.some(t[x]):P.none()})},sm=(t,s,i,c,d)=>Nf(t,s,c,(m,p)=>{const E=m===i-1?t.length-m*c:c,R=Rg(p,d,0,E-1);return P.some({row:m,column:R})}),Fb=(t,s,i,c,d)=>Nf(t,s,c,(m,p)=>{const x=Rg(m,d,0,i-1),R=x===i-1?t.length-x*c:c,N=Hs(p,0,R-1);return P.some({row:x,column:N})}),qo=(t,s,i,c)=>sm(t,s,i,c,1),ia=(t,s,i,c)=>sm(t,s,i,c,-1),Zi=(t,s,i,c)=>Fb(t,s,i,c,-1),gl=(t,s,i,c)=>Fb(t,s,i,c,1),Bc=[rt("selector"),Pe("execute",g),oa("onEscape"),Pe("captureTab",!1),Ly()],rm=(t,s,i)=>{hs(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},qi=(t,s)=>s.focusManager.get(t).bind(i=>zl(i,s.selector)),j2=(t,s,i,c)=>qi(t,i).bind(d=>i.execute(t,s,d)),zd=t=>(s,i,c,d)=>Oi(s,i,c.selector).bind(m=>t(m.candidates,m.index,d.getNumRows().getOr(c.initSize.numRows),d.getNumColumns().getOr(c.initSize.numColumns))),Gl=(t,s,i)=>i.captureTab?P.some(!0):P.none(),ai=(t,s,i)=>i.onEscape(t,s),Z2=zd(ia),q2=zd(qo),XS=zd(Zi),Fk=zd(gl),Hk=A([lo(io(_p),Et(Z2,q2)),lo(io($b),vt(Z2,q2)),lo(io(h1),Ct(XS)),lo(io(m1),an(Fk)),lo(ql([em,io(ju)]),Gl),lo(ql([Tp,io(ju)]),Gl),lo(io(Ga.concat(Zu)),j2)]),G2=A([lo(io(Ib),ai),lo(io(Ga),w)]);var zk=om(Bc,ve,Hk,G2,()=>P.some(rm));const kp=(t,s,i,c,d)=>{const m=x=>Vs(x)==="button"&&As(x,"disabled")==="disabled",p=(x,E,R)=>d(x,E,c,0,R.length-1,R[E],N=>m(R[N])?p(x,N,R):P.from(R[N]));return Oi(t,i,s).bind(x=>{const E=x.index,R=x.candidates;return p(E,E,R)})},Hb=(t,s,i,c)=>kp(t,s,i,c,(d,m,p,x,E,R,N)=>{const z=Hs(m+p,x,E);return z===d?P.from(R):N(z)}),K2=(t,s,i,c)=>kp(t,s,i,c,(d,m,p,x,E,R,N)=>{const z=Rg(m,p,x,E);return z===d?P.none():N(z)}),GR=[rt("selector"),Pe("getInitial",P.none),Pe("execute",g),oa("onEscape"),Pe("executeOnMove",!1),Pe("allowVertical",!0),Pe("allowHorizontal",!0),Pe("cycles",!0)],Vk=(t,s)=>s.focusManager.get(t).bind(i=>zl(i,s.selector)),Uk=(t,s,i)=>Vk(t,i).bind(c=>i.execute(t,s,c)),KR=(t,s,i)=>{s.getInitial(t).orThunk(()=>hs(t.element,s.selector)).each(c=>{s.focusManager.set(t,c)})},YR=(t,s,i)=>(i.cycles?K2:Hb)(t,i.selector,s,-1),Wk=(t,s,i)=>(i.cycles?K2:Hb)(t,i.selector,s,1),jk=t=>(s,i,c,d)=>t(s,i,c,d).bind(()=>c.executeOnMove?Uk(s,i,c):P.some(!0)),w6=(t,s,i)=>i.onEscape(t,s),C6=(t,s,i,c)=>{const d=[...i.allowHorizontal?_p:[]].concat(i.allowVertical?h1:[]),m=[...i.allowHorizontal?$b:[]].concat(i.allowVertical?m1:[]);return[lo(io(d),jk(Et(YR,Wk))),lo(io(m),jk(vt(YR,Wk))),lo(io(Zu),Uk),lo(io(Ga),Uk)]},x6=A([lo(io(Ga),w),lo(io(Ib),w6)]);var S6=om(GR,Du.init,C6,x6,()=>P.some(KR));const JS=(t,s,i)=>P.from(t[s]).bind(c=>P.from(c[i]).map(d=>({rowIndex:s,columnIndex:i,cell:d}))),XR=(t,s,i,c)=>{const m=t[s].length,p=Rg(i,c,0,m-1);return JS(t,s,p)},Y2=(t,s,i,c)=>{const d=Rg(i,c,0,t.length-1),m=t[d].length,p=Hs(s,0,m-1);return JS(t,d,p)},QS=(t,s,i,c)=>{const m=t[s].length,p=Hs(i+c,0,m-1);return JS(t,s,p)},JR=(t,s,i,c)=>{const d=Hs(i+c,0,t.length-1),m=t[d].length,p=Hs(s,0,m-1);return JS(t,d,p)},yG=(t,s,i)=>XR(t,s,i,1),QR=(t,s,i)=>XR(t,s,i,-1),E6=(t,s,i)=>Y2(t,i,s,-1),_6=(t,s,i)=>Y2(t,i,s,1),Kl=(t,s,i)=>QS(t,s,i,-1),T6=(t,s,i)=>QS(t,s,i,1),A6=(t,s,i)=>JR(t,i,s,-1),k6=(t,s,i)=>JR(t,i,s,1),O6=[Qc("selectors",[rt("row"),rt("cell")]),Pe("cycles",!0),Pe("previousSelector",P.none),Pe("execute",g)],D6=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return hs(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},zb=(t,s,i)=>si(t.element).bind(c=>i.execute(t,s,c)),Zk=(t,s)=>He(t,i=>sa(i,s.selectors.cell)),eE=(t,s)=>(i,c,d)=>{const m=d.cycles?t:s;return zl(c,d.selectors.row).bind(p=>{const x=sa(p,d.selectors.cell);return Mc(x,c).bind(E=>{const R=sa(i,d.selectors.row);return Mc(R,p).bind(N=>{const z=Zk(R,d);return m(z,N,E).map(Y=>Y.cell)})})})},tE=eE(QR,Kl),X2=eE(yG,T6),qk=eE(E6,A6),R6=eE(_6,k6),P6=A([lo(io(_p),Et(tE,X2)),lo(io($b),vt(tE,X2)),lo(io(h1),Ct(qk)),lo(io(m1),an(R6)),lo(io(Ga.concat(Zu)),zb)]),M6=A([lo(io(Ga),w)]);var B6=om(O6,Du.init,P6,M6,()=>P.some(D6));const N6=[rt("selector"),Pe("execute",g),Pe("moveOnTab",!1)],eP=(t,s,i)=>i.focusManager.get(t).bind(c=>i.execute(t,s,c)),tP=(t,s,i)=>{hs(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},nE=(t,s,i)=>K2(t,i.selector,s,-1),nP=(t,s,i)=>K2(t,i.selector,s,1),I6=(t,s,i,c)=>i.moveOnTab?gn(nE)(t,s,i,c):P.none(),$6=(t,s,i,c)=>i.moveOnTab?gn(nP)(t,s,i,c):P.none(),L6=A([lo(io(h1),gn(nE)),lo(io(m1),gn(nP)),lo(ql([em,io(ju)]),I6),lo(ql([Tp,io(ju)]),$6),lo(io(Zu),eP),lo(io(Ga),eP)]),p1=A([lo(io(Ga),w)]);var oP=om(N6,Du.init,L6,p1,()=>P.some(tP));const F6=[oa("onSpace"),oa("onEnter"),oa("onShiftEnter"),oa("onLeft"),oa("onRight"),oa("onTab"),oa("onShiftTab"),oa("onUp"),oa("onDown"),oa("onEscape"),Pe("stopSpaceKeyup",!1),_o("focusIn")],Gk=(t,s,i)=>[lo(io(Ga),i.onSpace),lo(ql([Tp,io(Zu)]),i.onEnter),lo(ql([em,io(Zu)]),i.onShiftEnter),lo(ql([em,io(ju)]),i.onShiftTab),lo(ql([Tp,io(ju)]),i.onTab),lo(io(h1),i.onUp),lo(io(m1),i.onDown),lo(io(_p),i.onLeft),lo(io($b),i.onRight),lo(io(Ga),i.onSpace)],H6=(t,s,i)=>[...i.stopSpaceKeyup?[lo(io(Ga),w)]:[],lo(io(Ib),i.onEscape)];var sP=om(F6,Du.init,Gk,H6,t=>t.focusIn);const rP=Lk.schema(),iP=l.schema(),aP=S6.schema(),cP=zk.schema(),z6=B6.schema(),V6=ae.schema(),U6=oP.schema(),Kk=sP.schema();var W6=Object.freeze({__proto__:null,acyclic:rP,cyclic:iP,flow:aP,flatgrid:cP,matrix:z6,execution:V6,menu:U6,special:Kk});const oE=t=>va(t,"setGridSize"),cn=qy({branchKey:"mode",branches:W6,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},c=>{c(t,s,i)})},setGridSize:(t,s,i,c,d)=>{oE(i)?i.setGridSize(c,d):console.error("Layout does not support setGridSize")}},state:ft}),Yk=(t,s)=>{Jv(()=>{ak(t,s,()=>He(s,t.getSystem().build))},t.element)},Da=(t,s)=>{Jv(()=>{kc(t,s,()=>Od(t.element,s,t.getSystem().buildOrPatch))},t.element)},j6=(t,s,i,c)=>{Kg(s);const d=bx(t.element,i,c,t.getSystem().buildOrPatch);AS(t,d),t.syncComponents()},sE=(t,s,i)=>{const c=t.getSystem().build(i);Xg(t,c,s)},lP=(t,s,i,c)=>{Fu(s),sE(t,(d,m)=>ks(d,m,i),c)},Z6=(t,s,i,c)=>(s.reuseDom?Da:Yk)(t,c),uP=(t,s,i,c)=>{sE(t,er,c)},dP=(t,s,i,c)=>{sE(t,pi,c)},q6=(t,s,i,c)=>{const d=rE(t);An(d,p=>yo(c.element,p.element)).each(Fu)},rE=(t,s)=>t.components(),fP=(t,s,i,c,d)=>{const m=rE(t);return P.from(m[c]).map(p=>(d.fold(()=>Fu(p),x=>{(s.reuseDom?j6:lP)(t,p,c,x)}),p))};var hP=Object.freeze({__proto__:null,append:uP,prepend:dP,remove:q6,replaceAt:fP,replaceBy:(t,s,i,c,d)=>{const m=rE(t);return Xo(m,c).bind(p=>fP(t,s,i,p,d))},set:Z6,contents:rE});const Nn=Gr({fields:[Ti("reuseDom",!0)],name:"replacing",apis:hP}),G6=(t,s)=>{const i=ns(s);return Gr({fields:[rt("enabled")],name:t,active:{events:A(i)}})},Fn=(t,s)=>{const i=G6(t,s);return{key:t,value:{config:{},me:i,configAsRaw:A({}),initialConfig:{},state:Du}}},Xk=(t,s)=>{s.ignore||(Tc(t.element),s.onFocus(t))};var Y6=Object.freeze({__proto__:null,focus:Xk,blur:(t,s)=>{s.ignore||Xv(t.element)},isFocused:t=>ap(t.element)}),mP=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return Rr(i)},events:t=>ns([Ke(Eu(),(s,i)=>{Xk(s,t),i.stop()})].concat(t.stopMousedown?[Ke(Aa(),(s,i)=>{i.event.prevent()})]:[]))}),pP=[ho("onFocus"),Pe("stopMousedown",!1),Pe("ignore",!1)];const dn=Gr({fields:pP,name:"focusing",active:mP,apis:Y6}),gP=t=>({init:()=>{const i=rn(t);return{get:()=>i.get(),set:x=>i.set(x),clear:()=>i.set(t),readState:()=>i.get()}}}),vP=(t,s,i)=>{const c=s.aria;c.update(t,c,i.get())},Jk=(t,s,i)=>{s.toggleClass.each(c=>{i.get()?Ds(t.element,c):Ps(t.element,c)})},J2=(t,s,i,c)=>{const d=i.get();i.set(c),Jk(t,s,i),vP(t,s,i),d!==c&&s.onToggled(t,c)},bP=(t,s,i)=>{J2(t,s,i,!i.get())},X6=(t,s,i)=>{J2(t,s,i,!0)},J6=(t,s,i)=>{J2(t,s,i,!1)},yP=(t,s,i)=>i.get(),iE=(t,s,i)=>{J2(t,s,i,s.selected)};var Qk=Object.freeze({__proto__:null,onLoad:iE,toggle:bP,isOn:yP,on:X6,off:J6,set:J2}),wP=Object.freeze({__proto__:null,exhibit:()=>Rr({}),events:(t,s)=>{const i=Mx(t,s,bP),c=Wy(t,s,iE);return ns(Tn([t.toggleOnExecute?[i]:[],[c]]))}});const CP=(t,s,i)=>{Mt(t.element,"aria-pressed",i),s.syncWithExpanded&&Vb(t,s,i)},Q6=(t,s,i)=>{Mt(t.element,"aria-selected",i)},e7=(t,s,i)=>{Mt(t.element,"aria-checked",i)},Vb=(t,s,i)=>{Mt(t.element,"aria-expanded",i)};var Q2=[Pe("selected",!1),_o("toggleClass"),Pe("toggleOnExecute",!0),ho("onToggled"),wc("aria",{mode:"none"},wr("mode",{pressed:[Pe("syncWithExpanded",!1),ms("update",CP)],checked:[ms("update",e7)],expanded:[ms("update",Vb)],selected:[ms("update",Q6)],none:[ms("update",ue)]}))];const Wn=Gr({fields:Q2,name:"toggling",active:wP,apis:Qk,state:gP(!1)}),eO=()=>{const t=(s,i)=>{i.stop(),Au(s)};return[Ke(wf(),t),Ke(na(),t),rl(wu()),rl(Aa())]},Vd=t=>{const s=i=>Hl((c,d)=>{i(c),d.stop()});return ns(Tn([t.map(s).toArray(),eO()]))},im="alloy.item-hover",xP="alloy.item-focus",SP="alloy.item-toggled",tO=t=>{(si(t.element).isNone()||dn.isFocused(t))&&(dn.isFocused(t)||dn.focus(t),on(t,im,{item:t}))},If=t=>{on(t,xP,{item:t})},nO=(t,s)=>{on(t,SP,{item:t,state:s})},EP=A(im),_P=A(xP),TP=A(SP),AP=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),oO=t=>({aria:{mode:"checked"},...zc(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{Re(t.onToggled)&&t.onToggled(s,i),nO(s,i)}}),kP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:AP(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:cc.augment(t.itemBehaviours,[t.toggling.fold(Wn.revoke,s=>Wn.config(oO(s))),dn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{If(s)}}),cn.config({mode:"execution"}),Nt.config({store:{mode:"memory",initialValue:t.data}}),Fn("item-type-events",[...eO(),Ke(xu(),tO),Ke(Sh(),dn.focus)])]),components:t.components,eventOrder:t.eventOrder}),t7=[rt("data"),rt("components"),rt("dom"),Pe("hasSubmenu",!1),_o("toggling"),cc.field("itemBehaviours",[Wn,dn,cn,Nt]),Pe("ignoreFocus",!1),Pe("domModification",{}),ms("builder",kP),Pe("eventOrder",{})],n7=t=>({dom:t.dom,components:t.components,events:ns([aA(Sh())])}),o7=[rt("dom"),rt("components"),ms("builder",n7)],Ub=A("item-widget"),ew=A([Bo({name:"widget",overrides:t=>({behaviours:yt([Nt.config({store:{mode:"manual",getValue:s=>t.data,setValue:ue}})])})})]),sO=t=>{const s=P2(Ub(),t,ew()),i=M2(Ub(),t,s.internals()),c=m=>$o(m,t,"widget").map(p=>(cn.focusIn(p),p)),d=(m,p)=>Uu(p.event.target)?P.none():(t.autofocus&&p.setSource(m.element),P.none());return{dom:t.dom,components:i,domModification:t.domModification,events:ns([Hl((m,p)=>{c(m).each(x=>{p.stop()})}),Ke(xu(),tO),Ke(Sh(),(m,p)=>{t.autofocus?c(m):dn.focus(m)})]),behaviours:cc.augment(t.widgetBehaviours,[Nt.config({store:{mode:"memory",initialValue:t.data}}),dn.config({ignore:t.ignoreFocus,onFocus:m=>{If(m)}}),cn.config({mode:"special",focusIn:t.autofocus?m=>{c(m)}:Vi(),onLeft:d,onRight:d,onEscape:(m,p)=>!dn.isFocused(m)&&!t.autofocus?(dn.focus(m),P.some(!0)):(t.autofocus&&p.setSource(m.element),P.none())})])}},s7=[rt("uid"),rt("data"),rt("components"),rt("dom"),Pe("autofocus",!1),Pe("ignoreFocus",!1),cc.field("widgetBehaviours",[Nt,dn,cn]),Pe("domModification",{}),Mf(ew()),ms("builder",sO)],r7=wr("type",{widget:s7,item:t7,separator:o7}),OP=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),DP=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),RP=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),PP=A([pl({factory:{sketch:t=>{const s=Vr("menu.spec item",r7,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>go(s,"uid")?s:{...s,uid:Km("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),i7=A([rt("value"),rt("items"),rt("dom"),rt("components"),Pe("eventOrder",{}),Pr("menuBehaviours",[wo,Nt,ro,cn]),wc("movement",{mode:"menu",moveOnTab:!0},wr("mode",{grid:[Ly(),ms("config",OP)],matrix:[ms("config",DP),rt("rowSelector"),Pe("previousSelector",P.none)],menu:[Pe("moveOnTab",!0),ms("config",RP)]})),_f(),Pe("fakeFocus",!1),Pe("focusManager",Ap()),ho("onHighlight"),ho("onDehighlight")]),aE=A("alloy.menu-focus"),a7=(t,s)=>{const i=sa(t.element,'[role="menuitemradio"][aria-checked="true"]');ht(i,c=>{yo(c,s.element)||t.getSystem().getByDom(c).each(d=>{Wn.off(d)})})},c7=(t,s,i,c)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mr(t.menuBehaviours,[wo.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Nt.config({store:{mode:"memory",initialValue:t.value}}),ro.config({find:P.some}),cn.config(t.movement.config(t,t.movement))]),events:ns([Ke(_P(),(d,m)=>{const p=m.event;d.getSystem().getByDom(p.target).each(x=>{wo.highlight(d,x),m.stop(),on(d,aE(),{menu:d,item:x})})}),Ke(EP(),(d,m)=>{const p=m.event.item;wo.highlight(d,p)}),Ke(TP(),(d,m)=>{const{item:p,state:x}=m.event;x&&As(p.element,"role")==="menuitemradio"&&a7(d,p)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),v1=ki({name:"Menu",configFields:i7(),partFields:PP(),factory:c7}),l7=t=>pa(t,(s,i)=>({k:s,v:i})),rO=(t,s,i,c)=>Dt(i,c).bind(d=>Dt(t,d).bind(m=>{const p=rO(t,s,i,m);return P.some([m].concat(p))})).getOr([]),u7=(t,s)=>{const i={};lr(t,(p,x)=>{ht(p,E=>{i[E]=x})});const c=s,d=l7(s),m=is(d,(p,x)=>[x].concat(rO(i,c,d,x)));return is(i,p=>Dt(m,p).getOr([p]))},d7=()=>{const t=rn({}),s=rn({}),i=rn({}),c=ss(),d=rn({}),m=()=>{t.set({}),s.set({}),i.set({}),c.clear()},p=()=>c.get().isNone(),x=(Qe,lt)=>{s.set({...s.get(),[Qe]:{type:"prepared",menu:lt}})},E=(Qe,lt,_t,Xe)=>{c.set(Qe),t.set(_t),s.set(lt),d.set(Xe);const Dn=u7(Xe,_t);i.set(Dn)},R=Qe=>fi(t.get(),(lt,_t)=>lt===Qe),N=(Qe,lt,_t)=>fe(Qe).bind(Xe=>R(Qe).bind(Dn=>lt(Dn).map(Ht=>({triggeredMenu:Xe,triggeringItem:Ht,triggeringPath:_t})))),z=(Qe,lt)=>{const _t=po(we(Qe).toArray(),Xe=>fe(Xe).isSome());return Dt(i.get(),Qe).bind(Xe=>{const Dn=Nr(_t.concat(Xe)),Ht=Le(Dn,(hn,tn)=>N(hn,lt,Dn.slice(0,tn+1)).fold(()=>Qi(c.get(),hn)?[]:[P.none()],bo=>[P.some(bo)]));return as(Ht)})},Y=Qe=>Dt(t.get(),Qe).map(lt=>{const _t=Dt(i.get(),Qe).getOr([]);return[lt].concat(_t)}),J=Qe=>Dt(i.get(),Qe).bind(lt=>lt.length>1?P.some(lt.slice(1)):P.none()),se=Qe=>Dt(i.get(),Qe),fe=Qe=>Me(Qe).bind(iO),Me=Qe=>Dt(s.get(),Qe),we=Qe=>Dt(t.get(),Qe);return{setMenuBuilt:x,setContents:E,expand:Y,refresh:se,collapse:J,lookupMenu:Me,lookupItem:we,otherMenus:Qe=>{const lt=d.get();return Jt(Ts(lt),Qe)},getPrimary:()=>c.get().bind(fe),getMenus:()=>s.get(),clear:m,isClear:p,getTriggeringPath:z}},iO=t=>t.type==="prepared"?P.some(t.menu):P.none(),Wb={init:d7,extractPreparedMenu:iO},MP=zt("tiered-menu-item-highlight"),jb=zt("tiered-menu-item-dehighlight");var aa;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(aa||(aa={}));const BP=(t,s)=>{const i=ss(),c=(xt,Ut,In)=>is(In,(bn,sn)=>{const Bn=()=>v1.sketch({...bn,value:sn,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Vo,Co)=>{on(Vo,MP,{menuComp:Vo,itemComp:Co})},onDehighlight:(Vo,Co)=>{on(Vo,jb,{menuComp:Vo,itemComp:Co})},focusManager:t.fakeFocus?$k():Ap()});return sn===Ut?{type:"prepared",menu:xt.getSystem().build(Bn())}:{type:"notbuilt",nbMenu:Bn}}),d=Wb.init(),m=xt=>{const Ut=c(xt,t.data.primary,t.data.menus),In=E();return d.setContents(t.data.primary,Ut,t.data.expansions,In),d.getPrimary()},p=xt=>Nt.getValue(xt).value,x=(xt,Ut,In)=>gr(Ut,bn=>{if(!bn.getSystem().isConnected())return P.none();const sn=wo.getCandidates(bn);return An(sn,Bn=>p(Bn)===In)}),E=xt=>is(t.data.menus,(Ut,In)=>Le(Ut.items,bn=>bn.type==="separator"?[]:[bn.data.value])),R=wo.highlight,N=(xt,Ut)=>{R(xt,Ut),wo.getHighlighted(Ut).orThunk(()=>wo.getFirst(Ut)).each(In=>{t.fakeFocus?wo.highlight(Ut,In):Dv(xt,In.element,Sh())})},z=(xt,Ut)=>$r(He(Ut,In=>xt.lookupMenu(In).bind(bn=>bn.type==="prepared"?P.some(bn.menu):P.none()))),Y=(xt,Ut,In)=>{const bn=z(Ut,Ut.otherMenus(In));ht(bn,sn=>{Wa(sn.element,[t.markers.backgroundMenu]),t.stayInDom||Nn.remove(xt,sn)})},J=xt=>i.get().getOrThunk(()=>{const Ut={},In=sa(xt.element,`.${t.markers.item}`),bn=po(In,sn=>As(sn,"aria-haspopup")==="true");return ht(bn,sn=>{xt.getSystem().getByDom(sn).each(Bn=>{const Vo=p(Bn);Ut[Vo]=Bn})}),i.set(Ut),Ut}),se=(xt,Ut)=>{const In=J(xt);lr(In,(bn,sn)=>{const Bn=ct(Ut,sn);Mt(bn.element,"aria-expanded",Bn)})},fe=(xt,Ut,In)=>P.from(In[0]).bind(bn=>Ut.lookupMenu(bn).bind(sn=>{if(sn.type==="notbuilt")return P.none();{const Bn=sn.menu,Vo=z(Ut,In.slice(1));return ht(Vo,Co=>{Ds(Co.element,t.markers.backgroundMenu)}),ur(Bn.element)||Nn.append(xt,Sc(Bn)),Wa(Bn.element,[t.markers.backgroundMenu]),N(xt,Bn),Y(xt,Ut,In),P.some(Bn)}}));let Me;(function(xt){xt[xt.HighlightSubmenu=0]="HighlightSubmenu",xt[xt.HighlightParent=1]="HighlightParent"})(Me||(Me={}));const we=(xt,Ut,In)=>{if(In.type==="notbuilt"){const bn=xt.getSystem().build(In.nbMenu());return d.setMenuBuilt(Ut,bn),bn}else return In.menu},ke=(xt,Ut,In=Me.HighlightSubmenu)=>{if(Ut.hasConfigured(En)&&En.isDisabled(Ut))return P.some(Ut);{const bn=p(Ut);return d.expand(bn).bind(sn=>(se(xt,sn),P.from(sn[0]).bind(Bn=>d.lookupMenu(Bn).bind(Vo=>{const Co=we(xt,Bn,Vo);return ur(Co.element)||Nn.append(xt,Sc(Co)),t.onOpenSubmenu(xt,Ut,Co,Nr(sn)),In===Me.HighlightSubmenu?(wo.highlightFirst(Co),fe(xt,d,sn)):(wo.dehighlightAll(Co),P.some(Ut))}))))}},Se=(xt,Ut)=>{const In=p(Ut);return d.collapse(In).bind(bn=>(se(xt,bn),fe(xt,d,bn).map(sn=>(t.onCollapseMenu(xt,Ut,sn),sn))))},ot=(xt,Ut)=>{const In=p(Ut);return d.refresh(In).bind(bn=>(se(xt,bn),fe(xt,d,bn)))},Qe=(xt,Ut)=>Uu(Ut.element)?P.none():ke(xt,Ut,Me.HighlightSubmenu),lt=(xt,Ut)=>Uu(Ut.element)?P.none():Se(xt,Ut),_t=(xt,Ut)=>Se(xt,Ut).orThunk(()=>t.onEscape(xt,Ut).map(()=>xt)),Xe=xt=>(Ut,In)=>zl(In.getSource(),`.${t.markers.item}`).bind(bn=>Ut.getSystem().getByDom(bn).toOptional().bind(sn=>xt(Ut,sn).map(wt))),Dn=ns([Ke(aE(),(xt,Ut)=>{const In=Ut.event.item;d.lookupItem(p(In)).each(()=>{const bn=Ut.event.menu;wo.highlight(xt,bn);const sn=p(Ut.event.item);d.refresh(sn).each(Bn=>Y(xt,d,Bn))})}),Hl((xt,Ut)=>{const In=Ut.event.target;xt.getSystem().getByDom(In).each(bn=>{p(bn).indexOf("collapse-item")===0&&Se(xt,bn),ke(xt,bn,Me.HighlightSubmenu).fold(()=>{t.onExecute(xt,bn)},ue)})}),ys((xt,Ut)=>{m(xt).each(In=>{Nn.append(xt,Sc(In)),t.onOpenMenu(xt,In),t.highlightOnOpen===aa.HighlightMenuAndItem?N(xt,In):t.highlightOnOpen===aa.HighlightJustMenu&&R(xt,In)})}),Ke(MP,(xt,Ut)=>{t.onHighlightItem(xt,Ut.event.menuComp,Ut.event.itemComp)}),Ke(jb,(xt,Ut)=>{t.onDehighlightItem(xt,Ut.event.menuComp,Ut.event.itemComp)}),...t.navigateOnHover?[Ke(EP(),(xt,Ut)=>{const In=Ut.event.item;ot(xt,In),ke(xt,In,Me.HighlightParent),t.onHover(xt,In)})]:[]]),Ht=xt=>wo.getHighlighted(xt).bind(wo.getHighlighted),hn=xt=>{Ht(xt).each(Ut=>{Se(xt,Ut)})},tn=xt=>{d.getPrimary().each(Ut=>{N(xt,Ut)})},bo=xt=>P.from(xt.components()[0]).filter(Ut=>As(Ut.element,"role")==="menu"),Kn={collapseMenu:hn,highlightPrimary:tn,repositionMenus:xt=>{d.getPrimary().bind(In=>Ht(xt).bind(bn=>{const sn=p(bn),Bn=Xp(d.getMenus()),Vo=$r(He(Bn,Wb.extractPreparedMenu));return d.getTriggeringPath(sn,Co=>x(xt,Vo,Co))}).map(bn=>({primary:In,triggeringPath:bn}))).fold(()=>{bo(xt).each(In=>{t.onRepositionMenu(xt,In,[])})},({primary:In,triggeringPath:bn})=>{t.onRepositionMenu(xt,In,bn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mr(t.tmenuBehaviours,[cn.config({mode:"special",onRight:Xe(Qe),onLeft:Xe(lt),onEscape:Xe(_t),focusIn:(xt,Ut)=>{d.getPrimary().each(In=>{Dv(xt,In.element,Sh())})}}),wo.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ro.config({find:xt=>wo.getHighlighted(xt)}),Nn.config({})]),eventOrder:t.eventOrder,apis:Kn,events:Dn}},NP=A("collapse-item"),f7=(t,s,i)=>({primary:t,menus:s,expansions:i}),h7=(t,s)=>({primary:t,menus:wh(t,s),expansions:{}}),IP=t=>({value:zt(NP()),meta:{text:t}}),b1=Sr({name:"TieredMenu",configFields:[Iy("onExecute"),Iy("onEscape"),Fh("onOpenMenu"),Fh("onOpenSubmenu"),ho("onRepositionMenu"),ho("onCollapseMenu"),Pe("highlightOnOpen",aa.HighlightMenuAndItem),Qc("data",[rt("primary"),rt("menus"),rt("expansions")]),Pe("fakeFocus",!1),ho("onHighlightItem"),ho("onDehighlightItem"),ho("onHover"),Ny(),rt("dom"),Pe("navigateOnHover",!0),Pe("stayInDom",!1),Pr("tmenuBehaviours",[cn,wo,ro,Nn]),Pe("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:BP,extraApis:{tieredData:f7,singleData:h7,collapseItem:IP}}),$P=(t,s,i,c,d)=>{const m=()=>t.lazySink(s),p=c.type==="horizontal"?{layouts:{onLtr:()=>Ng(),onRtl:()=>Kv()}}:{},x=R=>R.length===2,E=R=>x(R)?p:{};return b1.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightOnOpen:c.menu.highlightOnOpen,fakeFocus:c.menu.fakeFocus,onEscape:()=>(qn.close(s),t.onEscape.map(R=>R(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(R,N)=>{ri.positionWithinBounds(m().getOrDie(),N,i,d())},onOpenSubmenu:(R,N,z,Y)=>{const J=m().getOrDie();ri.position(J,z,{anchor:{type:"submenu",item:N,...E(Y)}})},onRepositionMenu:(R,N,z)=>{const Y=m().getOrDie();ri.positionWithinBounds(Y,N,i,d()),ht(z,J=>{const se=E(J.triggeringPath);ri.position(Y,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem,...se}})})}})},m7=(t,s)=>{const i=(Y,J)=>t.getRelated(Y).exists(fe=>Ef(fe,J)),c=(Y,J)=>{qn.setContent(Y,J)},d=(Y,J,se)=>{const fe=P.none;m(Y,J,se,fe)},m=(Y,J,se,fe)=>{const Me=t.lazySink(Y).getOrDie();qn.openWhileCloaked(Y,J,()=>ri.positionWithinBounds(Me,Y,se,fe())),Nt.setValue(Y,P.some({mode:"position",config:se,getBounds:fe}))},p=(Y,J,se)=>{x(Y,J,se,P.none)},x=(Y,J,se,fe)=>{const Me=$P(t,Y,J,se,fe);qn.open(Y,Me),Nt.setValue(Y,P.some({mode:"menu",menu:Me}))},E=Y=>{qn.isOpen(Y)&&(Nt.setValue(Y,P.none()),qn.close(Y))},R=Y=>qn.getState(Y),N=Y=>{qn.isOpen(Y)&&Nt.getValue(Y).each(J=>{switch(J.mode){case"menu":qn.getState(Y).each(b1.repositionMenus);break;case"position":const se=t.lazySink(Y).getOrDie();ri.positionWithinBounds(se,Y,J.config,J.getBounds());break}})},z={setContent:c,showAt:d,showWithinBounds:m,showMenuAt:p,showMenuWithinBounds:x,hide:E,getContent:R,reposition:N,isOpen:qn.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Mr(t.inlineBehaviours,[qn.config({isPartOf:(Y,J,se)=>Ef(J,se)||i(Y,se),getAttachPoint:Y=>t.lazySink(Y).getOrDie(),onOpen:Y=>{t.onShow(Y)},onClose:Y=>{t.onHide(Y)}}),Nt.config({store:{mode:"memory",initialValue:P.none()}}),Za.config({channels:{...Qg({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(Y=>({fireEventInstead:{event:Y.event}})).getOr({})}),...vb({...t.fireRepositionEventInstead.map(Y=>({fireEventInstead:{event:Y.event}})).getOr({}),doReposition:N})}})]),eventOrder:t.eventOrder,apis:z}},Ms=Sr({name:"InlineView",configFields:[rt("lazySink"),ho("onShow"),ho("onHide"),pf("onEscape"),Pr("inlineBehaviours",[qn,Nt,Za]),Ta("fireDismissalEventInstead",[Pe("event",Tu())]),Ta("fireRepositionEventInstead",[Pe("event",_h())]),Pe("getRelated",P.none),Pe("isExtraPart",Vt),Pe("eventOrder",P.none)],factory:m7,apis:{showAt:(t,s,i,c)=>{t.showAt(s,i,c)},showWithinBounds:(t,s,i,c,d)=>{t.showWithinBounds(s,i,c,d)},showMenuAt:(t,s,i,c)=>{t.showMenuAt(s,i,c)},showMenuWithinBounds:(t,s,i,c,d)=>{t.showMenuWithinBounds(s,i,c,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var tw=tinymce.util.Tools.resolve("tinymce.util.Delay");const ci=Sr({name:"Button",factory:t=>{const s=Vd(t.action),i=t.dom.tag,c=m=>Dt(t.dom,"attributes").bind(p=>Dt(p,m)),d=()=>{if(i==="button"){const m=c("type").getOr("button"),p=c("role").map(x=>({role:x})).getOr({});return{type:m,...p}}else return{role:t.role.getOr(c("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:cc.augment(t.buttonBehaviours,[dn.config({}),cn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[Pe("uid",void 0),rt("dom"),Pe("components",[]),cc.field("buttonBehaviours",[dn,cn]),_o("action"),_o("role"),Pe("eventOrder",{})]}),cO=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return Mo(s,(i,c)=>c.name==="class"?i:{...i,[c.name]:c.value},{})},p7=t=>Array.prototype.slice.call(t.dom.classList,0),am=t=>{const s=Ae.fromHtml(t),i=vc(s),c=cO(s),d=p7(s),m=i.length===0?{}:{innerHtml:Cy(s)};return{tag:Vs(s),classes:d,attributes:c,...m}},Oo=t=>{const s=I2(t)&&va(t,"uid")?t.uid:Km("memento");return{get:m=>m.getSystem().getByUid(s).getOrDie(),getOpt:m=>m.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}},{entries:LP,setPrototypeOf:lO,isFrozen:FP,getPrototypeOf:g7,getOwnPropertyDescriptor:v7}=Object;let{freeze:Nc,seal:Ud,create:b7}=Object,{apply:uO,construct:cE}=typeof Reflect<"u"&&Reflect;uO||(uO=function(s,i,c){return s.apply(i,c)}),Nc||(Nc=function(s){return s}),Ud||(Ud=function(s){return s}),cE||(cE=function(s,i){return new s(...i)});const y7=ca(Array.prototype.forEach),w7=ca(Array.prototype.pop),nw=ca(Array.prototype.push),lE=ca(String.prototype.toLowerCase),dO=ca(String.prototype.toString),y1=ca(String.prototype.match),Wd=ca(String.prototype.replace),C7=ca(String.prototype.indexOf),w1=ca(String.prototype.trim),vl=ca(RegExp.prototype.test),ow=x7(TypeError);function ca(t){return function(s){for(var i=arguments.length,c=new Array(i>1?i-1:0),d=1;d<i;d++)c[d-1]=arguments[d];return uO(t,s,c)}}function x7(t){return function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return cE(t,i)}}function Lo(t,s,i){var c;i=(c=i)!==null&&c!==void 0?c:lE,lO&&lO(t,null);let d=s.length;for(;d--;){let m=s[d];if(typeof m=="string"){const p=i(m);p!==m&&(FP(s)||(s[d]=p),m=p)}t[m]=!0}return t}function Ra(t){const s=b7(null);for(const[i,c]of LP(t))s[i]=c;return s}function sw(t,s){for(;t!==null;){const c=v7(t,s);if(c){if(c.get)return ca(c.get);if(typeof c.value=="function")return ca(c.value)}t=g7(t)}function i(c){return console.warn("fallback value for",c),null}return i}const fO=Nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uE=Nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hO=Nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mO=Nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pO=Nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S7=Nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),HP=Nc(["#text"]),rw=Nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),iw=Nc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gO=Nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),aw=Nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zP=Ud(/\{\{[\w\W]*|[\w\W]*\}\}/gm),E7=Ud(/<%[\w\W]*|[\w\W]*%>/gm),vO=Ud(/\${[\w\W]*}/gm),VP=Ud(/^data-[\-\w.\u00B7-\uFFFF]/),_7=Ud(/^aria-[\-\w]+$/),UP=Ud(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T7=Ud(/^(?:\w+script|data):/i),bO=Ud(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),WP=Ud(/^html$/i);var Zb=Object.freeze({__proto__:null,MUSTACHE_EXPR:zP,ERB_EXPR:E7,TMPLIT_EXPR:vO,DATA_ATTR:VP,ARIA_ATTR:_7,IS_ALLOWED_URI:UP,IS_SCRIPT_OR_DATA:T7,ATTR_WHITESPACE:bO,DOCTYPE_NAME:WP});const dE=()=>typeof window>"u"?null:window,jP=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let c=null;const d="data-tt-policy-suffix";i&&i.hasAttribute(d)&&(c=i.getAttribute(d));const m="dompurify"+(c?"#"+c:"");try{return s.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function yO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dE();const s=oo=>yO(oo);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const i=t.document,c=i.currentScript;let{document:d}=t;const{DocumentFragment:m,HTMLTemplateElement:p,Node:x,Element:E,NodeFilter:R,NamedNodeMap:N=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:z,DOMParser:Y,trustedTypes:J}=t,se=E.prototype,fe=sw(se,"cloneNode"),Me=sw(se,"nextSibling"),we=sw(se,"childNodes"),ke=sw(se,"parentNode");if(typeof p=="function"){const oo=d.createElement("template");oo.content&&oo.content.ownerDocument&&(d=oo.content.ownerDocument)}let Se,ot="";const{implementation:Qe,createNodeIterator:lt,createDocumentFragment:_t,getElementsByTagName:Xe}=d,{importNode:Dn}=i;let Ht={};s.isSupported=typeof LP=="function"&&typeof ke=="function"&&Qe&&Qe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:hn,ERB_EXPR:tn,TMPLIT_EXPR:bo,DATA_ATTR:mo,ARIA_ATTR:Kn,IS_SCRIPT_OR_DATA:xt,ATTR_WHITESPACE:Ut}=Zb;let{IS_ALLOWED_URI:In}=Zb,bn=null;const sn=Lo({},[...fO,...uE,...hO,...pO,...HP]);let Bn=null;const Vo=Lo({},[...rw,...iw,...gO,...aw]);let Co=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ma=null,_l=null,sf=!0,Xi=!0,Tl=!1,lu=!0,fc=!1,Xf=!1,sv=!1,wR=!1,F0=!1,IT=!1,NF=!1,OK=!0,DK=!1;const iX="user-content-";let _q=!0,CR=!1,$T={},LT=null;const RK=Lo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let PK=null;const MK=Lo({},["audio","video","img","source","image","track"]);let Tq=null;const BK=Lo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),IF="http://www.w3.org/1998/Math/MathML",$F="http://www.w3.org/2000/svg",rv="http://www.w3.org/1999/xhtml";let FT=rv,Aq=!1,kq=null;const aX=Lo({},[IF,$F,rv],dO);let BC;const cX=["application/xhtml+xml","text/html"],lX="text/html";let hc,HT=null;const uX=d.createElement("form"),NK=function(ze){return ze instanceof RegExp||ze instanceof Function},Oq=function(ze){if(!(HT&&HT===ze)){if((!ze||typeof ze!="object")&&(ze={}),ze=Ra(ze),BC=cX.indexOf(ze.PARSER_MEDIA_TYPE)===-1?BC=lX:BC=ze.PARSER_MEDIA_TYPE,hc=BC==="application/xhtml+xml"?dO:lE,bn="ALLOWED_TAGS"in ze?Lo({},ze.ALLOWED_TAGS,hc):sn,Bn="ALLOWED_ATTR"in ze?Lo({},ze.ALLOWED_ATTR,hc):Vo,kq="ALLOWED_NAMESPACES"in ze?Lo({},ze.ALLOWED_NAMESPACES,dO):aX,Tq="ADD_URI_SAFE_ATTR"in ze?Lo(Ra(BK),ze.ADD_URI_SAFE_ATTR,hc):BK,PK="ADD_DATA_URI_TAGS"in ze?Lo(Ra(MK),ze.ADD_DATA_URI_TAGS,hc):MK,LT="FORBID_CONTENTS"in ze?Lo({},ze.FORBID_CONTENTS,hc):RK,ma="FORBID_TAGS"in ze?Lo({},ze.FORBID_TAGS,hc):{},_l="FORBID_ATTR"in ze?Lo({},ze.FORBID_ATTR,hc):{},$T="USE_PROFILES"in ze?ze.USE_PROFILES:!1,sf=ze.ALLOW_ARIA_ATTR!==!1,Xi=ze.ALLOW_DATA_ATTR!==!1,Tl=ze.ALLOW_UNKNOWN_PROTOCOLS||!1,lu=ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fc=ze.SAFE_FOR_TEMPLATES||!1,Xf=ze.WHOLE_DOCUMENT||!1,F0=ze.RETURN_DOM||!1,IT=ze.RETURN_DOM_FRAGMENT||!1,NF=ze.RETURN_TRUSTED_TYPE||!1,wR=ze.FORCE_BODY||!1,OK=ze.SANITIZE_DOM!==!1,DK=ze.SANITIZE_NAMED_PROPS||!1,_q=ze.KEEP_CONTENT!==!1,CR=ze.IN_PLACE||!1,In=ze.ALLOWED_URI_REGEXP||UP,FT=ze.NAMESPACE||rv,Co=ze.CUSTOM_ELEMENT_HANDLING||{},ze.CUSTOM_ELEMENT_HANDLING&&NK(ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Co.tagNameCheck=ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ze.CUSTOM_ELEMENT_HANDLING&&NK(ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Co.attributeNameCheck=ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ze.CUSTOM_ELEMENT_HANDLING&&typeof ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Co.allowCustomizedBuiltInElements=ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fc&&(Xi=!1),IT&&(F0=!0),$T&&(bn=Lo({},[...HP]),Bn=[],$T.html===!0&&(Lo(bn,fO),Lo(Bn,rw)),$T.svg===!0&&(Lo(bn,uE),Lo(Bn,iw),Lo(Bn,aw)),$T.svgFilters===!0&&(Lo(bn,hO),Lo(Bn,iw),Lo(Bn,aw)),$T.mathMl===!0&&(Lo(bn,pO),Lo(Bn,gO),Lo(Bn,aw))),ze.ADD_TAGS&&(bn===sn&&(bn=Ra(bn)),Lo(bn,ze.ADD_TAGS,hc)),ze.ADD_ATTR&&(Bn===Vo&&(Bn=Ra(Bn)),Lo(Bn,ze.ADD_ATTR,hc)),ze.ADD_URI_SAFE_ATTR&&Lo(Tq,ze.ADD_URI_SAFE_ATTR,hc),ze.FORBID_CONTENTS&&(LT===RK&&(LT=Ra(LT)),Lo(LT,ze.FORBID_CONTENTS,hc)),_q&&(bn["#text"]=!0),Xf&&Lo(bn,["html","head","body"]),bn.table&&(Lo(bn,["tbody"]),delete ma.tbody),ze.TRUSTED_TYPES_POLICY){if(typeof ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw ow('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ow('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Se=ze.TRUSTED_TYPES_POLICY,ot=Se.createHTML("")}else Se===void 0&&(Se=jP(J,c)),Se!==null&&typeof ot=="string"&&(ot=Se.createHTML(""));Nc&&Nc(ze),HT=ze}},IK=Lo({},["mi","mo","mn","ms","mtext"]),$K=Lo({},["foreignobject","desc","title","annotation-xml"]),dX=Lo({},["title","style","font","a","script"]),LF=Lo({},uE);Lo(LF,hO),Lo(LF,mO);const Dq=Lo({},pO);Lo(Dq,S7);const fX=function(ze){let Xt=ke(ze);(!Xt||!Xt.tagName)&&(Xt={namespaceURI:FT,tagName:"template"});const Mn=lE(ze.tagName),Ar=lE(Xt.tagName);return kq[ze.namespaceURI]?ze.namespaceURI===$F?Xt.namespaceURI===rv?Mn==="svg":Xt.namespaceURI===IF?Mn==="svg"&&(Ar==="annotation-xml"||IK[Ar]):!!LF[Mn]:ze.namespaceURI===IF?Xt.namespaceURI===rv?Mn==="math":Xt.namespaceURI===$F?Mn==="math"&&$K[Ar]:!!Dq[Mn]:ze.namespaceURI===rv?Xt.namespaceURI===$F&&!$K[Ar]||Xt.namespaceURI===IF&&!IK[Ar]?!1:!Dq[Mn]&&(dX[Mn]||!LF[Mn]):!!(BC==="application/xhtml+xml"&&kq[ze.namespaceURI]):!1},NC=function(ze){nw(s.removed,{element:ze});try{ze.parentNode.removeChild(ze)}catch{ze.remove()}},xR=function(ze,Xt){try{nw(s.removed,{attribute:Xt.getAttributeNode(ze),from:Xt})}catch{nw(s.removed,{attribute:null,from:Xt})}if(Xt.removeAttribute(ze),ze==="is"&&!Bn[ze])if(F0||IT)try{NC(Xt)}catch{}else try{Xt.setAttribute(ze,"")}catch{}},LK=function(ze){let Xt,Mn;if(wR)ze="<remove></remove>"+ze;else{const Jf=y1(ze,/^[\r\n\t ]+/);Mn=Jf&&Jf[0]}BC==="application/xhtml+xml"&&FT===rv&&(ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ze+"</body></html>");const Ar=Se?Se.createHTML(ze):ze;if(FT===rv)try{Xt=new Y().parseFromString(Ar,BC)}catch{}if(!Xt||!Xt.documentElement){Xt=Qe.createDocument(FT,"template",null);try{Xt.documentElement.innerHTML=Aq?ot:Ar}catch{}}const mc=Xt.body||Xt.documentElement;return ze&&Mn&&mc.insertBefore(d.createTextNode(Mn),mc.childNodes[0]||null),FT===rv?Xe.call(Xt,Xf?"html":"body")[0]:Xf?Xt.documentElement:mc},FK=function(ze){return lt.call(ze.ownerDocument||ze,ze,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},hX=function(ze){return ze instanceof z&&(typeof ze.nodeName!="string"||typeof ze.textContent!="string"||typeof ze.removeChild!="function"||!(ze.attributes instanceof N)||typeof ze.removeAttribute!="function"||typeof ze.setAttribute!="function"||typeof ze.namespaceURI!="string"||typeof ze.insertBefore!="function"||typeof ze.hasChildNodes!="function")},FF=function(ze){return typeof x=="object"?ze instanceof x:ze&&typeof ze=="object"&&typeof ze.nodeType=="number"&&typeof ze.nodeName=="string"},iv=function(ze,Xt,Mn){Ht[ze]&&y7(Ht[ze],Ar=>{Ar.call(s,Xt,Mn,HT)})},HK=function(ze){let Xt;if(iv("beforeSanitizeElements",ze,null),hX(ze))return NC(ze),!0;const Mn=hc(ze.nodeName);if(iv("uponSanitizeElement",ze,{tagName:Mn,allowedTags:bn}),ze.hasChildNodes()&&!FF(ze.firstElementChild)&&(!FF(ze.content)||!FF(ze.content.firstElementChild))&&vl(/<[/\w]/g,ze.innerHTML)&&vl(/<[/\w]/g,ze.textContent))return NC(ze),!0;if(!bn[Mn]||ma[Mn]){if(!ma[Mn]&&VK(Mn)&&(Co.tagNameCheck instanceof RegExp&&vl(Co.tagNameCheck,Mn)||Co.tagNameCheck instanceof Function&&Co.tagNameCheck(Mn)))return!1;if(_q&&!LT[Mn]){const Ar=ke(ze)||ze.parentNode,mc=we(ze)||ze.childNodes;if(mc&&Ar){const Jf=mc.length;for(let Pi=Jf-1;Pi>=0;--Pi)Ar.insertBefore(fe(mc[Pi],!0),Me(ze))}}return NC(ze),!0}return ze instanceof E&&!fX(ze)||(Mn==="noscript"||Mn==="noembed"||Mn==="noframes")&&vl(/<\/no(script|embed|frames)/i,ze.innerHTML)?(NC(ze),!0):(fc&&ze.nodeType===3&&(Xt=ze.textContent,Xt=Wd(Xt,hn," "),Xt=Wd(Xt,tn," "),Xt=Wd(Xt,bo," "),ze.textContent!==Xt&&(nw(s.removed,{element:ze.cloneNode()}),ze.textContent=Xt)),iv("afterSanitizeElements",ze,null),!1)},zK=function(ze,Xt,Mn){if(OK&&(Xt==="id"||Xt==="name")&&(Mn in d||Mn in uX))return!1;if(!(Xi&&!_l[Xt]&&vl(mo,Xt))){if(!(sf&&vl(Kn,Xt))){if(!Bn[Xt]||_l[Xt]){if(!(VK(ze)&&(Co.tagNameCheck instanceof RegExp&&vl(Co.tagNameCheck,ze)||Co.tagNameCheck instanceof Function&&Co.tagNameCheck(ze))&&(Co.attributeNameCheck instanceof RegExp&&vl(Co.attributeNameCheck,Xt)||Co.attributeNameCheck instanceof Function&&Co.attributeNameCheck(Xt))||Xt==="is"&&Co.allowCustomizedBuiltInElements&&(Co.tagNameCheck instanceof RegExp&&vl(Co.tagNameCheck,Mn)||Co.tagNameCheck instanceof Function&&Co.tagNameCheck(Mn))))return!1}else if(!Tq[Xt]){if(!vl(In,Wd(Mn,Ut,""))){if(!((Xt==="src"||Xt==="xlink:href"||Xt==="href")&&ze!=="script"&&C7(Mn,"data:")===0&&PK[ze])){if(!(Tl&&!vl(xt,Wd(Mn,Ut,"")))){if(Mn)return!1}}}}}}return!0},VK=function(ze){return ze.indexOf("-")>0},UK=function(ze){let Xt,Mn,Ar,mc;iv("beforeSanitizeAttributes",ze,null);const{attributes:Jf}=ze;if(!Jf)return;const Pi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Bn};for(mc=Jf.length;mc--;){Xt=Jf[mc];const{name:Qf,namespaceURI:Rq}=Xt;Mn=Qf==="value"?Xt.value:w1(Xt.value);const pX=Mn;if(Ar=hc(Qf),Pi.attrName=Ar,Pi.attrValue=Mn,Pi.keepAttr=!0,Pi.forceKeepAttr=void 0,iv("uponSanitizeAttribute",ze,Pi),Mn=Pi.attrValue,Pi.forceKeepAttr)continue;if(!Pi.keepAttr){xR(Qf,ze);continue}if(!lu&&vl(/\/>/i,Mn)){xR(Qf,ze);continue}fc&&(Mn=Wd(Mn,hn," "),Mn=Wd(Mn,tn," "),Mn=Wd(Mn,bo," "));const WK=hc(ze.nodeName);if(!zK(WK,Ar,Mn)){xR(Qf,ze);continue}if(DK&&(Ar==="id"||Ar==="name")&&(xR(Qf,ze),Mn=iX+Mn),Se&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!Rq)switch(J.getAttributeType(WK,Ar)){case"TrustedHTML":{Mn=Se.createHTML(Mn);break}case"TrustedScriptURL":{Mn=Se.createScriptURL(Mn);break}}if(Mn!==pX)try{Rq?ze.setAttributeNS(Rq,Qf,Mn):ze.setAttribute(Qf,Mn)}catch{xR(Qf,ze)}}iv("afterSanitizeAttributes",ze,null)},mX=function oo(ze){let Xt;const Mn=FK(ze);for(iv("beforeSanitizeShadowDOM",ze,null);Xt=Mn.nextNode();)iv("uponSanitizeShadowNode",Xt,null),!HK(Xt)&&(Xt.content instanceof m&&oo(Xt.content),UK(Xt));iv("afterSanitizeShadowDOM",ze,null)};return s.sanitize=function(oo){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xt,Mn,Ar,mc;if(Aq=!oo,Aq&&(oo="<!-->"),typeof oo!="string"&&!FF(oo))if(typeof oo.toString=="function"){if(oo=oo.toString(),typeof oo!="string")throw ow("dirty is not a string, aborting")}else throw ow("toString is not a function");if(!s.isSupported)return oo;if(sv||Oq(ze),s.removed=[],typeof oo=="string"&&(CR=!1),CR){if(oo.nodeName){const Qf=hc(oo.nodeName);if(!bn[Qf]||ma[Qf])throw ow("root node is forbidden and cannot be sanitized in-place")}}else if(oo instanceof x)Xt=LK("<!---->"),Mn=Xt.ownerDocument.importNode(oo,!0),Mn.nodeType===1&&Mn.nodeName==="BODY"||Mn.nodeName==="HTML"?Xt=Mn:Xt.appendChild(Mn);else{if(!F0&&!fc&&!Xf&&oo.indexOf("<")===-1)return Se&&NF?Se.createHTML(oo):oo;if(Xt=LK(oo),!Xt)return F0?null:NF?ot:""}Xt&&wR&&NC(Xt.firstChild);const Jf=FK(CR?oo:Xt);for(;Ar=Jf.nextNode();)HK(Ar)||(Ar.content instanceof m&&mX(Ar.content),UK(Ar));if(CR)return oo;if(F0){if(IT)for(mc=_t.call(Xt.ownerDocument);Xt.firstChild;)mc.appendChild(Xt.firstChild);else mc=Xt;return(Bn.shadowroot||Bn.shadowrootmode)&&(mc=Dn.call(i,mc,!0)),mc}let Pi=Xf?Xt.outerHTML:Xt.innerHTML;return Xf&&bn["!doctype"]&&Xt.ownerDocument&&Xt.ownerDocument.doctype&&Xt.ownerDocument.doctype.name&&vl(WP,Xt.ownerDocument.doctype.name)&&(Pi="<!DOCTYPE "+Xt.ownerDocument.doctype.name+`>
`+Pi),fc&&(Pi=Wd(Pi,hn," "),Pi=Wd(Pi,tn," "),Pi=Wd(Pi,bo," ")),Se&&NF?Se.createHTML(Pi):Pi},s.setConfig=function(oo){Oq(oo),sv=!0},s.clearConfig=function(){HT=null,sv=!1},s.isValidAttribute=function(oo,ze,Xt){HT||Oq({});const Mn=hc(oo),Ar=hc(ze);return zK(Mn,Ar,Xt)},s.addHook=function(oo,ze){typeof ze=="function"&&(Ht[oo]=Ht[oo]||[],nw(Ht[oo],ze))},s.removeHook=function(oo){if(Ht[oo])return w7(Ht[oo])},s.removeHooks=function(oo){Ht[oo]&&(Ht[oo]=[])},s.removeAllHooks=function(){Ht={}},s}var A7=yO();const ZP=t=>A7().sanitize(t);var bl=tinymce.util.Tools.resolve("tinymce.util.I18n");const k7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},fE="temporary-placeholder",hE=t=>()=>Dt(t,fE).getOr("!not found!"),mE=(t,s)=>{const i=t.toLowerCase();if(bl.isRtl()){const c=Bi(i,"-rtl");return go(s,c)?c:i}else return i},pE=(t,s)=>Dt(s,mE(t,s)),qP=(t,s)=>{const i=s();return pE(t,i).getOrThunk(hE(i))},GP=(t,s,i)=>{const c=s();return pE(t,c).or(i).getOrThunk(hE(c))},O7=t=>bl.isRtl()?go(k7,t):!1,wO=()=>Fn("add-focusable",[ys(t=>{Wv(t.element,"svg").each(s=>Mt(s,"focusable","false"))})]),KP=(t,s,i,c)=>{var d,m;const p=O7(s)?["tox-icon--flip"]:[],x=Dt(i,mE(s,i)).or(c).getOrThunk(hE(i));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(p),innerHtml:x},behaviours:yt([...(m=t.behaviours)!==null&&m!==void 0?m:[],wO()])}},Yl=(t,s,i,c=P.none())=>KP(s,t,i(),c),D7=(t,s,i)=>{const c=i(),d=An(t,m=>go(c,mE(m,c)));return KP(s,d.getOr(fE),c,P.none())},R7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},gE=Sr({name:"Notification",factory:t=>{const s=Oo({dom:am(`<p>${ZP(t.translationProvider(t.text))}</p>`),behaviours:yt([Nn.config({})])}),i=J=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${J}%`}}}),c=J=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${J}%`}}),d=Oo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},c(0)],behaviours:yt([Nn.config({})])}),x={updateProgress:(J,se)=>{J.getSystem().isConnected()&&d.getOpt(J).each(fe=>{Nn.set(fe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(se)]},c(se)])})},updateText:(J,se)=>{if(J.getSystem().isConnected()){const fe=s.get(J);Nn.set(fe,[Ws(se)])}}},E=Tn([t.icon.toArray(),t.level.toArray(),t.level.bind(J=>P.from(R7[J])).toArray()]),R=Oo(ci.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Yl("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:J=>{t.onAction(J)}})),N=D7(E,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),z={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:yt([Nn.config({})])},Y=[N,z];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(J=>["tox-notification","tox-notification--in",`tox-notification--${J}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:yt([dn.config({}),Fn("notification-events",[Ke(tl(),J=>{R.getOpt(J).each(dn.focus)})])]),components:Y.concat(t.progress?[d.asSpec()]:[]).concat([R.asSpec()]),apis:x}},configFields:[_o("level"),rt("progress"),_o("icon"),rt("onAction"),rt("text"),rt("iconProvider"),rt("translationProvider")],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var XP=(t,s,i)=>{const c=s.backstage.shared,d=()=>{const E=Is(Ae.fromDom(t.getContentAreaContainer())),R=Fi(),N=Hs(R.x,E.x,E.right),z=Hs(R.y,E.y,E.bottom),Y=Math.max(E.right,R.right),J=Math.max(E.bottom,R.bottom);return P.some(yr(N,z,Y-N,J-z))};return{open:(E,R)=>{const N=()=>{R(),Ms.hide(Y)},z=jr(gE.sketch({text:E.text,level:ct(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:N,iconProvider:c.providers.icons,translationProvider:c.providers.translate})),Y=jr(Ms.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:c.getSink,fireDismissalEventInstead:{},...c.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(Y),et(E.timeout)&&E.timeout>0&&tw.setEditorTimeout(t,()=>{N()},E.timeout);const se={close:N,reposition:()=>{const fe=Sc(z),Me={maxHeightFunction:Wh()},we=t.notificationManager.getNotifications();if(we[0]===se){const ke={...c.anchors.banner(),overrides:Me};Ms.showWithinBounds(Y,fe,{anchor:ke},d)}else Ge(we,se).each(ke=>{const Se=we[ke-1].getEl(),ot={type:"node",root:Jr(),node:P.some(Ae.fromDom(Se)),overrides:Me,layouts:{onRtl:()=>[Zs],onLtr:()=>[Zs]}};Ms.showWithinBounds(Y,fe,{anchor:ot},d)})},text:fe=>{gE.updateText(z,fe)},settings:E,getEl:()=>z.element.dom,progressBar:{value:fe=>{gE.updateProgress(z,fe)}}};return se},close:E=>{E.close()},getArgs:E=>E.settings}},qb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),CO=tinymce.util.Tools.resolve("tinymce.EditorManager"),Gb=tinymce.util.Tools.resolve("tinymce.Env"),Xl;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Xl||(Xl={}));var cw;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(cw||(cw={}));const Yo=t=>s=>s.options.get(t),lw=t=>s=>P.from(t(s)),xO=t=>{const s=Gb.deviceType.isPhone(),i=Gb.deviceType.isTablet()||s,c=t.options.register,d=p=>q(p)||p===!1,m=p=>q(p)||et(p);c("skin",{processor:p=>q(p)||p===!1,default:"oxide"}),c("skin_url",{processor:"string"}),c("height",{processor:m,default:Math.max(t.getElement().offsetHeight,400)}),c("width",{processor:m,default:qb.DOM.getStyle(t.getElement(),"width")}),c("min_height",{processor:"number",default:100}),c("min_width",{processor:"number"}),c("max_height",{processor:"number"}),c("max_width",{processor:"number"}),c("style_formats",{processor:"object[]"}),c("style_formats_merge",{processor:"boolean",default:!1}),c("style_formats_autohide",{processor:"boolean",default:!1}),c("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),c("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),c("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),c("font_size_input_default_unit",{processor:"string",default:"pt"}),c("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),c("content_langs",{processor:"object[]"}),c("removed_menuitems",{processor:"string",default:""}),c("menubar",{processor:p=>q(p)||ce(p),default:!s}),c("menu",{processor:"object",default:{}}),c("toolbar",{processor:p=>ce(p)||q(p)||I(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),_n(9,p=>{c("toolbar"+(p+1),{processor:"string"})}),c("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),c("toolbar_groups",{processor:"object",default:{}}),c("toolbar_location",{processor:"string",default:cw.auto}),c("toolbar_persist",{processor:"boolean",default:!1}),c("toolbar_sticky",{processor:"boolean",default:t.inline}),c("toolbar_sticky_offset",{processor:"number",default:0}),c("fixed_toolbar_container",{processor:"string",default:""}),c("fixed_toolbar_container_target",{processor:"object"}),c("ui_mode",{processor:"string",default:"combined"}),c("file_picker_callback",{processor:"function"}),c("file_picker_validator_handler",{processor:"function"}),c("file_picker_types",{processor:"string"}),c("typeahead_urls",{processor:"boolean",default:!0}),c("anchor_top",{processor:d,default:"#top"}),c("anchor_bottom",{processor:d,default:"#bottom"}),c("draggable_modal",{processor:"boolean",default:!1}),c("statusbar",{processor:"boolean",default:!0}),c("elementpath",{processor:"boolean",default:!0}),c("branding",{processor:"boolean",default:!0}),c("promotion",{processor:"boolean",default:!0}),c("resize",{processor:p=>p==="both"||ce(p),default:!Gb.deviceType.isTouch()}),c("sidebar_show",{processor:"string"}),c("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),c("default_font_stack",{processor:"string[]",default:[]})},vE=Yo("readonly"),SO=Yo("height"),Kb=Yo("width"),EO=lw(Yo("min_width")),_O=lw(Yo("min_height")),bE=lw(Yo("max_width")),TO=lw(Yo("max_height")),JP=lw(Yo("style_formats")),QP=Yo("style_formats_merge"),AO=Yo("style_formats_autohide"),eM=Yo("content_langs"),tM=Yo("removed_menuitems"),Op=Yo("toolbar_mode"),Dp=Yo("toolbar_groups"),kO=Yo("toolbar_location"),P7=Yo("fixed_toolbar_container"),OO=Yo("fixed_toolbar_container_target"),DO=Yo("toolbar_persist"),nM=Yo("toolbar_sticky_offset"),oM=Yo("menubar"),uw=Yo("toolbar"),sM=Yo("file_picker_callback"),RO=Yo("file_picker_validator_handler"),PO=Yo("font_size_input_default_unit"),yE=Yo("file_picker_types"),rM=Yo("typeahead_urls"),MO=Yo("anchor_top"),iM=Yo("anchor_bottom"),Yb=Yo("draggable_modal"),aM=Yo("statusbar"),cM=Yo("elementpath"),dw=Yo("branding"),wE=Yo("resize"),lM=Yo("paste_as_text"),CE=Yo("sidebar_show"),uM=Yo("promotion"),dM=Yo("help_accessibility"),xE=Yo("default_font_stack"),BO=t=>t.options.get("skin")===!1,SE=t=>t.options.get("menubar")!==!1,EE=t=>{const s=t.options.get("skin_url");if(BO(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return CO.baseURL+"/skins/ui/"+i}},_E=t=>P.from(t.options.get("skin_url")),fM=t=>t.options.get("line_height_formats").split(" "),TE=t=>{const s=uw(t),i=q(s),c=I(s)&&s.length>0;return!fw(t)&&(c||i||s===!0)},NO=t=>{const s=_n(9,c=>t.options.get("toolbar"+(c+1))),i=po(s,q);return un(i.length>0,i)},fw=t=>NO(t).fold(()=>{const s=uw(t);return nn(s,q)&&s.length>0},wt),IO=t=>kO(t)===cw.bottom,hM=t=>{var s;if(!t.inline)return P.none();const i=(s=P7(t))!==null&&s!==void 0?s:"";if(i.length>0)return hs(Jr(),i);const c=OO(t);return xe(c)?P.some(Ae.fromDom(c)):P.none()},Xb=t=>t.inline&&hM(t).isSome(),$O=t=>hM(t).getOrThunk(()=>nc(gs(Ae.fromDom(t.getElement())))),hw=t=>t.inline&&!SE(t)&&!TE(t)&&!fw(t),mw=t=>(t.options.get("toolbar_sticky")||t.inline)&&!Xb(t)&&!hw(t),Rp=t=>!Xb(t)&&t.options.get("ui_mode")==="split",mM=t=>{const s=t.options.get("menu");return is(s,i=>({...i,items:i.items}))};var pM=Object.freeze({__proto__:null,get ToolbarMode(){return Xl},get ToolbarLocation(){return cw},register:xO,getSkinUrl:EE,getSkinUrlOption:_E,isReadOnly:vE,isSkinDisabled:BO,getHeightOption:SO,getWidthOption:Kb,getMinWidthOption:EO,getMinHeightOption:_O,getMaxWidthOption:bE,getMaxHeightOption:TO,getUserStyleFormats:JP,shouldMergeStyleFormats:QP,shouldAutoHideStyleFormats:AO,getLineHeightFormats:fM,getContentLanguages:eM,getRemovedMenuItems:tM,isMenubarEnabled:SE,isMultipleToolbars:fw,isToolbarEnabled:TE,isToolbarPersist:DO,getMultipleToolbarsOption:NO,getUiContainer:$O,useFixedContainer:Xb,isSplitUiMode:Rp,getToolbarMode:Op,isDraggableModal:Yb,isDistractionFree:hw,isStickyToolbar:mw,getStickyToolbarOffset:nM,getToolbarLocation:kO,isToolbarLocationBottom:IO,getToolbarGroups:Dp,getMenus:mM,getMenubar:oM,getToolbar:uw,getFilePickerCallback:sM,getFilePickerTypes:yE,useTypeaheadUrls:rM,getAnchorTop:MO,getAnchorBottom:iM,getFilePickerValidatorHandler:RO,getFontSizeInputDefaultUnit:PO,useStatusBar:aM,useElementPath:cM,promotionEnabled:uM,useBranding:dw,getResize:wE,getPasteAsText:lM,getSidebarShow:CE,useHelpAccessibility:dM,getDefaultFontStack:xE});const M7={setup:(t,s)=>{const i=(d,m)=>{on(d,nl(),{raw:m})},c=()=>t.getMenu().bind(wo.getHighlighted);s.on("keydown",d=>{const m=d.which;t.isActive()&&(t.isMenuOpen()?m===13?(c().each(Au),d.preventDefault()):m===40?(c().fold(()=>{t.getMenu().each(wo.highlightFirst)},p=>{i(p,d)}),d.preventDefault(),d.stopImmediatePropagation()):(m===37||m===38||m===39)&&c().each(p=>{i(p,d),d.preventDefault(),d.stopImmediatePropagation()}):(m===13||m===38||m===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var LO;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(LO||(LO={}));var jd=LO;const FO="tox-menu-nav__js",AE="tox-collection__item",pw="tox-swatch",B7={normal:FO,color:pw},gM="tox-collection__item--enabled",N7="tox-collection__group-heading",vM="tox-collection__item-icon",HO="tox-collection__item-label",I7="tox-collection__item-accessory",bM="tox-collection__item-caret",$7="tox-collection__item-checkmark",C1="tox-collection__item--active",yM="tox-collection__item-container",L7="tox-collection__item-container--column",wM="tox-collection__item-container--row",F7="tox-collection__item-container--align-right",kE="tox-collection__item-container--align-left",H7="tox-collection__item-container--valign-top",zO="tox-collection__item-container--valign-middle",z7="tox-collection__item-container--valign-bottom",CM=t=>Dt(B7,t).getOr(FO),V7=t=>t==="color"?"tox-swatches":"tox-menu",OE=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:V7(t),tieredMenu:"tox-tiered-menu"}),x1=t=>{const s=OE(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:CM(t)}},VO=(t,s,i)=>{const c=OE(i);return{tag:"div",classes:Tn([[c.menu,`tox-menu-${s}-column`],t?[c.hasIcons]:[]])}},UO=[v1.parts.items({})],gw=(t,s,i)=>{const c=OE(i);return{dom:{tag:"div",classes:Tn([[c.tieredMenu]])},markers:x1(i)}},DE=A([_o("data"),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("tag","input"),Pe("inputClasses",[]),ho("onSetValue"),Pe("styles",{}),Pe("eventOrder",{}),Pr("inputBehaviours",[Nt,dn]),Pe("selectOnFocus",!0)]),vw=t=>yt([dn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,c=kd(i);i.dom.setSelectionRange(0,c.length)}:ue})]),xM=t=>({...vw(t),...Mr(t.inputBehaviours,[Nt.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>kd(s.element),setValue:(s,i)=>{kd(s.element)!==i&&Pu(s.element,i)}},onSetValue:t.onSetValue})])}),Zd=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),WO=(t,s)=>({uid:t.uid,dom:Zd(t),components:[],behaviours:xM(t),eventOrder:t.eventOrder}),S1=Sr({name:"Input",configFields:DE(),factory:WO}),SM=zt("refetch-trigger-event"),EM=zt("redirect-menu-item-interaction"),_M="tox-menu__searcher",Pp=t=>hs(t.element,`.${_M}`).bind(s=>t.getSystem().getByDom(s).toOptional()),TM=Pp,AM=(t,s)=>{Nt.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},RE=t=>{const s=Nt.getValue(t),i=t.element.dom.selectionStart,c=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:c}},U7=(t,s)=>{Js(s.element,"id").each(i=>Mt(t.element,"aria-activedescendant",i))},jO=t=>{const s=(d,m)=>(m.cut(),P.none()),i=(d,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return on(d,EM,p),P.some(!0)},c="searcher-events";return{dom:{tag:"div",classes:[AE]},components:[S1.sketch({inputClasses:[_M,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:yt([Fn(c,[Ke(Su(),d=>{Un(d,SM)}),Ke(nl(),(d,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),cn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[c,cn.name()]}})]}},Jb="tox-collection--results__js",kM=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:zt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},PE=(t,s)=>i=>{const c=$n(i,s);return He(c,d=>({dom:t,components:d}))},OM=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[v1.parts.items({preprocess:t!=="auto"?PE({tag:"div",classes:["tox-swatches__row"]},t):mn})]}]}),W7=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[v1.parts.items({preprocess:PE({tag:"div",classes:["tox-collection__group"]},t)})]}),DM=(t,s)=>{const i=[];let c=[];return ht(t,(d,m)=>{s(d,m)?(c.length>0&&i.push(c),c=[],(go(d.dom,"innerHtml")||d.components&&d.components.length>0)&&c.push(d)):c.push(d)}),c.length>0&&i.push(c),He(i,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},ZO=(t,s,i)=>v1.parts.items({preprocess:c=>{const d=He(c,i);return t!=="auto"&&t>1?PE({tag:"div",classes:["tox-collection__group"]},t)(d):DM(d,(m,p)=>s[p].type==="separator")}}),RM=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[ZO(t,s,mn)]}),j7=(t,s,i=!0)=>{const c=zt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Jb].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:c}},components:[ZO(t,s,kM)]}},Z7=(t,s,i)=>{const c=zt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[jO({i18n:bl.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Jb],attributes:{id:c}},components:[ZO(t,s,kM)]}]}},PM=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[v1.parts.items({preprocess:i=>DM(i,(c,d)=>t[d].type==="separator")})]}),bw=t=>Rn(t,s=>"icon"in s&&s.icon!==void 0),cm=t=>(console.error($m(t)),console.log(t),P.none()),MM=(t,s,i,c,d)=>{const m=PM(i);return{value:t,dom:m.dom,components:m.components,items:i}},E1=(t,s,i,c,d)=>{const m=()=>d.menuType!=="searchable"?RM(c,i):d.searchMode.searchMode==="search-with-field"?Z7(c,i,d.searchMode):j7(c,i);if(d.menuType==="color"){const p=OM(c);return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="normal"&&c==="auto"){const p=RM(c,i);return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="normal"||d.menuType==="searchable"){const p=m();return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="listpreview"&&c!=="auto"){const p=W7(c);return{value:t,dom:p.dom,components:p.components,items:i}}else return{value:t,dom:VO(s,c,d.menuType),components:UO,items:i}},ir=nr("type"),qO=nr("name"),GO=nr("label"),$f=nr("text"),BM=nr("title"),NM=nr("icon"),Qb=nr("value"),IM=kr("fetch"),$M=kr("getSubmenuItems"),_1=kr("onAction"),q7=kr("onItemAction"),T1=Os("onSetup",()=>ue),LM=Ei("name"),Lf=Ei("text"),Ic=Ei("icon"),e0=Ei("tooltip"),ME=Ei("label"),BE=Ei("shortcut"),G7=pf("select"),t0=Ti("active",!1),K7=Ti("borderless",!1),Jl=Ti("enabled",!0),yw=Ti("primary",!1),Mp=t=>Pe("columns",t),KO=Pe("meta",{}),ww=Os("onAction",ue),Ff=t=>_i("type",t),YO=t=>Ur("name","name",vu(()=>zt(`${t}-name`)),ti),FM=t=>Ur("value","value",vu(()=>zt(`${t}-value`)),yu()),XO=pn([ir,Lf]),HM=t=>fs("separatormenuitem",XO,t),JO=pn([Ff("autocompleteitem"),t0,Jl,KO,Qb,Lf,Ic]),zM=t=>fs("Autocompleter.Separator",XO,t),Y7=t=>fs("Autocompleter.Item",JO,t),n0=[Jl,e0,Ic,Lf,T1],VM=pn([ir,_1,BE].concat(n0)),QO=t=>fs("toolbarbutton",VM,t),NE=[t0].concat(n0),X7=pn(NE.concat([ir,_1,BE])),e4=t=>fs("ToggleButton",X7,t),UM=[Os("predicate",Vt),Ls("scope","node",["node","editor"]),Ls("position","selection",["node","selection","line"])],J7=n0.concat([Ff("contextformbutton"),yw,_1,at("original",mn)]),Q7=NE.concat([Ff("contextformbutton"),yw,_1,at("original",mn)]),eH=n0.concat([Ff("contextformbutton")]),WM=NE.concat([Ff("contextformtogglebutton")]),Cw=wr("type",{contextformbutton:J7,contextformtogglebutton:Q7}),jM=pn([Ff("contextform"),Os("initValue",A("")),ME,Or("commands",Cw),el("launch",wr("type",{contextformbutton:eH,contextformtogglebutton:WM}))].concat(UM)),tH=t=>fs("ContextForm",jM,t),nH=pn([Ff("contexttoolbar"),nr("items")].concat(UM)),oH=t=>fs("ContextToolbar",nH,t),sH=[ir,nr("src"),Ei("alt"),Cd("classes",[],ti)],rH=pn(sH),IE=[ir,$f,LM,Cd("classes",["tox-collection__item-label"],ti)],iH=pn(IE),t4=vi(()=>Wt("type",{cardimage:rH,cardtext:iH,cardcontainer:aH})),aH=pn([ir,_i("direction","horizontal"),_i("align","left"),_i("valign","middle"),Or("items",t4)]),A1=[Jl,Lf,BE,FM("menuitem"),KO],ZM=pn([ir,ME,Or("items",t4),T1,ww].concat(A1)),cH=t=>fs("cardmenuitem",ZM,t),qM=pn([ir,t0,Ic].concat(A1)),GM=t=>fs("choicemenuitem",qM,t),n4=[ir,nr("fancytype"),ww],KM=[Pe("initData",{})].concat(n4),lH=[pf("select"),Sv("initData",{},[Ti("allowCustomColors",!0),_i("storageKey","default"),JC("colors",yu())])].concat(n4),uH=wr("fancytype",{inserttable:KM,colorswatch:lH}),dH=t=>fs("fancymenuitem",uH,t),fH=pn([ir,T1,ww,Ic].concat(A1)),YM=t=>fs("menuitem",fH,t),XM=pn([ir,$M,T1,Ic].concat(A1)),hH=t=>fs("nestedmenuitem",XM,t),mH=pn([ir,Ic,t0,T1,_1].concat(A1)),pH=t=>fs("togglemenuitem",mH,t),o4=(t,s,i)=>{const c=sa(t.element,"."+i);if(c.length>0){const d=Xo(c,m=>{const p=m.dom.getBoundingClientRect().top,x=c[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>s}).getOr(c.length);return P.some({numColumns:d,numRows:Math.ceil(c.length/d)})}else return P.none()},JM=(t,s)=>yt([Fn(t,s)]),xw={namedEvents:JM,unnamedEvents:t=>JM(zt("unnamed-events"),t)},$E=zt("tooltip.exclusive"),o0=zt("tooltip.show"),Sw=zt("tooltip.hide"),LE=zt("tooltip.immediateHide"),Ew=zt("tooltip.immediateShow"),QM=(t,s,i)=>{t.getSystem().broadcastOn([$E],{})};var eB=Object.freeze({__proto__:null,hideAllExclusive:QM,setComponents:(t,s,i,c)=>{i.getTooltip().each(d=>{d.getSystem().isConnected()&&Nn.set(d,c)})}}),tB=Object.freeze({__proto__:null,events:(t,s)=>{const i=p=>{s.getTooltip().each(x=>{x.getSystem().isConnected()&&(Fu(x),t.onHide(p,x),s.clearTooltip())}),s.clearTimer()},c=p=>{if(!s.isShowing()){QM(p);const x=t.lazySink(p).getOrDie(),E=p.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ns(t.mode==="normal"?[Ke(xu(),R=>{Un(p,o0)}),Ke(hg(),R=>{Un(p,Sw)})]:[]),behaviours:yt([Nn.config({})])});s.setTooltip(E),Ul(x,E),t.onShow(p,E),ri.position(x,E,{anchor:t.anchor(p)})}},d=p=>{s.getTooltip().each(x=>{const E=t.lazySink(p).getOrDie();ri.position(E,x,{anchor:t.anchor(p)})})},m=()=>{switch(t.mode){case"normal":return[Ke(tl(),p=>{Un(p,Ew)}),Ke(xh(),p=>{Un(p,LE)}),Ke(xu(),p=>{Un(p,o0)}),Ke(hg(),p=>{Un(p,Sw)})];case"follow-highlight":return[Ke(jm(),(p,x)=>{Un(p,o0)}),Ke(Th(),p=>{Un(p,Sw)})];case"children-normal":return[Ke(tl(),(p,x)=>{si(p.element).each(E=>{$i(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Un(p,Ew)},R=>{s.isShowing()&&(t.onShow(p,R),d(p))})})}),Ke(xh(),p=>{si(p.element).fold(()=>{Un(p,LE)},ue)}),Ke(xu(),p=>{hs(p.element,"[data-mce-tooltip]:hover").each(x=>{s.getTooltip().fold(()=>{Un(p,o0)},E=>{s.isShowing()&&(t.onShow(p,E),d(p))})})}),Ke(hg(),p=>{hs(p.element,"[data-mce-tooltip]:hover").fold(()=>{Un(p,Sw)},ue)})];default:return[Ke(tl(),(p,x)=>{si(p.element).each(E=>{$i(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Un(p,Ew)},R=>{s.isShowing()&&(t.onShow(p,R),d(p))})})}),Ke(xh(),p=>{si(p.element).fold(()=>{Un(p,LE)},ue)})]}};return ns(Tn([[Ke(o0,p=>{s.resetTimer(()=>{c(p)},t.delayForShow())}),Ke(Sw,p=>{s.resetTimer(()=>{i(p)},t.delayForHide())}),Ke(Ew,p=>{s.resetTimer(()=>{c(p)},0)}),Ke(LE,p=>{s.resetTimer(()=>{i(p)},0)}),Ke(_u(),(p,x)=>{const E=x;E.universal||ct(E.channels,$E)&&i(p)}),ku(p=>{i(p)})],m()]))}}),vH=[rt("lazySink"),rt("tooltipDom"),Pe("exclusive",!0),Pe("tooltipComponents",[]),Os("delayForShow",A(300)),Os("delayForHide",A(300)),Ls("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Pe("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:A([Zs,qr,hr,os,rr,Cr]),onRtl:A([Zs,qr,hr,os,rr,Cr])},bubble:ul(0,-2,{})})),ho("onHide"),ho("onShow")],bH=Object.freeze({__proto__:null,init:()=>{const t=ss(),s=ss(),i=()=>{t.on(clearTimeout)},c=(m,p)=>{i(),t.set(setTimeout(m,p))},d=A("not-implemented");return Cc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:c,readState:d})}});const Di=Gr({fields:vH,name:"tooltipping",active:tB,state:bH,apis:eB}),s4=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),nB="silver.readonly",yH=pn([ay("readonly")]),FE=(t,s)=>{const c=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&ht(d,m=>{m.broadcastOn([Rf()],{target:c})}),ht(d,m=>{m.broadcastOn([nB],{readonly:s})})},oB=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&FE(s,!0)}),t.on("SwitchMode",()=>FE(s,t.mode.isReadOnly())),vE(t)&&t.mode.set("readonly")},Kr=()=>Za.config({channels:{[nB]:{schema:yH,onReceive:(t,s)=>{En.set(t,s.readonly)}}}}),qu={item:t=>En.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>En.config({disabled:t}),splitButton:t=>En.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>En.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},HE=(t,s)=>{const i=t.getApi(s);return c=>{c(i)}},yi=(t,s)=>ys(i=>{HE(t,i)(d=>{const m=t.onSetup(d);Re(m)&&s.set(m)})}),Pa=(t,s)=>ku(i=>HE(t,i)(s.get())),xH=(t,s)=>Hl((i,c)=>{HE(t,i)(t.onAction),!t.triggersSubmenu&&s===jd.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&Un(i,pg()),c.stop())}),r4={[Ha()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Bp=$r,s0=(t,s,i,c)=>{const d=rn(ue);return{type:"item",dom:s.dom,components:Bp(s.optComponents),data:t.data,eventOrder:r4,hasSubmenu:t.triggersSubmenu,itemBehaviours:yt([Fn("item-events",[xH(t,i),yi(t,d),Pa(t,d)]),qu.item(()=>!t.enabled||c.isDisabled()),Kr(),Nn.config({})].concat(t.itemBehaviours))}},r0=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),k1=t=>{const s=Gb.os.isMacOS()||Gb.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},m=t.split("+"),p=He(m,x=>{const E=x.toLowerCase().trim();return go(d,E)?d[E]:x});return s?p.join(""):p.join("+")},i0=(t,s,i=[vM])=>Yl(t,{tag:"div",classes:i},s),zE=t=>({dom:{tag:"div",classes:[HO]},components:[Ws(bl.translate(t))]}),sB=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),qd=(t,s)=>({dom:{tag:"div",classes:[HO]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ws(bl.translate(s))]}]}),SH=t=>({dom:{tag:"div",classes:[I7]},components:[Ws(k1(t))]}),rB=t=>i0("checkmark",t,[$7]),Ql=t=>i0("chevron-right",t,[bM]),_w=t=>i0("chevron-down",t,[bM]),Gu=(t,s)=>{const i=t.direction==="vertical"?L7:wM,c=t.align==="left"?kE:F7;return{dom:{tag:"div",classes:[yM,i,c,(()=>{switch(t.valign){case"top":return H7;case"middle":return zO;case"bottom":return z7}})()]},components:s}},EH=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Fo=(t,s,i)=>{const c="custom",d="remove",m=t.value,p=t.iconContent.map(R=>GP(R,s.icons,i)),x=t.ariaLabel.map(R=>({"aria-label":s.translate(R),"data-mce-name":R})).getOr({});return{dom:(()=>{const R=pw,N=p.getOr(""),z={tag:"div",attributes:x,classes:[R]};return m===c?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:N}:m===d?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:N}:xe(m)?{...z,attributes:{...z.attributes,"data-mce-color":m},styles:{"background-color":m},innerHtml:N}:z})(),optComponents:[]}},O1=t=>{const s=t.map(i=>({attributes:{id:zt("menu-item"),"aria-label":bl.translate(i)}})).getOr({});return{tag:"div",classes:[FO,AE],...s}},VE=(t,s,i,c)=>{const d={tag:"div",classes:[vM]},m=Y=>Yl(Y,d,s.icons,c),p=()=>P.some({dom:d}),x=i?t.iconContent.map(m).orThunk(p):P.none(),E=t.checkMark,R=P.from(t.meta).fold(()=>zE,Y=>go(Y,"style")?Sn(qd,Y.style):zE),N=t.htmlContent.fold(()=>t.textContent.map(R),Y=>P.some(sB(Y,[HO])));return{dom:O1(t.ariaLabel),optComponents:[x,N,t.shortcutContent.map(SH),E,t.caret]}},a0=(t,s,i,c=P.none())=>t.presets==="color"?Fo(t,s,c):VE(t,s,i,c),UE=(t,s,i)=>Dt(t,"tooltipWorker").map(c=>[Di.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Wh}}),mode:"follow-highlight",onShow:(d,m)=>{c(p=>{Di.setComponents(d,[Mu({element:Ae.fromDom(p)})])})}})]).getOrThunk(()=>i.map(c=>[Di.config({...s.providers.tooltips.getConfig({tooltipText:c}),mode:"follow-highlight"})]).getOr([])),i4=t=>qb.DOM.encode(t),iB=(t,s)=>{const i=bl.translate(t),c=i4(i);if(s.length>0){const d=new RegExp(s4(s),"gi");return c.replace(d,m=>`<span class="tox-autocompleter-highlight">${m}</span>`)}else return c},a4=(t,s,i,c,d,m,p,x=!0)=>{const E=a0({presets:c,textContent:P.none(),htmlContent:i?t.text.map(N=>iB(N,s)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},p.providers,x,t.icon),R=t.text.filter(N=>!i&&N!=="");return s0({data:r0(t),enabled:t.enabled,getApi:A({}),onAction:N=>d(t.value,t.meta),onSetup:A(ue),triggersSubmenu:!1,itemBehaviours:UE(t,p,R)},E,m,p.providers)},aB=(t,s)=>He(t,i=>{switch(i.type){case"cardcontainer":return Gu(i,aB(i.items,s));case"cardimage":return EH(i.src,i.classes,i.alt);case"cardtext":const d=i.name.exists(m=>ct(s.cardText.highlightOn,m))?P.from(s.cardText.matchText).getOr(""):"";return sB(iB(i.text,d),i.classes)}}),cB=(t,s,i,c)=>{const d=p=>({isEnabled:()=>!En.isDisabled(p),setEnabled:x=>{En.set(p,!x),ht(sa(p.element,"*"),E=>{p.getSystem().getByDom(E).each(R=>{R.hasConfigured(En)&&En.set(R,!x)})})}}),m={dom:O1(t.label),optComponents:[P.some({dom:{tag:"div",classes:[yM,wM]},components:aB(t.items,c)})]};return s0({data:r0({text:P.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(c.itemBehaviours).getOr([])},m,s,i.providers)},lB=(t,s,i,c,d,m,p,x=!0)=>{const E=z=>({setActive:Y=>{Wn.set(z,Y)},isActive:()=>Wn.isOn(z),isEnabled:()=>!En.isDisabled(z),setEnabled:Y=>En.set(z,!Y)}),R=a0({presets:i,textContent:s?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:P.none(),checkMark:s?P.some(rB(p.icons)):P.none(),caret:P.none(),value:t.value},p,x),N=t.text.filter(A(!s)).map(z=>Di.config(p.tooltips.getConfig({tooltipText:p.translate(z)})));return es(s0({data:r0(t),enabled:t.enabled,getApi:E,onAction:z=>c(t.value),onSetup:z=>(z.setActive(d),ue),triggersSubmenu:!1,itemBehaviours:[...N.toArray()]},R,m,p),{toggling:{toggleClass:gM,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},WE=_b(Ub(),ew()),c4=t=>({value:fB(t)}),Tw=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,uB=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dB=t=>Tw.test(t)||uB.test(t),fB=t=>Jp(t,"#").toUpperCase(),_H=t=>dB(t)?P.some({value:fB(t)}):P.none(),TH=t=>({value:t.value.replace(Tw,(i,c,d,m)=>c+c+d+d+m+m)}),hB=t=>{const s=TH(t),i=uB.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},l4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Aw=t=>{const s=l4(t.red)+l4(t.green)+l4(t.blue);return c4(s)},u4=Math.min,d4=Math.max,jE=Math.round,AH=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,mB=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,lm=(t,s,i,c)=>({red:t,green:s,blue:i,alpha:c}),ZE=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},pB=t=>{let s,i,c;const d=(t.hue||0)%360;let m=t.saturation/100,p=t.value/100;if(m=d4(0,u4(m,1)),p=d4(0,u4(p,1)),m===0)return s=i=c=jE(255*p),lm(s,i,c,1);const x=d/60,E=p*m,R=E*(1-Math.abs(x%2-1)),N=p-E;switch(Math.floor(x)){case 0:s=E,i=R,c=0;break;case 1:s=R,i=E,c=0;break;case 2:s=0,i=E,c=R;break;case 3:s=0,i=R,c=E;break;case 4:s=R,i=0,c=E;break;case 5:s=E,i=0,c=R;break;default:s=i=c=0}return s=jE(255*(s+N)),i=jE(255*(i+N)),c=jE(255*(c+N)),lm(s,i,c,1)},kw=t=>{const s=hB(t),i=parseInt(s[1],16),c=parseInt(s[2],16),d=parseInt(s[3],16);return lm(i,c,d,1)},gB=(t,s,i,c)=>{const d=parseInt(t,10),m=parseInt(s,10),p=parseInt(i,10),x=parseFloat(c);return lm(d,m,p,x)},f4=t=>{if(t==="transparent")return P.some(lm(0,0,0,0));const s=AH.exec(t);if(s!==null)return P.some(gB(s[1],s[2],s[3],"1"));const i=mB.exec(t);return i!==null?P.some(gB(i[1],i[2],i[3],i[4])):P.none()},vB=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,bB=lm(255,0,0,1),yB=t=>{t.dispatch("SkinLoaded")},Ku=(t,s)=>{t.dispatch("SkinLoadError",s)},kH=t=>{t.dispatch("ResizeEditor")},Ow=(t,s)=>{t.dispatch("ResizeContent",s)},wB=(t,s)=>{t.dispatch("ScrollContent",s)},h4=(t,s)=>{t.dispatch("TextColorChange",s)},OH=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},CB=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),xB=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},SB=(t,s)=>{t.dispatch("StylesTextUpdate",s)},DH=(t,s)=>{t.dispatch("AlignTextUpdate",s)},RH=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},PH=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},MH=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},BH=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},Dw=(t,s)=>()=>{t(),s()},la=t=>D1(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),EB=(t,s)=>i=>{const c=cp(),d=()=>{i.setActive(t.formatter.match(s));const m=t.formatter.formatChanged(s,i.setActive);c.set(m)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),c.clear()}},qE=(t,s)=>i=>{const c=la(t)(i),d=EB(t,s)(i);return()=>{c(),d()}},D1=(t,s,i)=>c=>{const d=()=>i(c),m=()=>{i(c),t.on(s,d)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),t.off(s,d)}},_B=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Gi=(t,s)=>()=>t.execCommand(s);var R1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const m4={},TB=(t,s=10)=>{const i=R1.getItem(t),c=q(i)?JSON.parse(i):[],m=(R=>s-R.length<0?R.slice(0,s):R)(c),p=R=>{Ge(m,R).each(x),m.unshift(R),m.length>s&&m.pop(),R1.setItem(t,JSON.stringify(m))},x=R=>{m.splice(R,1)};return{add:p,state:()=>m.slice(0)}},p4=t=>Dt(m4,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=R1.getItem(s);if(he(i)){const d=R1.getItem("tinymce-custom-colors");R1.setItem(s,xe(d)?d:"[]")}const c=TB(s,10);return m4[t]=c,c}),AB=t=>He(p4(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),GE=(t,s)=>{p4(t).add(s)},P1=(t,s,i)=>({hue:t,saturation:s,value:i}),Rw=t=>{let s=0,i=0,c=0;const d=t.red/255,m=t.green/255,p=t.blue/255,x=Math.min(d,Math.min(m,p)),E=Math.max(d,Math.max(m,p));if(x===E)return c=x,P1(0,0,c*100);const R=d===x?m-p:p===x?d-m:p-d;return s=d===x?3:p===x?1:5,s=60*(s-R/(E-x)),i=(E-x)/E,c=E,P1(Math.round(s),Math.round(i*100),Math.round(c*100))},kB=t=>Rw(kw(t)),OB=t=>Aw(pB(t)),DB=t=>_H(t).orThunk(()=>f4(t).map(Aw)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const c=i.getImageData(0,0,1,1).data,d=c[0],m=c[1],p=c[2],x=c[3];return Aw(lm(d,m,p,x))}),g4="forecolor",v4="hilitecolor",NH=5,RB=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+DB(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},Gd=t=>s=>s.options.get(t),KE="#000000",IH=t=>{const s=t.options.register,i=d=>nn(d,q)?{value:RB(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},c=d=>et(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:c,default:b4(t)}),s("color_cols_foreground",{processor:c,default:PB(t,g4)}),s("color_cols_background",{processor:c,default:PB(t,v4)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:KE}),s("color_default_background",{processor:"string",default:KE})},YE=(t,s)=>s===g4&&t.options.isSet("color_map_foreground")?Gd("color_map_foreground")(t):s===v4&&t.options.isSet("color_map_background")?Gd("color_map_background")(t):Gd("color_map")(t),b4=(t,s="default")=>Math.max(NH,Math.ceil(Math.sqrt(YE(t,s).length))),PB=(t,s)=>{const i=Gd("color_cols")(t),c=b4(t,s);return i===b4(t)?c:i},MB=(t,s="default")=>Math.round(s===g4?Gd("color_cols_foreground")(t):s===v4?Gd("color_cols_background")(t):Gd("color_cols")(t)),BB=Gd("custom_colors"),$H=Gd("color_default_foreground"),LH=Gd("color_default_background"),FH="rgba(0, 0, 0, 0)",HH=t=>f4(t).exists(s=>s.alpha!==0),zH=t=>Ch(t,s=>{if(Uo(s)){const i=L(s,"background-color");return un(HH(i),i)}else return P.none()}).getOr(FH),y4=(t,s)=>{const i=Ae.fromDom(t.selection.getStart()),c=s==="hilitecolor"?zH(i):L(i,"color");return f4(c).map(d=>"#"+Aw(d).value)},VH=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},UH=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},WH=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{VH(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{UH(t,s)})},NB=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},w4=(t,s,i,c)=>{i==="custom"?XE(t)(m=>{m.each(p=>{GE(s,p),t.execCommand("mceApplyTextcolor",s,p),c(p)})},y4(t,s).getOr(KE)):i==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",s)):(c(i),t.execCommand("mceApplyTextcolor",s,i))},c0=(t,s,i)=>t.concat(AB(s).concat(NB(i))),C4=(t,s,i)=>c=>{c(c0(t,s,i))},x4=(t,s,i)=>{const c=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(c,i)},IB=(t,s)=>{t.setTooltip(s)},$B=(t,s)=>i=>{const c=y4(t,s);return Qi(c,i.toUpperCase())},S4=(t,s,i)=>{if(Go(i))return s==="forecolor"?"Text color":"Background color";const c=s==="forecolor"?"Text color {0}":"Background color {0}",d=c0(YE(t,s),s,!1),m=An(d,p=>p.value===i).getOr({text:""}).text;return t.translate([c,t.translate(m)])},LB=(t,s,i,c)=>{t.ui.registry.addSplitButton(s,{tooltip:S4(t,i,c.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:$B(t,i),columns:MB(t,i),fetch:C4(YE(t,i),i,BB(t)),onAction:d=>{w4(t,i,c.get(),ue)},onItemAction:(d,m)=>{w4(t,i,m,p=>{c.set(p),h4(t,{name:s,color:p})})},onSetup:d=>{x4(d,s,c.get());const m=p=>{p.name===s&&(x4(d,p.name,p.color),IB(d,S4(t,i,p.color)))};return t.on("TextColorChange",m),Dw(la(t)(d),()=>{t.off("TextColorChange",m)})}})},FB=(t,s,i,c,d)=>{t.ui.registry.addNestedMenuItem(s,{text:c,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(IB(m,S4(t,i,d.get())),x4(m,s,d.get()),la(t)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:$B(t,i),initData:{storageKey:i},onAction:m=>{w4(t,i,m.value,p=>{d.set(p),h4(t,{name:s,color:p})})}}]})},XE=t=>(s,i)=>{let c=!1;const d=x=>{const R=x.getData().colorpicker;c?(s(P.from(R)),x.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",R]))},m=(x,E)=>{E.name==="hex-valid"&&(c=E.value)},p={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:m,onSubmit:d,onClose:ue,onCancel:()=>{s(P.none())}})},HB=t=>{WH(t);const s=$H(t),i=LH(t),c=rn(s),d=rn(i);LB(t,"forecolor","forecolor",c),LB(t,"backcolor","hilitecolor",d),FB(t,"forecolor","forecolor","Text color",c),FB(t,"backcolor","hilitecolor","Background color",d)},JE=(t,s,i,c,d,m,p,x)=>{const E=bw(s),N=jH(s,i,c,d!=="color"?"normal":"color",m,p,x);return E1(t,E,N,c,{menuType:d})},jH=(t,s,i,c,d,m,p)=>$r(He(t,x=>x.type==="choiceitem"?GM(x).fold(cm,E=>P.some(lB(E,i===1,c,s,m(E.value),d,p,bw(t)))):P.none())),l0=(t,s)=>{const i=x1(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?hs(d.element,"[aria-checked=true]"):P.none()}},ZH=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${pw}`:`.${AE}`}},qH=(t,s)=>{const i=GH(t,s),c=s.colorinput.getColorCols(t.initData.storageKey),d="color",p={...JE(zt("menu-value"),i,x=>{t.onAction({value:x})},c,d,jd.CLOSE_ON_EXECUTE,t.select.getOr(Vt),s.shared.providers),markers:x1(d),movement:l0(c,d)};return{type:"widget",data:{value:zt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[WE.widget(v1.sketch(p))]}},GH=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>c0(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),c=>c.concat(NB(i)))},zB=zt("cell-over"),VB=zt("cell-execute"),KH=t=>(s,i)=>t.shared.providers.translate(["{0} columns, {1} rows",i,s]),YH=(t,s,i)=>{const c=p=>on(p,zB,{row:t,col:s}),d=p=>on(p,VB,{row:t,col:s}),m=(p,x)=>{x.stop(),d(p)};return jr({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:yt([Fn("insert-table-picker-cell",[Ke(xu(),dn.focus),Ke(Ha(),d),Ke(wf(),m),Ke(na(),m)]),Wn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),dn.config({onFocus:c})])})},XH=(t,s,i)=>{const c=[];for(let d=0;d<s;d++){const m=[];for(let p=0;p<i;p++){const x=t(d+1,p+1);m.push(YH(d,p,x))}c.push(m)}return c},JH=(t,s,i,c,d)=>{for(let m=0;m<c;m++)for(let p=0;p<d;p++)Wn.set(t[m][p],m<=s&&p<=i)},QH=t=>Le(t,s=>He(s,Sc)),Pw=(t,s)=>Ws(`${s}x${t}`),E4={inserttable:(t,s)=>{const d=KH(s),m=XH(d,10,10),p=Pw(0,0),x=Oo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:yt([Nn.config({})])});return{type:"widget",data:{value:zt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[WE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:QH(m).concat(x.asSpec()),behaviours:yt([Fn("insert-table-picker",[ys(E=>{Nn.set(x.get(E),[p])}),kh(zB,(E,R,N)=>{const{row:z,col:Y}=N.event;JH(m,z,Y,10,10),Nn.set(x.get(E),[Pw(z+1,Y+1)])}),kh(VB,(E,R,N)=>{const{row:z,col:Y}=N.event;t.onAction({numRows:z+1,numColumns:Y+1}),Un(E,pg())})]),cn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:qH},WB=(t,s)=>Dt(E4,t.fancytype).map(i=>i(t,s)),e8=(t,s,i,c=!0,d=!1)=>{const m=d?_w(i.icons):Ql(i.icons),p=E=>({isEnabled:()=>!En.isDisabled(E),setEnabled:R=>En.set(E,!R),setIconFill:(R,N)=>{hs(E.element,`svg path[class="${R}"], rect[class="${R}"]`).each(z=>{Mt(z,"fill",N)})},setTooltip:R=>{const N=i.translate(R);Mt(E.element,"aria-label",N)}}),x=a0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(m),checkMark:P.none(),shortcutContent:t.shortcut},i,c);return s0({data:r0(t),getApi:p,enabled:t.enabled,onAction:ue,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},x,s,i)},t8=(t,s,i,c=!0)=>{const d=p=>({isEnabled:()=>!En.isDisabled(p),setEnabled:x=>En.set(p,!x)}),m=a0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},i,c);return s0({data:r0(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,s,i)},_4=t=>({type:"separator",dom:{tag:"div",classes:[AE,N7]},components:t.text.map(Ws).toArray()}),T4=(t,s,i,c=!0)=>{const d=p=>({setActive:x=>{Wn.set(p,x)},isActive:()=>Wn.isOn(p),isEnabled:()=>!En.isDisabled(p),setEnabled:x=>En.set(p,!x)}),m=a0({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(rB(i.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,c);return es(s0({data:r0(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,s,i),{toggling:{toggleClass:gM,toggleOnExecute:!1,selected:t.active}})},QE=a4,A4=_4,n8=t8,o8=e8,s8=T4,r8=WB,i8=cB;var a8=Object.freeze({__proto__:null,getCoupled:(t,s,i,c)=>i.getOrCreate(t,s,c),getExistingCoupled:(t,s,i,c)=>i.getExisting(t,s,c)}),c8=[ni("others",yh(Ln.value,yu()))],l8=Object.freeze({__proto__:null,init:()=>{const t={},s=(m,p)=>{if(Ts(m.others).length===0)throw new Error("Cannot find any known coupled components");return Dt(t,p)},i=(m,p,x)=>s(p,x).getOrThunk(()=>{const R=Dt(p.others,x).getOrDie("No information found for coupled component: "+x)(m),N=m.getSystem().build(R);return t[x]=N,N}),c=(m,p,x)=>s(p,x).orThunk(()=>(Dt(p.others,x).getOrDie("No information found for coupled component: "+x),P.none())),d=A({});return Cc({readState:d,getExisting:c,getOrCreate:i})}});const qs=Gr({fields:c8,name:"coupling",apis:a8,state:l8}),k4=t=>{let s=P.none(),i=[];const c=R=>k4(N=>{d(z=>{N(R(z))})}),d=R=>{p()?E(R):i.push(R)},m=R=>{p()||(s=P.some(R),x(i),i=[])},p=()=>s.isSome(),x=R=>{ht(R,E)},E=R=>{s.each(N=>{setTimeout(()=>{R(N)},0)})};return t(m),{get:d,map:c,isReady:p}},d8={nu:k4,pure:t=>k4(s=>{s(t)})},f8=t=>{setTimeout(()=>{throw t},0)},$c=t=>{const s=E=>{t().then(E,f8)};return{map:E=>$c(()=>t().then(E)),bind:E=>$c(()=>t().then(R=>E(R).toPromise())),anonBind:E=>$c(()=>t().then(()=>E.toPromise())),toLazy:()=>d8.nu(s),toCached:()=>{let E=null;return $c(()=>(E===null&&(E=t()),E))},toPromise:t,get:s}},wi={nu:t=>$c(()=>new Promise(t)),pure:t=>$c(()=>Promise.resolve(t))},Yr=A("sink"),jB=A(qa({name:Yr(),overrides:A({dom:{tag:"div"},behaviours:yt([ri.config({useFixed:wt})]),events:ns([rl(nl()),rl(Aa()),rl(wf())])})})),ZB=(t,s)=>{const i=t.getHotspot(s).getOr(s),c="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:c,hotspot:i,overrides:d}),m=>({type:c,hotspot:i,overrides:d,layouts:m}))},h8=(t,s,i)=>{const c=t.fetch;return c(i).map(s)},m8=(t,s,i,c,d,m,p)=>{const x=h8(t,s,c),E=qB(c,t);return x.map(R=>R.bind(N=>P.from(b1.sketch({...m.menu(),uid:Km(""),data:N,highlightOnOpen:p,onOpenMenu:(z,Y)=>{const J=E().getOrDie();ri.position(J,Y,{anchor:i}),qn.decloak(d)},onOpenSubmenu:(z,Y,J)=>{const se=E().getOrDie();ri.position(se,J,{anchor:{type:"submenu",item:Y}}),qn.decloak(d)},onRepositionMenu:(z,Y,J)=>{const se=E().getOrDie();ri.position(se,Y,{anchor:i}),ht(J,fe=>{ri.position(se,fe.triggeredMenu,{anchor:{type:"submenu",item:fe.triggeringItem}})})},onEscape:()=>(dn.focus(c),qn.close(d),P.some(!0))}))))},e_=(t,s,i,c,d,m,p)=>{const x=ZB(t,i);return m8(t,s,x,i,c,d,p).map(R=>(R.fold(()=>{qn.isOpen(c)&&qn.close(c)},N=>{qn.cloak(c),qn.open(c,N),m(c)}),c))},p8=(t,s,i,c,d,m,p)=>(qn.close(c),wi.pure(c)),O4=(t,s,i,c,d,m)=>{const p=qs.getCoupled(i,"sandbox");return(qn.isOpen(p)?p8:e_)(t,s,i,p,c,d,m)},g8=(t,s,i)=>{const c=ro.getCurrent(s).getOr(s),d=uo(t.element);i?b(c.element,"min-width",d+"px"):Jn(c.element,d)},qB=(t,s)=>t.getSystem().getByUid(s.uid+"-"+Yr()).map(i=>()=>Ln.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Ln.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),GB=t=>{qn.getState(t).each(s=>{b1.repositionMenus(s)})},D4=(t,s,i)=>{const c=xx(),d=(x,E)=>{const R=ZB(t,s);c.link(s.element),t.matchWidth&&g8(R.hotspot,E,t.useMinWidth),t.onOpen(R,x,E),i!==void 0&&i.onOpen!==void 0&&i.onOpen(x,E)},m=(x,E)=>{c.unlink(s.element),p().getOr(E).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(x,E)},p=qB(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:cc.augment(t.sandboxBehaviours,[Nt.config({store:{mode:"memory",initialValue:s}}),qn.config({onOpen:d,onClose:m,isPartOf:(x,E,R)=>Ef(E,R)||Ef(s,R),getAttachPoint:()=>p().getOrDie()}),ro.config({find:x=>qn.getState(x).bind(E=>ro.getCurrent(E))}),Za.config({channels:{...Qg({isExtraPart:Vt}),...vb({doReposition:GB})}})])}},KB=t=>{const s=qs.getCoupled(t,"sandbox");GB(s)},R4=()=>[Pe("sandboxClasses",[]),cc.field("sandboxBehaviours",[ro,Za,qn,Nt])],v8=A([rt("dom"),rt("fetch"),ho("onOpen"),oa("onExecute"),Pe("getHotspot",P.some),Pe("getAnchorOverrides",A({})),dl(),Pr("dropdownBehaviours",[Wn,qs,cn,dn]),rt("toggleClass"),Pe("eventOrder",{}),_o("lazySink"),Pe("matchWidth",!1),Pe("useMinWidth",!1),_o("role")].concat(R4())),b8=A([ml({schema:[Ny(),Pe("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),jB()]),y8=(t,s,i,c)=>{const d=N=>Dt(t.dom,"attributes").bind(z=>Dt(z,N)),m=N=>{qn.getState(N).each(z=>{b1.highlightPrimary(z)})},p=(N,z,Y)=>O4(t,mn,N,c,z,Y),x=N=>{p(N,m,aa.HighlightMenuAndItem).get(ue)},E={expand:N=>{Wn.isOn(N)||p(N,ue,aa.HighlightNone).get(ue)},open:N=>{Wn.isOn(N)||p(N,ue,aa.HighlightMenuAndItem).get(ue)},refetch:N=>qs.getExistingCoupled(N,"sandbox").fold(()=>p(N,ue,aa.HighlightMenuAndItem).map(ue),Y=>e_(t,mn,N,Y,c,ue,aa.HighlightMenuAndItem).map(ue)),isOpen:Wn.isOn,close:N=>{Wn.isOn(N)&&p(N,ue,aa.HighlightMenuAndItem).get(ue)},repositionMenus:N=>{Wn.isOn(N)&&KB(N)}},R=(N,z)=>(Au(N),P.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.dropdownBehaviours,[Wn.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),qs.config({others:{sandbox:N=>D4(t,N,{onOpen:()=>Wn.on(N),onClose:()=>Wn.off(N)})}}),cn.config({mode:"special",onSpace:R,onEnter:R,onDown:(N,z)=>{if(eu.isOpen(N)){const Y=qs.getCoupled(N,"sandbox");m(Y)}else eu.open(N);return P.some(!0)},onEscape:(N,z)=>eu.isOpen(N)?(eu.close(N),P.some(!0)):P.none()}),dn.config({})]),events:Vd(P.some(x)),eventOrder:{...t.eventOrder,[Ha()]:["disabling","toggling","alloy.base.behaviour"]},apis:E,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),N=>({role:N})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},eu=ki({name:"Dropdown",configFields:v8(),partFields:b8(),factory:y8,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),w8=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},C8=t=>{const s=Nt.getValue(t),i=Pp(t).map(RE);eu.refetch(s).get(()=>{const c=qs.getCoupled(s,"sandbox");i.each(d=>Pp(c).each(m=>AM(m,d)))})},x8=(t,s)=>{S8(t).each(i=>{vy(t,i.element,s.event.eventType,s.event.interactionEvent)})},S8=t=>qn.getState(t).bind(wo.getHighlighted).bind(wo.getHighlighted),E8=t=>Ua(t.element,Jb)?P.some(t.element):hs(t.element,"."+Jb),YB=(t,s,i)=>{TM(t).each(c=>{U7(c,i),E8(s).each(m=>{Js(m,"id").each(p=>Mt(c.element,"aria-controls",p))})}),Mt(i.element,"aria-selected","true")},_8=(t,s,i)=>{Mt(i.element,"aria-selected","false")},T8=t=>{TM(t).each(s=>dn.focus(s))},XB=t=>qs.getExistingCoupled(t,"sandbox").bind(Pp).map(RE).map(i=>i.fetchPattern).getOr("");var t_;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(t_||(t_={}));const JB=(t,s,i,c,d)=>{const m=i.shared.providers,p=x=>d?{...x,shortcut:P.none(),icon:x.text.isSome()?P.none():x.icon}:x;switch(t.type){case"menuitem":return YM(t).fold(cm,x=>P.some(n8(p(x),s,m,c)));case"nestedmenuitem":return hH(t).fold(cm,x=>P.some(o8(p(x),s,m,c,d)));case"togglemenuitem":return pH(t).fold(cm,x=>P.some(s8(p(x),s,m,c)));case"separator":return HM(t).fold(cm,x=>P.some(A4(x)));case"fancymenuitem":return dH(t).fold(cm,x=>r8(x,i));default:return console.error("Unknown item in general menu",t),P.none()}},A8=(t,s,i,c,d,m,p)=>{const x=c===1,E=!x||bw(t);return $r(He(t,R=>{switch(R.type){case"separator":return zM(R).fold(cm,N=>P.some(A4(N)));case"cardmenuitem":return cH(R).fold(cm,N=>P.some(i8({...N,onAction:z=>{N.onAction(z),i(N.value,N.meta)}},d,m,{itemBehaviours:UE(N.meta,m,P.none()),cardText:{matchText:s,highlightOn:p}})));case"autocompleteitem":default:return Y7(R).fold(cm,N=>P.some(QE(N,s,x,"normal",i,d,m,E)))}}))},QB=(t,s,i,c,d,m)=>{const p=bw(s),x=$r(He(s,N=>{const z=J=>d?!go(J,"text"):p,Y=J=>JB(J,i,c,z(J),d);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?Y({...N,enabled:!1}):Y(N)})),E=w8(m);return(d?MM:E1)(t,p,x,1,E)},P4=t=>b1.singleData(t.value,t),eN=(t,s,i,c)=>{const d=l0(s,c),m=x1(c);return{data:P4({...t,movement:d,menuBehaviours:xw.unnamedEvents(s!=="auto"?[]:[ys((p,x)=>{o4(p,4,m.item).each(({numColumns:E,numRows:R})=>{cn.setGridSize(p,R,E)})})])}),menu:{markers:x1(c),fakeFocus:i===t_.ContentFocus}}},k8=t=>Nd.create(Ae.fromDom(t.startContainer),t.startOffset,Ae.fromDom(t.endContainer),t.endOffset),O8={register:(t,s)=>{const i=zt("autocompleter"),c=rn(!1),d=rn(!1),m=ss(),p=jr(Ms.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:yt([Fn("dismissAutocompleter",[Ke(Tu(),()=>z()),Ke(jm(),(we,ke)=>{Js(ke.event.target,"id").each(Se=>Mt(Ae.fromDom(t.getBody()),"aria-activedescendant",Se))})])]),lazySink:s.getSink})),x=()=>Ms.isOpen(p),E=d.get,R=()=>{if(x()){Ms.hide(p),t.dom.remove(i,!1);const we=Ae.fromDom(t.getBody());Js(we,"aria-owns").filter(ke=>ke===i).each(()=>{xs(we,"aria-owns"),xs(we,"aria-activedescendant")})}},N=()=>Ms.getContent(p).bind(we=>Jo(we.components(),0)),z=()=>t.execCommand("mceAutocompleterClose"),Y=we=>{const ke=gr(we,Se=>P.from(Se.columns)).getOr(1);return Le(we,Se=>{const ot=Se.items;return A8(ot,Se.matchText,(Qe,lt)=>{const _t={hide:()=>z(),reload:Xe=>{R(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Xe})}};t.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each(Xe=>{c.set(!0),Se.onAction(_t,Xe,Qe,lt),c.set(!1)})},ke,jd.BUBBLE_TO_SANDBOX,s,Se.highlightOn)})},J=(we,ke)=>{const Se=gr(we,ot=>P.from(ot.columns)).getOr(1);Ms.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(k8),root:Ae.fromDom(t.getBody())}},eN(E1("autocompleter-value",!0,ke,Se,{menuType:"normal"}),Se,t_.ContentFocus,"normal")),N().each(wo.highlightFirst)},se=we=>{const ke=Y(we);ke.length>0?(J(we,ke),Mt(Ae.fromDom(t.getBody()),"aria-owns",i),t.inline||fe()):R()},fe=()=>{t.dom.get(i)&&t.dom.remove(i,!1);const we=t.getDoc().documentElement,ke=t.selection.getNode(),Se=Pv(p.element);_(Se,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ke.offsetTop}px`,left:`${ke.offsetLeft}px`}),t.dom.add(we,Se.dom),hs(Se,'[role="menu"]').each(ot=>{me(ot,"position"),me(ot,"max-height")})};t.on("AutocompleterStart",({lookupData:we})=>{d.set(!0),c.set(!1),se(we)}),t.on("AutocompleterUpdate",({lookupData:we})=>se(we)),t.on("AutocompleterUpdateActiveRange",({range:we})=>m.set(we)),t.on("AutocompleterEnd",()=>{R(),d.set(!1),c.set(!1),m.clear()});const Me={cancelIfNecessary:z,isMenuOpen:x,isActive:E,isProcessingAction:c.get,getMenu:N};M7.setup(Me,t)}},D8=["visible","hidden","clip"],M4=t=>Uc(t).length>0&&!ct(D8,t),tN=t=>{if(cf(t)){const s=L(t,"overflow-x"),i=L(t,"overflow-y");return M4(s)||M4(i)}else return!1},nN=t=>{const s=gS(t,tN),i=s.length===0?og(t).map(oc).map(c=>gS(c,tN)).getOr([]):s;return wn(i).map(c=>({element:c,others:i.slice(1)}))},M1=(t,s)=>Rp(t)?nN(s):P.none(),B1=t=>{const s=[...He(t.others,Is),Fi()];return XT(Is(t.element),s)},Mw=(t,s,i)=>zl(t,s,i).isSome(),oN=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...m)=>{i=setTimeout(()=>{t.apply(null,m),i=null},s)}}},sN=5,R8=400,rN=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},P8=(t,s)=>{const i=Math.abs(t.clientX-s.x),c=Math.abs(t.clientY-s.y);return i>sN||c>sN},M8=t=>{const s=ss(),i=rn(!1),c=oN(R=>{t.triggerEvent(Dr(),R),i.set(!0)},R8),d=R=>(rN(R).each(N=>{c.cancel();const z={x:N.clientX,y:N.clientY,target:R.target};c.schedule(R),i.set(!1),s.set(z)}),P.none()),m=R=>(c.cancel(),rN(R).each(N=>{s.on(z=>{P8(N,z)&&s.clear()})}),P.none()),p=R=>{c.cancel();const N=z=>yo(z.target,R.target);return s.get().filter(N).map(z=>i.get()?(R.prevent(),!1):t.triggerEvent(na(),R))},x=Hm([{key:wu(),value:d},{key:Ev(),value:m},{key:Cu(),value:p}]);return{fireIfReady:(R,N)=>Dt(x,N).bind(z=>z(R))}},B8=t=>t.raw.which===Nb[0]&&!ct(["input","textarea"],Vs(t.target))&&!Mw(t.target,'[contenteditable="true"]'),N8=(t,s)=>{const i={stopBackspace:!0,...s},c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=M8(i),m=He(c.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),J=>bi(t,J,se=>{d.fireIfReady(se,J).each(Me=>{Me&&se.kill()}),i.triggerEvent(J,se)&&se.kill()})),p=ss(),x=bi(t,"paste",J=>{d.fireIfReady(J,"paste").each(fe=>{fe&&J.kill()}),i.triggerEvent("paste",J)&&J.kill(),p.set(setTimeout(()=>{i.triggerEvent(mg(),J)},0))}),E=bi(t,"keydown",J=>{i.triggerEvent("keydown",J)?J.kill():i.stopBackspace&&B8(J)&&J.prevent()}),R=bi(t,"focusin",J=>{i.triggerEvent("focusin",J)&&J.kill()}),N=ss(),z=bi(t,"focusout",J=>{i.triggerEvent("focusout",J)&&J.kill(),N.set(setTimeout(()=>{i.triggerEvent(xh(),J)},0))});return{unbind:()=>{ht(m,J=>{J.unbind()}),E.unbind(),R.unbind(),z.unbind(),x.unbind(),p.on(clearTimeout),N.on(clearTimeout)}}},iN=(t,s)=>{const i=Dt(t,"target").getOr(s);return rn(i)},I8=(t,s)=>{const i=rn(!1),c=rn(!1);return{stop:()=>{i.set(!0)},cut:()=>{c.set(!0)},isStopped:i.get,isCut:c.get,event:t,setSource:s.set,getSource:s.get}},$8=t=>{const s=rn(!1);return{stop:()=>{s.set(!0)},cut:ue,isStopped:s.get,isCut:Vt,event:t,setSource:ye("Cannot set source of a broadcasted event"),getSource:ye("Cannot get source of a broadcasted event")}},Bw=$l.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),B4=(t,s,i,c,d,m)=>{const p=t(s,c),x=I8(i,d);return p.fold(()=>(m.logEventNoHandlers(s,c),Bw.complete()),E=>{const R=E.descHandler;return Ym(R)(x),x.isStopped()?(m.logEventStopped(s,E.element,R.purpose),Bw.stopped()):x.isCut()?(m.logEventCut(s,E.element,R.purpose),Bw.complete()):ec(E.element).fold(()=>(m.logNoParent(s,E.element,R.purpose),Bw.complete()),z=>(m.logEventResponse(s,E.element,R.purpose),Bw.resume(z)))})},aN=(t,s,i,c,d,m)=>B4(t,s,i,c,d,m).fold(wt,p=>aN(t,s,i,p,d,m),Vt),L8=(t,s,i,c,d)=>{const m=iN(i,c);return B4(t,s,i,c,m,d)},F8=(t,s,i)=>{const c=$8(s);return ht(t,d=>{const m=d.descHandler;Ym(m)(c)}),c.isStopped()},H8=(t,s,i,c)=>cN(t,s,i,i.target,c),cN=(t,s,i,c,d)=>{const m=iN(i,c);return aN(t,s,i,c,m,d)},N4=(t,s)=>({element:t,descHandler:s}),z8=(t,s)=>({id:t,descHandler:s}),V8=()=>{const t={},s=(p,x,E)=>{lr(E,(R,N)=>{const z=t[N]!==void 0?t[N]:{};z[x]=Ty(R,p),t[N]=z})},i=(p,x)=>Ph(x).bind(E=>Dt(p,E)).map(E=>N4(x,E));return{registerId:s,unregisterId:p=>{lr(t,(x,E)=>{go(x,p)&&delete x[p]})},filterByType:p=>Dt(t,p).map(x=>af(x,(E,R)=>z8(R,E))).getOr([]),find:(p,x,E)=>Dt(t,x).bind(R=>Ch(E,N=>i(R,N),p))}},U8=()=>{const t=V8(),s={},i=R=>{const N=R.element;return Ph(N).getOrThunk(()=>dA("uid-",R.element))},c=(R,N)=>{const z=s[N];if(z===R)m(R);else throw new Error('The tagId "'+N+'" is already used by: '+Ou(z.element)+`
Cannot use it for: `+Ou(R.element)+`
The conflicting element is`+(ur(z.element)?" ":" not ")+"already in the DOM")},d=R=>{const N=i(R);va(s,N)&&c(R,N);const z=[R];t.registerId(z,N,R.events),s[N]=R},m=R=>{Ph(R.element).each(N=>{delete s[N],t.unregisterId(N)})};return{find:(R,N,z)=>t.find(R,N,z),filter:R=>t.filterByType(R),register:d,unregister:m,getById:R=>Dt(s,R)}},Yu=Sr({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:Fd(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Pe("components",[]),Pr("containerBehaviours",[]),Pe("events",{}),Pe("domModification",{}),Pe("eventOrder",{})]}),I4=t=>{const s=we=>ec(t.element).fold(wt,ke=>yo(we,ke)),i=U8(),c=(we,ke)=>i.find(s,we,ke),d=N8(t.element,{triggerEvent:(we,ke)=>jv(we,ke.target,Se=>H8(c,we,ke,Se))}),m={debugInfo:A("real"),triggerEvent:(we,ke,Se)=>{jv(we,ke,ot=>cN(c,we,Se,ke,ot))},triggerFocus:(we,ke)=>{Ph(we).fold(()=>{Tc(we)},Se=>{jv(Eu(),we,ot=>(L8(c,Eu(),{originator:ke,kill:ue,prevent:ue,target:we},we,ot),!1))})},triggerEscape:(we,ke)=>{m.triggerEvent("keydown",we.element,ke.event)},getByUid:we=>fe(we),getByDom:we=>Me(we),build:jr,buildOrPatch:ka,addToGui:we=>{E(we)},removeFromGui:we=>{R(we)},addToWorld:we=>{p(we)},removeFromWorld:we=>{x(we)},broadcast:we=>{Y(we)},broadcastOn:(we,ke)=>{J(we,ke)},broadcastEvent:(we,ke)=>{se(we,ke)},isConnected:wt},p=we=>{we.connect(m),Ii(we.element)||(i.register(we),ht(we.components(),p),m.triggerEvent(kv(),we.element,{target:we.element}))},x=we=>{Ii(we.element)||(ht(we.components(),x),i.unregister(we)),we.disconnect()},E=we=>{Ul(t,we)},R=we=>{Fu(we)},N=()=>{d.unbind(),Xc(t.element)},z=we=>{const ke=i.filter(_u());ht(ke,Se=>{const ot=Se.descHandler;Ym(ot)(we)})},Y=we=>{z({universal:!0,data:we})},J=(we,ke)=>{z({universal:!1,channels:we,data:ke})},se=(we,ke)=>{const Se=i.filter(we);return F8(Se,ke)},fe=we=>i.getById(we).fold(()=>Ln.error(new Error('Could not find component with uid: "'+we+'" in system.')),Ln.value),Me=we=>{const ke=Ph(we).getOr("not found");return fe(ke)};return p(t),{root:t,element:t.element,destroy:N,add:E,remove:R,getByUid:fe,getByDom:Me,addToWorld:p,removeFromWorld:x,broadcast:Y,broadcastOn:J,broadcastEvent:se}},j8=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(t.items,s.interpreter)}),lN=A([Pe("prefix","form-field"),Pr("fieldBehaviours",[ro,Nt])]),Z8=A([qa({schema:[rt("dom")],name:"label"}),qa({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[rt("text")],name:"aria-descriptor"}),Bo({factory:{sketch:t=>{const s=tA(t,["factory"]);return t.factory.sketch(s)}},schema:[rt("factory")],name:"field"})]),q8=(t,s,i,c)=>{const d=Mr(t.fieldBehaviours,[ro.config({find:x=>$o(x,t,"field")}),Nt.config({store:{mode:"manual",getValue:x=>ro.getCurrent(x).bind(Nt.getValue),setValue:(x,E)=>{ro.getCurrent(x).each(R=>{Nt.setValue(R,E)})}}})]),m=ns([ys((x,E)=>{const R=B2(x,t,["label","field","aria-descriptor"]);R.field().each(N=>{const z=zt(t.prefix);R.label().each(Y=>{Mt(Y.element,"for",z),Mt(N.element,"id",z)}),R["aria-descriptor"]().each(Y=>{const J=zt(t.prefix);Mt(Y.element,"id",J),Mt(N.element,"aria-describedby",J)})})})]),p={getField:x=>$o(x,t,"field"),getLabel:x=>$o(x,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:m,apis:p}},Do=ki({name:"FormField",configFields:lN(),partFields:Z8(),factory:q8,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var G8=Object.freeze({__proto__:null,exhibit:(t,s)=>Rr({attributes:Hm([{key:s.tabAttr,value:"true"}])})}),K8=[Pe("tabAttr","data-alloy-tabstop")];const ps=Gr({fields:K8,name:"tabstopping",active:G8});var Y8=tinymce.util.Tools.resolve("tinymce.html.Entities");const Np=(t,s,i,c)=>{const d=J8(t,s,i,c);return Do.sketch(d)},X8=(t,s)=>Np(t,s,[],[]),J8=(t,s,i,c)=>({dom:uN(i),components:t.toArray().concat([s]),fieldBehaviours:yt(c)}),Q8=()=>uN([]),uN=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),N1=(t,s)=>Do.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ws(s.translate(t))]}),Ma=zt("form-component-change"),Hf=zt("form-close"),um=zt("form-cancel"),Kd=zt("form-action"),Nw=zt("form-submit"),$4=zt("form-block"),L4=zt("form-unblock"),dN=zt("form-tabchange"),fN=zt("form-resize"),ez=(t,s,i)=>{const c=t.label.map(J=>N1(J,s)),d=s.icons(),m=J=>{var se;return(se=d[J])!==null&&se!==void 0?se:J},p=J=>(se,fe)=>{zl(fe.event.target,"[data-collection-item-value]").each(Me=>{J(se,fe,Me,As(Me,"data-collection-item-value"))})},x=(J,se)=>{const fe=He(se,ke=>{const Se=bl.translate(ke.text),ot=t.columns===1?`<div class="tox-collection__item-label">${Se}</div>`:"",Qe=`<div class="tox-collection__item-icon">${m(ke.icon)}</div>`,lt={_:" "," - ":" ","-":" "},_t=Se.replace(/\_| \- |\-/g,Dn=>lt[Dn]),Xe=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${_t}" class="tox-collection__item${Xe}" tabindex="-1" data-collection-item-value="${Y8.encodeAllRaw(ke.value)}" aria-label="${_t}">${Qe}${ot}</div>`}),Me=t.columns!=="auto"&&t.columns>1?$n(fe,t.columns):[fe],we=He(Me,ke=>`<div class="tox-collection__group">${ke.join("")}</div>`);Ed(J.element,we.join(""))},E=p((J,se,fe,Me)=>{se.stop(),s.isDisabled()||on(J,Kd,{name:t.name,value:Me})}),R=[Ke(xu(),p((J,se,fe)=>{Tc(fe)})),Ke(wf(),E),Ke(na(),E),Ke(tl(),p((J,se,fe)=>{hs(J.element,"."+C1).each(Me=>{Ps(Me,C1)}),Ds(fe,C1)})),Ke(Um(),p(J=>{hs(J.element,"."+C1).each(se=>{Ps(se,C1),Xv(se)})})),Hl(p((J,se,fe,Me)=>{on(J,Kd,{name:t.name,value:Me})}))],N=(J,se)=>He(sa(J.element,".tox-collection__item"),se),z=Do.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:mn},behaviours:yt([En.config({disabled:s.isDisabled,onDisabled:J=>{N(J,se=>{Ds(se,"tox-collection__item--state-disabled"),Mt(se,"aria-disabled",!0)})},onEnabled:J=>{N(J,se=>{Ps(se,"tox-collection__item--state-disabled"),xs(se,"aria-disabled")})}}),Kr(),Nn.config({}),Di.config({...s.tooltips.getConfig({tooltipText:"",onShow:J=>{hs(J.element,"."+C1+"[data-mce-tooltip]").each(se=>{Js(se,"data-mce-tooltip").each(fe=>{Di.setComponents(J,s.tooltips.getComponents({tooltipText:fe}))})})}}),mode:"children-keyboard-focus",anchor:J=>({type:"node",node:hs(J.element,"."+C1).orThunk(()=>Cx(".tox-collection__item")),root:J.element,layouts:{onLtr:A([Zs,qr,hr,os,rr,Cr]),onRtl:A([Zs,qr,hr,os,rr,Cr])},bubble:ul(0,-2,{})})}),Nt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(J,se)=>{x(J,se),t.columns==="auto"&&o4(J,5,"tox-collection__item").each(({numRows:fe,numColumns:Me})=>{cn.setGridSize(J,fe,Me)}),Un(J,fN)}}),ps.config({}),cn.config(ZH(t.columns,"normal")),Fn("collection-events",R)]),eventOrder:{[Ha()]:["disabling","alloy.base.behaviour","collection-events"],[tl()]:["collection-events","tooltipping"]}});return Np(c,z,["tox-form__group--collection"],[])},tz=["input","textarea"],hN=t=>{const s=Vs(t);return ct(tz,s)},mN=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Ps(i,s.invalidClass),s.notify.each(c=>{hN(t.element)&&Mt(t.element,"aria-invalid",!1),c.getContainer(t).each(d=>{Ed(d,c.validHtml)}),c.onValid(t)})},pN=(t,s,i,c)=>{const d=s.getRoot(t).getOr(t.element);Ds(d,s.invalidClass),s.notify.each(m=>{hN(t.element)&&Mt(t.element,"aria-invalid",!0),m.getContainer(t).each(p=>{Ed(p,c)}),m.onInvalid(t,c)})},gN=(t,s,i)=>s.validator.fold(()=>wi.pure(Ln.value(!0)),c=>c.validate(t)),n_=(t,s,i)=>(s.notify.each(c=>{c.onValidate(t)}),gN(t,s).map(c=>t.getSystem().isConnected()?c.fold(d=>(pN(t,s,i,d),Ln.error(d)),d=>(mN(t,s),Ln.value(d))):Ln.error("No longer in system")));var I1=Object.freeze({__proto__:null,markValid:mN,markInvalid:pN,query:gN,run:n_,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return Ua(i,s.invalidClass)}}),vN=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>ns([Ke(i.onEvent,c=>{n_(c,t,s).get(mn)})].concat(i.validateOnLoad?[ys(c=>{n_(c,t,s).get(ue)})]:[]))).getOr({})}),bN=[rt("invalidClass"),Pe("getRoot",P.none),Ta("notify",[Pe("aria","alert"),Pe("getContainer",P.none),Pe("validHtml",""),ho("onValid"),ho("onInvalid"),ho("onValidate")]),Ta("validator",[rt("validate"),Pe("onEvent","input"),Pe("validateOnLoad",!0)])];const tu=Gr({fields:bN,name:"invalidating",active:vN,apis:I1,extra:{validation:t=>s=>{const i=Nt.getValue(s);return wi.pure(t(i))}}});var $w=Object.freeze({__proto__:null,events:()=>ns([ix(rA(),wt)]),exhibit:()=>Rr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Lw=Gr({fields:[],name:"unselecting",active:$w}),nz=(t,s)=>eu.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:yt([qu.button(s.providers.isDisabled),Kr(),Lw.config({}),ps.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>wi.nu(c=>t.fetch(c)).map(c=>P.from(P4(es(JE(zt("menu-value"),c,d=>{t.onItemAction(i,d)},t.columns,t.presets,jd.CLOSE_ON_EXECUTE,Vt,s.providers),{movement:l0(t.columns,t.presets)})))),parts:{menu:gw(!1,1,t.presets)}}),yN=zt("color-input-change"),wN=zt("color-swatch-change"),CN=zt("color-picker-cancel"),oz=(t,s,i,c)=>{const d=Do.parts.field({factory:S1,inputClasses:["tox-textfield"],data:c,onSetValue:R=>tu.run(R).get(ue),inputBehaviours:yt([En.config({disabled:s.providers.isDisabled}),Kr(),ps.config({}),tu.config({invalidClass:"tox-textbox-field-invalid",getRoot:R=>tc(R.element),notify:{onValid:R=>{const N=Nt.getValue(R);on(R,yN,{color:N})}},validator:{validateOnLoad:!1,validate:R=>{const N=Nt.getValue(R);if(N.length===0)return wi.pure(Ln.value(!0));{const z=Ae.fromTag("span");b(z,"background-color",N);const Y=X(z,"background-color").fold(()=>Ln.error("blah"),J=>Ln.value(N));return wi.pure(Y)}}}})]),selectOnFocus:!1}),m=t.label.map(R=>N1(R,s.providers)),p=(R,N)=>{on(R,wN,{value:N})},x=(R,N)=>{E.getOpt(R).each(z=>{N==="custom"?i.colorPicker(Y=>{Y.fold(()=>Un(z,CN),J=>{p(z,J),GE(t.storageKey,J)})},"#ffffff"):N==="remove"?p(z,""):p(z,N)})},E=Oo(nz({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[rr,hr,Zs],onLtr:()=>[hr,rr,Zs]},components:[],fetch:C4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:x},s));return Do.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:m.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,E.asSpec()]}]),fieldBehaviours:yt([Fn("form-field-events",[Ke(yN,(R,N)=>{E.getOpt(R).each(z=>{b(z.element,"background-color",N.event.color)}),on(R,Ma,{name:t.name})}),Ke(wN,(R,N)=>{Do.getField(R).each(z=>{Nt.setValue(z,N.event.value),ro.getCurrent(R).each(dn.focus)})}),Ke(CN,(R,N)=>{Do.getField(R).each(z=>{ro.getCurrent(R).each(dn.focus)})})])])})},s_=qa({schema:[rt("dom")],name:"label"}),Ip=t=>qa({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),c=>({events:ns([wy(wu(),(d,m,p)=>c(d,p),[s]),wy(Aa(),(d,m,p)=>c(d,p),[s]),wy(fg(),(d,m,p)=>{p.mouseIsDown.get()&&c(d,p)},[s])])}))}),F4=Ip("top-left"),sz=Ip("top"),rz=Ip("top-right"),iz=Ip("right"),xN=Ip("bottom-right"),az=Ip("bottom"),cz=Ip("bottom-left"),lz=Ip("left"),SN=Bo({name:"thumb",defaults:A({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:ns([Sd(wu(),t,"spectrum"),Sd(Ev(),t,"spectrum"),Sd(Cu(),t,"spectrum"),Sd(Aa(),t,"spectrum"),Sd(fg(),t,"spectrum"),Sd(fy(),t,"spectrum")])})}),r_=t=>em(t.event),uz=Bo({schema:[at("mouseIsDown",()=>rn(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,c=(d,m)=>i.getValueFromEvent(m).map(p=>i.setValueFrom(d,t,p));return{behaviours:yt([cn.config({mode:"special",onLeft:(d,m)=>i.onLeft(d,t,r_(m)),onRight:(d,m)=>i.onRight(d,t,r_(m)),onUp:(d,m)=>i.onUp(d,t,r_(m)),onDown:(d,m)=>i.onDown(d,t,r_(m))}),ps.config({}),dn.config({})]),events:ns([Ke(wu(),c),Ke(Ev(),c),Ke(Aa(),c),Ke(fg(),(d,m)=>{t.mouseIsDown.get()&&c(d,m)})])}}});var dz=[s_,lz,iz,sz,az,F4,rz,cz,xN,SN,uz];const Fw=A("slider.change.value"),EN=t=>t.type.indexOf("touch")!==-1,i_=t=>{const s=t.event.raw;if(EN(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(c=>kn(c.clientX,c.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(c=>kn(c.clientX,c.clientY)):P.none()}},fz="top",hz="right",mz="bottom",pz="left",$1=t=>t.model.minX,$p=t=>t.model.minY,dm=t=>t.model.minX-1,a_=t=>t.model.minY-1,L1=t=>t.model.maxX,F1=t=>t.model.maxY,H1=t=>t.model.maxX+1,lc=t=>t.model.maxY+1,c_=(t,s,i)=>s(t)-i(t),l_=t=>c_(t,L1,$1),H4=t=>c_(t,F1,$p),_N=t=>l_(t)/2,TN=t=>H4(t)/2,u0=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,z4=t=>t.snapToGrid,V4=t=>t.snapStart,AN=t=>t.rounded,u_=(t,s)=>t[s+"-edge"]!==void 0,U4=t=>u_(t,pz),kN=t=>u_(t,hz),W4=t=>u_(t,fz),j4=t=>u_(t,mz),zf=t=>t.model.value.get(),Lp=(t,s)=>({x:t,y:s}),Xu=(t,s)=>{on(t,Fw(),{value:s})},gz=(t,s)=>{Xu(t,Lp(dm(s),a_(s)))},vz=(t,s)=>{Xu(t,a_(s))},bz=(t,s)=>{Xu(t,Lp(_N(s),a_(s)))},yz=(t,s)=>{Xu(t,Lp(H1(s),a_(s)))},Z4=(t,s)=>{Xu(t,H1(s))},wz=(t,s)=>{Xu(t,Lp(H1(s),TN(s)))},ON=(t,s)=>{Xu(t,Lp(H1(s),lc(s)))},Cz=(t,s)=>{Xu(t,lc(s))},xz=(t,s)=>{Xu(t,Lp(_N(s),lc(s)))},Sz=(t,s)=>{Xu(t,Lp(dm(s),lc(s)))},Ez=(t,s)=>{Xu(t,dm(s))},_z=(t,s)=>{Xu(t,Lp(dm(s),TN(s)))},q4=(t,s,i,c)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-c),G4=(t,s,i,c)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+c),K4=(t,s,i)=>Math.max(s,Math.min(i,t)),DN=(t,s,i,c,d)=>d.fold(()=>{const m=t-s,p=Math.round(m/c)*c;return K4(s+p,s-1,i+1)},m=>{const p=(t-m)%c,x=Math.round(p/c),E=Math.floor((t-m)/c),R=Math.floor((i-m)/c),N=Math.min(R,E+x),z=m+N*c;return Math.max(m,z)}),Tz=(t,s,i)=>Math.min(i,Math.max(t,s))-s,RN=t=>{const{min:s,max:i,range:c,value:d,step:m,snap:p,snapStart:x,rounded:E,hasMinEdge:R,hasMaxEdge:N,minBound:z,maxBound:Y,screenRange:J}=t,se=R?s-1:s,fe=N?i+1:i;if(d<z)return se;if(d>Y)return fe;{const Me=Tz(d,z,Y),we=K4(Me/J*c+s,se,fe);return p&&we>=s&&we<=i?DN(we,s,i,m,x):E?Math.round(we):we}},PN=t=>{const{min:s,max:i,range:c,value:d,hasMinEdge:m,hasMaxEdge:p,maxBound:x,maxOffset:E,centerMinEdge:R,centerMaxEdge:N}=t;return d<s?m?0:R:d>i?p?x:N:(d-s)/c*E},Y4="top",MN="right",BN="bottom",d_="left",NN="width",IN="height",Ju=t=>t.element.dom.getBoundingClientRect(),Qu=(t,s)=>t[s],Hw=t=>{const s=Ju(t);return Qu(s,d_)},$N=t=>{const s=Ju(t);return Qu(s,MN)},f_=t=>{const s=Ju(t);return Qu(s,Y4)},LN=t=>{const s=Ju(t);return Qu(s,BN)},FN=t=>{const s=Ju(t);return Qu(s,NN)},h_=t=>{const s=Ju(t);return Qu(s,IN)},Vf=(t,s,i)=>(t+s)/2-i,HN=(t,s)=>{const i=Ju(t),c=Ju(s),d=Qu(i,d_),m=Qu(i,MN),p=Qu(c,d_);return Vf(d,m,p)},d0=(t,s)=>{const i=Ju(t),c=Ju(s),d=Qu(i,Y4),m=Qu(i,BN),p=Qu(c,Y4);return Vf(d,m,p)},m_=(t,s)=>{on(t,Fw(),{value:s})},zw=(t,s,i)=>{const c={min:$1(s),max:L1(s),range:l_(s),value:i,step:u0(s),snap:z4(s),snapStart:V4(s),rounded:AN(s),hasMinEdge:U4(s),hasMaxEdge:kN(s),minBound:Hw(t),maxBound:$N(t),screenRange:FN(t)};return RN(c)},Az=(t,s,i)=>{const c=zw(t,s,i);return m_(t,c),c},kz=(t,s)=>{const i=$1(s);m_(t,i)},Oz=(t,s)=>{const i=L1(s);m_(t,i)},zN=(t,s,i,c)=>{const m=(t>0?G4:q4)(zf(i),$1(i),L1(i),u0(i,c));return m_(s,m),P.some(m)},VN=t=>(s,i,c)=>zN(t,s,i,c).map(wt),X4=t=>i_(t).map(i=>i.left),J4=(t,s,i,c,d)=>{const p=FN(t),x=c.bind(N=>P.some(HN(N,t))).getOr(0),E=d.bind(N=>P.some(HN(N,t))).getOr(p),R={min:$1(s),max:L1(s),range:l_(s),value:i,hasMinEdge:U4(s),hasMaxEdge:kN(s),minBound:Hw(t),minOffset:0,maxBound:$N(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:E};return PN(R)},Vw=(t,s,i,c,d,m)=>{const p=J4(s,m,i,c,d);return Hw(s)-Hw(t)+p},Dz=(t,s,i,c)=>{const d=zf(i),m=Vw(t,c.getSpectrum(t),d,c.getLeftEdge(t),c.getRightEdge(t),i),p=uo(s.element)/2;b(s.element,"left",m-p+"px")},yl=VN(-1),Rz=VN(1),Pz=P.none,UN=P.none,WN={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(Z4),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(Ez)};var Mz=Object.freeze({__proto__:null,setValueFrom:Az,setToMin:kz,setToMax:Oz,findValueOfOffset:zw,getValueFromEvent:X4,findPositionOfValue:Vw,setPositionFromValue:Dz,onLeft:yl,onRight:Rz,onUp:Pz,onDown:UN,edgeActions:WN});const p_=(t,s)=>{on(t,Fw(),{value:s})},Q4=(t,s,i)=>{const c={min:$p(s),max:F1(s),range:H4(s),value:i,step:u0(s),snap:z4(s),snapStart:V4(s),rounded:AN(s),hasMinEdge:W4(s),hasMaxEdge:j4(s),minBound:f_(t),maxBound:LN(t),screenRange:h_(t)};return RN(c)},Bz=(t,s,i)=>{const c=Q4(t,s,i);return p_(t,c),c},Nz=(t,s)=>{const i=$p(s);p_(t,i)},Iz=(t,s)=>{const i=F1(s);p_(t,i)},$z=(t,s,i,c)=>{const m=(t>0?G4:q4)(zf(i),$p(i),F1(i),u0(i,c));return p_(s,m),P.some(m)},eD=t=>(s,i,c)=>$z(t,s,i,c).map(wt),Lz=t=>i_(t).map(i=>i.top),Fz=(t,s,i,c,d)=>{const p=h_(t),x=c.bind(N=>P.some(d0(N,t))).getOr(0),E=d.bind(N=>P.some(d0(N,t))).getOr(p),R={min:$p(s),max:F1(s),range:H4(s),value:i,hasMinEdge:W4(s),hasMaxEdge:j4(s),minBound:f_(t),minOffset:0,maxBound:LN(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:E};return PN(R)},tD=(t,s,i,c,d,m)=>{const p=Fz(s,m,i,c,d);return f_(s)-f_(t)+p},jN=(t,s,i,c)=>{const d=zf(i),m=tD(t,c.getSpectrum(t),d,c.getTopEdge(t),c.getBottomEdge(t),i),p=We(s.element)/2;b(s.element,"top",m-p+"px")},nD=P.none,Hz=P.none,oD=eD(-1),f0=eD(1),ZN={"top-left":P.none(),top:P.some(vz),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(Cz),"bottom-left":P.none(),left:P.none()};var qN=Object.freeze({__proto__:null,setValueFrom:Bz,setToMin:Nz,setToMax:Iz,findValueOfOffset:Q4,getValueFromEvent:Lz,findPositionOfValue:tD,setPositionFromValue:jN,onLeft:nD,onRight:Hz,onUp:oD,onDown:f0,edgeActions:ZN});const Uw=(t,s)=>{on(t,Fw(),{value:s})},g_=(t,s)=>({x:t,y:s}),zz=(t,s,i)=>{const c=zw(t,s,i.left),d=Q4(t,s,i.top),m=g_(c,d);return Uw(t,m),m},v_=(t,s,i,c,d)=>{const m=t>0?G4:q4,p=s?zf(c).x:m(zf(c).x,$1(c),L1(c),u0(c,d)),x=s?m(zf(c).y,$p(c),F1(c),u0(c,d)):zf(c).y;return Uw(i,g_(p,x)),P.some(p)},b_=(t,s)=>(i,c,d)=>v_(t,s,i,c,d).map(wt),Vz=(t,s)=>{const i=$1(s),c=$p(s);Uw(t,g_(i,c))},GN=(t,s)=>{const i=L1(s),c=F1(s);Uw(t,g_(i,c))},KN=t=>i_(t),sD=(t,s,i,c)=>{const d=zf(i),m=Vw(t,c.getSpectrum(t),d.x,c.getLeftEdge(t),c.getRightEdge(t),i),p=tD(t,c.getSpectrum(t),d.y,c.getTopEdge(t),c.getBottomEdge(t),i),x=uo(s.element)/2,E=We(s.element)/2;b(s.element,"left",m-x+"px"),b(s.element,"top",p-E+"px")},YN=b_(-1,!1),Ka=b_(1,!1),XN=b_(-1,!0),Uz=b_(1,!0),Wz={"top-left":P.some(gz),top:P.some(bz),"top-right":P.some(yz),right:P.some(wz),"bottom-right":P.some(ON),bottom:P.some(xz),"bottom-left":P.some(Sz),left:P.some(_z)};var JN=Object.freeze({__proto__:null,setValueFrom:zz,setToMin:Vz,setToMax:GN,getValueFromEvent:KN,setPositionFromValue:sD,onLeft:YN,onRight:Ka,onUp:XN,onDown:Uz,edgeActions:Wz});const jz=[Pe("stepSize",1),Pe("speedMultiplier",10),Pe("onChange",ue),Pe("onChoose",ue),Pe("onInit",ue),Pe("onDragStart",ue),Pe("onDragEnd",ue),Pe("snapToGrid",!1),Pe("rounded",!0),_o("snapStart"),ni("model",wr("mode",{x:[Pe("minX",0),Pe("maxX",100),at("value",t=>rn(t.mode.minX)),rt("getInitialValue"),ms("manager",Mz)],y:[Pe("minY",0),Pe("maxY",100),at("value",t=>rn(t.mode.minY)),rt("getInitialValue"),ms("manager",qN)],xy:[Pe("minX",0),Pe("maxX",100),Pe("minY",0),Pe("maxY",100),at("value",t=>rn({x:t.mode.minX,y:t.mode.minY})),rt("getInitialValue"),ms("manager",JN)]})),Pr("sliderBehaviours",[cn,Nt]),at("mouseIsDown",()=>rn(!1))],ed=ki({name:"Slider",configFields:jz,partFields:dz,factory:(t,s,i,c)=>{const d=Qe=>Hd(Qe,t,"thumb"),m=Qe=>Hd(Qe,t,"spectrum"),p=Qe=>$o(Qe,t,"left-edge"),x=Qe=>$o(Qe,t,"right-edge"),E=Qe=>$o(Qe,t,"top-edge"),R=Qe=>$o(Qe,t,"bottom-edge"),N=t.model,z=N.manager,Y=(Qe,lt)=>{z.setPositionFromValue(Qe,lt,t,{getLeftEdge:p,getRightEdge:x,getTopEdge:E,getBottomEdge:R,getSpectrum:m})},J=(Qe,lt)=>{N.value.set(lt);const _t=d(Qe);Y(Qe,_t)},se=(Qe,lt)=>{J(Qe,lt);const _t=d(Qe);return t.onChange(Qe,_t,lt),P.some(!0)},fe=Qe=>{z.setToMin(Qe,t)},Me=Qe=>{z.setToMax(Qe,t)},we=Qe=>{const lt=()=>{$o(Qe,t,"thumb").each(Xe=>{const Dn=N.value.get();t.onChoose(Qe,Xe,Dn)})},_t=t.mouseIsDown.get();t.mouseIsDown.set(!1),_t&&lt()},ke=(Qe,lt)=>{lt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Qe,d(Qe))},Se=(Qe,lt)=>{lt.stop(),t.onDragEnd(Qe,d(Qe)),we(Qe)},ot=Qe=>{$o(Qe,t,"spectrum").map(cn.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.sliderBehaviours,[cn.config({mode:"special",focusIn:ot}),Nt.config({store:{mode:"manual",getValue:Qe=>N.value.get(),setValue:J}}),Za.config({channels:{[w2()]:{onReceive:we}}})]),events:ns([Ke(Fw(),(Qe,lt)=>{se(Qe,lt.event.value)}),ys((Qe,lt)=>{const _t=N.getInitialValue();N.value.set(_t);const Xe=d(Qe);Y(Qe,Xe);const Dn=m(Qe);t.onInit(Qe,Xe,Dn,N.value.get())}),Ke(wu(),ke),Ke(Cu(),Se),Ke(Aa(),(Qe,lt)=>{ot(Qe),ke(Qe,lt)}),Ke(fy(),Se)]),apis:{resetToMin:fe,resetToMax:Me,setValue:J,refresh:Y},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),y_=zt("rgb-hex-update"),Yd=zt("slider-update"),w_=zt("palette-update"),QN=(t,s)=>{const i=ed.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=ed.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return ed.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:A(0)},components:[i,c],sliderBehaviours:yt([dn.config({})]),onChange:(d,m,p)=>{Mt(d.element,"aria-valuenow",Math.floor(360-p*3.6)),on(d,Yd,{value:p})}})},Ww="form",rD=[Pr("formBehaviours",[Nt])],eI=t=>"<alloy.field."+t+">",Zz=t=>{const s=(()=>{const m=[];return{field:(x,E)=>(m.push(x),LS(Ww,eI(x),E)),record:A(m)}})(),i=t(s),c=s.record(),d=He(c,m=>Bo({name:m,pname:eI(m)}));return Ab(Ww,rD,d,Gz,i)},qz=(t,s)=>t.fold(()=>Ln.error(s),Ln.value),Gz=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.formBehaviours,[Nt.config({store:{mode:"manual",getValue:i=>{const c=N2(i,t);return is(c,(d,m)=>d().bind(p=>{const x=ro.getCurrent(p);return qz(x,new Error(`Cannot find a current component to extract the value from for form part '${m}': `+Ou(p.element)))}).map(Nt.getValue))},setValue:(i,c)=>{lr(c,(d,m)=>{$o(i,t,m).each(p=>{ro.getCurrent(p).each(x=>{Nt.setValue(x,d)})})})}}})]),apis:{getField:(i,c)=>$o(i,t,c).bind(ro.getCurrent)}}),h0={getField:il((t,s,i)=>t.getField(s,i)),sketch:Zz},tI=zt("valid-input"),nI=zt("invalid-input"),iD=zt("validating-input"),aD="colorcustom.rgb.",Uf=(t,s,i,c)=>{const d=(Y,J)=>tu.config({invalidClass:s("invalid"),notify:{onValidate:se=>{on(se,iD,{type:Y})},onValid:se=>{on(se,tI,{type:Y,value:Nt.getValue(se)})},onInvalid:se=>{on(se,nI,{type:Y,value:Nt.getValue(se)})}},validator:{validate:se=>{const fe=Nt.getValue(se),Me=J(fe)?Ln.value(!0):Ln.error(t("aria.input.invalid"));return wi.pure(Me)},validateOnLoad:!1}}),m=(Y,J,se,fe,Me)=>{const we=t(aD+"range"),ke=Do.parts.label({dom:{tag:"label",attributes:{"aria-label":fe}},components:[Ws(se)]}),Se=Do.parts.field({data:Me,factory:S1,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:yt([d(J,Y),ps.config({})]),onSetValue:_t=>{tu.isInvalid(_t)&&tu.run(_t).get(ue)}}),ot=[ke,Se],Qe=J!=="hex"?[Do.parts["aria-descriptor"]({text:we})]:[],lt=ot.concat(Qe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:lt}},p=(Y,J)=>{const se=Aw(J);return h0.getField(Y,"hex").each(fe=>{dn.isFocused(fe)||Nt.setValue(Y,{hex:se.value})}),se},x=(Y,J)=>{const se=J.red,fe=J.green,Me=J.blue;Nt.setValue(Y,{red:se,green:fe,blue:Me})},E=Oo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),R=(Y,J)=>{E.getOpt(Y).each(se=>{b(se.element,"background-color","#"+J.value)})};return Sr({factory:()=>{const Y={red:rn(P.some(255)),green:rn(P.some(255)),blue:rn(P.some(255)),hex:rn(P.some("ffffff"))},J=(tn,bo)=>{const mo=kw(bo);x(tn,mo),we(mo)},se=tn=>Y[tn].get(),fe=(tn,bo)=>{Y[tn].set(bo)},Me=()=>se("red").bind(tn=>se("green").bind(bo=>se("blue").map(mo=>lm(tn,bo,mo,1)))),we=tn=>{const bo=tn.red,mo=tn.green,Kn=tn.blue;fe("red",P.some(bo)),fe("green",P.some(mo)),fe("blue",P.some(Kn))},ke=(tn,bo)=>{const mo=bo.event;mo.type!=="hex"?fe(mo.type,P.none()):c(tn)},Se=(tn,bo)=>{i(tn);const mo=c4(bo);fe("hex",P.some(mo.value));const Kn=kw(mo);x(tn,Kn),we(Kn),on(tn,y_,{hex:mo}),R(tn,mo)},ot=(tn,bo,mo)=>{const Kn=parseInt(mo,10);fe(bo,P.some(Kn)),Me().each(xt=>{const Ut=p(tn,xt);on(tn,y_,{hex:Ut}),R(tn,Ut)})},Qe=tn=>tn.type==="hex",lt=(tn,bo)=>{const mo=bo.event;Qe(mo)?Se(tn,mo.value):ot(tn,mo.type,mo.value)},_t=tn=>({label:t(aD+tn+".label"),description:t(aD+tn+".description")}),Xe=_t("red"),Dn=_t("green"),Ht=_t("blue"),hn=_t("hex");return es(h0.sketch(tn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[tn.field("red",Do.sketch(m(ZE,"red",Xe.label,Xe.description,255))),tn.field("green",Do.sketch(m(ZE,"green",Dn.label,Dn.description,255))),tn.field("blue",Do.sketch(m(ZE,"blue",Ht.label,Ht.description,255))),tn.field("hex",Do.sketch(m(dB,"hex",hn.label,hn.description,"ffffff"))),E.asSpec()],formBehaviours:yt([tu.config({invalidClass:s("form-invalid")}),Fn("rgb-form-events",[Ke(tI,lt),Ke(nI,ke),Ke(iD,ke)])])})),{apis:{updateHex:(tn,bo)=>{Nt.setValue(tn,{hex:bo.value}),J(tn,bo),R(tn,bo)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Y,J,se)=>{Y.updateHex(J,se)}},extraApis:{}})},C_=(t,s)=>{const i=ed.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),c=ed.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(R,N)=>{const{width:z,height:Y}=R,J=R.getContext("2d");if(J===null)return;J.fillStyle=N,J.fillRect(0,0,z,Y);const se=J.createLinearGradient(0,0,z,0);se.addColorStop(0,"rgba(255,255,255,1)"),se.addColorStop(1,"rgba(255,255,255,0)"),J.fillStyle=se,J.fillRect(0,0,z,Y);const fe=J.createLinearGradient(0,0,0,Y);fe.addColorStop(0,"rgba(0,0,0,0)"),fe.addColorStop(1,"rgba(0,0,0,1)"),J.fillStyle=fe,J.fillRect(0,0,z,Y)},m=(R,N)=>{const z=R.components()[0].element.dom,Y=P1(N,100,100),J=pB(Y);d(z,vB(J))},p=(R,N)=>{const z=Rw(kw(N));ed.setValue(R,{x:z.saturation,y:100-z.value}),Mt(R.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",z.saturation,z.value]))};return Sr({factory:R=>{const N=A({x:0,y:0}),z=(se,fe,Me)=>{et(Me)||Mt(se.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Me.x),Math.floor(100-Me.y)])),on(se,w_,{value:Me})},Y=(se,fe,Me,we)=>{d(Me.element.dom,vB(bB))},J=yt([ro.config({find:P.some}),dn.config({})]);return ed.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:N},rounded:!1,components:[i,c],onChange:z,onInit:Y,sliderBehaviours:J})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(R,N,z)=>{m(N,z)},setThumb:(R,N,z)=>{p(N,z)}},extraApis:{}})},Kz=(t,s)=>{const i=d=>{const m=Uf(t,s,d.onValidHex,d.onInvalidHex),p=C_(t,s),x=lt=>(100-lt)/100*360,E=lt=>100-lt/360*100,R={paletteRgba:rn(bB),paletteHue:rn(0)},N=Oo(QN(t,s)),z=Oo(p.sketch({})),Y=Oo(m.sketch({})),J=(lt,_t,Xe)=>{z.getOpt(lt).each(Dn=>{p.setHue(Dn,Xe)})},se=(lt,_t)=>{Y.getOpt(lt).each(Xe=>{m.updateHex(Xe,_t)})},fe=(lt,_t,Xe)=>{N.getOpt(lt).each(Dn=>{ed.setValue(Dn,E(Xe))})},Me=(lt,_t)=>{z.getOpt(lt).each(Xe=>{p.setThumb(Xe,_t)})},we=(lt,_t)=>{const Xe=kw(lt);R.paletteRgba.set(Xe),R.paletteHue.set(_t)},ke=(lt,_t,Xe,Dn)=>{we(_t,Xe),ht(Dn,Ht=>{Ht(lt,_t,Xe)})},Se=()=>{const lt=[se];return(_t,Xe)=>{const Dn=Xe.event.value,Ht=R.paletteHue.get(),hn=P1(Ht,Dn.x,100-Dn.y),tn=OB(hn);ke(_t,tn,Ht,lt)}},ot=()=>{const lt=[J,se];return(_t,Xe)=>{const Dn=x(Xe.event.value),Ht=R.paletteRgba.get(),hn=Rw(Ht),tn=P1(Dn,hn.saturation,hn.value),bo=OB(tn);ke(_t,bo,Dn,lt)}},Qe=()=>{const lt=[J,fe,Me];return(_t,Xe)=>{const Dn=Xe.event.hex,Ht=kB(Dn);ke(_t,Dn,Ht.hue,lt)}};return{uid:d.uid,dom:d.dom,components:[z.asSpec(),N.asSpec(),Y.asSpec()],behaviours:yt([Fn("colour-picker-events",[Ke(y_,Qe()),Ke(w_,Se()),Ke(Yd,ot())]),ro.config({find:lt=>Y.getOpt(lt)}),cn.config({mode:"acyclic"})])}};return Sr({name:"ColourPicker",configFields:[rt("dom"),Pe("onValidHex",ue),Pe("onInvalidHex",ue)],factory:i})},wl={self:()=>ro.config({find:P.some}),memento:t=>ro.config({find:t.getOpt}),childAt:t=>ro.config({find:s=>Dl(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},x_=pn([Pe("preprocess",mn),Pe("postprocess",mn)]),jw=(t,s)=>{const i=Vr("RepresentingConfigs.memento processors",x_,s);return Nt.config({store:{mode:"manual",getValue:c=>{const d=t.get(c),m=Nt.getValue(d);return i.postprocess(m)},setValue:(c,d)=>{const m=i.preprocess(d),p=t.get(c);Nt.setValue(p,m)}}})},Xd=(t,s,i)=>Nt.config({store:{mode:"manual",...t.map(c=>({initialValue:c})).getOr({}),getValue:s,setValue:i}}),cD=(t,s,i)=>Xd(t,c=>s(c.element),(c,d)=>i(c.element,d)),oI=t=>cD(t,Cy,Ed),Zw=t=>Nt.config({store:{mode:"memory",initialValue:t}}),sI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Jz=t=>s=>q(s)?t.translate(sI[s]):t.translate(s),Qz=(t,s,i)=>{const c=E=>"tox-"+E,d=Kz(Jz(s),c),m=E=>{on(E,Kd,{name:"hex-valid",value:!0})},p=E=>{on(E,Kd,{name:"hex-valid",value:!1})},x=Oo(d.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:m,onInvalidHex:p}));return{dom:{tag:"div"},components:[x.asSpec()],behaviours:yt([Xd(i,E=>{const R=x.get(E);return ro.getCurrent(R).bind(Y=>Nt.getValue(Y).hex).map(Y=>"#"+Jp(Y,"#")).getOr("")},(E,R)=>{const N=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,z=P.from(N.exec(R)).bind(se=>Jo(se,1)),Y=x.get(E);ro.getCurrent(Y).fold(()=>{console.log("Can not find form")},se=>{Nt.setValue(se,{hex:z.getOr("")}),h0.getField(se,"hex").each(fe=>{Un(fe,Su())})})}),wl.self()])}};var eV=tinymce.util.Tools.resolve("tinymce.Resource");const rI=t=>go(t,"init"),tV=t=>{const s=ss(),i=Oo({dom:{tag:t.tag}}),c=ss(),d=!rI(t)&&t.onFocus.isSome()?[dn.config({onFocus:m=>{t.onFocus.each(p=>{p(m.element.dom)})}}),ps.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:yt([Fn("custom-editor-events",[ys(m=>{i.getOpt(m).each(p=>{(rI(t)?t.init(p.element.dom):eV.load(t.scriptId,t.scriptUrl).then(x=>x(p.element.dom,t.settings))).then(x=>{c.on(E=>{x.setValue(E)}),c.clear(),s.set(x)})})})]),Xd(P.none(),()=>s.get().fold(()=>c.get().getOr(""),m=>m.getValue()),(m,p)=>{s.get().fold(()=>c.set(p),x=>x.setValue(p))}),wl.self()].concat(d)),components:[i.asSpec()]}};var Wf=tinymce.util.Tools.resolve("tinymce.util.Tools");const iI=(t,s)=>{const i=Wf.explode(s.getOption("images_file_types")),c=d=>Rn(i,m=>Vc(d.name.toLowerCase(),`.${m.toLowerCase()}`));return po(Mi(t),c)},nV=(t,s,i)=>{const c=(Y,J)=>{J.stop()},d=Y=>(J,se)=>{ht(Y,fe=>{fe(J,se)})},m=(Y,J)=>{var se;if(!En.isDisabled(Y)){const fe=J.event.raw;x(Y,(se=fe.dataTransfer)===null||se===void 0?void 0:se.files)}},p=(Y,J)=>{const se=J.event.raw.target;x(Y,se.files)},x=(Y,J)=>{J&&(Nt.setValue(Y,iI(J,s)),on(Y,Ma,{name:t.name}))},E=Oo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:yt([Fn("input-file-events",[rl(wf()),rl(na())])])}),R=Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:yt([Zw(i.getOr([])),wl.self(),En.config({}),Wn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Fn("dropzone-events",[Ke("dragenter",d([c,Wn.toggle])),Ke("dragleave",d([c,Wn.toggle])),Ke("dragover",c),Ke("drop",d([c,m])),Ke(ol(),p)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ws(s.translate("Drop an image here"))]},ci.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ws(s.translate("Browse for an image")),E.asSpec()],action:J=>{E.get(J).element.dom.click()},buttonBehaviours:yt([ps.config({}),qu.button(s.isDisabled),Kr()])})]}]}),N=t.label.map(Y=>N1(Y,s)),z=Do.parts.field({factory:{sketch:R}});return Np(N,z,["tox-form__group--stretched"],[])},aI=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:He(t.items,s.interpreter)}),oV=(t,s)=>{let i=null,c=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null,c=null)},throttle:(...p)=>{c=p,ee(i)&&(i=setTimeout(()=>{const x=c;i=null,c=null,t.apply(null,x)},s))}}},cI=(t,s)=>{let i=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null)},throttle:(...m)=>{ee(i)&&(i=setTimeout(()=>{i=null,t.apply(null,m)},s))}}},z1=(t,s)=>{let i=null;const c=()=>{ee(i)||(clearTimeout(i),i=null)};return{cancel:c,throttle:(...m)=>{c(),i=setTimeout(()=>{i=null,t.apply(null,m)},s)}}},lD=zt("alloy-fake-before-tabstop"),S_=zt("alloy-fake-after-tabstop"),lI=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:yt([dn.config({ignore:!0}),ps.config({})])}),uI=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[lI([lD]),s,lI([S_])],behaviours:yt([wl.childAt(1)])}),dI=(t,s)=>{on(t,nl(),{raw:{which:9,shiftKey:s}})},sV=(t,s)=>{const i=s.element;Ua(i,lD)?dI(t,!0):Ua(i,S_)&&dI(t,!1)},m0=t=>Mw(t,["."+lD,"."+S_].join(","),Vt),E_=zt("update-dialog"),uD=zt("update-title"),__=zt("update-body"),jf=zt("update-footer"),T_=zt("body-send-message"),qw=zt("dialog-focus-shifted"),A_=en().browser,V1=A_.isSafari(),fI=A_.isFirefox(),Gw=V1||fI,hI=A_.isChromium(),mI=({scrollTop:t,scrollHeight:s,clientHeight:i})=>Math.ceil(t)+i>=s,pI=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),rV=(t,s)=>{const i=t.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!hI&&!V1||xe(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:t.documentElement)},gI=(t,s,i)=>{const c=t.dom;P.from(c.contentDocument).fold(i,d=>{let m=0;const p=rV(d,s).map(E=>(m=E.scrollTop,E)).forall(mI),x=()=>{const E=c.contentWindow;xe(E)&&(p?pI(E,"bottom"):!p&&Gw&&m!==0&&pI(E,m))};V1&&c.addEventListener("load",x,{once:!0}),d.open(),d.write(s),d.close(),V1||x()})},iV=un(Gw,V1?500:200).map(t=>oV(gI,t)),vI=(t,s)=>{const i=rn(t.getOr(""));return{getValue:c=>i.get(),setValue:(c,d)=>{if(i.get()!==d){const m=c.element,p=()=>Mt(m,"srcdoc",d);s?iV.fold(A(gI),x=>x.throttle)(m,d,p):p()}i.set(d)}}},bI=(t,s,i)=>{const c="tox-dialog__iframe",d=t.transparent?[]:[`${c}--opaque`],m=t.border?["tox-navobj-bordered"]:[],p={...t.label.map(z=>({title:z})).getOr({}),...i.map(z=>({srcdoc:z})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},x=vI(i,t.streamContent),E=t.label.map(z=>N1(z,s)),R=z=>uI(P.from(m),{uid:z.uid,dom:{tag:"iframe",attributes:p,classes:[c,...d]},behaviours:yt([ps.config({}),dn.config({}),Xd(i,x.getValue,x.setValue),Za.config({channels:{[qw]:{onReceive:(Y,J)=>{J.newFocus.each(se=>{tc(Y.element).each(fe=>{(yo(Y.element,se)?Ds:Ps)(fe,"tox-navobj-bordered-focus")})})}}}})])}),N=Do.parts.field({factory:{sketch:R}});return Np(E,N,["tox-form__group--stretched"],[])},aV=t=>new Promise((s,i)=>{const c=()=>{m(),s(t)},d=[bi(t,"load",c),bi(t,"error",()=>{m(),i("Unable to load data from image: "+t.dom.src)})],m=()=>ht(d,p=>p.unbind());t.dom.complete&&c()}),cV=(t,s,i,c,d)=>{const m=i*d,p=c*d,x=Math.max(0,t/2-m/2),E=Math.max(0,s/2-p/2);return{left:x.toString()+"px",top:E.toString()+"px",width:m.toString()+"px",height:p.toString()+"px"}},lV=(t,s,i)=>{const c=uo(t),d=We(t);return Math.min(c/s,d/i,1)},k_=(t,s)=>{const i=rn(s.getOr({url:""})),c=Oo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(E=>({src:E.url})).getOr({})}}),d=Oo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[c.asSpec()]}),m=(E,R)=>{const N={url:R.url};R.zoom.each(Y=>N.zoom=Y),R.cachedWidth.each(Y=>N.cachedWidth=Y),R.cachedHeight.each(Y=>N.cachedHeight=Y),i.set(N);const z=()=>{const{cachedWidth:Y,cachedHeight:J,zoom:se}=N;if(!be(Y)&&!be(J)){if(be(se)){const Me=lV(E.element,Y,J);N.zoom=Me}const fe=cV(uo(E.element),We(E.element),Y,J,N.zoom);d.getOpt(E).each(Me=>{_(Me.element,fe)})}};c.getOpt(E).each(Y=>{const J=Y.element;R.url!==As(J,"src")&&(Mt(J,"src",R.url),Ps(E.element,"tox-imagepreview__loaded")),z(),aV(J).then(se=>{E.getSystem().isConnected()&&(Ds(E.element,"tox-imagepreview__loaded"),N.cachedWidth=se.dom.naturalWidth,N.cachedHeight=se.dom.naturalHeight,z())})})},p={};t.height.each(E=>p.height=E);const x=s.map(E=>({url:E.url,zoom:P.from(E.zoom),cachedWidth:P.from(E.cachedWidth),cachedHeight:P.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:p,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:yt([wl.self(),Xd(x,()=>i.get(),m)])}},uV=(t,s)=>{const i="tox-label",c=t.align==="center"?[`${i}--center`]:[],d=t.align==="end"?[`${i}--end`]:[],m={dom:{tag:"label",classes:[i,...c,...d]},components:[Ws(s.providers.translate(t.label))]},p=He(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[m,...p],behaviours:yt([wl.self(),Nn.config({}),oI(P.none()),cn.config({mode:"acyclic"})])}},yI=zt("toolbar.button.execute"),wI=t=>Hl((s,i)=>{HE(t,s)(c=>{on(s,yI,{buttonApi:c}),t.onAction(c)})}),Fp=zt("common-button-display-events"),CI={[Ha()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[za()]:["toolbar-button-events",Fp],[Fl()]:["toolbar-button-events","dropdown-events","tooltipping"],[Aa()]:["focusing","alloy.base.behaviour",Fp]},dD=t=>b(t.element,"width",L(t.element,"width")),O_=(t,s,i)=>Yl(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),fD=(t,s)=>O_(t,s,[]),fm=(t,s)=>O_(t,s,[Nn.config({})]),xI=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ws(i.translate(t))],behaviours:yt([Nn.config({})])}),nu=zt("update-menu-text"),U1=zt("update-menu-icon"),D_=(t,s,i,c)=>{const d=rn(ue),m=t.text.map(se=>Oo(xI(se,s,i.providers))),p=t.icon.map(se=>Oo(fm(se,i.providers.icons))),x=(se,fe)=>{const Me=Nt.getValue(se);return dn.focus(Me),on(Me,"keydown",{raw:fe.event.raw}),eu.close(Me),P.some(!0)},E=t.role.fold(()=>({}),se=>({role:se})),R=t.ariaLabel.fold(()=>({}),se=>({"aria-label":i.providers.translate(se)})),N=Yl("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),z=zt("common-button-display-events"),Y="dropdown-events";return Oo(eu.sketch({...t.uid?{uid:t.uid}:{},...E,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(t.classes,se=>`${s}--${se}`)),attributes:{...R,...xe(c)?{"data-mce-name":c}:{}}},components:Bp([p.map(se=>se.asSpec()),m.map(se=>se.asSpec()),P.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(se,fe,Me)=>{t.searchable&&T8(Me)},dropdownBehaviours:yt([...t.dropdownBehaviours,qu.button(()=>t.disabled||i.providers.isDisabled()),Kr(),Lw.config({}),Nn.config({}),...t.tooltip.map(se=>Di.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(se)}))).toArray(),Fn(Y,[yi(t,d),Pa(t,d)]),Fn(z,[ys((se,fe)=>dD(se))]),Fn("menubutton-update-display-text",[Ke(nu,(se,fe)=>{m.bind(Me=>Me.getOpt(se)).each(Me=>{Nn.set(Me,[Ws(i.providers.translate(fe.event.text))])})}),Ke(U1,(se,fe)=>{p.bind(Me=>Me.getOpt(se)).each(Me=>{Nn.set(Me,[fm(fe.event.icon,i.providers.icons)])})})])]),eventOrder:es(CI,{[Aa()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[za()]:["toolbar-button-events",Di.name(),Y,z]}),sandboxBehaviours:yt([cn.config({mode:"special",onLeft:x,onRight:x}),Fn("dropdown-sandbox-events",[Ke(SM,(se,fe)=>{C8(se),fe.stop()}),Ke(EM,(se,fe)=>{x8(se,fe),fe.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...gw(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:YB,onCollapseMenu:(se,fe,Me)=>{wo.getHighlighted(Me).each(we=>{YB(se,Me,we)})},onDehighlightItem:_8}},getAnchorOverrides:()=>({maxHeightFunction:(se,fe)=>{s2()(se,fe-10)}}),fetch:se=>wi.nu(Sn(t.fetch,se))})).asSpec()},SI=t=>q(t),EI=t=>t.type==="separator",dV=t=>go(t,"getSubmenuItems"),fV={type:"separator"},hV=(t,s)=>{const i=Mo(t,(c,d)=>SI(d)?d===""?c:d==="|"?c.length>0&&!EI(c[c.length-1])?c.concat([fV]):c:go(s,d.toLowerCase())?c.concat([s[d.toLowerCase()]]):c:c.concat([d]),[]);return i.length>0&&EI(i[i.length-1])&&i.pop(),i},_I=(t,s)=>{const i=t.getSubmenuItems(),c=hD(i,s),d=es(c.menus,{[t.value]:c.items}),m=es(c.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:m}},mV=t=>{const s=Dt(t,"value").getOrThunk(()=>zt("generated-menu-item"));return es({value:s},t)},hD=(t,s)=>{const i=hV(q(t)?t.split(" "):t,s);return Cs(i,(c,d)=>{if(dV(d)){const m=mV(d),p=_I(m,s);return{menus:es(c.menus,p.menus),items:[p.item,...c.items],expansions:es(c.expansions,p.expansions)}}else return{...c,items:[d,...c.items]}},{menus:{},expansions:{},items:[]})},pV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),gV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),p0=(t,s,i,c)=>{const d=zt("primary-menu"),m=hD(t,i.shared.providers.menuItems());if(m.items.length===0)return P.none();const p=pV(c),x=QB(d,m.items,s,i,c.isHorizontalMenu,p),E=gV(c),R=is(m.menus,(z,Y)=>QB(Y,z,s,i,!1,E)),N=es(R,wh(d,x));return P.from(b1.tieredData(d,N,m.expansions))},mD=t=>!go(t,"items"),TI="data-value",AI=(t,s,i,c)=>He(i,d=>mD(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===c,onAction:()=>{Nt.setValue(t,d.value),on(t,Ma,{name:s}),dn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>AI(t,s,d.items,c)}),pD=(t,s)=>gr(t,i=>mD(i)?un(i.value===s,i):pD(i.items,s)),vV=(t,s,i)=>{const c=s.shared.providers,d=i.bind(E=>pD(t.items,E)).orThunk(()=>wn(t.items).filter(mD)),m=t.label.map(E=>N1(E,c)),p=Do.parts.field({dom:{},factory:{sketch:E=>D_({uid:E.uid,text:d.map(R=>R.text),icon:P.none(),tooltip:P.none(),role:P.none(),ariaLabel:t.label,fetch:(R,N)=>{const z=AI(R,t.name,t.items,Nt.getValue(R));N(p0(z,jd.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:A(ue),getApi:A({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ps.config({}),Xd(d.map(R=>R.value),R=>As(R.element,TI),(R,N)=>{pD(t.items,N).each(z=>{Mt(R.element,TI,z.value),on(R,nu,{text:z.text})})})]},"tox-listbox",s.shared)}}),x={dom:{tag:"div",classes:["tox-listboxfield"]},components:[p]};return Do.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Tn([m.toArray(),[x]]),fieldBehaviours:yt([En.config({disabled:A(!t.enabled),onDisabled:E=>{Do.getField(E).each(En.disable)},onEnabled:E=>{Do.getField(E).each(En.enable)}})])})},bV=(t,s)=>({dom:{tag:"div",classes:t.classes},components:He(t.items,s.shared.interpreter)}),gD=(t,s)=>{const i=He(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),c=t.data.map(d=>wh("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:Mr(t.selectBehaviours,[dn.config({}),Nt.config({store:{mode:"manual",getValue:d=>kd(d.element),setValue:(d,m)=>{const p=wn(t.options);An(t.options,E=>E.value===m).isSome()?Pu(d.element,m):d.element.dom.selectedIndex===-1&&m===""&&p.each(E=>Pu(d.element,E.value))},...c}})])}},yV=Sr({name:"HtmlSelect",configFields:[rt("options"),Pr("selectBehaviours",[dn,Nt]),Pe("selectClasses",[]),Pe("selectAttributes",{}),_o("data")],factory:gD}),wV=(t,s,i)=>{const c=He(t.items,E=>({text:s.translate(E.text),value:E.value})),d=t.label.map(E=>N1(E,s)),m=Do.parts.field({dom:{},...i.map(E=>({data:E})).getOr({}),selectAttributes:{size:t.size},options:c,factory:yV,selectBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled()}),ps.config({}),Fn("selectbox-change",[Ke(ol(),(E,R)=>{on(E,Ma,{name:t.name})})])])}),p=t.size>1?P.none():P.some(Yl("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),x={dom:{tag:"div",classes:["tox-selectfield"]},components:Tn([[m],p.toArray()])};return Do.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Tn([d.toArray(),[x]]),fieldBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{Do.getField(E).each(En.disable)},onEnabled:E=>{Do.getField(E).each(En.enable)}}),Kr()])})},CV=A([Pe("field1Name","field1"),Pe("field2Name","field2"),Fh("onLockedChange"),al(["lockClass"]),Pe("locked",!1),cc.field("coupledFieldBehaviours",[ro,Nt])]),Kw=(t,s,i)=>$o(t,s,i).bind(ro.getCurrent),R_=(t,s)=>Bo({factory:Do,name:t,overrides:i=>({fieldBehaviours:yt([Fn("coupled-input-behaviour",[Ke(Su(),c=>{Kw(c,i,s).each(d=>{$o(c,i,"lock").each(m=>{Wn.isOn(m)&&i.onLockedChange(c,d,m)})})})])])})}),xV=A([R_("field1","field2"),R_("field2","field1"),Bo({factory:ci,schema:[rt("dom")],name:"lock",overrides:t=>({buttonBehaviours:yt([Wn.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),SV=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:cc.augment(t.coupledFieldBehaviours,[ro.config({find:P.some}),Nt.config({store:{mode:"manual",getValue:d=>{const m=Tb(d,t,["field1","field2"]);return{[t.field1Name]:Nt.getValue(m.field1()),[t.field2Name]:Nt.getValue(m.field2())}},setValue:(d,m)=>{const p=Tb(d,t,["field1","field2"]);va(m,t.field1Name)&&Nt.setValue(p.field1(),m[t.field1Name]),va(m,t.field2Name)&&Nt.setValue(p.field2(),m[t.field2Name])}}})]),apis:{getField1:d=>$o(d,t,"field1"),getField2:d=>$o(d,t,"field2"),getLock:d=>$o(d,t,"lock")}}),uc=ki({name:"FormCoupledInputs",configFields:CV(),partFields:xV(),factory:SV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),EV=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=d=>d in s?s[d]:1;let c=t.value.toFixed(i(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},Yw=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const c=parseFloat(i[1]),d=i[2];return Ln.value({value:c,unit:d})}else return Ln.error(t)},vD=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=d=>go(i,d);return t.unit===s?P.some(t.value):c(t.unit)&&c(s)?i[t.unit]===i[s]?P.some(t.value):P.some(t.value/i[t.unit]*i[s]):P.none()},bD=t=>P.none(),_V=(t,s)=>i=>vD(i,s).map(c=>({value:c*t,unit:s})),kI=(t,s)=>{const i=Yw(t).toOptional(),c=Yw(s).toOptional();return uu(i,c,(d,m)=>vD(d,m.unit).map(p=>m.value/p).map(p=>_V(p,m.unit)).getOr(bD)).getOr(bD)},OI=(t,s)=>{let i=bD;const c=zt("ratio-event"),d=J=>Yl(J,{tag:"span",classes:["tox-icon","tox-lock-icon__"+J]},s.icons),m=t.label.getOr("Constrain proportions"),p=s.translate(m),x=uc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":p,"data-mce-name":m}},components:[d("lock"),d("unlock")],buttonBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled()}),Kr(),ps.config({}),Di.config(s.tooltips.getConfig({tooltipText:p}))])}),E=J=>({dom:{tag:"div",classes:["tox-form__group"]},components:J}),R=J=>Do.parts.field({factory:S1,inputClasses:["tox-textfield"],inputBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled()}),Kr(),ps.config({}),Fn("size-input-events",[Ke(tl(),(se,fe)=>{on(se,c,{isField1:J})}),Ke(ol(),(se,fe)=>{on(se,Ma,{name:t.name})})])]),selectOnFocus:!1}),N=J=>({dom:{tag:"label",classes:["tox-label"]},components:[Ws(s.translate(J))]}),z=uc.parts.field1(E([Do.parts.label(N("Width")),R(!0)])),Y=uc.parts.field2(E([Do.parts.label(N("Height")),R(!1)]));return uc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[z,Y,E([N(iS),x])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(J,se,fe)=>{Yw(Nt.getValue(J)).each(Me=>{i(Me).each(we=>{Nt.setValue(se,EV(we))})})},coupledFieldBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:J=>{uc.getField1(J).bind(Do.getField).each(En.disable),uc.getField2(J).bind(Do.getField).each(En.disable),uc.getLock(J).each(En.disable)},onEnabled:J=>{uc.getField1(J).bind(Do.getField).each(En.enable),uc.getField2(J).bind(Do.getField).each(En.enable),uc.getLock(J).each(En.enable)}}),Kr(),Fn("size-input-events2",[Ke(c,(J,se)=>{const fe=se.event.isField1,Me=fe?uc.getField1(J):uc.getField2(J),we=fe?uc.getField2(J):uc.getField1(J),ke=Me.map(Nt.getValue).getOr(""),Se=we.map(Nt.getValue).getOr("");i=kI(ke,Se)})])])})},TV=(t,s,i)=>{const c=ed.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ws(s.translate(t.label))]}),d=ed.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),m=ed.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ed.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:A(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[c,d,m],sliderBehaviours:yt([wl.self(),dn.config({})]),onChoose:(p,x,E)=>{on(p,Ma,{name:t.name,value:E})}})},DI=(t,s)=>{const i=x=>({dom:{tag:"th",innerHtml:s.translate(x)}}),c=x=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(x,i)}]}),d=x=>({dom:{tag:"td",innerHtml:s.translate(x)}}),m=x=>({dom:{tag:"tr"},components:He(x,d)}),p=x=>({dom:{tag:"tbody"},components:He(x,m)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),p(t.cells)],behaviours:yt([ps.config({}),dn.config({})])}},yD=(t,s)=>{const i=t.label.map(J=>N1(J,s)),c=[En.config({disabled:()=>t.disabled||s.isDisabled()}),Kr(),cn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:J=>(Un(J,Nw),P.some(!0))}),Fn("textfield-change",[Ke(Su(),(J,se)=>{on(J,Ma,{name:t.name})}),Ke(mg(),(J,se)=>{on(J,Ma,{name:t.name})})]),ps.config({})],d=t.validation.map(J=>tu.config({getRoot:se=>tc(se.element),invalidClass:"tox-invalid",validator:{validate:se=>{const fe=Nt.getValue(se),Me=J.validator(fe);return wi.pure(Me===!0?Ln.value(fe):Ln.error(Me))},validateOnLoad:J.validateOnLoad}})).toArray(),m=t.placeholder.fold(A({}),J=>({placeholder:s.translate(J)})),p=t.inputMode.fold(A({}),J=>({inputmode:J})),x={...m,...p},E=Do.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(J=>({data:J})).getOr({}),inputAttributes:x,inputClasses:[t.classname],inputBehaviours:yt(Tn([c,d])),selectOnFocus:!1,factory:S1}),R=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[E]}:E,z=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),Y=[En.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:J=>{Do.getField(J).each(En.disable)},onEnabled:J=>{Do.getField(J).each(En.enable)}}),Kr()];return Np(i,R,z,Y)},AV=(t,s,i)=>yD({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:i},s),RI=(t,s,i)=>yD({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:i},s),g0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),Zf=t=>t.dimension.property,W1=(t,s)=>t.dimension.getDimension(s),P_=(t,s)=>{const i=g0(t,s);Wa(i,[s.shrinkingClass,s.growingClass])},wD=(t,s)=>{Ps(t.element,s.openClass),Ds(t.element,s.closedClass),b(t.element,Zf(s),"0px"),Ne(t.element)},M_=(t,s)=>{Ps(t.element,s.closedClass),Ds(t.element,s.openClass),me(t.element,Zf(s))},PI=(t,s,i,c)=>{i.setCollapsed(),b(t.element,Zf(s),W1(s,t.element)),P_(t,s),wD(t,s),s.onStartShrink(t),s.onShrunk(t)},MI=(t,s,i,c)=>{const d=c.getOrThunk(()=>W1(s,t.element));i.setCollapsed(),b(t.element,Zf(s),d),Ne(t.element);const m=g0(t,s);Ps(m,s.growingClass),Ds(m,s.shrinkingClass),wD(t,s),s.onStartShrink(t)},BI=(t,s,i)=>{const c=W1(s,t.element);(c==="0px"?PI:MI)(t,s,i,P.some(c))},NI=(t,s,i)=>{const c=g0(t,s),d=Ua(c,s.shrinkingClass),m=W1(s,t.element);M_(t,s);const p=W1(s,t.element);(d?()=>{b(t.element,Zf(s),m),Ne(t.element)}:()=>{wD(t,s)})(),Ps(c,s.shrinkingClass),Ds(c,s.growingClass),M_(t,s),b(t.element,Zf(s),p),i.setExpanded(),s.onStartGrow(t)},CD=(t,s,i)=>{if(i.isExpanded()){me(t.element,Zf(s));const c=W1(s,t.element);b(t.element,Zf(s),c)}},kV=(t,s,i)=>{i.isExpanded()||NI(t,s,i)},OV=(t,s,i)=>{i.isExpanded()&&BI(t,s,i)},DV=(t,s,i)=>{i.isExpanded()&&PI(t,s,i)},II=(t,s,i)=>i.isExpanded(),RV=(t,s,i)=>i.isCollapsed(),xD=(t,s,i)=>{const c=g0(t,s);return Ua(c,s.growingClass)===!0},$I=(t,s,i)=>{const c=g0(t,s);return Ua(c,s.shrinkingClass)===!0};var MV=Object.freeze({__proto__:null,refresh:CD,grow:kV,shrink:OV,immediateShrink:DV,hasGrown:II,hasShrunk:RV,isGrowing:xD,isShrinking:$I,isTransitioning:(t,s,i)=>xD(t,s)||$I(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?BI:NI)(t,s,i)},disableTransitions:P_,immediateGrow:(t,s,i)=>{i.isExpanded()||(M_(t,s),b(t.element,Zf(s),W1(s,t.element)),P_(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),NV=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const c=s.expanded;return Rr(c?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:wh(s.dimension.property,"0px")})},events:(t,s)=>ns([Zm(Ll(),(i,c)=>{c.event.raw.propertyName===t.dimension.property&&(P_(i,t),s.isExpanded()&&me(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),IV=[rt("closedClass"),rt("openClass"),rt("shrinkingClass"),rt("growingClass"),_o("getAnimationRoot"),ho("onShrunk"),ho("onStartShrink"),ho("onGrown"),ho("onStartGrow"),Pe("expanded",!1),ni("dimension",wr("property",{width:[ms("property","width"),ms("getDimension",t=>uo(t)+"px")],height:[ms("property","height"),ms("getDimension",t=>We(t)+"px")]}))],LV=Object.freeze({__proto__:null,init:t=>{const s=rn(t.expanded),i=()=>"expanded: "+s.get();return Cc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Sn(s.set,!1),setExpanded:Sn(s.set,!0),readState:i})}});const Lc=Gr({fields:IV,name:"sliding",active:NV,apis:MV,state:LV}),LI=t=>({isEnabled:()=>!En.isDisabled(t),setEnabled:s=>En.set(t,!s),setActive:s=>{const i=t.element;s?(Ds(i,"tox-tbtn--enabled"),Mt(i,"aria-pressed",!0)):(Ps(i,"tox-tbtn--enabled"),xs(i,"aria-pressed"))},isActive:()=>Ua(t.element,"tox-tbtn--enabled"),setText:s=>{on(t,nu,{text:s})},setIcon:s=>on(t,U1,{icon:s})}),v0=(t,s,i,c,d=!0,m)=>D_({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:c,fetch:(p,x)=>{const E={pattern:t.search.isSome()?XB(p):""};t.fetch(R=>{x(p0(R,jd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},E,LI(p))},onSetup:t.onSetup,getApi:LI,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[ps.config({})]:[]]},s,i.shared,m),FV=(t,s,i)=>{const c=m=>p=>{const x=!p.isActive();p.setActive(x),m.storage.set(x),i.shared.getSink().each(E=>{s().getOpt(E).each(R=>{Tc(R.element),on(R,Kd,{name:m.name,value:m.storage.get()})})})},d=m=>p=>{p.setActive(m.storage.get())};return m=>{m(He(t,p=>{const x=p.text.fold(()=>({}),E=>({text:E}));return{type:p.type,active:!1,...x,onAction:c(p),onSetup:d(p)}}))}},FI=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Ws(t)]}),HI=zt("leaf-label-event-id"),B_=({leaf:t,onLeafAction:s,visible:i,treeId:c,selectedId:d,backstage:m})=>{const p=t.menu.map(E=>v0(E,"tox-mbtn",m,P.none(),i)),x=[FI(t.title)];return p.each(E=>x.push(E)),ci.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:E=>{s(t.id),E.getSystem().broadcastOn([`update-active-item-${c}`],{value:t.id})},eventOrder:{[nl()]:[HI,"keying"]},buttonBehaviours:yt([...i?[ps.config({})]:[],Wn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Za.config({channels:{[`update-active-item-${c}`]:{onReceive:(E,R)=>{(R.value===t.id?Wn.on:Wn.off)(E)}}}}),Fn(HI,[ys((E,R)=>{d.each(N=>{(N===t.id?Wn.on:Wn.off)(E)})}),Ke(nl(),(E,R)=>{const N=R.event.raw.code==="ArrowLeft",z=R.event.raw.code==="ArrowRight";N?(rc(E.element,".tox-tree--directory").each(Y=>{E.getSystem().getByDom(Y).each(J=>{Wv(Y,".tox-tree--directory__label").each(se=>{J.getSystem().getByDom(se).each(dn.focus)})})}),R.stop()):z&&R.stop()})])])})},zI=(t,s,i)=>Yl(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),VI=(t,s)=>zI(t,s,[]),Xw=zt("directory-label-event-id"),HV=({directory:t,visible:s,noChildren:i,backstage:c})=>{const d=t.menu.map(x=>v0(x,"tox-mbtn",c,P.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[VI("chevron-right",c.shared.providers.icons)]},FI(t.title)];d.each(x=>{m.push(x)});const p=x=>{rc(x.element,".tox-tree--directory").each(E=>{x.getSystem().getByDom(E).each(R=>{const N=!Wn.isOn(R);Wn.toggle(R),on(x,"expand-tree-node",{expanded:N,node:t.id})})})};return ci.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:m,action:p,eventOrder:{[nl()]:[Xw,"keying"]},buttonBehaviours:yt([...s?[ps.config({})]:[],Fn(Xw,[Ke(nl(),(x,E)=>{const R=E.event.raw.code==="ArrowRight",N=E.event.raw.code==="ArrowLeft";R&&i&&E.stop(),(R||N)&&rc(x.element,".tox-tree--directory").each(z=>{x.getSystem().getByDom(z).each(Y=>{!Wn.isOn(Y)&&R||Wn.isOn(Y)&&N?(p(x),E.stop()):N&&!Wn.isOn(Y)&&(rc(Y.element,".tox-tree--directory").each(J=>{Wv(J,".tox-tree--directory__label").each(se=>{Y.getSystem().getByDom(se).each(dn.focus)})}),E.stop())})})})])])})},zV=({children:t,onLeafAction:s,visible:i,treeId:c,expandedIds:d,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(x=>x.type==="leaf"?B_({leaf:x,selectedId:m,onLeafAction:s,visible:i,treeId:c,backstage:p}):SD({directory:x,expandedIds:d,selectedId:m,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:p})),behaviours:yt([Lc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Nn.config({})])}),VV=zt("directory-event-id"),SD=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:d,expandedIds:m,selectedId:p})=>{const{children:x}=t,E=rn(m),R=z=>x.map(Y=>Y.type==="leaf"?B_({leaf:Y,selectedId:p,onLeafAction:s,visible:z,treeId:c,backstage:d}):SD({directory:Y,expandedIds:E.get(),selectedId:p,onLeafAction:s,labelTabstopping:z,treeId:c,backstage:d})),N=m.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[HV({directory:t,visible:i,noChildren:t.children.length===0,backstage:d}),zV({children:x,expandedIds:m,selectedId:p,onLeafAction:s,visible:N,treeId:c,backstage:d})],behaviours:yt([Fn(VV,[ys((z,Y)=>{Wn.set(z,N)}),Ke("expand-tree-node",(z,Y)=>{const{expanded:J,node:se}=Y.event;E.set(J?[...E.get(),se]:E.get().filter(fe=>fe!==se))})]),Wn.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(z,Y)=>{const J=z.components()[1],se=R(Y);Y?Lc.grow(J):Lc.shrink(J),Nn.set(J,se)}})])}},UI=zt("tree-event-id"),UV=(t,s)=>{const i=t.onLeafAction.getOr(ue),c=t.onToggleExpand.getOr(ue),d=t.defaultExpandedIds,m=rn(d),p=rn(t.defaultSelectedId),x=zt("tree-id"),E=(R,N)=>t.items.map(z=>z.type==="leaf"?B_({leaf:z,selectedId:R,onLeafAction:i,visible:!0,treeId:x,backstage:s}):SD({directory:z,selectedId:R,onLeafAction:i,expandedIds:N,labelTabstopping:!0,treeId:x,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(p.get(),m.get()),behaviours:yt([cn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Fn(UI,[Ke("expand-tree-node",(R,N)=>{const{expanded:z,node:Y}=N.event;m.set(z?[...m.get(),Y]:m.get().filter(J=>J!==Y)),c(m.get(),{expanded:z,node:Y})})]),Za.config({channels:{[`update-active-item-${x}`]:{onReceive:(R,N)=>{p.set(P.some(N.value)),Nn.set(R,E(P.some(N.value),m.get()))}}}}),Nn.config({})])}};var WV=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.stream.streams.setup(t,s);return ns([Ke(t.event,c),ku(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Ke(d,()=>s.cancel())]).getOr([])))}});const ED=t=>{const s=rn(null);return Cc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:m=>{s.set(m)},cancel:()=>{const m=s.get();m!==null&&m.cancel()}})};var ZV=Object.freeze({__proto__:null,throttle:ED,init:t=>t.stream.streams.state(t)});const qV=(t,s)=>{const i=t.stream,c=z1(t.onStream,i.delay);return s.setTimer(c),(d,m)=>{c.throttle(d,m),i.stopEvent&&m.stop()}};var WI=[ni("stream",wr("mode",{throttle:[rt("delay"),Pe("stopEvent",!0),ms("streams",{setup:qV,state:ED})]})),Pe("event","input"),_o("cancelEvent"),Fh("onStream")];const _D=Gr({fields:WI,name:"streaming",active:WV,state:ZV}),N_=(t,s,i)=>{const c=Nt.getValue(i);Nt.setValue(s,c),b0(s)},Pn=(t,s)=>{const i=t.element,c=kd(i),d=i.dom;As(i,"type")!=="number"&&s(d,c)},b0=t=>{Pn(t,(s,i)=>s.setSelectionRange(i.length,i.length))},jI=(t,s)=>{Pn(t,(i,c)=>i.setSelectionRange(s,c.length))},ZI=(t,s,i)=>{if(t.selectsOver){const c=Nt.getValue(s),d=t.getDisplayText(c),m=Nt.getValue(i);return t.getDisplayText(m).indexOf(d)===0?P.some(()=>{N_(t,s,i),jI(s,d.length)}):P.none()}else return P.none()},I_=A("alloy.typeahead.itemexecute"),qI=(t,s,i,c)=>{const d=(z,Y,J)=>{t.previewing.set(!1);const se=qs.getCoupled(z,"sandbox");if(qn.isOpen(se))ro.getCurrent(se).each(fe=>{wo.getHighlighted(fe).fold(()=>{J(fe)},()=>{xd(se,fe.element,"keydown",Y)})});else{const fe=Me=>{ro.getCurrent(Me).each(J)};e_(t,p(z),z,se,c,fe,aa.HighlightMenuAndItem).get(ue)}},m=vw(t),p=z=>Y=>Y.map(J=>{const se=Xp(J.menus),fe=Le(se,we=>po(we.items,ke=>ke.type==="item"));return Nt.getState(z).update(He(fe,we=>we.data)),J}),x=z=>ro.getCurrent(z),E="typeaheadevents",R=[dn.config({}),Nt.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:z=>kd(z.element),getFallbackEntry:z=>({value:z,meta:{}}),setValue:(z,Y)=>{Pu(z.element,t.model.getDisplayText(Y))},...t.initialData.map(z=>wh("initialValue",z)).getOr({})}}),_D.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(z,Y)=>{const J=qs.getCoupled(z,"sandbox");if(dn.isFocused(z)&&kd(z.element).length>=t.minChars){const fe=x(J).bind(we=>wo.getHighlighted(we).map(Nt.getValue));t.previewing.set(!0);const Me=we=>{x(J).each(ke=>{fe.fold(()=>{t.model.selectsOver&&wo.highlightFirst(ke)},Se=>{wo.highlightBy(ke,ot=>Nt.getValue(ot).value===Se.value),wo.getHighlighted(ke).orThunk(()=>(wo.highlightFirst(ke),P.none()))})})};e_(t,p(z),z,J,c,Me,aa.HighlightJustMenu).get(ue)}},cancelEvent:Av()}),cn.config({mode:"special",onDown:(z,Y)=>(d(z,Y,wo.highlightFirst),P.some(!0)),onEscape:z=>{const Y=qs.getCoupled(z,"sandbox");return qn.isOpen(Y)?(qn.close(Y),P.some(!0)):P.none()},onUp:(z,Y)=>(d(z,Y,wo.highlightLast),P.some(!0)),onEnter:z=>{const Y=qs.getCoupled(z,"sandbox"),J=qn.isOpen(Y);if(J&&!t.previewing.get())return x(Y).bind(se=>wo.getHighlighted(se)).map(se=>(on(z,I_(),{item:se}),!0));{const se=Nt.getValue(z);return Un(z,Av()),t.onExecute(Y,z,se),J&&qn.close(Y),P.some(!0)}}}),Wn.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),qs.config({others:{sandbox:z=>D4(t,z,{onOpen:()=>Wn.on(z),onClose:()=>{t.lazyTypeaheadComp.get().each(Y=>xs(Y.element,"aria-activedescendant")),Wn.off(z)}})}}),Fn(E,[ys(z=>{t.lazyTypeaheadComp.set(P.some(z))}),ku(z=>{t.lazyTypeaheadComp.set(P.none())}),Hl(z=>{const Y=ue;O4(t,p(z),z,c,Y,aa.HighlightMenuAndItem).get(ue)}),Ke(I_(),(z,Y)=>{const J=qs.getCoupled(z,"sandbox");N_(t.model,z,Y.event.item),Un(z,Av()),t.onItemExecute(z,J,Y.event.item,Nt.getValue(z)),qn.close(J),b0(z)})].concat(t.dismissOnBlur?[Ke(xh(),z=>{const Y=qs.getCoupled(z,"sandbox");si(Y.element).isNone()&&qn.close(Y)})]:[]))],N={[Fl()]:[Nt.name(),_D.name(),E],...t.eventOrder};return{uid:t.uid,dom:Zd(es(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...Mr(t.typeaheadBehaviours,R)},eventOrder:N}},GI=A([_o("lazySink"),rt("fetch"),Pe("minChars",5),Pe("responseTime",1e3),ho("onOpen"),Pe("getHotspot",P.some),Pe("getAnchorOverrides",A({})),Pe("layouts",P.none()),Pe("eventOrder",{}),Sv("model",{},[Pe("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Pe("selectsOver",!0),Pe("populateFromBrowse",!0)]),ho("onSetValue"),oa("onExecute"),ho("onItemExecute"),Pe("inputClasses",[]),Pe("inputAttributes",{}),Pe("inputStyles",{}),Pe("matchWidth",!0),Pe("useMinWidth",!1),Pe("dismissOnBlur",!0),al(["openClass"]),_o("initialData"),Pr("typeaheadBehaviours",[dn,Nt,_D,cn,Wn,qs]),at("lazyTypeaheadComp",()=>rn(P.none)),at("previewing",()=>rn(!0))].concat(DE()).concat(R4())),GG=A([ml({schema:[Ny()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,c)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{ZI(t.model,d,c).fold(()=>{t.model.selectsOver?(wo.dehighlight(i,c),t.previewing.set(!0)):t.previewing.set(!1)},m=>{m(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&N_(t.model,d,c),Js(c.element,"id").each(m=>Mt(d.element,"aria-activedescendant",m))})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(c=>(on(c,I_(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(c=>{t.model.populateFromBrowse&&N_(t.model,c,i)})}})})]),Jw=ki({name:"Typeahead",configFields:GI(),partFields:GG(),factory:qI}),td=t=>({...t,toCached:()=>td(t.toCached()),bindFuture:E=>td(t.bind(R=>R.fold(N=>wi.pure(Ln.error(N)),N=>E(N)))),bindResult:E=>td(t.map(R=>R.bind(E))),mapResult:E=>td(t.map(R=>R.map(E))),mapError:E=>td(t.map(R=>R.mapError(E))),foldResult:(E,R)=>t.map(N=>N.fold(E,R)),withTimeout:(E,R)=>td(wi.nu(N=>{let z=!1;const Y=setTimeout(()=>{z=!0,N(Ln.error(R()))},E);t.get(J=>{z||(clearTimeout(Y),N(J))})}))}),TD=t=>td(wi.nu(t)),KI=t=>td(wi.pure(Ln.value(t))),XI={nu:TD,wrap:td,pure:KI,value:KI,error:t=>td(wi.pure(Ln.error(t))),fromResult:t=>td(wi.pure(t)),fromFuture:t=>td(t.map(Ln.value)),fromPromise:t=>TD(s=>{t.then(i=>{s(Ln.value(i))},i=>{s(Ln.error(i))})})},$_=(t,s,i=[],c,d,m,p)=>{const x=s.fold(()=>({}),N=>({action:N})),E={buttonBehaviours:yt([qu.button(()=>!t.enabled||p.isDisabled()),Kr(),ps.config({}),...m.map(N=>Di.config(p.tooltips.getConfig({tooltipText:p.translate(N)}))).toArray(),Fn("button press",[yy("click"),yy("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},R=es(E,{dom:c});return es(R,{components:d})},KV=(t,s,i,c=[],d)=>{const m=t.tooltip.map(R=>({"aria-label":i.translate(R)})).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:{...m,"data-mce-name":d}},x=t.icon.map(R=>fD(R,i.icons)),E=Bp([x]);return $_(t,s,c,p,E,t.tooltip,i)},AD=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},JI=(t,s,i,c=[],d=[])=>{const m=i.translate(t.text),p=t.icon.map(J=>fD(J,i.icons)),x=[p.getOrThunk(()=>Ws(m))],E=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),z={tag:"button",classes:[...AD(E),...p.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":m,"data-mce-name":t.text}},Y=t.icon.map(A(m));return $_(t,s,c,z,x,Y,i)},QI=(t,s,i,c=[],d=[])=>{const m=JI(t,P.some(s),i,c,d);return ci.sketch(m)},e$=(t,s)=>i=>{s==="custom"?on(i,Kd,{name:t,value:{}}):s==="submit"?Un(i,Nw):s==="cancel"?Un(i,um):console.error("Unknown button type: ",s)},YV=(t,s)=>s==="menu",XV=(t,s)=>s==="custom"||s==="cancel"||s==="submit",JV=(t,s)=>s==="togglebutton",QV=(t,s,i)=>{var c,d;const m=t.icon.map(Se=>fm(Se,s.icons)).map(Oo),p=Se=>{on(Se,Kd,{name:t.name,value:{setIcon:ot=>{m.map(Qe=>Qe.getOpt(Se).each(lt=>{Nn.set(lt,[fm(ot,s.icons)])}))}}})},x=t.buttonType.getOr(t.primary?"primary":"secondary"),E={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:x==="primary",tooltip:t.tooltip,enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1},R=E.tooltip.or(t.text).map(Se=>({"aria-label":s.translate(Se)})).getOr({}),N=AD(x??"secondary"),z=t.icon.isSome()&&t.text.isSome(),Y={tag:"button",classes:[...N.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:{...R,...xe(i)?{"data-mce-name":i}:{}}},J=[],se=s.translate(t.text.getOr("")),fe=Ws(se),we=[...Bp([m.map(Se=>Se.asSpec())]),...t.text.isSome()?[fe]:[]],ke=$_(E,P.some(p),J,Y,we,t.tooltip,s);return ci.sketch(ke)},Qw=(t,s,i)=>{if(YV(t,s)){const c=()=>p,d=t,m={...t,type:"menubutton",search:P.none(),onSetup:x=>(x.setEnabled(t.enabled),ue),fetch:FV(d.items,c,i)},p=Oo(v0(m,"tox-tbtn",i,P.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return p.asSpec()}else if(XV(t,s)){const c=e$(t.name,s),d={...t,borderless:!1};return QI(d,c,i.shared.providers,[])}else{if(JV(t,s))return QV(t,i.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},e9=(t,s)=>{const i=e$(t.name,"custom");return X8(P.none(),Do.parts.field({factory:ci,...JI(t,P.some(i),s,[Zw(""),wl.self()])}))},t9={type:"separator"},n9=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ue}),kD=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ue}),o9=t=>He(t,n9),s9=(t,s)=>po(s,i=>i.type===t),t$=(t,s)=>o9(s9(t,s)),r9=t=>t$("header",t.targets),i9=t=>t$("anchor",t.targets),a9=t=>P.from(t.anchorTop).map(s=>kD("<top>",s)).toArray(),c9=t=>P.from(t.anchorBottom).map(s=>kD("<bottom>",s)).toArray(),n$=t=>He(t,s=>kD(s,s)),l9=t=>Mo(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(t9,i),[]),OD=(t,s)=>{const i=t.toLowerCase();return po(s,c=>{var d;const m=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text,p=(d=c.value)!==null&&d!==void 0?d:"";return hi(m.toLowerCase(),i)||hi(p.toLowerCase(),i)})},u9=(t,s,i)=>{var c,d;const m=Nt.getValue(s),p=(d=(c=m==null?void 0:m.meta)===null||c===void 0?void 0:c.text)!==null&&d!==void 0?d:m.value;return i.getLinkInformation().fold(()=>[],E=>{const R=OD(p,n$(i.getHistory(t)));return t==="file"?l9([R,OD(p,r9(E)),OD(p,Tn([a9(E),i9(E),c9(E)]))]):R})},o$=zt("aria-invalid"),d9=(t,s,i,c)=>{const d=s.shared.providers,m=ke=>{const Se=Nt.getValue(ke);i.addToHistory(Se.value,t.filetype)},p={...c.map(ke=>({initialData:ke})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":o$,type:"url"},minChars:0,responseTime:0,fetch:ke=>{const Se=u9(t.filetype,ke,i),ot=p0(Se,jd.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return wi.pure(ot)},getHotspot:ke=>se.getOpt(ke),onSetValue:(ke,Se)=>{ke.hasConfigured(tu)&&tu.run(ke).get(ue)},typeaheadBehaviours:yt([...i.getValidationHandler().map(ke=>tu.config({getRoot:Se=>tc(Se.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Se,ot)=>{N.getOpt(Se).each(Qe=>{Mt(Qe.element,"title",d.translate(ot))})}},validator:{validate:Se=>{const ot=Nt.getValue(Se);return XI.nu(Qe=>{ke({type:t.filetype,url:ot.value},lt=>{if(lt.status==="invalid"){const _t=Ln.error(lt.message);Qe(_t)}else{const _t=Ln.value(lt.message);Qe(_t)}})})},validateOnLoad:!1}})).toArray(),En.config({disabled:()=>!t.enabled||d.isDisabled()}),ps.config({}),Fn("urlinput-events",[Ke(Su(),ke=>{const Se=kd(ke.element),ot=Se.trim();ot!==Se&&Pu(ke.element,ot),t.filetype==="file"&&on(ke,Ma,{name:t.name})}),Ke(ol(),ke=>{on(ke,Ma,{name:t.name}),m(ke)}),Ke(mg(),ke=>{on(ke,Ma,{name:t.name}),m(ke)})])]),eventOrder:{[Su()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ke=>ke.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:gw(!1,1,"normal")},onExecute:(ke,Se,ot)=>{on(Se,Nw,{})},onItemExecute:(ke,Se,ot,Qe)=>{m(ke),on(ke,Ma,{name:t.name})}},x=Do.parts.field({...p,factory:Jw}),E=t.label.map(ke=>N1(ke,d)),N=Oo(((ke,Se,ot=ke,Qe=ke)=>Yl(ot,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ke],attributes:{title:d.translate(Qe),"aria-live":"polite",...Se.fold(()=>({}),lt=>({id:lt}))}},d.icons))("invalid",P.some(o$),"warning")),z=Oo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[N.asSpec()]}),Y=i.getUrlPicker(t.filetype),J=zt("browser.url.event"),se=Oo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[x,z.asSpec()],behaviours:yt([En.config({disabled:()=>!t.enabled||d.isDisabled()})])}),fe=Oo(QI({name:t.name,icon:P.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},ke=>Un(ke,J),d,[],["tox-browse-url"])),Me=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Tn([[se.asSpec()],Y.map(()=>fe.asSpec()).toArray()])}),we=ke=>{ro.getCurrent(ke).each(Se=>{const ot=Nt.getValue(Se),Qe={fieldname:t.name,...ot};Y.each(lt=>{lt(Qe).get(_t=>{Nt.setValue(Se,_t),on(ke,Ma,{name:t.name})})})})};return Do.sketch({dom:Q8(),components:E.toArray().concat([Me()]),fieldBehaviours:yt([En.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:ke=>{Do.getField(ke).each(En.disable),fe.getOpt(ke).each(En.disable)},onEnabled:ke=>{Do.getField(ke).each(En.enable),fe.getOpt(ke).each(En.enable)}}),Kr(),Fn("url-input-events",[Ke(J,we)])])})},f9=(t,s)=>{const i=qP(t.icon,s.icons);return Yu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:i},components:t.url?[ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(t.iconTooltip)}},action:c=>on(c,Kd,{name:"alert-banner",value:t.url}),buttonBehaviours:yt([wO()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},s$=(t,s)=>{t.dom.checked=s},h9=t=>t.dom.checked,r$=(t,s,i)=>{const c=E=>(E.element.dom.click(),P.some(!0)),d=Do.parts.field({factory:{sketch:mn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:yt([wl.self(),En.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{tc(E.element).each(R=>Ds(R,"tox-checkbox--disabled"))},onEnabled:E=>{tc(E.element).each(R=>Ps(R,"tox-checkbox--disabled"))}}),ps.config({}),dn.config({}),cD(i,h9,s$),cn.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),Fn("checkbox-events",[Ke(ol(),(E,R)=>{on(E,Ma,{name:t.name})})])])}),m=Do.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ws(s.translate(t.label))],behaviours:yt([Lw.config({})])}),p=E=>Yl(E==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+E]},s.icons),x=Oo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return Do.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,x.asSpec(),m],fieldBehaviours:yt([En.config({disabled:()=>!t.enabled||s.isDisabled()}),Kr()])})},m9=(t,s)=>t.presets==="presentation"?Yu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html},containerBehaviours:yt([Di.config({...s.tooltips.getConfig({tooltipText:"",onShow:i=>{hs(i.element,"[data-mce-tooltip]:hover").orThunk(()=>si(i.element)).each(c=>{Js(c,"data-mce-tooltip").each(d=>{Di.setComponents(i,s.tooltips.getComponents({tooltipText:d}))})})}}),mode:"children-normal",anchor:i=>({type:"node",node:hs(i.element,"[data-mce-tooltip]:hover").orThunk(()=>si(i.element).filter(c=>Js(c,"data-mce-tooltip").isSome())),root:i.element,layouts:{onLtr:A([Zs,qr,hr,os,rr,Cr]),onRtl:A([Zs,qr,hr,os,rr,Cr])},bubble:ul(0,-2,{})})})])}):Yu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:yt([ps.config({}),dn.config({})])}),Br=t=>(s,i,c,d)=>Dt(i,"name").fold(()=>t(i,d,P.none()),m=>s.field(m,t(i,d,Dt(c,m)))),i$=t=>(s,i,c,d)=>{const m=es(i,{source:"dynamic"});return Br(t)(s,m,c,d)},DD={bar:Br((t,s)=>j8(t,s.shared)),collection:Br((t,s,i)=>ez(t,s.shared.providers,i)),alertbanner:Br((t,s)=>f9(t,s.shared.providers)),input:Br((t,s,i)=>AV(t,s.shared.providers,i)),textarea:Br((t,s,i)=>RI(t,s.shared.providers,i)),label:Br((t,s)=>uV(t,s.shared)),iframe:i$((t,s,i)=>bI(t,s.shared.providers,i)),button:Br((t,s)=>e9(t,s.shared.providers)),checkbox:Br((t,s,i)=>r$(t,s.shared.providers,i)),colorinput:Br((t,s,i)=>oz(t,s.shared,s.colorinput,i)),colorpicker:Br((t,s,i)=>Qz(t,s.shared.providers,i)),dropzone:Br((t,s,i)=>nV(t,s.shared.providers,i)),grid:Br((t,s)=>aI(t,s.shared)),listbox:Br((t,s,i)=>vV(t,s,i)),selectbox:Br((t,s,i)=>wV(t,s.shared.providers,i)),sizeinput:Br((t,s)=>OI(t,s.shared.providers)),slider:Br((t,s,i)=>TV(t,s.shared.providers,i)),urlinput:Br((t,s,i)=>d9(t,s,s.urlinput,i)),customeditor:Br(tV),htmlpanel:Br((t,s)=>m9(t,s.shared.providers)),imagepreview:Br((t,s,i)=>k_(t,i)),table:Br((t,s)=>DI(t,s.shared.providers)),tree:Br((t,s)=>UV(t,s)),panel:Br((t,s)=>bV(t,s))},p9={field:(t,s)=>s,record:A([])},RD=(t,s,i,c)=>{const d=es(c,{shared:{interpreter:m=>L_(t,m,i,d)}});return L_(t,s,i,d)},L_=(t,s,i,c)=>Dt(DD,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,i,c)),a$=(t,s,i)=>L_(p9,t,s,i),hm="layout-inset",PD=t=>t.x,c$=(t,s)=>t.x+t.width/2-s.width/2,ou=(t,s)=>t.x+t.width-s.width,y0=t=>t.y,w0=(t,s)=>t.y+t.height-s.height,l$=(t,s)=>t.y+t.height/2-s.height/2,C0=(t,s,i)=>Zr(ou(t,s),w0(t,s),i.insetSouthwest(),Hh(),"southwest",js(t,{right:0,bottom:3}),hm),F_=(t,s,i)=>Zr(PD(t),w0(t,s),i.insetSoutheast(),Og(),"southeast",js(t,{left:1,bottom:3}),hm),j1=(t,s,i)=>Zr(ou(t,s),y0(t),i.insetNorthwest(),ip(),"northwest",js(t,{right:0,top:2}),hm),x0=(t,s,i)=>Zr(PD(t),y0(t),i.insetNortheast(),Ec(),"northeast",js(t,{left:1,top:2}),hm),Cl=(t,s,i)=>Zr(c$(t,s),y0(t),i.insetNorth(),Zv(),"north",js(t,{top:2}),hm),eC=(t,s,i)=>Zr(c$(t,s),w0(t,s),i.insetSouth(),qv(),"south",js(t,{bottom:3}),hm),u$=(t,s,i)=>Zr(ou(t,s),l$(t,s),i.insetEast(),Dg(),"east",js(t,{right:0}),hm),MD=(t,s,i)=>Zr(PD(t),l$(t,s),i.insetWest(),Fy(),"west",js(t,{left:1}),hm),g9=t=>{switch(t){case"north":return Cl;case"northeast":return x0;case"northwest":return j1;case"south":return eC;case"southeast":return F_;case"southwest":return C0;case"east":return u$;case"west":return MD}},d$=(t,s,i,c,d)=>zx(c).map(g9).getOr(Cl)(t,s,i,c,d),BD=t=>{switch(t){case"north":return eC;case"northeast":return F_;case"northwest":return C0;case"south":return Cl;case"southeast":return x0;case"southwest":return j1;case"east":return MD;case"west":return u$}},v9=(t,s,i,c,d)=>zx(c).map(BD).getOr(Cl)(t,s,i,c,d),tC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},f$=(t,s,i)=>{const d={maxHeightFunction:Wh()},m=()=>({type:"node",root:nc(gs(t())),node:P.from(t()),bubble:ul(12,12,tC),layouts:{onRtl:()=>[x0],onLtr:()=>[j1]},overrides:d}),p=()=>({type:"hotspot",hotspot:s(),bubble:ul(-12,12,tC),layouts:{onRtl:()=>[hr,rr,Zs],onLtr:()=>[rr,hr,Zs]},overrides:d});return()=>i()?m():p()},h$=(t,s,i,c)=>{const m={maxHeightFunction:Wh()},p=()=>({type:"node",root:nc(gs(s())),node:P.from(s()),bubble:ul(12,12,tC),layouts:{onRtl:()=>[Cl],onLtr:()=>[Cl]},overrides:m}),x=()=>t?{type:"node",root:nc(gs(s())),node:P.from(s()),bubble:ul(0,-It(s()),tC),layouts:{onRtl:()=>[qr],onLtr:()=>[qr]},overrides:m}:{type:"hotspot",hotspot:i(),bubble:ul(0,0,tC),layouts:{onRtl:()=>[qr],onLtr:()=>[qr]},overrides:m};return()=>c()?p():x()},b9=(t,s,i)=>{const c=()=>({type:"node",root:nc(gs(t())),node:P.from(t()),layouts:{onRtl:()=>[Cl],onLtr:()=>[Cl]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Zs],onLtr:()=>[Zs]}});return()=>i()?c():d()},y9=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng(),c=t.model.table.getSelectedCells();if(c.length>1){const d=c[0],m=c[c.length-1],p={firstCell:Ae.fromDom(d),lastCell:Ae.fromDom(m)};return P.some(p)}return P.some(zg.range(Ae.fromDom(i.startContainer),i.startOffset,Ae.fromDom(i.endContainer),i.endOffset))}}),w9=t=>s=>({type:"node",root:t(),node:s}),C9=(t,s,i,c)=>{const d=Xb(t),m=()=>Ae.fromDom(t.getBody()),p=()=>Ae.fromDom(t.getContentAreaContainer()),x=()=>d||!c();return{inlineDialog:f$(p,s,x),inlineBottomDialog:h$(t.inline,p,i,x),banner:b9(p,s,x),cursor:y9(t,m),node:w9(m)}},m$=t=>(s,i)=>{XE(t)(s,i)},Jd=t=>()=>BB(t),ND=t=>s=>YE(t,s),x9=t=>s=>MB(t,s),S9=t=>({colorPicker:m$(t),hasCustomColors:Jd(t),getColors:ND(t),getColorCols:x9(t)}),E9=t=>()=>Yb(t),_9=t=>({isDraggableModal:E9(t)}),T9=t=>{const s=rn(IO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},ID=t=>va(t,"items"),$D=t=>va(t,"format"),A9=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],XG=t=>go(t,"items"),Ki=t=>go(t,"block"),LD=t=>go(t,"inline"),k9=t=>go(t,"selector"),nC=t=>Mo(t,(s,i)=>{if(XG(i)){const c=nC(i.items);return{customFormats:s.customFormats.concat(c.customFormats),formats:s.formats.concat([{title:i.title,items:c.formats}])}}else if(LD(i)||Ki(i)||k9(i)){const d=`custom-${q(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:i}]),formats:s.formats.concat([{title:i.title,format:d,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),O9=(t,s)=>{const i=nC(s),c=d=>{ht(d,m=>{t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?c(i.customFormats):t.on("init",()=>{c(i.customFormats)}),i.formats},p$=t=>JP(t).map(s=>{const i=O9(t,s);return QP(t)?A9.concat(i):i}).getOr(A9),D9=t=>{const s=Ts(t);return s.length===1&&ct(s,"title")},g$=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),v$=(t,s,i,c)=>{const d=E=>g$(E,i,c),m=E=>{const R=x(E.items);return{...E,type:"submenu",getStyleItems:A(R)}},p=E=>{const R=q(E.name)?E.name:zt(E.title),N=`custom-${R}`,z={...E,type:"formatter",format:N,isSelected:i(N),getStylePreview:c(N)};return t.formatter.register(R,z),z},x=E=>He(E,R=>ID(R)?m(R):$D(R)?d(R):D9(R)?{...R,type:"separator"}:p(R));return x(s)},R9=t=>{const s=x=>()=>t.formatter.match(x),i=x=>()=>{const E=t.formatter.get(x);return E!==void 0?P.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(x))}):P.none()},c=rn([]),d=rn([]),m=rn(!1);return t.on("PreInit",x=>{const E=p$(t),R=v$(t,E,s,i);c.set(R)}),t.on("addStyleModifications",x=>{const E=v$(t,x.items,s,i);d.set(E),m.set(x.replace)}),{getData:()=>{const x=m.get()?[]:c.get(),E=d.get();return x.concat(E)}}},P9=t=>{let c=0;const d=()=>c>0,m=x=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ws(x.tooltipText)]}];return{getConfig:x=>({delayForShow:()=>d()?60:300,delayForHide:A(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:m(x),onShow:(E,R)=>{c++,x.onShow&&x.onShow(E,R)},onHide:()=>{c--}}),getComponents:m}},M9=t=>xe(t)&&t.nodeType===1,b$=Wf.trim,oC=t=>s=>!!(M9(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),B9=oC("true"),y$=oC("false"),w$=(t,s,i,c,d)=>({type:t,title:s,url:i,level:c,attach:d}),C$=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return B9(s)}return!1},N9=(t,s)=>He(sa(Ae.fromDom(s),t),i=>i.dom),x$=t=>t.innerText||t.textContent,S$=t=>t.id?t.id:zt("h"),JG=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,QG=t=>JG(t)&&_$(t),E$=t=>t&&/^(H[1-6])$/.test(t.nodeName),_$=t=>C$(t)&&!y$(t),I9=t=>E$(t)&&_$(t),T$=t=>E$(t)?parseInt(t.nodeName.substr(1),10):0,FD=t=>{var s;const i=S$(t),c=()=>{t.id=i};return w$("header",(s=x$(t))!==null&&s!==void 0?s:"","#"+i,T$(t),c)},$9=t=>{const s=t.id||t.name,i=x$(t);return w$("anchor",i||"#"+s,"#"+s,0,ue)},L9=t=>He(po(t,I9),FD),A$=t=>He(po(t,QG),$9),F9=t=>N9("h1,h2,h3,h4,h5,h6,a:not([href])",t),H9=t=>b$(t.title).length>0,z9={find:t=>{const s=F9(t);return po(L9(s).concat(A$(s)),H9)}},S0="tinymce-url-history",HD=5,k$=t=>q(t)&&/^https?/.test(t),V9=t=>I(t)&&t.length<=HD&&di(t,k$),O$=t=>W(t)&&fi(t,s=>!V9(s)).isNone(),D$=()=>{const t=R1.getItem(S0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+S0+" was not valid JSON",i),{};throw i}return O$(s)?s:(console.log("Local storage "+S0+" was not valid format",s),{})},R$=t=>{if(!O$(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));R1.setItem(S0,JSON.stringify(t))},U9=t=>{const s=D$();return Dt(s,t).getOr([])},H_=(t,s)=>{if(!k$(t))return;const i=D$(),c=Dt(i,s).getOr([]),d=po(c,m=>m!==t);i[s]=[t].concat(d).slice(0,HD),R$(i)},P$=t=>!!t,z_=t=>is(Wf.makeMap(t,/[, ]/),P$),zD=t=>P.from(sM(t)),VD=t=>{const s=P.from(yE(t)).filter(P$).map(z_);return zD(t).fold(Vt,i=>s.fold(wt,c=>Ts(c).length>0?c:!1))},sC=(t,s)=>{const i=VD(t);return ce(i)?i?zD(t):P.none():i[s]?zD(t):P.none()},M$=(t,s)=>sC(t,s).map(i=>c=>wi.nu(d=>{const m=(x,E)=>{if(!q(x))throw new Error("Expected value to be string");if(E!==void 0&&!W(E))throw new Error("Expected meta to be a object");d({value:x,meta:E})},p={filetype:s,fieldname:c.fieldname,...P.from(c.meta).getOr({})};i.call(t,m,c.value,p)})),B$=t=>P.from(t).filter(q).getOrUndefined(),N$=t=>rM(t)?P.some({targets:z9.find(t.getBody()),anchorTop:B$(MO(t)),anchorBottom:B$(iM(t))}):P.none(),I$=t=>P.from(RO(t)),$$=t=>({getHistory:U9,addToHistory:H_,getLinkInformation:()=>N$(t),getValidationHandler:()=>I$(t),getUrlPicker:s=>M$(t,s)}),W9=(t,s,i,c)=>{const d=rn(!1),m=T9(s),p={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:bl.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:P9(t.dialog)},x=$$(s),E=R9(s),R=S9(s),N=_9(s),z=()=>d.get(),Y=Me=>d.set(Me),J={shared:{providers:p,anchors:C9(s,i,c,m.isPositionedAtTop),header:m},urlinput:x,styles:E,colorinput:R,dialog:N,isContextMenuOpen:z,setContextMenuState:Y},se={...J,shared:{...J.shared,interpreter:Me=>a$(Me,{},se),getSink:t.popup}},fe={...J,shared:{...J.shared,interpreter:Me=>a$(Me,{},fe),getSink:t.dialog}};return{popup:se,dialog:fe}},UD=(t,s,i)=>{const c=(Xe,Dn)=>{ht([s,...i],Ht=>{Ht.broadcastEvent(Xe,Dn)})},d=(Xe,Dn)=>{ht([s,...i],Ht=>{Ht.broadcastOn([Xe],Dn)})},m=Xe=>d(Rf(),{target:Xe.target}),p=mv(),x=bi(p,"touchstart",m),E=bi(p,"touchmove",Xe=>c(iA(),Xe)),R=bi(p,"touchend",Xe=>c(rx(),Xe)),N=bi(p,"mousedown",m),z=bi(p,"mouseup",Xe=>{Xe.raw.button===0&&d(w2(),{target:Xe.target})}),Y=Xe=>d(Rf(),{target:Ae.fromDom(Xe.target)}),J=Xe=>{Xe.button===0&&d(w2(),{target:Ae.fromDom(Xe.target)})},se=()=>{ht(t.editorManager.get(),Xe=>{t!==Xe&&Xe.dispatch("DismissPopups",{relatedTarget:t})})},fe=Xe=>c(Ov(),Wx(Xe)),Me=Xe=>{d(bp(),{}),c(Eh(),Wx(Xe))},we=gs(Ae.fromDom(t.getElement())),ke=xr(we,"scroll",Xe=>{requestAnimationFrame(()=>{const Dn=t.getContainer();if(Dn!=null){const hn=M1(t,s.element).map(tn=>[tn.element,...tn.others]).getOr([]);Rn(hn,tn=>yo(tn,Xe.target))&&(t.dispatch("ElementScroll",{target:Xe.target.dom}),c(my(),Xe))}})}),Se=()=>d(bp(),{}),ot=Xe=>{Xe.state&&d(Rf(),{target:Ae.fromDom(t.getContainer())})},Qe=Xe=>{d(Rf(),{target:Ae.fromDom(Xe.relatedTarget.getContainer())})},lt=Xe=>t.dispatch("focusin",Xe),_t=Xe=>t.dispatch("focusout",Xe);t.on("PostRender",()=>{t.on("click",Y),t.on("tap",Y),t.on("mouseup",J),t.on("mousedown",se),t.on("ScrollWindow",fe),t.on("ResizeWindow",Me),t.on("ResizeEditor",Se),t.on("AfterProgressState",ot),t.on("DismissPopups",Qe),ht([s,...i],Xe=>{Xe.element.dom.addEventListener("focusin",lt),Xe.element.dom.addEventListener("focusout",_t)})}),t.on("remove",()=>{t.off("click",Y),t.off("tap",Y),t.off("mouseup",J),t.off("mousedown",se),t.off("ScrollWindow",fe),t.off("ResizeWindow",Me),t.off("ResizeEditor",Se),t.off("AfterProgressState",ot),t.off("DismissPopups",Qe),ht([s,...i],Xe=>{Xe.element.dom.removeEventListener("focusin",lt),Xe.element.dom.removeEventListener("focusout",_t)}),N.unbind(),x.unbind(),E.unbind(),R.unbind(),z.unbind(),ke.unbind()}),t.on("detach",()=>{ht([s,...i],kS),ht([s,...i],Xe=>Xe.destroy())})},Er=Ck,qf=D2,j9=A([Pe("shell",!1),rt("makeItem"),Pe("setupItem",ue),cc.field("listBehaviours",[Nn])]),L$=qa({name:"items",overrides:()=>({behaviours:yt([Nn.config({})])})}),Z9=A([L$]),F$=A("CustomList"),WD=(t,s,i,c)=>{const d=(x,E)=>{p(x).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},R=>{const N=Nn.contents(R),z=E.length,Y=z-N.length,J=Y>0?_n(Y,()=>t.makeItem()):[],se=N.slice(z);ht(se,Me=>Nn.remove(R,Me)),ht(J,Me=>Nn.append(R,Me));const fe=Nn.contents(R);ht(fe,(Me,we)=>{t.setupItem(x,Me,E[we],we)})})},m=t.shell?{behaviours:[Nn.config({})],components:[]}:{behaviours:[],components:s},p=x=>t.shell?P.some(x):$o(x,t,"items");return{uid:t.uid,dom:t.dom,components:m.components,behaviours:Mr(t.listBehaviours,m.behaviours),apis:{setItems:d}}},V_=ki({name:F$(),configFields:j9(),partFields:Z9(),factory:WD,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),E0=A([rt("dom"),Pe("shell",!0),Pr("toolbarBehaviours",[Nn])]),q9=A([qa({name:"groups",overrides:()=>({behaviours:yt([Nn.config({})])})})]),jD=(t,s,i,c)=>{const d=(x,E)=>{m(x).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},R=>{Nn.set(R,E)})},m=x=>t.shell?P.some(x):$o(x,t,"groups"),p=t.shell?{behaviours:[Nn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Mr(t.toolbarBehaviours,p.behaviours),apis:{setGroups:d,refresh:ue},domModification:{attributes:{role:"group"}}}},Qd=ki({name:"Toolbar",configFields:E0(),partFields:q9(),factory:jD,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),G9=ue,K9=Vt,H$=A([]);var Y9=Object.freeze({__proto__:null,setup:G9,isDocked:K9,getBehaviours:H$});const ZD=t=>(Qi(X(t,"position"),"fixed")?P.none():Sm(t)).orThunk(()=>{const c=Ae.fromTag("span");return ec(t).bind(d=>{er(d,c);const m=Sm(c);return Xc(c),m})}),z$=t=>ZD(t).map(Qs).getOrThunk(()=>kn(0,0)),V$=(t,s)=>{const i=t.element;Ds(i,s.transitionClass),Ps(i,s.fadeOutClass),Ds(i,s.fadeInClass),s.onShow(t)},X9=(t,s)=>{const i=t.element;Ds(i,s.transitionClass),Ps(i,s.fadeInClass),Ds(i,s.fadeOutClass),s.onHide(t)},iC=(t,s)=>t.y<s.bottom&&t.bottom>s.y,U$=(t,s)=>t.y>=s.y,W$=(t,s)=>t.bottom<=s.bottom,aC=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),U_=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),qD=t=>t.box.x-t.win.x,J9=(t,s,i)=>{const c=s.win,d=s.box,m=qD(s);return gr(t,p=>{switch(p){case"bottom":return W$(d,i.bounds)?P.none():P.some(U_(c,m,i));case"top":return U$(d,i.bounds)?P.none():P.some(aC(c,m,i));default:return P.none()}}).getOr({location:"no-dock"})},Q9=(t,s,i)=>di(t,c=>{switch(c){case"bottom":return W$(s,i.bounds);case"top":return U$(s,i.bounds)}}),eU=(t,s)=>{const i=s.optScrollEnv.fold(A(t.bounds.y),c=>c.scrollElmTop+(t.bounds.y-c.currentScrollTop));return kn(t.bounds.x,i)},tU=(t,s)=>{const i=s.optScrollEnv.fold(A(t.y),c=>t.y+c.currentScrollTop-c.scrollElmTop);return kn(t.x,i)},GD=(t,s,i)=>i.getInitialPos().map(c=>{const d=eU(c,s);return{box:yr(d.left,d.top,uo(t),We(t)),location:c.location}}),j$=(t,s,i,c,d)=>{const m=tU(s,i),p=yr(m.left,m.top,s.width,s.height);c.setInitialPos({style:ie(t),position:L(t,"position")||"static",bounds:p,location:d.location})},nU=(t,s,i,c,d)=>{c.getInitialPos().fold(()=>j$(t,s,i,c,d),()=>ue)},Z$=(t,s,i)=>i.getInitialPos().bind(c=>{var d;switch(i.clearInitialPos(),c.position){case"static":return P.some({morph:"static"});case"absolute":const m=ZD(t).getOr(Jr()),p=Is(m),x=(d=m.dom.scrollTop)!==null&&d!==void 0?d:0;return P.some({morph:"absolute",positionCss:ll("absolute",Dt(c.style,"left").map(E=>s.x-p.x),Dt(c.style,"top").map(E=>s.y-p.y+x),Dt(c.style,"right").map(E=>p.right-s.right),Dt(c.style,"bottom").map(E=>p.bottom-s.bottom))});default:return P.none()}}),nK=(t,s,i)=>GD(t,s,i).filter(({box:c})=>Q9(i.getModes(),c,s)).bind(({box:c})=>Z$(t,c,i)),KD=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:ll("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:ll("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},q$=(t,s,i)=>{const c=Is(t),d=Fi(),m=J9(i.getModes(),{win:d,box:c},s);return m.location==="top"||m.location==="bottom"?(j$(t,c,s,i,m),KD(m)):P.none()},G$=(t,s,i)=>nK(t,s,i).orThunk(()=>s.optScrollEnv.bind(c=>GD(t,s,i)).bind(({box:c,location:d})=>{const m=Fi(),p=qD({win:m,box:c}),x=d==="top"?aC(m,p,s):U_(m,p,s);return KD(x)})),W_=(t,s,i)=>{const c=t.element;return Qi(X(c,"position"),"fixed")?G$(c,s,i):q$(c,s,i)},K$=(t,s,i)=>{const c=t.element;return GD(c,s,i).bind(({box:d})=>Z$(c,d,i))},oU=(t,s,i,c)=>{const d=Is(t),m=Fi(),p=qD({win:m,box:d}),x=c(m,p,s);return x.location==="bottom"||x.location==="top"?(nU(t,d,s,i,x),KD(x)):P.none()},Y$=(t,s,i)=>{i.setDocked(!1),ht(["left","right","top","bottom","position"],c=>me(t.element,c)),s.onUndocked(t)},YD=(t,s,i,c)=>{const d=c.position==="fixed";i.setDocked(d),Ky(t.element,c),(d?s.onDocked:s.onUndocked)(t)},X$=(t,s,i,c,d=!1)=>{s.contextual.each(m=>{m.lazyContext(t).each(p=>{const x=iC(p,c.bounds);x!==i.isVisible()&&(i.setVisible(x),d&&!x?(Ad(t.element,[m.fadeOutClass]),m.onHide(t)):(x?V$:X9)(t,m))})})},J$=(t,s,i,c,d)=>{X$(t,s,i,c,!0),YD(t,s,i,d.positionCss)},sU=(t,s,i,c,d)=>{switch(d.morph){case"static":return Y$(t,s,i);case"absolute":return YD(t,s,i,d.positionCss);case"fixed":return J$(t,s,i,c,d)}},rU=(t,s,i)=>{const c=s.lazyViewport(t);X$(t,s,i,c),W_(t,c,i).each(d=>{sU(t,s,i,c,d)})},Q$=(t,s,i)=>{const c=t.element;i.setDocked(!1);const d=s.lazyViewport(t);K$(t,d,i).each(m=>{switch(m.morph){case"static":{Y$(t,s,i);break}case"absolute":{YD(t,s,i,m.positionCss);break}}}),i.setVisible(!0),s.contextual.each(m=>{Wa(c,[m.fadeInClass,m.fadeOutClass,m.transitionClass]),m.onShow(t)}),cC(t,s,i)},cC=(t,s,i)=>{t.getSystem().isConnected()&&rU(t,s,i)},e5=(t,s,i)=>{i.isDocked()&&Q$(t,s,i)},XD=t=>(s,i,c)=>{const d=i.lazyViewport(s);oU(s.element,d,c,t).each(p=>{J$(s,i,c,d,p)})},iU=XD(aC),aU=XD(U_);var lC=Object.freeze({__proto__:null,refresh:cC,reset:e5,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,c)=>i.setModes(c),forceDockToTop:iU,forceDockToBottom:aU}),t5=Object.freeze({__proto__:null,events:(t,s)=>ns([Zm(Ll(),(i,c)=>{t.contextual.each(d=>{Ua(i.element,d.transitionClass)&&(Wa(i.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(i)),c.stop()})}),Ke(Ov(),(i,c)=>{cC(i,t,s)}),Ke(my(),(i,c)=>{cC(i,t,s)}),Ke(Eh(),(i,c)=>{e5(i,t,s)})])}),n5=[Ta("contextual",[nr("fadeInClass"),nr("fadeOutClass"),nr("transitionClass"),kr("lazyContext"),ho("onShow"),ho("onShown"),ho("onHide"),ho("onHidden")]),Os("lazyViewport",()=>({bounds:Fi(),optScrollEnv:P.none()})),Cd("modes",["top","bottom"],ti),ho("onDocked"),ho("onUndocked")],sK=Object.freeze({__proto__:null,init:t=>{const s=rn(!1),i=rn(!0),c=ss(),d=rn(t.modes),m=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${d.get().join(",")}`;return Cc({isDocked:s.get,setDocked:s.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:m})}});const ar=Gr({fields:n5,name:"docking",active:t5,apis:lC,state:sK}),QD=A(zt("toolbar-height-change")),Gf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},o5="tox-tinymce--toolbar-sticky-on",s5="tox-tinymce--toolbar-sticky-off",T0=(t,s)=>{const i=ya(s),d=Ol(s).dom.innerHeight,m=ta(i),p=Ae.fromDom(t.elm),x=Li(p),E=We(p),R=x.y,N=R+E,z=Qs(s),Y=We(s),J=z.top,se=J+Y,fe=Math.abs(J-m.top)<2,Me=Math.abs(se-(m.top+d))<2;if(fe&&R<se)hv(m.left,R-Y,i);else if(Me&&N>J){const we=R-d+E+Y;hv(m.left,we,i)}},Hp=(t,s)=>ct(ar.getModes(t),s),uC=t=>{const s=c=>It(c)+(parseInt(L(c,"margin-top"),10)||0)+(parseInt(L(c,"margin-bottom"),10)||0),i=t.element;tc(i).each(c=>{const d="padding-"+ar.getModes(t)[0];if(ar.isDocked(t)){const m=uo(c);b(i,"width",m+"px"),b(c,d,s(i)+"px")}else me(i,"width"),me(c,d)})},r5=(t,s)=>{s?(Ps(t,Gf.fadeOutClass),Ad(t,[Gf.transitionClass,Gf.fadeInClass])):(Ps(t,Gf.fadeInClass),Ad(t,[Gf.fadeOutClass,Gf.transitionClass]))},i5=(t,s)=>{const i=Ae.fromDom(t.getContainer());s?(Ds(i,o5),Ps(i,s5)):(Ds(i,s5),Ps(i,o5))},e3=(t,s)=>{const i=ya(s);cl(i).filter(c=>!yo(s,c)).filter(c=>yo(c,Ae.fromDom(i.dom.body))||Ia(t,c)).each(()=>Tc(s))},uU=(t,s)=>si(t).orThunk(()=>s().toOptional().bind(i=>si(i.element))),dC=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(ar.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(uC)}),t.on("SkinLoaded",()=>{i().each(c=>{ar.isDocked(c)?ar.reset(c):ar.refresh(c)})}),t.on("FullscreenStateChanged",()=>{i().each(ar.reset)})),t.on("AfterScrollIntoView",c=>{i().each(d=>{ar.refresh(d);const m=d.element;ws(m)&&T0(c,m)})}),t.on("PostRender",()=>{i5(t,!1)})},a5=t=>t().map(ar.isDocked).getOr(!1),dU=()=>[Za.config({channels:{[QD()]:{onReceive:uC}}})],c5=(t,s)=>{const i=ss(),c=s.getSink,d=x=>{c().each(E=>x(E.element))},m=x=>{t.inline||uC(x),i5(t,ar.isDocked(x)),x.getSystem().broadcastOn([bp()],{}),c().each(E=>E.getSystem().broadcastOn([bp()],{}))},p=t.inline?[]:dU();return[dn.config({}),ar.config({contextual:{lazyContext:x=>{const E=It(x.element),R=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(R).map(N=>{const z=Is(Ae.fromDom(N));return M1(t,x.element).fold(()=>{const J=z.height-E,se=z.y+(Hp(x,"top")?0:E);return yr(z.x,se,z.width,J)},J=>{const se=Y0(z,B1(J)),fe=Hp(x,"top")?se.y:se.y+E;return yr(se.x,fe,se.width,se.height-E)})})},onShow:()=>{d(x=>r5(x,!0))},onShown:x=>{d(E=>Wa(E,[Gf.transitionClass,Gf.fadeInClass])),i.get().each(E=>{e3(x.element,E),i.clear()})},onHide:x=>{uU(x.element,c).fold(i.clear,i.set),d(E=>r5(E,!1))},onHidden:()=>{d(x=>Wa(x,[Gf.transitionClass]))},...Gf},lazyViewport:x=>M1(t,x.element).fold(()=>{const R=Fi(),N=nM(t),z=R.y+(Hp(x,"top")?N:0),Y=R.height-(Hp(x,"bottom")?N:0);return{bounds:yr(R.x,z,R.width,Y),optScrollEnv:P.none()}},R=>({bounds:B1(R),optScrollEnv:P.some({currentScrollTop:R.element.dom.scrollTop,scrollElmTop:Qs(R.element).top})})),modes:[s.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var fU=Object.freeze({__proto__:null,setup:dC,isDocked:a5,getBehaviours:c5});const hU=t=>{const s=t.editor,i=t.sticky?c5:H$;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:yt(i(s,t.sharedBackstage))}},mU=pn([ir,ni("items",yd([KC([qO,Or("items",ti)]),ti]))].concat(n0)),pU=t=>fs("GroupToolbarButton",mU,t),l5=[Ei("text"),Ei("tooltip"),Ei("icon"),wc("search",!1,yd([Nm,pn([Ei("placeholder")])],t=>ce(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),kr("fetch"),Os("onSetup",()=>ue)],t3=pn([ir,...l5]),j_=t=>fs("menubutton",t3,t),gU=pn([ir,e0,Ic,Lf,G7,IM,T1,Ls("presets","normal",["normal","color","listpreview"]),Mp(1),_1,q7]),Z_=t=>fs("SplitButton",gU,t);var q_=Sr({factory:(t,s)=>{const i=(d,m)=>{const p=He(m,x=>{const E={type:"menubutton",text:x.text,fetch:N=>{N(x.getItems())}},R=j_(E).mapError(N=>$m(N)).getOrDie();return v0(R,"tox-mbtn",s.backstage,P.some("menuitem"))});Nn.set(d,p)},c={focus:cn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:yt([Nn.config({}),Fn("menubar-events",[ys(d=>{t.onSetup(d)}),Ke(xu(),(d,m)=>{hs(d.element,".tox-mbtn--active").each(p=>{zl(m.event.target,".tox-mbtn").each(x=>{yo(p,x)||d.getSystem().getByDom(p).each(E=>{d.getSystem().getByDom(x).each(R=>{eu.expand(R),eu.close(E),dn.focus(R)})})})})}),Ke(sl(),(d,m)=>{m.event.prevFocus.bind(p=>d.getSystem().getByDom(p).toOptional()).each(p=>{m.event.newFocus.bind(x=>d.getSystem().getByDom(x).toOptional()).each(x=>{eu.isOpen(p)&&(eu.expand(x),eu.close(p))})})})]),cn.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),P.some(!0))}),ps.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[rt("dom"),rt("uid"),rt("onEscape"),rt("backstage"),Pe("onSetup",ue)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const vU="⚡️Upgrade",bU="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",yU=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:bU,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:vU}}]}),u5="container",o3=[Pr("slotBehaviours",[])],G_=t=>"<alloy.field."+t+">",wU=t=>{const s=(()=>{const m=[];return{slot:(x,E)=>(m.push(x),LS(u5,G_(x),E)),record:A(m)}})(),i=t(s),c=s.record(),d=He(c,m=>Bo({name:m,pname:G_(m)}));return Ab(u5,o3,d,s3,i)},s3=(t,s)=>{const i=fe=>d1(t),c=(fe,Me)=>$o(fe,t,Me),d=(fe,Me)=>(we,ke)=>$o(we,t,ke).map(Se=>fe(Se,ke)).getOr(Me),m=fe=>(Me,we)=>{ht(we,ke=>fe(Me,ke))},p=(fe,Me)=>As(fe.element,"aria-hidden")!=="true",x=(fe,Me)=>{if(!p(fe)){const we=fe.element;me(we,"display"),xs(we,"aria-hidden"),on(fe,Wm(),{name:Me,visible:!0})}},E=(fe,Me)=>{if(p(fe)){const we=fe.element;b(we,"display","none"),Mt(we,"aria-hidden","true"),on(fe,Wm(),{name:Me,visible:!1})}},R=d(p,!1),N=d(E),z=m(N),Y=fe=>z(fe,i()),J=d(x),se={getSlotNames:i,getSlot:c,isShowing:R,hideSlot:N,hideAllSlots:Y,showSlot:J};return{uid:t.uid,dom:t.dom,components:s,behaviours:Fd(t.slotBehaviours),apis:se}},ua={...is({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>il(t)),sketch:wU},CU=pn([Ic,e0,Os("onShow",ue),Os("onHide",ue),T1]),xU=t=>fs("sidebar",CU,t),SU=t=>{const{sidebars:s}=t.ui.registry.getAll();ht(Ts(s),i=>{const c=s[i],d=()=>Qi(P.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:c.icon,tooltip:c.tooltip,onAction:m=>{t.execCommand("ToggleSidebar",!1,i),m.setActive(d())},onSetup:m=>{m.setActive(d());const p=()=>m.setActive(d());return t.on("ToggleSidebar",p),()=>{t.off("ToggleSidebar",p)}}})})},iK=t=>({element:()=>t.element.dom}),aK=(t,s)=>{const i=He(Ts(s),c=>{const d=s[c],m=Il(xU(d));return{name:c,getApi:iK,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return He(i,c=>{const d=rn(ue);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:xw.unnamedEvents([yi(c,d),Pa(c,d),Ke(Wm(),(m,p)=>{const x=p.event;An(i,R=>R.name===x.name).each(R=>{(x.visible?R.onShow:R.onHide)(R.getApi(m))})})])})})},d5=t=>ua.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:aK(s,t),slotBehaviours:xw.unnamedEvents([ys(i=>ua.hideAllSlots(i))])})),EU=(t,s,i)=>{ro.getCurrent(t).each(d=>{Nn.set(d,[d5(s)]);const m=i==null?void 0:i.toLowerCase();q(m)&&go(s,m)&&ro.getCurrent(d).each(p=>{ua.showSlot(p,m),Lc.immediateGrow(d),me(d.element,"width"),fC(t.element,"region")})})},fC=(t,s)=>{Mt(t,"role",s)},_U=(t,s)=>{ro.getCurrent(t).each(c=>{ro.getCurrent(c).each(m=>{Lc.hasGrown(c)?ua.isShowing(m,s)?(Lc.shrink(c),fC(t.element,"presentation")):(ua.hideAllSlots(m),ua.showSlot(m,s),fC(t.element,"region")):(ua.hideAllSlots(m),ua.showSlot(m,s),Lc.grow(c),fC(t.element,"region"))})})},TU=t=>ro.getCurrent(t).bind(i=>Lc.isGrowing(i)||Lc.hasGrown(i)?ro.getCurrent(i).bind(m=>An(ua.getSlotNames(m),p=>ua.isShowing(m,p))):P.none()),r3=zt("FixSizeEvent"),i3=zt("AutoSizeEvent"),AU=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:yt([ps.config({}),dn.config({}),Lc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ro.getCurrent(s).each(ua.hideAllSlots),Un(s,i3)},onGrown:s=>{Un(s,i3)},onStartGrow:s=>{on(s,r3,{width:X(s.element,"width").getOr("")})},onStartShrink:s=>{on(s,r3,{width:uo(s.element)+"px"})}}),Nn.config({}),ro.config({find:s=>{const i=Nn.contents(s);return wn(i)}})])}],behaviours:yt([wl.childAt(0),Fn("sidebar-sliding-events",[Ke(r3,(s,i)=>{b(s.element,"width",i.event.width)}),Ke(i3,(s,i)=>{me(s.element,"width")})])])});var OU=Object.freeze({__proto__:null,block:(t,s,i,c)=>{Mt(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),m=yt([cn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),dn.config({})]),p=c(d,m),x=d.getSystem().build(p);Nn.append(d,Sc(x)),x.hasConfigured(cn)&&s.focus&&cn.focusIn(x),i.isBlocked()||s.onBlock(t),i.blockWith(()=>Nn.remove(d,x))},unblock:(t,s,i)=>{xs(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()},isBlocked:(t,s,i)=>i.isBlocked()}),uK=[Os("getRoot",P.none),Ti("focus",!0),ho("onBlock"),ho("onUnblock")],f5=Object.freeze({__proto__:null,init:()=>{const t=MA(),s=i=>{t.set({destroy:i})};return Cc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const nd=Gr({fields:uK,name:"blocking",apis:OU,state:f5}),DU=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),h5=t=>ro.getCurrent(t).each(s=>Tc(s.element,!0)),xl=(t,s)=>{const i="tabindex",c=`data-mce-${i}`;P.from(t.iframeElement).map(Ae.fromDom).each(d=>{s?(Js(d,i).each(m=>Mt(d,c,m)),Mt(d,i,-1)):(xs(d,i),Js(d,c).each(m=>{Mt(d,i,m),xs(d,c)}))})},RU=(t,s,i,c)=>{const d=s.element;if(xl(t,i),i)nd.block(s,DU(c)),me(d,"display"),xs(d,"aria-hidden"),t.hasFocus()&&h5(s);else{const m=ro.getCurrent(s).exists(p=>ap(p.element));nd.unblock(s),b(d,"display","none"),Mt(d,"aria-hidden","true"),m&&t.focus()}},m5=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:yt([Nn.config({}),nd.config({focus:!1}),ro.config({find:s=>wn(s.components())})]),components:[]}),p5=t=>t.type==="focusin",PU=t=>p5(t)?(t.composed?wn(t.composedPath()):P.from(t.target)).map(Ae.fromDom).filter(Uo).exists(i=>Ua(i,"mce-pastebin")):!1,hC=(t,s,i)=>{const c=rn(!1),d=ss(),m=x=>{c.get()&&!PU(x)&&(x.preventDefault(),h5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)})});const p=x=>{x!==c.get()&&(c.set(x),RU(t,s(),x,i.providers),OH(t,x))};t.on("ProgressState",x=>{if(d.on(clearTimeout),et(x.time)){const E=tw.setEditorTimeout(t,()=>p(x.state),x.time);d.set(E)}else p(x.state),d.clear()})},MU=(t,s)=>Mo(t,(d,m)=>s(m,d.len).fold(A(d),x=>({len:x.finish,list:d.list.concat([x])})),{len:0,list:[]}).list,A0=(t,s,i)=>({within:t,extra:s,withinWidth:i}),g5=(t,s,i)=>{const c=MU(t,(x,E)=>{const R=i(x);return P.some({element:x,start:E,finish:E+R,width:R})}),d=po(c,x=>x.finish<=s),m=Cs(d,(x,E)=>x+E.width,0),p=c.slice(d.length);return{within:d,extra:p,withinWidth:m}},Z1=t=>He(t,s=>s.element),BU=(t,s,i)=>{const c=Z1(t.concat(s));return A0(c,[],i)},NU=(t,s,i,c)=>{const d=Z1(t).concat([i]);return A0(d,Z1(s),c)},su=(t,s,i)=>A0(Z1(t),[],i),IU=(t,s,i)=>{const c=g5(s,t,i);return c.extra.length===0?P.some(c):P.none()},K_=(t,s,i,c)=>{const d=IU(t,s,i).getOrThunk(()=>g5(s,t-i(c),i)),m=d.within,p=d.extra,x=d.withinWidth;return p.length===1&&p[0].width<=i(c)?BU(m,p,x):p.length>=1?NU(m,p,c,x):su(m,p,x)},a3=(t,s)=>{const i=He(s,c=>Sc(c));Qd.setGroups(t,i)},v5=t=>gr(t,s=>si(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),b5=(t,s,i)=>{const c=s.builtGroups.get();if(c.length===0)return;const d=Hd(t,s,"primary"),m=qs.getCoupled(t,"overflowGroup");b(d.element,"visibility","hidden");const p=c.concat([m]),x=v5(p);i([]),a3(d,p);const E=uo(d.element),R=K_(E,s.builtGroups.get(),N=>Math.ceil(N.element.dom.getBoundingClientRect().width),m);R.extra.length===0?(Nn.remove(d,m),i([])):(a3(d,R.within),i(R.extra)),me(d.element,"visibility"),Ne(d.element),x.each(dn.focus)},c3=A([Pr("splitToolbarBehaviours",[qs]),at("builtGroups",()=>rn([]))]),$U=A([al(["overflowToggledClass"]),pf("getOverflowBounds"),rt("lazySink"),at("overflowGroups",()=>rn([])),ho("onOpened"),ho("onClosed")].concat(c3())),LU=A([Bo({factory:Qd,schema:E0(),name:"primary"}),ml({schema:E0(),name:"overflow"}),ml({name:"overflow-button"}),ml({name:"overflow-group"})]),l3=A((t,s)=>{Gc(t,Math.floor(s))}),FU=A([al(["toggledClass"]),rt("lazySink"),kr("fetch"),pf("getBounds"),Ta("fireDismissalEventInstead",[Pe("event",Tu())]),dl(),ho("onToggled")]),HU=A([ml({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:yt([Wn.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),ml({factory:Qd,schema:E0(),name:"toolbar",overrides:t=>({toolbarBehaviours:yt([cn.config({mode:"cyclic",onEscape:s=>($o(s,t,"button").each(dn.focus),P.none())})])})})]),Y_=ss(),zU=(t,s)=>{Y_.set(!0),X_(t,s),Y_.clear()},X_=(t,s)=>{const i=qs.getCoupled(t,"toolbarSandbox");qn.isOpen(i)?qn.close(i):qn.open(i,s.toolbar())},J_=(t,s,i,c)=>{const d=i.getBounds.map(p=>p()),m=i.lazySink(t).getOrDie();ri.positionWithinBounds(m,s,{anchor:{type:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:l3()}}},d)},u3=(t,s,i,c,d)=>{Qd.setGroups(s,d),J_(t,s,i,c),Wn.on(t)},VU=(t,s,i)=>{const c=xx(),d=(p,x)=>{const E=Y_.get().getOr(!1);i.fetch().get(R=>{u3(t,x,i,s.layouts,R),c.link(t.element),E||cn.focusIn(x)})},m=()=>{Wn.off(t),Y_.get().getOr(!1)||dn.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:yt([cn.config({mode:"special",onEscape:p=>(qn.close(p),P.some(!0))}),qn.config({onOpen:d,onClose:m,isPartOf:(p,x,E)=>Ef(x,E)||Ef(t,E),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Za.config({channels:{...Qg({isExtraPart:Vt,...i.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...vb({doReposition:()=>{qn.getState(qs.getCoupled(t,"toolbarSandbox")).each(p=>{J_(t,p,i,s.layouts)})}})}})])}},mm=ki({name:"FloatingToolbarButton",factory:(t,s,i,c)=>({...ci.sketch({...c.button(),action:d=>{X_(d,c)},buttonBehaviours:cc.augment({dump:c.button().buttonBehaviours},[qs.config({others:{toolbarSandbox:d=>VU(d,i,t)}})])}),apis:{setGroups:(d,m)=>{qn.getState(qs.getCoupled(d,"toolbarSandbox")).each(p=>{u3(d,p,t,i.layouts,m)})},reposition:d=>{qn.getState(qs.getCoupled(d,"toolbarSandbox")).each(m=>{J_(d,m,t,i.layouts)})},toggle:d=>{X_(d,c)},toggleWithoutFocusing:d=>{zU(d,c)},getToolbar:d=>qn.getState(qs.getCoupled(d,"toolbarSandbox")),isOpen:d=>qn.isOpen(qs.getCoupled(d,"toolbarSandbox"))}}),configFields:FU(),partFields:HU(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),y5=A([rt("items"),al(["itemSelector"]),Pr("tgroupBehaviours",[cn])]),w5=A([pl({name:"items",unit:"item"})]),UU=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.tgroupBehaviours,[cn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Q_=ki({name:"ToolbarGroup",configFields:y5(),partFields:w5(),factory:UU}),C5=t=>He(t,s=>Sc(s)),d3=(t,s,i)=>{b5(t,i,c=>{i.overflowGroups.set(c),s.getOpt(t).each(d=>{mm.setGroups(d,C5(c))})})},WU=(t,s,i,c)=>{const d=Oo(mm.sketch({fetch:()=>wi.nu(m=>{m(C5(t.overflowGroups.get()))}),layouts:{onLtr:()=>[rr,hr],onRtl:()=>[hr,rr],onBottomLtr:()=>[Cr,os],onBottomRtl:()=>[os,Cr]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()},onToggled:(m,p)=>t[p?"onOpened":"onClosed"](m)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.splitToolbarBehaviours,[qs.config({others:{overflowGroup:()=>Q_.sketch({...c["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(m,p)=>{t.builtGroups.set(He(p,m.getSystem().build)),d3(m,d,t)},refresh:m=>d3(m,d,t),toggle:m=>{d.getOpt(m).each(p=>{mm.toggle(p)})},toggleWithoutFocusing:m=>{d.getOpt(m).each(mm.toggleWithoutFocusing)},isOpen:m=>d.getOpt(m).map(mm.isOpen).getOr(!1),reposition:m=>{d.getOpt(m).each(p=>{mm.reposition(p)})},getOverflow:m=>d.getOpt(m).bind(mm.getToolbar)},domModification:{attributes:{role:"group"}}}},x5=ki({name:"SplitFloatingToolbar",configFields:$U(),partFields:LU(),factory:WU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),jU=A([al(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ho("onOpened"),ho("onClosed")].concat(c3())),ZU=A([Bo({factory:Qd,schema:E0(),name:"primary"}),Bo({factory:Qd,schema:E0(),name:"overflow",overrides:t=>({toolbarBehaviours:yt([Lc.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{$o(s,t,"overflow-button").each(i=>{Wn.off(i),dn.focus(i)}),t.onClosed(s)},onGrown:s=>{cn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{$o(s,t,"overflow-button").each(Wn.on)}}),cn.config({mode:"acyclic",onEscape:s=>($o(s,t,"overflow-button").each(dn.focus),P.some(!0))})])})}),ml({name:"overflow-button",overrides:t=>({buttonBehaviours:yt([Wn.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),ml({name:"overflow-group"})]),qU=(t,s)=>$o(t,s,"overflow").map(Lc.hasGrown).getOr(!1),S5=(t,s)=>{$o(t,s,"overflow-button").bind(()=>$o(t,s,"overflow")).each(i=>{f3(t,s),Lc.toggleGrow(i)})},f3=(t,s)=>{$o(t,s,"overflow").each(i=>{b5(t,s,c=>{const d=He(c,m=>Sc(m));Qd.setGroups(i,d)}),$o(t,s,"overflow-button").each(c=>{Lc.hasGrown(i)&&Wn.on(c)}),Lc.refresh(i)})},GU=(t,s,i,c)=>{const d="alloy.toolbar.toggle",m=(p,x)=>{const E=He(x,p.getSystem().build);t.builtGroups.set(E)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.splitToolbarBehaviours,[qs.config({others:{overflowGroup:p=>Q_.sketch({...c["overflow-group"](),items:[ci.sketch({...c["overflow-button"](),action:x=>{Un(p,d)}})]})}}),Fn("toolbar-toggle-events",[Ke(d,p=>{S5(p,t)})])]),apis:{setGroups:(p,x)=>{m(p,x),f3(p,t)},refresh:p=>f3(p,t),toggle:p=>S5(p,t),isOpen:p=>qU(p,t)},domModification:{attributes:{role:"group"}}}},h3=ki({name:"SplitSlidingToolbar",configFields:jU(),partFields:ZU(),factory:GU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),E5=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[Q_.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:yt([ps.config({}),dn.config({})])}},mC=t=>Q_.sketch(E5(t)),_5=(t,s)=>{const i=ys(c=>{const d=He(t.initGroups,mC);Qd.setGroups(c,d)});return yt([qu.toolbarButton(t.providers.isDisabled),Kr(),cn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Fn("toolbar-events",[i])])},T5=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":E5({title:P.none(),items:[]}),"overflow-button":KV({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:_5(t,s)}},m3=t=>{const s=T5(t),i=4,c=x5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return x5.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,m=Li(d),p=qc(d),x=Li(p),E=Math.max(p.dom.scrollHeight,x.height);return yr(m.x+i,x.y,m.width-i*2,E)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},KU=t=>{const s=h3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=h3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=T5(t);return h3.sketch({...c,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([QD()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([QD()],{type:"closed"}),t.onToggled(d,!1)}})},q1=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Qd.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Xl.scrolling?["tox-toolbar--scrolling"]:[])},components:[Qd.parts.groups({})],toolbarBehaviours:_5(t,s)})},A5=[Lf,Ic,Ei("tooltip"),Ls("buttonType","secondary",["primary","secondary"]),Ti("borderless",!1),kr("onAction")],k5=[...A5,$f,ts("type",["button"])],YU=[...A5,Ti("active",!1),ts("type",["togglebutton"])],O5={button:k5,togglebutton:YU},fK=[ts("type",["group"]),Cd("buttons",[],wr("type",O5))],XU=wr("type",{...O5,group:fK}),JU=pn([Cd("buttons",[],XU),kr("onShow"),kr("onHide")]),p3=t=>fs("view",JU,t),QU=(t,s)=>{var i,c;const d=t.type==="togglebutton",m=t.icon.map(Se=>fm(Se,s.icons)).map(Oo),x=Se=>{const ot=_t=>{m.map(Xe=>Xe.getOpt(Se).each(Dn=>{Nn.set(Dn,[fm(_t,s.icons)])}))},Qe=_t=>{const Xe=Se.element;_t?(Ds(Xe,"tox-button--enabled"),Mt(Xe,"aria-pressed",!0)):(Ps(Xe,"tox-button--enabled"),xs(Xe,"aria-pressed"))},lt=()=>Ua(Se.element,"tox-button--enabled");if(d)return t.onAction({setIcon:ot,setActive:Qe,isActive:lt});if(t.type==="button")return t.onAction({setIcon:ot})},E={...t,name:d?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},R=AD((c=t.buttonType)!==null&&c!==void 0?c:"secondary"),N=d?t.text.map(s.translate):P.some(s.translate(t.text)),z=N.map(Ws),Y=E.tooltip.or(N).map(Se=>({"aria-label":s.translate(Se)})).getOr({}),J=m.map(Se=>Se.asSpec()),se=Bp([J,z]),fe=t.icon.isSome()&&z.isSome(),Me={tag:"button",classes:R.concat(...t.icon.isSome()&&!fe?["tox-button--icon"]:[]).concat(...fe?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:Y},we=[],ke=$_(E,P.some(x),we,Me,se,t.tooltip,s);return ci.sketch(ke)},pC=(t,s)=>QU(t,s),D5=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(t.buttons,i=>pC(i,s))}),g3=en().deviceType,v3=g3.isPhone(),eW=g3.isTablet(),R5=t=>{let s=!1;const i=He(t.buttons,c=>c.type==="group"?(s=!0,D5(c,t.providers)):pC(c,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...v3||eW?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:yt([dn.config({}),cn.config({mode:"flow",selector:"button, .tox-button",focusInside:nm.OnEnterOrSpaceMode})]),components:s?i:[Yu.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Yu.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},k0=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),P5=(t,s,i,c)=>{const d={getPane:m=>Er.getPart(m,t,"pane"),getOnShow:m=>t.viewConfig.onShow,getOnHide:m=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var O0=ki({name:"silver.View",configFields:[rt("viewConfig")],partFields:[qa({factory:{sketch:R5},schema:[rt("buttons"),rt("providers")],name:"header"}),qa({factory:{sketch:k0},schema:[],name:"pane"})],factory:P5,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const tW=(t,s,i)=>af(s,(c,d)=>{const m=Il(p3(c));return t.slot(d,O0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[O0.parts.header({buttons:m.buttons,providers:i})]:[],O0.parts.pane({})]}))}),nW=(t,s)=>ua.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:tW(i,t,s),slotBehaviours:xw.unnamedEvents([ys(c=>ua.hideAllSlots(c))])})),eT=t=>An(ua.getSlotNames(t),s=>ua.isShowing(t,s)),oW=t=>{const s=t.element;b(s,"display","none"),Mt(s,"aria-hidden","true")},sW=t=>{const s=t.element;me(s,"display"),xs(s,"aria-hidden")},M5=t=>({getContainer:A(t)}),b3=(t,s,i)=>{ua.getSlot(t,s).each(c=>{O0.getPane(c).each(d=>{i(c)(M5(d.element.dom))})})},tT=(t,s)=>b3(t,s,O0.getOnShow),y3=(t,s)=>b3(t,s,O0.getOnHide);var nT=Sr({factory:(t,s)=>{const m={setViews:(p,x)=>{Nn.set(p,[nW(x,s.backstage.shared.providers)])},whichView:p=>ro.getCurrent(p).bind(eT),toggleView:(p,x,E,R)=>ro.getCurrent(p).exists(N=>{const z=eT(N),Y=z.exists(se=>R===se),J=ua.getSlot(N,R).isSome();return J&&(ua.hideAllSlots(N),Y?(oW(p),x()):(E(),sW(p),ua.showSlot(N,R),tT(N,R)),z.each(se=>y3(N,se))),J})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:yt([Nn.config({}),ro.config({find:p=>{const x=Nn.contents(p);return wn(x)}})]),apis:m}},name:"silver.ViewWrapper",configFields:[rt("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,c,d)=>t.toggleView(s,i,c,d),whichView:(t,s)=>t.whichView(s)}});const B5=(t,s,i)=>{let c=!1;const d=p=>{Sf(p,".tox-statusbar").each(x=>{L(x,"display")==="none"&&As(x,"aria-hidden")==="true"?(me(x,"display"),xs(x,"aria-hidden")):(b(x,"display","none"),Mt(x,"aria-hidden","true"))})},m={getSocket:p=>Er.getPart(p,t,"socket"),setSidebar:(p,x,E)=>{Er.getPart(p,t,"sidebar").each(R=>EU(R,x,E))},toggleSidebar:(p,x)=>{Er.getPart(p,t,"sidebar").each(E=>_U(E,x))},whichSidebar:p=>Er.getPart(p,t,"sidebar").bind(TU).getOrNull(),getHeader:p=>Er.getPart(p,t,"header"),getToolbar:p=>Er.getPart(p,t,"toolbar"),setToolbar:(p,x)=>{Er.getPart(p,t,"toolbar").each(E=>{const R=He(x,mC);E.getApis().setGroups(E,R)})},setToolbars:(p,x)=>{Er.getPart(p,t,"multiple-toolbar").each(E=>{const R=He(x,N=>He(N,mC));V_.setItems(E,R)})},refreshToolbar:p=>{Er.getPart(p,t,"toolbar").each(E=>E.getApis().refresh(E))},toggleToolbarDrawer:p=>{Er.getPart(p,t,"toolbar").each(x=>{Qo(x.getApis().toggle,E=>E(x))})},toggleToolbarDrawerWithoutFocusing:p=>{Er.getPart(p,t,"toolbar").each(x=>{Qo(x.getApis().toggleWithoutFocusing,E=>E(x))})},isToolbarDrawerToggled:p=>Er.getPart(p,t,"toolbar").bind(x=>P.from(x.getApis().isOpen).map(E=>E(x))).getOr(!1),getThrobber:p=>Er.getPart(p,t,"throbber"),focusToolbar:p=>{Er.getPart(p,t,"toolbar").orThunk(()=>Er.getPart(p,t,"multiple-toolbar")).each(E=>{cn.focusIn(E)})},setMenubar:(p,x)=>{Er.getPart(p,t,"menubar").each(E=>{q_.setMenus(E,x)})},focusMenubar:p=>{Er.getPart(p,t,"menubar").each(x=>{q_.focus(x)})},setViews:(p,x)=>{Er.getPart(p,t,"viewWrapper").each(E=>{nT.setViews(E,x)})},toggleView:(p,x)=>Er.getPart(p,t,"viewWrapper").exists(E=>nT.toggleView(E,()=>m.showMainView(p),()=>m.hideMainView(p),x)),whichView:p=>Er.getPart(p,t,"viewWrapper").bind(nT.whichView).getOrNull(),hideMainView:p=>{c=m.isToolbarDrawerToggled(p),c&&m.toggleToolbarDrawer(p),Er.getPart(p,t,"editorContainer").each(x=>{const E=x.element;d(E),b(E,"display","none"),Mt(E,"aria-hidden","true")})},showMainView:p=>{c&&m.toggleToolbarDrawer(p),Er.getPart(p,t,"editorContainer").each(x=>{const E=x.element;d(E),me(E,"display"),xs(E,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:m,behaviours:t.behaviours}},rW=qf.optional({factory:q_,name:"menubar",schema:[rt("backstage")]}),iW=t=>t.type===Xl.sliding?KU:t.type===Xl.floating?m3:q1,aW=qf.optional({factory:{sketch:t=>V_.sketch({uid:t.uid,dom:t.dom,listBehaviours:yt([cn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>q1({type:t.type,uid:zt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(s,i,c,d)=>{Qd.setGroups(i,c)},shell:!0})},name:"multiple-toolbar",schema:[rt("dom"),rt("onEscape")]}),N5=qf.optional({factory:{sketch:t=>{const s=iW(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(c,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[rt("dom"),rt("onEscape"),rt("getSink")]}),cW=qf.optional({factory:{sketch:hU},name:"header",schema:[rt("dom")]}),lW=qf.optional({factory:{sketch:yU},name:"promotion",schema:[rt("dom")]}),w3=qf.optional({name:"socket",schema:[rt("dom")]}),uW=qf.optional({factory:{sketch:AU},name:"sidebar",schema:[rt("dom")]}),dW=qf.optional({factory:{sketch:m5},name:"throbber",schema:[rt("dom")]}),I5=qf.optional({factory:nT,name:"viewWrapper",schema:[rt("backstage")]}),fW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),$5=qf.optional({factory:{sketch:fW},name:"editorContainer",schema:[]});var rs=ki({name:"OuterContainer",factory:B5,configFields:[rt("dom"),rt("behaviours")],partFields:[cW,rW,N5,aW,w3,uW,lW,dW,I5,$5],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,c)=>{t.setSidebar(s,i,c)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const L5="file edit view insert format tools table help",F5={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},hW=(t,s,i)=>{const c=tM(i).split(/[ ,]/);return{text:t.title,getItems:()=>Le(t.items,d=>{const m=d.toLowerCase();return m.trim().length===0?[]:Rn(c,p=>p===m)?[]:m==="separator"||m==="|"?[{type:"separator"}]:s.menuItems[m]?[s.menuItems[m]]:[]})}},C3=t=>t.split(" "),x3=(t,s)=>{const i={...F5,...s.menus},c=Ts(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?C3(L5):C3(s.menubar===!1?"":s.menubar),m=po(d,x=>{const E=go(F5,x);return c?E||Dt(s.menus,x).exists(R=>go(R,"items")):E}),p=He(m,x=>{const E=i[x];return hW({title:E.title,items:C3(E.items)},s,t)});return po(p,x=>{const E=R=>q(R)||R.type!=="separator";return x.getItems().length>0&&Rn(x.getItems(),E)})},mW=t=>{const s=()=>{t._skinLoaded=!0,yB(t)};return()=>{t.initialized?s():t.on("init",s)}},pW=(t,s)=>()=>Ku(t,{message:s}),H5=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),gC=(t,s,i,c)=>(t.on("remove",()=>c.unloadRawCss(s)),c.loadRawCss(s,i)),S3=async(t,s)=>{const c="ui/"+_E(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(q(d))return Promise.resolve(gC(t,c,d,t.ui.styleSheetLoader));{const m=s+"/skin.min.css";return H5(t,m,t.ui.styleSheetLoader)}},gW=async(t,s)=>{if(q0(Ae.fromDom(t.getElement()))){const d="ui/"+_E(t).getOr("default")+"/skin.shadowdom.css",m=tinymce.Resource.get(d);if(q(m))return gC(t,d,m,qb.DOM.styleSheetLoader),Promise.resolve();{const p=s+"/skin.shadowdom.min.css";return H5(t,p,qb.DOM.styleSheetLoader)}}},vW=async(t,s)=>{_E(s).fold(()=>{const c=EE(s);c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css")},c=>{const d="ui/"+c+(t?"/content.inline":"/content")+".css",m=tinymce.Resource.get(d);if(q(m))gC(s,d,m,s.ui.styleSheetLoader);else{const p=EE(s);p&&s.contentCSS.push(p+(t?"/content.inline":"/content")+".min.css")}});const i=EE(s);if(!BO(s)&&q(i))return Promise.all([S3(s,i),gW(s,i)]).then()},z5=(t,s)=>vW(t,s).then(mW(s),pW(s,"Skin could not be loaded")),bW=Sn(z5,!1),yW=Sn(z5,!0),D0=(t,s,i)=>Go(i)?t.translate(s):t.translate([s,t.translate(i)]),wW=(t,s)=>{const i=(p,x,E,R)=>{const N=t.shared.providers.translate(p.title);if(p.type==="separator")return P.some({type:"separator",text:N});if(p.type==="submenu"){const z=Le(p.getStyleItems(),Y=>c(Y,x,R));return x===0&&z.length<=0?P.none():P.some({type:"nestedmenuitem",text:N,enabled:z.length>0,getSubmenuItems:()=>Le(p.getStyleItems(),Y=>c(Y,x,R))})}else return P.some({type:"togglemenuitem",text:N,icon:p.icon,active:p.isSelected(R),enabled:!E,onAction:s.onAction(p),...p.getStylePreview().fold(()=>({}),z=>({meta:{style:z}}))})},c=(p,x,E)=>{const R=p.type==="formatter"&&s.isInvalid(p);return x===0?R?[]:i(p,x,!1,E).toArray():i(p,x,R,E).toArray()},d=p=>{const x=s.getCurrentValue(),E=s.shouldHide?0:1;return Le(p,R=>c(R,E,x))};return{validateItems:d,getFetch:(p,x)=>(E,R)=>{const N=x(),z=d(N),Y=p0(z,jd.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:P.none()});R(Y)}}},R0=(t,s)=>{const i=s.dataset,c=i.type==="basic"?()=>He(i.data,d=>g$(d,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:wW(t,s),getStyleItems:c}},vC=(t,s,i,c,d,m)=>{const{items:p,getStyleItems:x}=R0(s,i),E=rn(i.tooltip),R=z=>({getComponent:A(z),setTooltip:Y=>{const J=s.shared.providers.translate(Y);Mt(z.element,"aria-label",J),E.set(Y)}}),N=z=>{const Y=J=>z.setTooltip(D0(t,c(J.value),J.value));return t.on(d,Y),Dw(D1(t,"NodeChange",J=>{const se=J.getComponent();i.updateText(se),En.set(J.getComponent(),!t.selection.isEditable())})(z),()=>t.off(d,Y))};return D_({text:i.icon.isSome()?P.none():i.text,icon:i.icon,ariaLabel:P.some(i.tooltip),tooltip:P.none(),role:P.none(),fetch:p.getFetch(s,x),onSetup:N,getApi:R,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Di.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:z=>{if(i.tooltip!==E.get()){const Y=s.shared.providers.translate(E.get());Di.setComponents(z,s.shared.providers.tooltips.getComponents({tooltipText:Y}))}}})})]},"tox-tbtn",s.shared,m)},V5=t=>He(t,s=>{let i=s,c=s;const d=s.split("=");return d.length>1&&(i=d[0],c=d[1]),{title:i,format:c}}),oT=t=>({type:"basic",data:t});var zp;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(zp||(zp={}));const U5=(t,s)=>s===zp.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Kf=(t,s,i)=>{const c=t.options.get(s);return{type:"basic",data:V5(U5(c,i))}},W5="Align",j5=A("Alignment {0}"),Z5="left",E3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],q5=t=>{const s=()=>An(E3,x=>t.formatter.match(x.format)),i=x=>()=>t.formatter.match(x),c=x=>P.none,d=x=>{const R=s().fold(A(Z5),N=>N.title.toLowerCase());on(x,U1,{icon:`align-${R}`}),DH(t,{value:R})},m=oT(E3),p=x=>()=>An(E3,E=>E.format===x.format).each(E=>t.execCommand(E.command));return{tooltip:D0(t,j5(),Z5),text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:c,onAction:p,updateText:d,dataset:m,shouldHide:!1,isInvalid:x=>!t.formatter.canApply(x.format)}},CW=(t,s)=>vC(t,s,q5(t),j5,"AlignTextUpdate","align"),xW=(t,s)=>{const i=R0(s,q5(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(W5),onSetup:la(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},G5=(t,s)=>{const i=s(),c=He(i,d=>d.format);return P.from(t.formatter.closest(c)).bind(d=>An(i,m=>m.format===d))},K5="Blocks",Y5=A("Block {0}"),_3="Paragraph",sT=t=>{const s=m=>()=>t.formatter.match(m),i=m=>()=>{const p=t.formatter.get(m);return p?P.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(m))}):P.none()},c=m=>{const x=G5(t,()=>d.data).fold(A(_3),E=>E.title);on(m,nu,{text:x}),MH(t,{value:x})},d=Kf(t,"block_formats",zp.SemiColon);return{tooltip:D0(t,Y5(),_3),text:P.some(_3),icon:P.none(),isSelectedFor:s,getCurrentValue:P.none,getPreviewFor:i,onAction:_B(t),updateText:c,dataset:d,shouldHide:!1,isInvalid:m=>!t.formatter.canApply(m.format)}},SW=(t,s)=>vC(t,s,sT(t),Y5,"BlocksTextUpdate","blocks"),EW=(t,s)=>{const i=R0(s,sT(t));t.ui.registry.addNestedMenuItem("blocks",{text:K5,onSetup:la(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},_W="Fonts",X5=A("Font {0}"),T3="System Font",TW=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],A3=t=>{const s=t.split(/\s*,\s*/);return He(s,i=>i.replace(/^['"]+|['"]+$/g,""))},k3=(t,s)=>s.length>0&&di(s,i=>t.indexOf(i.toLowerCase())>-1),J5=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const i=A3(t.toLowerCase());return k3(i,TW)||k3(i,s)}else return!1},Q5=t=>{const s=()=>{const E=se=>se?A3(se)[0]:"",R=t.queryCommandValue("FontName"),N=x.data,z=R?R.toLowerCase():"",Y=xE(t);return{matchOpt:An(N,se=>{const fe=se.format;return fe.toLowerCase()===z||E(fe).toLowerCase()===E(z).toLowerCase()}).orThunk(()=>un(J5(z,Y),{title:T3,format:z})),font:R}},i=E=>R=>R.exists(N=>N.format===E),c=()=>{const{matchOpt:E}=s();return E},d=E=>()=>P.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}}),m=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,E.format)})},p=E=>{const{matchOpt:R,font:N}=s(),z=R.fold(A(N),Y=>Y.title);on(E,nu,{text:z}),BH(t,{value:z})},x=Kf(t,"font_family_formats",zp.SemiColon);return{tooltip:D0(t,X5(),T3),text:P.some(T3),icon:P.none(),isSelectedFor:i,getCurrentValue:c,getPreviewFor:d,onAction:m,updateText:p,dataset:x,shouldHide:!1,isInvalid:Vt}},eL=(t,s)=>vC(t,s,Q5(t),X5,"FontFamilyTextUpdate","fontfamily"),AW=(t,s)=>{const i=R0(s,Q5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(_W),onSetup:la(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},kW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},OW=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),c="\\.",d=x=>`(?:${x})?`,p=`[+-]?(?:${["Infinity",t+c+d(t)+d(i),c+t+d(i),t+d(i)].join("|")})`;return new RegExp(`^(${p})(.*)$`)})(),tL=(t,s)=>Rn(s,i=>Rn(kW[i],c=>t===c)),rT=(t,s)=>P.from(OW.exec(t)).bind(c=>{const d=Number(c[1]),m=c[2];return tL(m,s)?P.some({value:d,unit:m}):P.none()}),nL=(t,s)=>rT(t,s).map(({value:i,unit:c})=>i+c),oL={tab:A(9),escape:A(27),enter:A(13),backspace:A(8),delete:A(46),left:A(37),up:A(38),right:A(39),down:A(40),space:A(32),home:A(36),end:A(35),pageUp:A(33),pageDown:A(34)},DW=(t,s,i,c)=>{let d=P.none();const m=Se=>Se.map(ot=>Nt.getValue(ot)).getOr(""),p=D1(t,"NodeChange SwitchMode",Se=>{const ot=Se.getComponent();d=P.some(ot),i.updateInputValue(ot),En.set(ot,!t.selection.isEditable())}),x=Se=>({getComponent:A(Se)}),E=rn(ue),R=zt("custom-number-input-events"),N=(Se,ot,Qe)=>{const lt=m(d),_t=i.getNewValue(lt,Se),Xe=lt.length-`${_t}`.length,Dn=d.map(hn=>hn.element.dom.selectionStart-Xe),Ht=d.map(hn=>hn.element.dom.selectionEnd-Xe);i.onAction(_t,Qe),d.each(hn=>{Nt.setValue(hn,_t),ot&&(Dn.each(tn=>hn.element.dom.selectionStart=tn),Ht.each(tn=>hn.element.dom.selectionEnd=tn))})},z=(Se,ot)=>N((Qe,lt)=>Qe-lt,Se,ot),Y=(Se,ot)=>N((Qe,lt)=>Qe+lt,Se,ot),J=Se=>tc(Se.element).fold(P.none,ot=>(Tc(ot),P.some(!0))),se=Se=>ap(Se.element)?(Em(Se.element).each(ot=>Tc(ot)),P.some(!0)):P.none(),fe=(Se,ot,Qe,lt)=>{const _t=rn(ue),Xe=s.shared.providers.translate(Qe),Dn=zt("altExecuting"),Ht=D1(t,"NodeChange SwitchMode",tn=>{En.set(tn.getComponent(),!t.selection.isEditable())}),hn=tn=>{En.isDisabled(tn)||Se(!0)};return ci.sketch({dom:{tag:"button",attributes:{"aria-label":Xe,"data-mce-name":ot},classes:lt.concat(ot)},components:[fD(ot,s.shared.providers.icons)],buttonBehaviours:yt([En.config({}),Di.config(s.shared.providers.tooltips.getConfig({tooltipText:Xe})),Fn(Dn,[yi({onSetup:Ht,getApi:x},_t),Pa({getApi:x},_t),Ke(nl(),(tn,bo)=>{(bo.event.raw.keyCode===oL.space()||bo.event.raw.keyCode===oL.enter())&&(En.isDisabled(tn)||Se(!1))}),Ke(wf(),hn),Ke(Cu(),hn)])]),eventOrder:{[nl()]:[Dn,"keying"],[wf()]:[Dn,"alloy.base.behaviour"],[Cu()]:[Dn,"alloy.base.behaviour"],[za()]:["alloy.base.behaviour",Dn,"tooltipping"],[Fl()]:[Dn,"tooltipping"]}})},Me=Oo(fe(Se=>z(!1,Se),"minus","Decrease font size",[])),we=Oo(fe(Se=>Y(!1,Se),"plus","Increase font size",[])),ke=Oo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[S1.sketch({inputBehaviours:yt([En.config({}),Fn(R,[yi({onSetup:p,getApi:x},E),Pa({getApi:x},E)]),Fn("input-update-display-text",[Ke(nu,(Se,ot)=>{Nt.setValue(Se,ot.event.text)}),Ke(Um(),Se=>{i.onAction(Nt.getValue(Se))}),Ke(ol(),Se=>{i.onAction(Nt.getValue(Se))})]),cn.config({mode:"special",onEnter:Se=>(N(mn,!0,!0),P.some(!0)),onEscape:J,onUp:Se=>(Y(!0,!1),P.some(!0)),onDown:Se=>(z(!0,!1),P.some(!0)),onLeft:(Se,ot)=>(ot.cut(),P.none()),onRight:(Se,ot)=>(ot.cut(),P.none())})])})],behaviours:yt([dn.config({}),cn.config({mode:"special",onEnter:se,onSpace:se,onEscape:J}),Fn("input-wrapper-events",[Ke(xu(),Se=>{ht([Me,we],ot=>{const Qe=Ae.fromDom(ot.get(Se).element.dom);ap(Qe)&&Xv(Qe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...xe(c)?{"data-mce-name":c}:{}}},components:[Me.asSpec(),ke.asSpec(),we.asSpec()],behaviours:yt([dn.config({}),cn.config({mode:"flow",focusInside:nm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Se=>ap(Se.element)?P.none():(Tc(Se.element),P.some(!0))})])}},RW="Font sizes",sL=A("Font size {0}"),rL="12pt",PW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},MW={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},iL=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},BW=(t,s)=>/[0-9.]+px$/.test(t)?iL(parseInt(t,10)*72/96,s||0)+"pt":Dt(MW,t).getOr(t),NW=t=>Dt(PW,t).getOr(""),aL=t=>{const s=()=>{let E=P.none();const R=x.data,N=t.queryCommandValue("FontSize");if(N)for(let z=3;E.isNone()&&z>=0;z--){const Y=BW(N,z),J=NW(Y);E=An(R,se=>se.format===N||se.format===Y||se.format===J)}return{matchOpt:E,size:N}},i=E=>R=>R.exists(N=>N.format===E),c=()=>{const{matchOpt:E}=s();return E},d=A(P.none),m=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,E.format)})},p=E=>{const{matchOpt:R,size:N}=s(),z=R.fold(A(N),Y=>Y.title);on(E,nu,{text:z}),RH(t,{value:z})},x=Kf(t,"font_size_formats",zp.Space);return{tooltip:D0(t,sL(),rL),text:P.some(rL),icon:P.none(),isSelectedFor:i,getPreviewFor:d,getCurrentValue:c,onAction:m,updateText:p,dataset:x,shouldHide:!1,isInvalid:Vt}},IW=(t,s)=>vC(t,s,aL(t),sL,"FontSizeTextUpdate","fontsize"),$W=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},LW=16,FW=t=>t>=0,cL=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:c=>on(c,nu,{text:s()}),onAction:(c,d)=>t.execCommand("FontSize",!1,c,{skip_focus:!d}),getNewValue:(c,d)=>{rT(c,["unsupportedLength","empty"]);const m=s(),p=rT(c,["unsupportedLength","empty"]).or(rT(m,["unsupportedLength","empty"])),x=p.map(Y=>Y.value).getOr(LW),E=PO(t),R=p.map(Y=>Y.unit).filter(Y=>Y!=="").getOr(E),N=d(x,$W(R).step),z=`${FW(N)?N:x}${R}`;return z!==m&&PH(t,{value:z}),z}}},HW=(t,s)=>DW(t,s,cL(t),"fontsizeinput"),zW=(t,s)=>{const i=R0(s,aL(t));t.ui.registry.addNestedMenuItem("fontsize",{text:RW,onSetup:la(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},lL="Formats",uL=t=>Go(t)?"Formats":"Format {0}",O3=(t,s)=>{const i="Formats",c=p=>()=>t.formatter.match(p),d=p=>()=>{const x=t.formatter.get(p);return x!==void 0?P.some({tag:x.length>0&&(x[0].inline||x[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):P.none()},m=p=>{const x=z=>ID(z)?Le(z.items,x):$D(z)?[{title:z.title,format:z.format}]:[],E=Le(p$(t),x),N=G5(t,A(E)).fold(A({title:i,tooltipLabel:""}),z=>({title:z.title,tooltipLabel:z.title}));on(p,nu,{text:N.title}),SB(t,{value:N.tooltipLabel})};return{tooltip:D0(t,uL(""),""),text:P.some(i),icon:P.none(),isSelectedFor:c,getCurrentValue:P.none,getPreviewFor:d,onAction:_B(t),updateText:m,shouldHide:AO(t),isInvalid:p=>!t.formatter.canApply(p.format),dataset:s}},dL=(t,s)=>{const i={type:"advanced",...s.styles};return vC(t,s,O3(t,i),uL,"StylesTextUpdate","styles")},VW=(t,s)=>{const i={type:"advanced",...s.styles},c=R0(s,O3(t,i));t.ui.registry.addNestedMenuItem("styles",{text:lL,onSetup:la(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},UW=A([rt("toggleClass"),rt("fetch"),Fh("onExecute"),Pe("getHotspot",P.some),Pe("getAnchorOverrides",A({})),dl(),Fh("onItemExecute"),_o("lazySink"),rt("dom"),ho("onOpen"),Pr("splitDropdownBehaviours",[qs,cn,dn]),Pe("matchWidth",!1),Pe("useMinWidth",!1),Pe("eventOrder",{}),_o("role")].concat(R4())),WW=Bo({factory:ci,schema:[rt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:yt([dn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Au)},buttonBehaviours:yt([Wn.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),P0=Bo({factory:ci,schema:[rt("dom")],name:"button",defaults:()=>({buttonBehaviours:yt([dn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),jW=A([WW,P0,qa({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[rt("text")],name:"aria-descriptor"}),ml({schema:[Ny()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(c=>{t.onItemExecute(c,s,i)})}})}),jB()]),ZW=(t,s,i,c)=>{const d=N=>{ro.getCurrent(N).each(z=>{wo.highlightFirst(z),cn.focusIn(z)})},m=N=>{O4(t,mn,N,c,d,aa.HighlightMenuAndItem).get(ue)},p=N=>(m(N),P.some(!0)),x=N=>{const z=Hd(N,t,"button");return Au(z),P.some(!0)},E={...ns([ys((N,z)=>{$o(N,t,"aria-descriptor").each(J=>{const se=zt("aria");Mt(J.element,"id",se),Mt(N.element,"aria-describedby",se)})})]),...Vd(P.some(m))},R={repositionMenus:N=>{Wn.isOn(N)&&KB(N)}};return{uid:t.uid,dom:t.dom,components:s,apis:R,eventOrder:{...t.eventOrder,[Ha()]:["disabling","toggling","alloy.base.behaviour"]},events:E,behaviours:Mr(t.splitDropdownBehaviours,[qs.config({others:{sandbox:N=>{const z=Hd(N,t,"arrow");return D4(t,N,{onOpen:()=>{Wn.on(z),Wn.on(N)},onClose:()=>{Wn.off(z),Wn.off(N)}})}}}),cn.config({mode:"special",onSpace:x,onEnter:x,onDown:p}),dn.config({}),Wn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},iT=ki({name:"SplitDropdown",configFields:UW(),partFields:jW(),factory:ZW,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),fL=t=>({isEnabled:()=>!En.isDisabled(t),setEnabled:s=>En.set(t,!s),setText:s=>on(t,nu,{text:s}),setIcon:s=>on(t,U1,{icon:s})}),qW=t=>({setActive:s=>{Wn.set(t,s)},isActive:()=>Wn.isOn(t),isEnabled:()=>!En.isDisabled(t),setEnabled:s=>En.set(t,!s),setText:s=>on(t,nu,{text:s}),setIcon:s=>on(t,U1,{icon:s})}),hL=(t,s)=>t.map(i=>({"aria-label":s.translate(i)})).getOr({}),mL=zt("focus-button"),D3=(t,s,i,c,d,m)=>{const p=s.map(E=>Oo(xI(E,"tox-tbtn",d))),x=t.map(E=>Oo(fm(E,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...hL(i,d),...xe(m)?{"data-mce-name":m}:{}}},components:Bp([x.map(E=>E.asSpec()),p.map(E=>E.asSpec())]),eventOrder:{[Aa()]:["focusing","alloy.base.behaviour",Fp],[za()]:[Fp,"toolbar-group-button-events"]},buttonBehaviours:yt([qu.toolbarButton(d.isDisabled),Kr(),Fn(Fp,[ys((E,R)=>dD(E)),Ke(nu,(E,R)=>{p.bind(N=>N.getOpt(E)).each(N=>{Nn.set(N,[Ws(d.translate(R.event.text))])})}),Ke(U1,(E,R)=>{x.bind(N=>N.getOpt(E)).each(N=>{Nn.set(N,[fm(R.event.icon,d.icons)])})}),Ke(Aa(),(E,R)=>{R.event.prevent(),Un(E,mL)})])].concat(c.getOr([])))}},R3=(t,s,i,c,d)=>{const m=s.shared,p=rn(ue),x={toolbarButtonBehaviours:[],getApi:fL,onSetup:t.onSetup},E=[Fn("toolbar-group-button-events",[yi(x,p),Pa(x,p)])];return mm.sketch({lazySink:m.getSink,fetch:()=>wi.nu(R=>{R(He(i(t.items),mC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:D3(t.icon,t.text,t.tooltip,P.some(E),m.providers,d),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},pL=(t,s,i,c)=>{var d;const m=rn(ue),p=D3(t.icon,t.text,t.tooltip,P.none(),i,c);return ci.sketch({dom:p.dom,components:p.components,eventOrder:CI,buttonBehaviours:{...yt([Fn("toolbar-button-events",[wI({onAction:t.onAction,getApi:s.getApi}),yi(s,m),Pa(s,m)]),...t.tooltip.map(x=>Di.config(i.tooltips.getConfig({tooltipText:i.translate(x)+t.shortcut.map(E=>` (${k1(E)})`).getOr("")}))).toArray(),qu.toolbarButton(()=>!t.enabled||i.isDisabled()),Kr()].concat(s.toolbarButtonBehaviours)),[Fp]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[Fp]}})},GW=(t,s,i)=>P3(t,s,[],i),P3=(t,s,i,c)=>pL(t,{toolbarButtonBehaviours:i.length>0?[Fn("toolbarButtonWith",i)]:[],getApi:fL,onSetup:t.onSetup},s,c),gL=(t,s,i)=>vL(t,s,[],i),vL=(t,s,i,c)=>pL(t,{toolbarButtonBehaviours:[Nn.config({}),Wn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Fn("toolbarToggleButtonWith",i)]:[]),getApi:qW,onSetup:t.onSetup},s,c),KW=(t,s,i)=>c=>wi.nu(d=>s.fetch(d)).map(d=>P.from(P4(es(JE(zt("menu-value"),d,m=>{s.onItemAction(t(c),m)},s.columns,s.presets,jd.CLOSE_ON_EXECUTE,s.select.getOr(Vt),i),{movement:l0(s.columns,s.presets),menuBehaviours:xw.unnamedEvents(s.columns!=="auto"?[]:[ys((m,p)=>{o4(m,4,CM(s.presets)).each(({numRows:x,numColumns:E})=>{cn.setGridSize(m,x,E)})})])})))),YW=(t,s,i)=>{const c=rn(t.tooltip.getOr("")),d=x=>({isEnabled:()=>!En.isDisabled(x),setEnabled:E=>En.set(x,!E),setIconFill:(E,R)=>{hs(x.element,`svg path[class="${E}"], rect[class="${E}"]`).each(N=>{Mt(N,"fill",R)})},setActive:E=>{Mt(x.element,"aria-pressed",E),hs(x.element,"span").each(R=>{x.getSystem().getByDom(R).each(N=>Wn.set(N,E))})},isActive:()=>hs(x.element,"span").exists(E=>x.getSystem().getByDom(E).exists(Wn.isOn)),setText:E=>hs(x.element,"span").each(R=>x.getSystem().getByDom(R).each(N=>on(N,nu,{text:E}))),setIcon:E=>hs(x.element,"span").each(R=>x.getSystem().getByDom(R).each(N=>on(N,U1,{icon:E}))),setTooltip:E=>{const R=s.providers.translate(E);Mt(x.element,"aria-label",R),c.set(E)}}),m=rn(ue),p={getApi:d,onSetup:t.onSetup};return iT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...hL(t.tooltip,s.providers),...xe(i)?{"data-mce-name":i}:{}}},onExecute:x=>{const E=d(x);E.isEnabled()&&t.onAction(E)},onItemExecute:(x,E,R)=>{},splitDropdownBehaviours:yt([qu.splitButton(s.providers.isDisabled),Kr(),Fn("split-dropdown-events",[ys((x,E)=>dD(x)),Ke(mL,dn.focus),yi(p,m),Pa(p,m)]),Lw.config({}),...t.tooltip.map(x=>Di.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(x),onShow:E=>{if(c.get()!==x){const R=s.providers.translate(c.get());Di.setComponents(E,s.providers.tooltips.getComponents({tooltipText:R}))}}})})).toArray()]),eventOrder:{[za()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Fl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:KW(d,t,s.providers),parts:{menu:gw(!1,t.columns,t.presets)},components:[iT.parts.button(D3(t.icon,t.text,P.none(),P.some([Wn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),iT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:qP("chevron-down",s.providers.icons)},buttonBehaviours:yt([qu.splitButton(s.providers.isDisabled),Kr(),wO()])}),iT.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},XW=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],bC=(t,s)=>(i,c,d,m)=>{const p=t(i).mapError(x=>$m(x)).getOrDie();return s(p,c,d,m)},JW={button:bC(QO,(t,s,i,c)=>GW(t,s.shared.providers,c)),togglebutton:bC(e4,(t,s,i,c)=>gL(t,s.shared.providers,c)),menubutton:bC(j_,(t,s,i,c)=>v0(t,"tox-tbtn",s,P.none(),!1,c)),splitbutton:bC(Z_,(t,s,i,c)=>YW(t,s.shared,c)),grouptoolbarbutton:bC(pU,(t,s,i,c)=>{const d=i.ui.registry.getAll().buttons,m=x=>G1(i,{buttons:d,toolbar:x,allowToolbarGroups:!1},s,P.none()),p={[ob]:s.shared.header.isPositionedAtTop()?$u.TopToBottom:$u.BottomToTop};switch(Op(i)){case Xl.floating:return R3(t,s,m,p,c);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},bL=(t,s,i,c)=>Dt(JW,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),d=>P.some(d(t,s,i,c))),yL={styles:dL,fontsize:IW,fontsizeinput:HW,fontfamily:eL,blocks:SW,align:CW},QW=t=>{const s=He(XW,i=>{const c=po(i.items,d=>go(t,d)||go(yL,d));return{name:i.name,items:c}});return po(s,i=>i.items.length>0)},ej=t=>{const s=t.split("|");return He(s,i=>({items:i.trim().split(" ")}))},tj=t=>nn(t,s=>go(s,"name")&&go(s,"items")),aT=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?QW(i):q(s)?ej(s):tj(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},nj=(t,s,i,c,d,m)=>Dt(s,i.toLowerCase()).orThunk(()=>m.bind(p=>gr(p,x=>Dt(s,x+i.toLowerCase())))).fold(()=>Dt(yL,i.toLowerCase()).map(p=>p(t,d)),p=>p.type==="grouptoolbarbutton"&&!c?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):bL(p,d,t,i.toLowerCase())),G1=(t,s,i,c)=>{const d=aT(s),m=He(d,p=>{const x=Le(p.items,E=>E.trim().length===0?[]:nj(t,s.buttons,E,s.allowToolbarGroups,i,c).toArray());return{title:P.from(t.translate(p.name)),items:x}});return po(m,p=>p.items.length>0)},yC=(t,s,i,c)=>{const d=s.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(nn(m,q)){const x=m.map(E=>{const R={toolbar:E,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return G1(t,R,c,P.none())});rs.setToolbars(d,x)}else rs.setToolbar(d,G1(t,i,c,P.none()))},M3=en(),oj=M3.os.isiOS()&&M3.os.version.major<=12,sj=(t,s)=>{const{uiMotherships:i}=s,c=t.dom;let d=t.getWin();const m=t.getDoc().documentElement,p=rn(kn(d.innerWidth,d.innerHeight)),x=rn(kn(m.offsetWidth,m.offsetHeight)),E=()=>{const Y=p.get();(Y.left!==d.innerWidth||Y.top!==d.innerHeight)&&(p.set(kn(d.innerWidth,d.innerHeight)),Ow(t))},R=()=>{const Y=t.getDoc().documentElement,J=x.get();(J.left!==Y.offsetWidth||J.top!==Y.offsetHeight)&&(x.set(kn(Y.offsetWidth,Y.offsetHeight)),Ow(t))},N=Y=>{wB(t,Y)};c.bind(d,"resize",E),c.bind(d,"scroll",N);const z=xr(Ae.fromDom(t.getBody()),"load",R);t.on("hide",()=>{ht(i,Y=>{b(Y.element,"display","none")})}),t.on("show",()=>{ht(i,Y=>{me(Y.element,"display")})}),t.on("NodeChange",R),t.on("remove",()=>{z.unbind(),c.unbind(d,"resize",E),c.unbind(d,"scroll",N),d=null})},rj=(t,s,i)=>{Rp(t)&&vp(i.mainUi.mothership.element,i.popupUi.mothership),gp(s,i.dialogUi.mothership)};var ij=Object.freeze({__proto__:null,render:(t,s,i,c,d)=>{const{mainUi:m,uiMotherships:p}=s,x=rn(0),E=m.outerContainer;bW(t);const R=Ae.fromDom(d.targetNode),N=nc(gs(R));vp(R,m.mothership),rj(t,N,s),t.on("SkinLoaded",()=>{rs.setSidebar(E,i.sidebar,CE(t)),yC(t,s,i,c),x.set(t.getWin().innerWidth),rs.setMenubar(E,x3(t,i)),rs.setViews(E,i.views),sj(t,s)});const z=rs.getSocket(E).getOrDie("Could not find expected socket element");if(oj){_(z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const fe=cI(()=>{t.dispatch("ScrollContent")},20),Me=bi(z.element,"scroll",fe.throttle);t.on("remove",Me.unbind)}oB(t,s),t.addCommand("ToggleSidebar",(fe,Me)=>{rs.toggleSidebar(E,Me),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var fe;return(fe=rs.whichSidebar(E))!==null&&fe!==void 0?fe:""}),t.addCommand("ToggleView",(fe,Me)=>{if(rs.toggleView(E,Me)){const we=E.element;m.mothership.broadcastOn([Rf()],{target:we}),ht(p,ke=>{ke.broadcastOn([Rf()],{target:we})}),ee(rs.whichView(E))&&(t.focus(),t.nodeChanged(),rs.refreshToolbar(E))}}),t.addQueryValueHandler("ToggleView",()=>{var fe;return(fe=rs.whichView(E))!==null&&fe!==void 0?fe:""});const Y=Op(t),J=()=>{rs.refreshToolbar(s.mainUi.outerContainer)};(Y===Xl.sliding||Y===Xl.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const fe=t.getWin().innerWidth;fe!==x.get()&&(J(),x.set(fe))});const se={setEnabled:fe=>{FE(s,!fe)},isEnabled:()=>!En.isDisabled(E)};return{iframeContainer:z.element.dom,editorContainer:E.element.dom,api:se}}});const wC=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),cT=t=>et(t)?t+"px":t,CC=(t,s,i)=>{const c=s.filter(m=>t<m),d=i.filter(m=>t>m);return c.or(d).getOr(t)},wL=t=>{const s=SO(t),i=_O(t),c=TO(t);return wC(s).map(d=>CC(d,i,c))},CL=t=>wL(t).getOr(SO(t)),xL=t=>{const s=Kb(t),i=EO(t),c=bE(t);return wC(s).map(d=>CC(d,i,c))},SL=t=>xL(t).getOr(Kb(t)),{ToolbarLocation:B3,ToolbarMode:EL}=pM,aj=40,cj=(t,s,i,c,d)=>{const{mainUi:m,uiMotherships:p}=i,x=qb.DOM,E=Xb(t),R=mw(t),N=bE(t).or(xL(t)),z=c.shared.header,Y=z.isPositionedAtTop,J=150,se=Op(t),fe=se===EL.sliding||se===EL.floating,Me=rn(!1),we=()=>Me.get()&&!t.removed,ke=Kn=>fe?Kn.fold(A(0),xt=>xt.components().length>1?We(xt.components()[1].element):0):0,Se=Kn=>{switch(kO(t)){case B3.auto:const xt=rs.getToolbar(m.outerContainer),Ut=ke(xt),In=We(Kn.element)-Ut,bn=Is(s);if(bn.y>In)return"top";{const Bn=qc(s),Vo=Math.max(Bn.dom.scrollHeight,We(Bn));return bn.bottom<Vo-In||Fi().bottom<bn.bottom-In?"bottom":"top"}case B3.bottom:return"bottom";case B3.top:default:return"top"}},ot=Kn=>{d.on(xt=>{ar.setModes(xt,[Kn]),z.setDockingMode(Kn);const Ut=Y()?$u.TopToBottom:$u.BottomToTop;Mt(xt.element,ob,Ut)})},Qe=()=>{d.on(Kn=>{const xt=N.getOrThunk(()=>ig().width-Hr(s).left-10);b(Kn.element,"max-width",xt+"px")})},lt=(Kn,xt)=>{d.on(Ut=>{const In=rs.getToolbar(m.outerContainer),bn=ke(In),sn=Is(s),Bn=_t(t,m.outerContainer.element),Vo=()=>Bn.fold(()=>sn.x,Xi=>{const Tl=Is(Xi);return yo(Xi,Jr())?sn.x:sn.x-Tl.x}),Co=()=>Bn.fold(()=>Y()?Math.max(sn.y-We(Ut.element)+bn,0):sn.bottom,Xi=>{var Tl;const lu=Is(Xi),fc=(Tl=Xi.dom.scrollTop)!==null&&Tl!==void 0?Tl:0,sv=yo(Xi,Jr())?Math.max(sn.y-We(Ut.element)+bn,0):sn.y-lu.y+fc-We(Ut.element)+bn;return Y()?sv:sn.bottom}),ma=Vo(),_l=un(Kn,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter(Xi=>Xi>J).map(Xi=>{const Tl=xt.getOr(ta()),lu=window.innerWidth-(ma-Tl.left),fc=Math.max(Math.min(Xi,lu),J);return lu<Xi&&b(m.outerContainer.element,"width",fc+"px"),{width:fc+"px"}}).getOr({width:"max-content"}),sf={position:"absolute",left:Math.round(ma)+"px",top:Co()+"px"};_(m.outerContainer.element,{...sf,..._l})})},_t=(Kn,xt)=>Rp(Kn)?ZD(xt):P.none(),Xe=()=>{ht(p,Kn=>{Kn.broadcastOn([bp()],{})})},Dn=()=>!E&&(Qs(m.outerContainer.element).left+vs(m.outerContainer.element)>=window.innerWidth-aj||X(m.outerContainer.element,"width").isSome())?(b(m.outerContainer.element,"position","absolute"),b(m.outerContainer.element,"left","0px"),me(m.outerContainer.element,"width"),!0):!1,Ht=Kn=>{if(!we())return;E||Qe();const xt=ta(),Ut=E?!1:Dn();if(fe&&rs.refreshToolbar(m.outerContainer),!E){const In=ta(),bn=un(xt.left!==In.left,xt);lt(Ut,bn),bn.each(sn=>{hv(sn.left,In.top)})}R&&d.on(Kn),Xe()},hn=()=>E||!R||!we()?!1:d.get().exists(Kn=>{const xt=z.getDockingMode(),Ut=Se(Kn);return Ut!==xt?(ot(Ut),!0):!1});return{isVisible:we,isPositionedAtTop:Y,show:()=>{Me.set(!0),b(m.outerContainer.element,"display","flex"),x.addClass(t.getBody(),"mce-edit-focus"),ht(p,Kn=>{me(Kn.element,"display")}),hn(),Rp(t)?Ht(Kn=>ar.isDocked(Kn)?ar.reset(Kn):ar.refresh(Kn)):Ht(ar.refresh)},hide:()=>{Me.set(!1),b(m.outerContainer.element,"display","none"),x.removeClass(t.getBody(),"mce-edit-focus"),ht(p,Kn=>{b(Kn.element,"display","none")})},update:Ht,updateMode:()=>{hn()&&Ht(ar.reset)},repositionPopups:Xe}},_L=(t,s)=>{const i=Is(t);return{pos:s?i.y:i.bottom,bounds:i}},xC=(t,s,i,c)=>{const d=rn(_L(s,i.isPositionedAtTop())),m=R=>{const{pos:N,bounds:z}=_L(s,i.isPositionedAtTop()),{pos:Y,bounds:J}=d.get(),se=z.height!==J.height||z.width!==J.width;d.set({pos:N,bounds:z}),se&&Ow(t,R),i.isVisible()&&(Y!==N?i.update(ar.reset):se&&(i.updateMode(),i.repositionPopups()))};c||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(ar.reset)),t.on("NodeChange keydown",R=>{requestAnimationFrame(()=>m(R))});let p=0;const x=z1(()=>i.update(ar.refresh),33);t.on("ScrollWindow",()=>{const R=ta().left;R!==p&&(p=R,x.throttle()),i.updateMode()}),Rp(t)&&t.on("ElementScroll",R=>{i.update(ar.refresh)});const E=cp();E.set(xr(Ae.fromDom(t.getBody()),"load",R=>m(R.raw))),t.on("remove",()=>{E.clear()})};var lj=Object.freeze({__proto__:null,render:(t,s,i,c,d)=>{const{mainUi:m}=s,p=ss(),x=Ae.fromDom(d.targetNode),E=cj(t,x,s,c,p),R=DO(t);yW(t);const N=()=>{if(p.isSet()){E.show();return}p.set(rs.getHeader(m.outerContainer).getOrDie());const Y=$O(t);Rp(t)?(vp(x,m.mothership),vp(x,s.popupUi.mothership)):gp(Y,m.mothership),gp(Y,s.dialogUi.mothership);const J=()=>{yC(t,s,i,c),rs.setMenubar(m.outerContainer,x3(t,i)),E.show(),xC(t,x,E,R),t.nodeChanged()};R?t.once("SkinLoaded",J):J()};t.on("show",N),t.on("hide",E.hide),R||(t.on("focus",N),t.on("blur",E.hide)),t.on("init",()=>{(t.hasFocus()||R)&&N()}),oB(t,s);const z={show:N,hide:E.hide,setEnabled:Y=>{FE(s,!Y)},isEnabled:()=>!En.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:z}}});const uj=()=>{const t=ss(),s=ss(),i=ss();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const m=t.get().map(x=>x.mothership),p=s.get().map(x=>x.mothership);return m.fold(()=>p.toArray(),x=>p.fold(()=>[x],E=>yo(x.element,E.element)?[x]:[x,E]))},lazyGetInOuterOrDie:(m,p)=>()=>i.get().bind(x=>p(x.outerContainer)).getOrDie(`Could not find ${m} element in OuterContainer`)}},TL="contexttoolbar-show",AL="contexttoolbar-hide",kL=t=>({hide:()=>Un(t,pg()),getValue:()=>Nt.getValue(t)}),OL=(t,s)=>Ke(yI,(i,c)=>{const d=t.get(i),m=kL(d);s.onAction(m,c.event.buttonApi)}),dj=(t,s,i)=>{const{primary:c,...d}=s.original,m=Il(QO({...d,type:"button",onAction:ue}));return P3(m,i,[OL(t,s)])},fj=(t,s,i)=>{const{primary:c,...d}=s.original,m=Il(e4({...d,type:"togglebutton",onAction:ue}));return vL(m,i,[OL(t,s)])},hj=t=>t.type==="contextformtogglebutton",mj=(t,s,i)=>hj(s)?fj(t,s,i):dj(t,s,i),SC=(t,s,i)=>{const c=He(s,p=>Oo(mj(t,p,i)));return{asSpecs:()=>He(c,p=>p.asSpec()),findPrimary:p=>gr(s,(x,E)=>x.primary?P.from(c[E]).bind(R=>R.getOpt(p)).filter(je(En.isDisabled)):P.none())}},N3=(t,s)=>{const i=t.label.fold(()=>({}),m=>({"aria-label":m})),c=Oo(S1.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:yt([cn.config({mode:"special",onEnter:m=>d.findPrimary(m).map(p=>(Au(p),!0)),onLeft:(m,p)=>(p.cut(),P.none()),onRight:(m,p)=>(p.cut(),P.none())})])})),d=SC(c,t.commands,s);return[{title:P.none(),items:[c.asSpec()]},{title:P.none(),items:d.asSpecs()}]},pj={renderContextForm:(t,s,i)=>q1({type:t,uid:zt("context-toolbar"),initGroups:N3(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:N3},I3=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,$3=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=ah(Ae.fromDom(t.startContainer),t.startOffset).element;return(Ii(i)?ec(i):P.some(i)).filter(Uo).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},lT=t=>{const s=t.selection.getRng(),i=$3(s);if(t.inline){const c=ta();return yr(c.left+i.left,c.top+i.top,i.width,i.height)}else{const c=Li(Ae.fromDom(t.getBody()));return yr(c.x+i.left,c.y+i.top,i.width,i.height)}},DL=(t,s)=>s.filter(i=>ur(i)&&cf(i)).map(Li).getOrThunk(()=>lT(t)),gj=(t,s,i)=>{const c=Math.max(t.x+i,s.x),d=Math.min(t.right-i,s.right);return{x:c,width:d-c}},M0=(t,s,i,c,d,m)=>{const p=Ae.fromDom(t.getContainer()),x=hs(p,".tox-editor-header").getOr(p),E=Is(x),R=E.y>=s.bottom,N=c&&!R;if(t.inline&&N)return{y:Math.max(E.bottom+m,i.y),bottom:i.bottom};if(t.inline&&!N)return{y:i.y,bottom:Math.min(E.y-m,i.bottom)};const z=d==="line"?Is(p):s;return N?{y:Math.max(E.bottom+m,i.y),bottom:Math.min(z.bottom-m,i.bottom)}:{y:Math.max(z.y+m,i.y),bottom:Math.min(E.y-m,i.bottom)}},EC=(t,s,i,c=0)=>{const d=ig(window),m=Is(Ae.fromDom(t.getContentAreaContainer())),p=SE(t)||TE(t)||fw(t),{x,width:E}=gj(m,d,c);if(t.inline&&!p)return yr(x,d.y,E,d.height);{const R=s.header.isPositionedAtTop(),{y:N,bottom:z}=M0(t,m,d,R,i,c);return yr(x,N,E,z-N)}},K1=12,uT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},dT={maxHeightFunction:Wh(),maxWidthFunction:l3()},RL=(t,s)=>{const i=t.selection.getRng(),c=ah(Ae.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&yo(c.element,s)},fT=(t,s,i)=>{const c=X(t,"position");b(t,"position",s);const d=i(t);return c.each(m=>b(t,"position",m)),d},L3=t=>t==="node",PL=(t,s,i,c,d)=>{const m=lT(t),p=c.lastElement().exists(x=>yo(i,x));if(RL(t,i))return p?d$:Cl;if(p)return fT(s,c.getMode(),()=>I3(m,Is(s),-20)&&!c.isReposition()?v9:d$);{const x=c.getMode()==="fixed"?d.y+ta().top:d.y,E=We(s)+K1;return x+E<=m.y?Cl:eC}},F3=(t,s,i,c)=>{const d=E=>(R,N,z,Y,J)=>{const se=PL(t,Y,E,i,J),fe={...R,y:J.y,height:J.height};return{...se(fe,N,z,Y,J),alwaysFit:!0}},m=E=>L3(c)?[d(E)]:[];return s?{onLtr:E=>[Zs,hr,rr,os,Cr,qr].concat(m(E)),onRtl:E=>[Zs,rr,hr,Cr,os,qr].concat(m(E))}:{onLtr:E=>[qr,Zs,os,hr,Cr,rr].concat(m(E)),onRtl:E=>[qr,Zs,Cr,rr,os,hr].concat(m(E))}},vj=(t,s,i,c)=>s==="line"?{bubble:ul(K1,0,uT),layouts:{onLtr:()=>[Vy],onRtl:()=>[Gv]},overrides:dT}:{bubble:ul(0,K1,uT,1/K1),layouts:F3(t,i,c,s),overrides:dT},hT=(t,s)=>{const i=po(s,m=>m.predicate(t.dom)),{pass:c,fail:d}=Xr(i,m=>m.type==="contexttoolbar");return{contextToolbars:c,contextForms:d}},bj=t=>{if(t.length<=1)return t;{const s=m=>Rn(t,p=>p.position===m),i=m=>po(t,p=>p.position===m),c=s("selection"),d=s("node");if(c||d)if(d&&c){const m=i("node"),p=He(i("selection"),x=>({...x,position:"node"}));return m.concat(p)}else return i(c?"selection":"node");else return i("line")}},yj=t=>{if(t.length<=1)return t;{const s=c=>An(t,d=>d.position===c);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(c=>c.position).fold(()=>[],c=>po(t,d=>d.position===c))}},mT=(t,s,i)=>{const c=hT(t,s);if(c.contextForms.length>0)return P.some({elem:t,toolbars:[c.contextForms[0]]});{const d=hT(t,i);if(d.contextForms.length>0)return P.some({elem:t,toolbars:[d.contextForms[0]]});if(c.contextToolbars.length>0||d.contextToolbars.length>0){const m=bj(c.contextToolbars.concat(d.contextToolbars));return P.some({elem:t,toolbars:m})}else return P.none()}},ML=(t,s,i)=>t(s)?P.none():Vm(s,c=>{if(Uo(c)){const{contextToolbars:d,contextForms:m}=hT(c,i.inNodeScope),p=m.length>0?m:yj(d);return p.length>0?P.some({elem:c,toolbars:p}):P.none()}else return P.none()},t),wj=(t,s)=>{const i=Ae.fromDom(s.getBody()),c=p=>yo(p,i),d=p=>!c(p)&&!Ia(i,p),m=Ae.fromDom(s.selection.getNode());return d(m)?P.none():mT(m,t.inNodeScope,t.inEditorScope).orThunk(()=>ML(c,m,t))},Cj=(t,s)=>{const i={},c=[],d=[],m={},p={},x=(N,z)=>{const Y=Il(tH(z));i[N]=Y,Y.launch.map(J=>{m["form:"+N]={...z.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(Y)}}}),Y.scope==="editor"?d.push(Y):c.push(Y),p[N]=Y},E=(N,z)=>{oH(z).each(Y=>{z.scope==="editor"?d.push(Y):c.push(Y),p[N]=Y})},R=Ts(t);return ht(R,N=>{const z=t[N];z.type==="contextform"?x(N,z):z.type==="contexttoolbar"&&E(N,z)}),{forms:i,inNodeScope:c,inEditorScope:d,lookupTable:p,formNavigators:m}},BL=zt("forward-slide"),NL=zt("backward-slide"),H3=zt("change-slide-event"),pT="tox-pop--resizing",IL=t=>{const s=rn([]);return Ms.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),Ms.getContent(i).each(c=>{me(c.element,"visibility")}),Ps(i.element,pT),me(i.element,"width")},inlineBehaviours:yt([Fn("context-toolbar-events",[Zm(Ll(),(i,c)=>{c.event.raw.propertyName==="width"&&(Ps(i.element,pT),me(i.element,"width"))}),Ke(H3,(i,c)=>{const d=i.element;me(d,"width");const m=uo(d);Ms.setContent(i,c.event.contents),Ds(d,pT);const p=uo(d);b(d,"width",m+"px"),Ms.getContent(i).each(x=>{c.event.focus.bind(E=>(Tc(E),si(d))).orThunk(()=>(cn.focusIn(x),cl(gs(d))))}),setTimeout(()=>{b(i.element,"width",p+"px")},0)}),Ke(BL,(i,c)=>{Ms.getContent(i).each(d=>{s.set(s.get().concat([{bar:d,focus:cl(gs(i.element))}]))}),on(i,H3,{contents:c.event.forwardContents,focus:P.none()})}),Ke(NL,(i,c)=>{Ir(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),on(i,H3,{contents:Sc(d.bar),focus:d.focus})})})]),cn.config({mode:"special",onEscape:i=>Ir(s.get()).fold(()=>t.onEscape(),c=>(Un(i,NL),P.some(!0)))})]),lazySink:()=>Ln.value(t.sink)})},gT="tox-pop--transition",$L=(t,s,i,c)=>{const d=c.backstage,m=d.shared,p=en().deviceType.isTouch,x=ss(),E=ss(),R=ss(),N=jr(IL({sink:i,onEscape:()=>(t.focus(),P.some(!0))})),z=()=>{const Ht=R.get().getOr("node"),hn=L3(Ht)?1:0;return EC(t,m,Ht,hn)},Y=()=>!t.removed&&!(p()&&d.isContextMenuOpen()),J=Ht=>Qi(uu(Ht,x.get(),yo),!0),se=()=>{if(Y()){const Ht=z(),hn=Qi(R.get(),"node")?DL(t,x.get()):lT(t);return Ht.height<=0||!I3(hn,Ht,.01)}else return!0},fe=()=>{x.clear(),E.clear(),R.clear(),Ms.hide(N)},Me=()=>{if(Ms.isOpen(N)){const Ht=N.element;me(Ht,"display"),se()?b(Ht,"display","none"):(E.set(0),Ms.reposition(N))}},we=Ht=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ht],behaviours:yt([cn.config({mode:"acyclic"}),Fn("pop-dialog-wrap-events",[ys(hn=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>cn.focusIn(hn))}),ku(hn=>{t.shortcuts.remove("ctrl+F9")})])])}),ke=wa(()=>Cj(s,Ht=>{const hn=Qe([Ht]);on(N,BL,{forwardContents:we(hn)})})),Se=(Ht,hn)=>G1(t,{buttons:Ht,toolbar:hn.items,allowToolbarGroups:!1},c.backstage,P.some(["form:"])),ot=(Ht,hn)=>pj.buildInitGroups(Ht,hn),Qe=Ht=>{const{buttons:hn}=t.ui.registry.getAll(),tn=ke(),bo={...hn,...tn.formNavigators},mo=Op(t)===Xl.scrolling?Xl.scrolling:Xl.default,Kn=Tn(He(Ht,xt=>xt.type==="contexttoolbar"?Se(bo,xt):ot(xt,m.providers)));return q1({type:mo,uid:zt("context-toolbar"),initGroups:Kn,onEscape:P.none,cyclicKeying:!0,providers:m.providers})},lt=(Ht,hn)=>{const tn=Ht==="node"?m.anchors.node(hn):m.anchors.cursor(),bo=vj(t,Ht,p(),{lastElement:x.get,isReposition:()=>Qi(E.get(),0),getMode:()=>ri.getMode(i)});return es(tn,bo)},_t=(Ht,hn)=>{if(Dn.cancel(),!Y())return;const tn=Qe(Ht),bo=Ht[0].position,mo=lt(bo,hn);R.set(bo),E.set(1);const Kn=N.element;me(Kn,"display"),J(hn)||(Ps(Kn,gT),ri.reset(i,N)),Ms.showWithinBounds(N,we(tn),{anchor:mo,transition:{classes:[gT],mode:"placement"}},()=>P.some(z())),hn.fold(x.clear,x.set),se()&&b(Kn,"display","none")};let Xe=!1;const Dn=z1(()=>{if(!(!t.hasFocus()||t.removed||Xe))if(Ua(N.element,gT))Dn.throttle();else{const Ht=ke();wj(Ht,t).fold(fe,hn=>{_t(hn.toolbars,P.some(hn.elem))})}},17);t.on("init",()=>{t.on("remove",fe),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Me),t.on("click keyup focus SetContent",Dn.throttle),t.on(AL,fe),t.on(TL,Ht=>{const hn=ke();Dt(hn.lookupTable,Ht.toolbarKey).each(tn=>{_t([tn],un(Ht.target!==t,Ht.target)),Ms.getContent(N).each(cn.focusIn)})}),t.on("focusout",Ht=>{tw.setEditorTimeout(t,()=>{si(i.element).isNone()&&si(N.element).isNone()&&fe()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&fe()}),t.on("ExecCommand",({command:Ht})=>{Ht.toLowerCase()==="toggleview"&&fe()}),t.on("AfterProgressState",Ht=>{Ht.state?fe():t.hasFocus()&&Dn.throttle()}),t.on("dragstart",()=>{Xe=!0}),t.on("dragend drop",()=>{Xe=!1}),t.on("NodeChange",Ht=>{si(N.element).fold(Dn.throttle,ue)})})},xj=t=>{ht([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Gi(t,i.cmd),onSetup:qE(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:la(t),onAction:Gi(t,"JustifyNone")})},z3=(t,s)=>{const i=()=>{const c=s.getOptions(t),d=s.getCurrent(t).map(s.hash),m=ss();return He(c,p=>({type:"togglemenuitem",text:s.display(p),onSetup:x=>{const E=N=>{N&&(m.on(z=>z.setActive(!1)),m.set(x)),x.setActive(N)};E(Qi(d,s.hash(p)));const R=s.watcher(t,p,E);return()=>{m.clear(),R()}},onAction:()=>s.setCurrent(t,p)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:c=>c(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},LL=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:fM,hash:s=>nL(s,["fixed","relative","empty"]).getOr(s),display:mn,watcher:(s,i,c)=>s.formatter.formatChanged("lineheight",c,!1,{value:i}).unbind,getCurrent:s=>P.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:la(t),onMenuSetup:la(t)}),Sj=t=>P.from(eM(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:A(i),hash:c=>be(c.customCode)?c.code:`${c.code}/${c.customCode}`,display:c=>c.title,watcher:(c,d,m)=>{var p;return c.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:c=>{const d=Ae.fromDom(c.selection.getNode());return Ch(d,m=>P.some(m).filter(Uo).bind(p=>Js(p,"lang").map(E=>{const R=Js(p,"data-mce-lang").getOrUndefined();return{code:E,customCode:R,title:""}})))},setCurrent:(c,d)=>c.execCommand("Lang",!1,d),onToolbarSetup:c=>{const d=cp();return c.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",c.setActive,!0)),Dw(d.clear,la(t)(c))},onMenuSetup:la(t)})),vK=t=>{z3(t,LL(t)),Sj(t).each(s=>z3(t,s))},Ej=(t,s)=>{xW(t,s),AW(t,s),VW(t,s),EW(t,s),zW(t,s)},_j=t=>D1(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),Tj=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_j(t),onAction:Gi(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:la(t),onAction:Gi(t,"indent")})},Aj=t=>{Tj(t)},FL=(t,s)=>i=>{i.setActive(s.get());const c=d=>{s.set(d.state),i.setActive(d.state)};return t.on("PastePlainTextToggle",c),Dw(()=>t.off("PastePlainTextToggle",c),la(t)(i))},kj=t=>{const s=rn(lM(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:FL(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:FL(t,s)})},V3=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Oj=t=>{Wf.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:qE(t,s.name),onAction:V3(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,c=`Access+${s}`;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:qE(t,i),onAction:V3(t,i),shortcut:c})}},Dj=t=>{Wf.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Gi(t,s.action),shortcut:s.shortcut})}),Wf.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:la(t),onAction:Gi(t,s.action)})})},Rj=t=>{Wf.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Gi(t,s.action),onSetup:qE(t,s.name)})})},Pj=t=>{Oj(t),Dj(t),Rj(t)},Mj=t=>{Wf.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Gi(t,s.action)})}),Wf.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:la(t),onAction:Gi(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:la(t),onAction:V3(t,"code")})},Bj=t=>{Pj(t),Mj(t)},_C=(t,s)=>D1(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),Nj=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_C(t,"hasUndo"),onAction:Gi(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_C(t,"hasRedo"),onAction:Gi(t,"redo")})},Ij=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:_C(t,"hasUndo"),onAction:Gi(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:_C(t,"hasRedo"),onAction:Gi(t,"redo"),shortcut:"Meta+Y"})},$j=t=>{Nj(t),Ij(t)},Lj=t=>D1(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),Fj=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Lj(t),onAction:Gi(t,"mceToggleVisualAid")})},Hj=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Gi(t,"mceToggleVisualAid")})},zj=t=>{Hj(t),Fj(t)},Vj=(t,s)=>{xj(t),Bj(t),Ej(t,s),$j(t),HB(t),zj(t),Aj(t),vK(t),kj(t)},Uj=t=>q(t)?t.split(/[ ,]/):t,vT=t=>s=>s.options.get(t),Wj=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:q(i)||nn(i,q)?{value:Uj(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},HL=vT("contextmenu_never_use_native"),U3=vT("contextmenu_avoid_overlap"),zL=t=>W3(t).length===0,W3=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:po(i,c=>go(s,c))},TC=(t,s)=>({type:"makeshift",x:t,y:s}),jj=(t,s,i)=>TC(t.x+s,t.y+i),VL=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Zj=t=>{if(VL(t)){const s=t.touches[0];return TC(s.pageX,s.pageY)}else return TC(t.pageX,t.pageY)},qj=t=>{if(VL(t)){const s=t.touches[0];return TC(s.clientX,s.clientY)}else return TC(t.clientX,t.clientY)},j3=(t,s)=>{const i=qb.DOM.getPos(t);return jj(s,i.x,i.y)},Gj=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?Zj(s):j3(t.getContentAreaContainer(),qj(s)):Z3(t),Z3=t=>({type:"selection",root:Ae.fromDom(t.selection.getNode())}),Kj=t=>({type:"node",node:P.some(Ae.fromDom(t.selection.getNode())),root:Ae.fromDom(t.getBody())}),UL=(t,s,i)=>{switch(i){case"node":return Kj(t);case"point":return Gj(t,s);case"selection":return Z3(t)}},q3=(t,s,i,c,d,m)=>{const p=i(),x=UL(t,s,m);p0(p,jd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:P.none()}).map(E=>{s.preventDefault(),Ms.showMenuAt(d,{anchor:x},{menu:{markers:x1("normal")},data:E})})},Yj={onLtr:()=>[Zs,hr,rr,os,Cr,qr,Cl,eC,x0,F_,j1,C0],onRtl:()=>[Zs,rr,hr,Cr,os,qr,Cl,eC,j1,C0,x0,F_]},WL=12,Xj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Jj=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const c=s.touches[0],d=i.getRng();return yS(t.getWin(),zg.domRange(d)).exists(p=>p.left<=c.clientX&&p.right>=c.clientX&&p.top<=c.clientY&&p.bottom>=c.clientY)}},G3=t=>{const s=t.selection.getRng(),i=()=>{tw.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),m()};t.once("touchend",i);const c=p=>{p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",c,!0);const d=()=>m();t.once("longpresscancel",d);const m=()=>{t.off("touchend",i),t.off("longpresscancel",d),t.off("mousedown",c)}},Qj=(t,s,i)=>{const c=UL(t,s,i);return{bubble:ul(0,i==="point"?WL:0,Xj),layouts:Yj,overrides:{maxWidthFunction:l3(),maxHeightFunction:Wh()},...c}},eZ=(t,s,i,c,d,m,p)=>{const x=Qj(t,s,m);p0(i,jd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!0,search:P.none()}).map(E=>{s.preventDefault();const R=p?aa.HighlightMenuAndItem:aa.HighlightNone;Ms.showMenuWithinBounds(d,{anchor:x},{menu:{markers:x1("normal"),highlightOnOpen:R},data:E,type:"horizontal"},()=>P.some(EC(t,c.shared,m==="node"?"node":"selection"))),t.dispatch(AL)})},tZ=(t,s,i,c,d,m)=>{const p=en(),x=p.os.isiOS(),E=p.os.isMacOS(),R=p.os.isAndroid(),N=p.deviceType.isTouch(),z=()=>!(R||x||E&&N),Y=()=>{const J=i();eZ(t,s,J,c,d,m,z())};if((E||x)&&m!=="node"){const J=()=>{G3(t),Y()};Jj(t,s)?J():(t.once("selectionchange",J),t.once("touchend",()=>t.off("selectionchange",J)))}else Y()},jL=t=>q(t)?t==="|":t.type==="separator",K3={type:"separator"},Y3=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(q(t))return t;switch(t.type){case"separator":return K3;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const c=t.getSubmenuItems();return q(c)?c:He(c,Y3)}};default:const i=t;return{type:"menuitem",...s(i),onAction:mt(i.onAction)}}},ZL=(t,s)=>{if(s.length===0)return t;const c=Ir(t).filter(d=>!jL(d)).fold(()=>[],d=>[K3]);return t.concat(c).concat(s).concat([K3])},nZ=(t,s,i)=>{const c=Mo(s,(d,m)=>Dt(t,m.toLowerCase()).map(p=>{const x=p.update(i);if(q(x)&&ba(Uc(x)))return ZL(d,x.split(" "));if(I(x)&&x.length>0){const E=He(x,Y3);return ZL(d,E)}else return d}).getOrThunk(()=>d.concat([m])),[]);return c.length>0&&jL(c[c.length-1])&&c.pop(),c},oZ=(t,s)=>s.ctrlKey&&!HL(t),sZ=t=>t.type==="longpress"||go(t,"touches"),qL=(t,s)=>!sZ(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),GL=(t,s)=>qL(t,s)?t.selection.getStart(!0):s.target,rZ=(t,s)=>{const i=U3(t),c=qL(t,s)?"selection":"point";if(ba(i)){const d=GL(t,s);return Mw(Ae.fromDom(d),i)?"node":c}else return c},iZ=(t,s,i)=>{const d=en().deviceType.isTouch,m=jr(Ms.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:yt([Fn("dismissContextMenu",[Ke(Tu(),(E,R)=>{qn.close(E),t.focus()})])])})),p=()=>Ms.hide(m),x=E=>{if(HL(t)&&E.preventDefault(),oZ(t,E)||zL(t))return;const R=rZ(t,E),N=()=>{const Y=GL(t,E),J=t.ui.registry.getAll(),se=W3(t);return nZ(J.contextMenus,se,Y)};(d()?tZ:q3)(t,E,N,i,m,R)};t.on("init",()=>{const E="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(E,p),t.on("longpress contextmenu",x)})},bT=$l.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),yT=t=>s=>s.translate(-t.left,-t.top),AC=t=>s=>s.translate(t.left,t.top),pm=t=>(s,i)=>Mo(t,(c,d)=>d(c),kn(s,i)),wT=(t,s,i)=>t.fold(pm([AC(i),yT(s)]),pm([yT(s)]),pm([])),B0=(t,s,i)=>t.fold(pm([AC(i)]),pm([]),pm([AC(s)])),Vp=(t,s,i)=>t.fold(pm([]),pm([yT(i)]),pm([AC(s),yT(i)])),KL=(t,s,i,c,d,m)=>{const p=B0(t,d,m),x=B0(s,d,m);return Math.abs(p.left-x.left)<=i&&Math.abs(p.top-x.top)<=c},aZ=(t,s,i,c,d,m)=>{const p=B0(t,d,m),x=B0(s,d,m),E=Math.abs(p.left-x.left),R=Math.abs(p.top-x.top);return kn(E,R)},YL=(t,s,i)=>{const c=t.fold((d,m)=>({position:P.some("absolute"),left:P.some(d+"px"),top:P.some(m+"px")}),(d,m)=>({position:P.some("absolute"),left:P.some(d-i.left+"px"),top:P.some(m-i.top+"px")}),(d,m)=>({position:P.some("fixed"),left:P.some(d+"px"),top:P.some(m+"px")}));return{right:P.none(),bottom:P.none(),...c}},cZ=(t,s,i)=>t.fold((c,d)=>kC(c+s,d+i),(c,d)=>Up(c+s,d+i),(c,d)=>Y1(c+s,d+i)),X3=(t,s,i,c)=>{const d=(m,p)=>(x,E)=>{const R=m(s,i,c);return p(x.getOr(R.left),E.getOr(R.top))};return t.fold(d(Vp,kC),d(B0,Up),d(wT,Y1))},kC=bT.offset,Up=bT.absolute,Y1=bT.fixed,XL=(t,s)=>{const i=As(t,s);return be(i)?NaN:parseInt(i,10)},lZ=(t,s)=>{const i=t.element,c=XL(i,s.leftAttr),d=XL(i,s.topAttr);return isNaN(c)||isNaN(d)?P.none():P.some(kn(c,d))},uZ=(t,s,i)=>{const c=t.element;Mt(c,s.leftAttr,i.left+"px"),Mt(c,s.topAttr,i.top+"px")},dZ=(t,s)=>{const i=t.element;xs(i,s.leftAttr),xs(i,s.topAttr)},fZ=(t,s,i,c)=>lZ(t,s).fold(()=>i,d=>Y1(d.left+c.left,d.top+c.top)),hZ=(t,s,i,c,d,m)=>{const p=fZ(t,s,i,c),x=s.mustSnap?QL(t,s,p,d,m):eF(t,s,p,d,m),E=wT(p,d,m);return uZ(t,s,E),x.fold(()=>({coord:Y1(E.left,E.top),extra:P.none()}),R=>({coord:R.output,extra:R.extra}))},mZ=(t,s)=>{dZ(t,s)},JL=(t,s,i,c)=>gr(t,d=>{const m=d.sensor;return KL(s,m,d.range.left,d.range.top,i,c)?P.some({output:X3(d.output,s,i,c),extra:d.extra}):P.none()}),QL=(t,s,i,c,d)=>{const m=s.getSnapPoints(t);return JL(m,i,c,d).orThunk(()=>Mo(m,(E,R)=>{const N=R.sensor,z=aZ(i,N,R.range.left,R.range.top,c,d);return E.deltas.fold(()=>({deltas:P.some(z),snap:P.some(R)}),Y=>{const J=(z.left+z.top)/2,se=(Y.left+Y.top)/2;return J<=se?{deltas:P.some(z),snap:P.some(R)}:E})},{deltas:P.none(),snap:P.none()}).snap.map(E=>({output:X3(E.output,i,c,d),extra:E.extra})))},eF=(t,s,i,c,d)=>{const m=s.getSnapPoints(t);return JL(m,i,c,d)},pZ=(t,s,i)=>({coord:X3(t.output,t.output,s,i),extra:t.extra});var gZ=Object.freeze({__proto__:null,snapTo:(t,s,i,c)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const m=ya(t.element),p=ta(m),x=z$(d),E=pZ(c,p,x),R=YL(E.coord,p,x);D(d,R)}}});const J3="data-initial-z-index",Q3=t=>{ec(t.element).filter(Uo).each(s=>{Js(s,J3).fold(()=>me(s,"z-index"),i=>b(s,"z-index",i)),xs(s,J3)})},vZ=t=>{ec(t.element).filter(Uo).each(s=>{X(s,"z-index").each(i=>{Mt(s,J3,i)}),b(s,"z-index",L(t.element,"z-index"))})},tF=(t,s)=>{t.getSystem().addToGui(s),vZ(s)},bZ=t=>{Q3(t),t.getSystem().removeFromGui(t)},nF=(t,s,i)=>t.getSystem().build(Yu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var yZ=Ta("snaps",[rt("getSnapPoints"),ho("onSensor"),rt("leftAttr"),rt("topAttr"),Pe("lazyViewport",Fi),Pe("mustSnap",!1)]);const eR=[Pe("useFixed",Vt),rt("blockerClass"),Pe("getTarget",mn),Pe("onDrag",ue),Pe("repositionTarget",!0),Pe("onDrop",ue),Os("getBounds",Fi),yZ],wZ=t=>ud(X(t,"left"),X(t,"top"),X(t,"position"),(s,i,c)=>(c==="fixed"?Y1:kC)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Qs(t);return Up(s.left,s.top)}),CZ=(t,s,i,c,d)=>{const m=d.bounds,p=B0(s,i,c),x=Hs(p.left,m.x,m.x+m.width-d.width),E=Hs(p.top,m.y,m.y+m.height-d.height),R=Up(x,E);return s.fold(()=>{const N=Vp(R,i,c);return kC(N.left,N.top)},A(R),()=>{const N=wT(R,i,c);return Y1(N.left,N.top)})},xZ=(t,s,i,c,d,m,p)=>{const x=s.fold(()=>{const E=cZ(i,m.left,m.top),R=wT(E,c,d);return Y1(R.left,R.top)},E=>{const R=hZ(t,E,i,m,c,d);return R.extra.each(N=>{E.onSensor(t,N)}),R.coord});return CZ(t,x,c,d,p)},SZ=(t,s,i,c)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const m=ya(t.element),p=ta(m),x=z$(d),E=wZ(d),R=xZ(t,s.snaps,E,p,x,c,i),N=YL(R,p,x);D(d,N)}s.onDrag(t,d,c)},oF=(t,s)=>({bounds:t.getBounds(),height:It(s.element),width:vs(s.element)}),tR=(t,s,i,c,d)=>{const m=i.update(c,d),p=i.getStartData().getOrThunk(()=>oF(s,t));m.each(x=>{SZ(t,s,p,x)})},sF=(t,s,i,c)=>{s.each(bZ),i.snaps.each(m=>{mZ(t,m)});const d=i.getTarget(t.element);c.reset(),i.onDrop(t,d)},nR=t=>(s,i)=>{const c=d=>{i.setStartData(oF(s,d))};return ns([Ke(Ov(),d=>{i.getStartData().each(()=>c(d))}),...t(s,i,c)])},EZ=t=>ns([Ke(Aa(),t.forceDrop),Ke(fy(),t.drop),Ke(fg(),(s,i)=>{t.move(i.event)}),Ke(hg(),t.delayDrop)]);var xT=Object.freeze({__proto__:null,getData:t=>P.from(kn(t.x,t.y)),getDelta:(t,s)=>kn(s.left-t.left,s.top-t.top)});const rF=(t,s,i)=>[Ke(Aa(),(c,d)=>{if(d.event.raw.button!==0)return;d.stop();const p=()=>sF(c,P.some(R),t,s),x=oN(p,200),E={drop:p,delayDrop:x.schedule,forceDrop:p,move:z=>{x.cancel(),tR(c,t,s,xT,z)}},R=nF(c,t.blockerClass,EZ(E));(()=>{i(c),tF(c,R)})()})],_Z=[...eR,ms("dragger",{handlers:nR(rF)})],TZ=t=>ns([Ke(wu(),t.forceDrop),Ke(Cu(),t.drop),Ke(_v(),t.drop),Ke(Ev(),(s,i)=>{t.move(i.event)})]),AZ=t=>{const s=t[0];return P.some(kn(s.clientX,s.clientY))};var oR=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?AZ(i):P.none()},getDelta:(t,s)=>kn(s.left-t.left,s.top-t.top)});const iF=(t,s,i)=>{const c=ss(),d=m=>{sF(m,c.get(),t,s),c.clear()};return[Ke(wu(),(m,p)=>{p.stop();const x=()=>d(m),E={drop:x,delayDrop:ue,forceDrop:x,move:z=>{tR(m,t,s,oR,z)}},R=nF(m,t.blockerClass,TZ(E));c.set(R),(()=>{i(m),tF(m,R)})()}),Ke(Ev(),(m,p)=>{p.stop(),tR(m,t,s,oR,p.event)}),Ke(Cu(),(m,p)=>{p.stop(),d(m)}),Ke(_v(),d)]},kZ=[...eR,ms("dragger",{handlers:nR(iF)})],OZ=(t,s,i)=>[...rF(t,s,i),...iF(t,s,i)],DZ=[...eR,ms("dragger",{handlers:nR(OZ)})];var PZ=Object.freeze({__proto__:null,mouse:_Z,touch:kZ,mouseOrTouch:DZ}),MZ=Object.freeze({__proto__:null,init:()=>{let t=P.none(),s=P.none();const i=()=>{t=P.none(),s=P.none()},c=(E,R)=>{const N=t.map(z=>E.getDelta(z,R));return t=P.some(R),N},d=(E,R)=>E.getData(R).bind(N=>c(E,N)),m=E=>{s=P.some(E)},p=()=>s,x=A({});return Cc({readState:x,reset:i,update:d,getStartData:p,setStartData:m})}});const X1=qy({branchKey:"mode",branches:PZ,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:MZ,apis:gZ}),sR=40,ST=sR/2,cF=(t,s,i,c,d,m)=>t.fold(()=>X1.snap({sensor:Up(i-ST,c-ST),range:kn(d,m),output:Up(P.some(i),P.some(c)),extra:{td:s}}),p=>{const x=i-ST,E=c-ST,R=sR,N=sR,z=p.element.dom.getBoundingClientRect();return X1.snap({sensor:Up(x,E),range:kn(R,N),output:Up(P.some(i-z.width/2),P.some(c-z.height/2)),extra:{td:s}})}),lF=(t,s,i)=>{const c=(d,m)=>d.exists(p=>yo(p,m));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,m)=>{const p=m.td;c(s.get(),p)||(s.set(p),i(p))},mustSnap:!0}},uF=t=>Oo(ci.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:yt([X1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Lw.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),BZ=(t,s)=>{const i=rn([]),c=rn([]),d=rn(!1),m=ss(),p=ss(),x=_t=>{const Xe=Li(_t);return cF(J.getOpt(s),_t,Xe.x,Xe.y,Xe.width,Xe.height)},E=()=>He(i.get(),_t=>x(_t)),R=_t=>{const Xe=Li(_t);return cF(se.getOpt(s),_t,Xe.right,Xe.bottom,Xe.width,Xe.height)},N=()=>He(c.get(),_t=>R(_t)),z=lF(E,m,_t=>{p.get().each(Xe=>{t.dispatch("TableSelectorChange",{start:_t,finish:Xe})})}),Y=lF(N,p,_t=>{m.get().each(Xe=>{t.dispatch("TableSelectorChange",{start:Xe,finish:_t})})}),J=uF(z),se=uF(Y),fe=jr(J.asSpec()),Me=jr(se.asSpec()),we=(_t,Xe,Dn,Ht)=>{const hn=Xe.dom.getBoundingClientRect();me(_t.element,"display");const tn=Ol(Ae.fromDom(t.getBody())).dom.innerHeight,bo=Dn(hn),mo=Ht(hn,tn);(bo||mo)&&b(_t.element,"display","none")},ke=(_t,Xe,Dn,Ht)=>{const hn=Dn(Xe);X1.snapTo(_t,hn),we(_t,Xe,mo=>mo[Ht]<0,(mo,Kn)=>mo[Ht]>Kn)},Se=_t=>ke(fe,_t,x,"top"),ot=()=>m.get().each(Se),Qe=_t=>ke(Me,_t,R,"bottom"),lt=()=>p.get().each(Qe);if(en().deviceType.isTouch()){const _t=Xe=>He(Xe,Ae.fromDom);t.on("TableSelectionChange",Xe=>{d.get()||(Ul(s,fe),Ul(s,Me),d.set(!0));const Dn=Ae.fromDom(Xe.start),Ht=Ae.fromDom(Xe.finish);m.set(Dn),p.set(Ht),P.from(Xe.otherCells).each(hn=>{i.set(_t(hn.upOrLeftCells)),c.set(_t(hn.downOrRightCells)),Se(Dn),Qe(Ht)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{ot(),lt()}),t.on("TableSelectionClear",()=>{d.get()&&(Fu(fe),Fu(Me),d.set(!1)),m.clear(),p.clear()})}};var NZ=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const IZ=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",$Z=(t,s,i)=>{var c;const d=(c=s.delimiter)!==null&&c!==void 0?c:"›",m=(R,N,z)=>ci.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":z,"aria-level":z+1}},components:[Ws(R)],action:Y=>{t.focus(),t.selection.select(N),t.nodeChanged()},buttonBehaviours:yt([qu.button(i.isDisabled),Kr()])}),p=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ws(` ${d} `)]}),x=R=>Mo(R,(N,z,Y)=>{const J=m(z.name,z.element,Y);return Y===0?N.concat([J]):N.concat([p(),J])},[]),E=R=>{const N=[];let z=R.length;for(;z-- >0;){const Y=R[z];if(Y.nodeType===1&&!IZ(Y)){const J=CB(t,Y);if(J.isDefaultPrevented()||N.push({name:J.name,element:Y}),J.isPropagationStopped())break}}return N};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:yt([cn.config({mode:"flow",selector:"div[role=button]"}),En.config({disabled:i.isDisabled}),Kr(),ps.config({}),Nn.config({}),Fn("elementPathEvents",[ys((R,N)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>cn.focusIn(R)),t.on("NodeChange",z=>{const Y=E(z.parents),J=Y.length>0?x(Y):[];Nn.set(R,J)})})])]),components:[]}};var Wp;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Wp||(Wp={}));const dF=(t,s,i,c,d)=>{const m={height:CC(c+s.top,_O(t),TO(t))};return i===Wp.Both&&(m.width=CC(d+s.left,EO(t),bE(t))),m},fF=(t,s,i)=>{const c=Ae.fromDom(t.getContainer()),d=dF(t,s,i,We(c),uo(c));lr(d,(m,p)=>{et(m)&&b(c,p,cT(m))}),kH(t)},LZ=t=>{const s=wE(t);return s===!1?Wp.None:s==="both"?Wp.Both:Wp.Vertical},ET=(t,s,i,c)=>{const m=kn(i*20,c*20);return fF(t,m,s),P.some(!0)},FZ=(t,s)=>{const i=LZ(t);if(i===Wp.None)return P.none();const c=i===Wp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(Yl("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(c),"data-mce-name":"resize-handle"},behaviours:[X1.config({mode:"mouse",repositionTarget:!1,onDrag:(d,m,p)=>fF(t,p,i),blockerClass:"tox-blocker"}),cn.config({mode:"special",onLeft:()=>ET(t,i,-1,0),onRight:()=>ET(t,i,1,0),onUp:()=>ET(t,i,0,-1),onDown:()=>ET(t,i,0,1)}),ps.config({}),dn.config({}),Di.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},HZ=(t,s)=>{const i=(c,d,m)=>Nn.set(c,[Ws(s.translate(["{0} "+m,d[m]]))]);return ci.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:yt([qu.button(s.isDisabled),Kr(),ps.config({}),Nn.config({}),Nt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Fn("wordcount-events",[Hl(c=>{const d=Nt.getValue(c),m=d.mode==="words"?"characters":"words";Nt.setValue(c,{mode:m,count:d.count}),i(c,d.count,m)}),ys(c=>{t.on("wordCountUpdate",d=>{const{mode:m}=Nt.getValue(c);Nt.setValue(c,{mode:m,count:d.wordCount}),i(c,d.wordCount,m)})})])]),eventOrder:{[Ha()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},zZ=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":bl.translate(["Powered by {0}","Tiny"])},innerHtml:NZ.trim()},behaviours:yt([dn.config({})])}]}),c=()=>{const x=k1("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ws(bl.translate(["Press {0} for help",x]))]}},d=()=>{const x=[];return t.hasPlugin("wordcount")&&x.push(HZ(t,s)),dw(t)&&x.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}},m=()=>{const x=[],E=dM(t),R=cM(t),N=dw(t)||t.hasPlugin("wordcount"),z=()=>{const Y="tox-statusbar__text-container--flex-start",J="tox-statusbar__text-container--flex-end",se="tox-statusbar__text-container--space-around";if(E){const fe="tox-statusbar__text-container-3-cols";return!N&&!R?[fe,se]:N&&!R?[fe,J]:[fe,Y]}return[N&&!R?J:Y]};return R&&x.push($Z(t,{},s)),E&&x.push(c()),N&&x.push(d()),x.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...z()]},components:x}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const x=m(),E=FZ(t,s);return x.concat(E.toArray())})()}},hF=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),VZ=(t,s)=>{const i=t.inline,c=i?lj:ij,d=mw(t)?fU:Y9,m=uj(),p=ss(),x=ss(),E=ss(),Y=en().deviceType.isTouch()?["tox-platform-touch"]:[],J=IO(t),se=Op(t),fe=Oo({dom:{tag:"div",classes:["tox-anchorbar"]}}),Me=Oo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),we=()=>m.mainUi.get().map(sn=>sn.outerContainer).bind(rs.getHeader),ke=()=>Ln.fromOption(m.dialogUi.get().map(sn=>sn.sink),"UI has not been rendered"),Se=()=>Ln.fromOption(m.popupUi.get().map(sn=>sn.sink),"(popup) UI has not been rendered"),ot=m.lazyGetInOuterOrDie("anchor bar",fe.getOpt),Qe=m.lazyGetInOuterOrDie("bottom anchor bar",Me.getOpt),lt=m.lazyGetInOuterOrDie("toolbar",rs.getToolbar),_t=m.lazyGetInOuterOrDie("throbber",rs.getThrobber),Xe=W9({popup:Se,dialog:ke},t,ot,Qe),Dn=()=>{const sn={attributes:{[ob]:J?$u.BottomToTop:$u.TopToBottom}},Bn=rs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Xe.popup,onEscape:()=>{t.focus()}}),Vo=rs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Xe.popup.shared.getSink,providers:Xe.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:sv=>{xB(t,sv)},type:se,lazyToolbar:lt,lazyHeader:()=>we().getOrDie("Could not find header element"),...sn}),Co=rs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Xe.popup.shared.providers,onEscape:()=>{t.focus()},type:se}),ma=fw(t),_l=TE(t),sf=SE(t),Xi=uM(t),Tl=Ht(),lu=ma||_l||sf,fc=()=>ma?[Co]:_l?[Vo]:[],Xf=Xi?[Tl,Bn]:[Bn];return rs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(lu?[]:["tox-editor-header--empty"]),...sn},components:Tn([sf?Xf:[],fc(),Xb(t)?[]:[fe.asSpec()]]),sticky:mw(t),editor:t,sharedBackstage:Xe.popup.shared})},Ht=()=>rs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),hn=()=>{const sn=rs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Bn=rs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[sn,Bn]}},tn=()=>{const sn=$O(t),Bn=yo(Jr(),sn)&&L(sn,"display")==="grid",Vo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Y),attributes:{...bl.isRtl()?{dir:"rtl"}:{}}},behaviours:yt([ri.config({useFixed:()=>d.isDocked(we)})])},Co={dom:{styles:{width:document.body.clientWidth+"px"}},events:ns([Ke(Eh(),sf=>{b(sf.element,"width",document.body.clientWidth+"px")})])},ma=jr(es(Vo,Bn?Co:{})),_l=I4(ma);return x.set(_l),{sink:ma,mothership:_l}},bo=()=>{const sn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Y),attributes:{...bl.isRtl()?{dir:"rtl"}:{}}},behaviours:yt([ri.config({useFixed:()=>d.isDocked(we),getBounds:()=>s.getPopupSinkBounds()})])},Bn=jr(sn),Vo=I4(Bn);return E.set(Vo),{sink:Bn,mothership:Vo}},mo=()=>{const sn=Dn(),Bn=hn(),Vo=rs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Xe.popup}),Co=rs.parts.viewWrapper({backstage:Xe.popup}),ma=aM(t)&&!i?P.some(zZ(t,Xe.popup.shared.providers)):P.none(),_l=Tn([J?[]:[sn],i?[]:[Bn],J?[sn]:[]]),sf=rs.parts.editorContainer({components:Tn([_l,i?[]:[Me.asSpec()]])}),Xi=hw(t),Tl={role:"application",...bl.isRtl()?{dir:"rtl"}:{},...Xi?{"aria-hidden":"true"}:{}},lu=jr(rs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(J?["tox-tinymce--toolbar-bottom"]:[]).concat(Y),styles:{visibility:"hidden",...Xi?{opacity:"0",border:"0"}:{}},attributes:Tl},components:[sf,...i?[]:[Co,...ma.toArray()],Vo],behaviours:yt([Kr(),En.config({disableClass:"tox-tinymce--disabled"}),cn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),fc=I4(lu);return p.set(fc),{mothership:fc,outerContainer:lu}},Kn=sn=>{const Bn=cT(CL(t)),Vo=cT(SL(t));return t.inline||(Te("div","width",Vo)&&b(sn.element,"width",Vo),Te("div","height",Bn)?b(sn.element,"height",Bn):b(sn.element,"height","400px")),Bn},xt=sn=>{t.addShortcut("alt+F9","focus menubar",()=>{rs.focusMenubar(sn)}),t.addShortcut("alt+F10","focus toolbar",()=>{rs.focusToolbar(sn)}),t.addCommand("ToggleToolbarDrawer",(Bn,Vo)=>{Vo!=null&&Vo.skipFocus?rs.toggleToolbarDrawerWithoutFocusing(sn):rs.toggleToolbarDrawer(sn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>rs.isToolbarDrawerToggled(sn))},Ut=sn=>{const{mainUi:Bn,popupUi:Vo,uiMotherships:Co}=sn;is(Dp(t),(F0,IT)=>{t.ui.registry.addGroupToolbarButton(IT,F0)});const{buttons:ma,menuItems:_l,contextToolbars:sf,sidebars:Xi,views:Tl}=t.ui.registry.getAll(),lu=NO(t),fc={menuItems:_l,menus:mM(t),menubar:oM(t),toolbar:lu.getOrThunk(()=>uw(t)),allowToolbarGroups:se===Xl.floating,buttons:ma,sidebar:Xi,views:Tl};xt(Bn.outerContainer),UD(t,Bn.mothership,Co),d.setup(t,Xe.popup.shared,we),Vj(t,Xe.popup),iZ(t,Xe.popup.shared.getSink,Xe.popup),SU(t),hC(t,_t,Xe.popup.shared),$L(t,sf,Vo.sink,{backstage:Xe.popup}),BZ(t,Vo.sink);const Xf=t.getElement(),sv=Kn(Bn.outerContainer),wR={targetNode:Xf,height:sv};return c.render(t,sn,fc,Xe.popup,wR)},In=sn=>(E.set(sn.mothership),sn),bn=()=>{const sn=mo(),Bn=tn(),Vo=Rp(t)?bo():In(Bn);m.dialogUi.set(Bn),m.popupUi.set(Vo),m.mainUi.set(sn);const Co={popupUi:Vo,dialogUi:Bn,mainUi:sn,uiMotherships:m.getUiMotherships()};return Ut(Co)};return{popups:{backstage:Xe.popup,getMothership:()=>hF("popups",E)},dialogs:{backstage:Xe.dialog,getMothership:()=>hF("dialogs",x)},renderUI:bn}},mF=(t,s)=>{const i=Js(t,"id").fold(()=>{const c=zt("dialog-label");return Mt(s,"id",c),c},mn);Mt(t,"aria-labelledby",i)},pF=A([rt("lazySink"),_o("dragBlockClass"),Os("getBounds",Fi),Pe("useTabstopAt",wt),Pe("firstTabstop",0),Pe("eventOrder",{}),Pr("modalBehaviours",[cn]),oa("onExecute"),Iy("onEscape")]),gm={sketch:mn},UZ=A([qa({name:"draghandle",overrides:(t,s)=>({behaviours:yt([X1.config({mode:"mouse",getTarget:i=>rc(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Bo({schema:[rt("dom")],name:"title"}),Bo({factory:gm,schema:[rt("dom")],name:"close"}),Bo({factory:gm,schema:[rt("dom")],name:"body"}),qa({factory:gm,schema:[rt("dom")],name:"footer"}),ml({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[Pe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pe("components",[])],name:"blocker"})]),rR=(t,s,i,c)=>{const d=ss(),m=J=>{d.set(J);const se=t.lazySink(J).getOrDie(),fe=c.blocker(),Me=se.getSystem().build({...fe,components:fe.components.concat([Sc(J)]),behaviours:yt([dn.config({}),Fn("dialog-blocker-events",[Zm(tl(),()=>{nd.isBlocked(J)?ue():cn.focusIn(J)})])])});Ul(se,Me),cn.focusIn(J)},p=J=>{d.clear(),ec(J.element).each(se=>{J.getSystem().getByDom(se).each(fe=>{Fu(fe)})})},x=J=>Hd(J,t,"body"),E=J=>$o(J,t,"footer"),R=(J,se)=>{nd.block(J,se)},N=J=>{nd.unblock(J)},z=zt("modal-events"),Y={...t.eventOrder,[za()]:[z].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:m,hide:p,getBody:x,getFooter:E,setIdle:N,setBusy:R},eventOrder:Y,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Mr(t.modalBehaviours,[Nn.config({}),cn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),nd.config({getRoot:d.get}),Fn(z,[ys(J=>{mF(J.element,Hd(J,t,"title").element)})])])}},mr=ki({name:"ModalDialog",configFields:pF(),partFields:UZ(),factory:rR,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),WZ=pn([ir,qO].concat(A1)),jZ=Nm,iR=[YO("button"),Ic,Ls("align","end",["start","end"]),yw,Jl,XC("buttonType",["primary","secondary"])],gF=[...iR,$f],aR=[ts("type",["submit","cancel","custom"]),...gF],J1=[ts("type",["menu"]),Lf,e0,Ic,Or("items",WZ),...iR],vF=[...iR,ts("type",["togglebutton"]),e0,Ic,Lf,Ti("active",!1)],ZZ=wr("type",{submit:aR,cancel:aR,custom:aR,menu:J1,togglebutton:vF}),qZ=[ir,$f,ts("level",["info","warn","error","success"]),NM,Pe("url","")],GZ=pn(qZ),KZ=t=>[ir,t],YZ=[ir,$f,Jl,YO("button"),Ic,K7,XC("buttonType",["primary","secondary","toolbar"]),yw],XZ=pn(YZ),N0=[ir,qO],ef=N0.concat([ME]),cR=N0.concat([GO,Jl]),OC=pn(cR),lR=Nm,_T=ef.concat([Mp("auto")]),Q1=pn(_T),TT=KC([Qb,$f,NM]),JZ=ef.concat([_i("storageKey","default")]),bF=pn(JZ),yF=ti,eq=pn(ef),tq=ti,nq=N0.concat([_i("tag","textarea"),nr("scriptId"),nr("scriptUrl"),pf("onFocus"),Fm("settings",void 0)]),wF=N0.concat([_i("tag","textarea"),kr("init")]),CF=Im(t=>fs("customeditor.old",_a(wF),t).orThunk(()=>fs("customeditor.new",_a(nq),t))),uR=ti,oq=pn(ef),sq=wd(),xF=t=>[ir,Lm("columns"),t],rq=[ir,nr("html"),Ls("presets","presentation",["presentation","document"])],iq=pn(rq),aq=ef.concat([Ti("border",!1),Ti("sandboxed",!0),Ti("streamContent",!1),Ti("transparent",!0)]),dR=pn(aq),fR=ti,cq=pn(N0.concat([Ei("height")])),SF=pn([nr("url"),ug("zoom"),ug("cachedWidth"),ug("cachedHeight")]),lq=ef.concat([Ei("inputMode"),Ei("placeholder"),Ti("maximized",!1),Jl]),uq=pn(lq),EF=ti,dq=t=>[ir,GO,t,Ls("align","start",["start","center","end"])],fq=[$f,Qb],ev=[$f,Or("items",iy("items",()=>hR))],hR=yd([pn(fq),pn(ev)]),hq=ef.concat([Or("items",hR),Jl]),AT=pn(hq),I0=ti,kT=ef.concat([YC("items",[$f,Qb]),dg("size",1),Jl]),_F=pn(kT),OT=ti,dc=ef.concat([Ti("constrain",!0),Jl]),DT=pn(dc),mR=pn([nr("width"),nr("height")]),TF=N0.concat([GO,dg("min",0),dg("max",0)]),mq=pn(TF),pq=bh,jp=[ir,Or("header",ti),Or("cells",$s(ti))],_K=pn(jp),gq=ef.concat([Ei("placeholder"),Ti("maximized",!1),Jl]),AF=pn(gq),$0=ti,DC=[ts("type",["directory","leaf"]),BM,nr("id"),el("menu",t3)],kF=pn(DC),bq=DC.concat([Or("children",iy("children",()=>Wt("type",{directory:OF,leaf:kF})))]),OF=pn(bq),yq=Wt("type",{directory:OF,leaf:kF}),L0=[ir,Or("items",yq),pf("onLeafAction"),pf("onToggleExpand"),Cd("defaultExpandedIds",[],ti),Ei("defaultSelectedId")],TK=pn(L0),wq=ef.concat([Ls("filetype","file",["image","media","file"]),Jl,Ei("picker_text")]),Cq=pn(wq),AK=pn([Qb,KO]),pR=t=>Ur("items","items",Eo(),$s(Im(s=>fs(`Checking item of ${t}`,gR,s).fold(i=>Ln.error($m(i)),i=>Ln.value(i))))),gR=vi(()=>Wt("type",{alertbanner:GZ,bar:pn(KZ(pR("bar"))),button:XZ,checkbox:OC,colorinput:bF,colorpicker:eq,dropzone:oq,grid:pn(xF(pR("grid"))),iframe:dR,input:uq,listbox:AT,selectbox:_F,sizeinput:DT,slider:mq,textarea:AF,urlinput:Cq,customeditor:CF,htmlpanel:iq,imagepreview:cq,collection:Q1,label:pn(dq(pR("label"))),table:_K,tree:TK,panel:DF})),RC=[ir,Pe("classes",[]),Or("items",gR)],DF=pn(RC),xq=[YO("tab"),BM,Or("items",gR)],RF=[ir,YC("tabs",xq)],Sq=pn(RF),kK=gF,e=ZZ,n=pn([nr("title"),ni("body",Wt("type",{panel:DF,tabpanel:Sq})),_i("size","normal"),Cd("buttons",[],e),Pe("initialData",{}),Os("onAction",ue),Os("onChange",ue),Os("onSubmit",ue),Os("onClose",ue),Os("onCancel",ue),Os("onTabChange",ue)]),o=t=>fs("dialog",n,t),r=pn([ts("type",["cancel","custom"]),...kK]),a=pn([nr("title"),nr("url"),ug("height"),ug("width"),JC("buttons",r),Os("onAction",ue),Os("onCancel",ue),Os("onClose",ue),Os("onMessage",ue)]),u=t=>fs("dialog",a,t),h=t=>W(t)?[t].concat(Le(Xp(t),h)):I(t)?Le(t,h):[],v=t=>q(t.type)&&q(t.name),C={checkbox:lR,colorinput:yF,colorpicker:tq,dropzone:sq,input:EF,iframe:fR,imagepreview:SF,selectbox:OT,sizeinput:mR,slider:pq,listbox:I0,size:mR,textarea:$0,urlinput:AK,customeditor:uR,collection:TT,togglemenuitem:jZ},O=t=>P.from(C[t.type]),F=t=>po(h(t),v),H=t=>{const s=F(t),i=Le(s,c=>O(c).fold(()=>[],d=>[ni(c.name,d)]));return pn(i)},j=t=>{var s;const i=Il(o(t)),c=H(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:c,initialData:d}},oe={open:(t,s)=>{const i=j(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Il(u(s));return t(i)},redial:t=>j(t)};var re=Object.freeze({__proto__:null,events:(t,s)=>{const i=(c,d)=>{t.updateState.each(m=>{const p=m(c,d);s.set(p)}),t.renderComponents.each(m=>{const p=m(d,s.get());(t.reuseDom?Da:Yk)(c,p)})};return ns([Ke(_u(),(c,d)=>{const m=d;if(!m.universal){const p=t.channel;ct(m.channels,p)&&i(c,m.data)}}),ys((c,d)=>{t.initialData.each(m=>{i(c,m)})})])}}),Ce=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),Ee=[rt("channel"),_o("renderComponents"),_o("updateState"),_o("initialData"),Ti("reuseDom",!0)],Be=Object.freeze({__proto__:null,init:()=>{const t=rn(P.none()),s=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const qe=Gr({fields:Ee,name:"reflecting",active:re,apis:Ce,state:Be}),bt=t=>{const s=[],i={};return lr(t,(c,d)=>{c.fold(()=>{s.push(d)},m=>{i[d]=m})}),s.length>0?Ln.error(s):Ln.value(i)},Rt=(t,s,i)=>{const c=Oo(h0.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:He(t.items,m=>RD(d,m,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[c.asSpec()]}],behaviours:yt([cn.config({mode:"acyclic",useTabstopAt:je(m0)}),wl.memento(c),jw(c,{postprocess:d=>bt(d).fold(m=>(console.error(m),{}),mn)}),Fn("dialog-body-panel",[Ke(tl(),(d,m)=>{d.getSystem().broadcastOn([qw],{newFocus:P.some(m.event.target)})})])])}},dt=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:Vd(t.action),behaviours:Mr(t.tabButtonBehaviours,[dn.config({}),cn.config({mode:"execution",useSpace:!0,useEnter:!0}),Nt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Ue=Sr({name:"TabButton",configFields:[Pe("uid",void 0),rt("value"),Ur("dom","dom",J0(()=>({attributes:{role:"tab",id:zt("aria"),"aria-selected":"false"}})),yu()),_o("action"),Pe("domModification",{}),Pr("tabButtonBehaviours",[dn,cn,Nt]),rt("view")],factory:dt}),Ye=A([rt("tabs"),rt("dom"),Pe("clickToDismiss",!1),Pr("tabbarBehaviours",[wo,cn]),al(["tabClass","selectedClass"])]),Ot=pl({factory:Ue,name:"tabs",unit:"tab",overrides:t=>{const s=(c,d)=>{wo.dehighlight(c,d),on(c,gy(),{tabbar:c,button:d})},i=(c,d)=>{wo.highlight(c,d),on(c,py(),{tabbar:c,button:d})};return{action:c=>{const d=c.getSystem().getByUid(t.uid).getOrDie(),m=wo.isHighlighted(d,c);(m&&t.clickToDismiss?s:m?ue:i)(d,c)},domModification:{classes:[t.markers.tabClass]}}}}),Yt=A([Ot]),zn=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Mr(t.tabbarBehaviours,[wo.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,m)=>{Mt(m.element,"aria-selected","true")},onDehighlight:(d,m)=>{Mt(m.element,"aria-selected","false")}}),cn.config({mode:"flow",getInitial:d=>wo.getHighlighted(d).map(m=>m.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Qn=ki({name:"Tabbar",configFields:Ye(),partFields:Yt(),factory:zn}),Ro=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Mr(t.tabviewBehaviours,[Nn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Ho=Sr({name:"Tabview",configFields:[Pr("tabviewBehaviours",[Nn])],factory:Ro}),cs=A([Pe("selectFirst",!0),ho("onChangeTab"),ho("onDismissTab"),Pe("tabs",[]),Pr("tabSectionBehaviours",[])]),Ri=Bo({factory:Qn,schema:[rt("dom"),Qc("markers",[rt("tabClass"),rt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),zo=Bo({factory:Ho,name:"tabview"}),Tt=A([Ri,zo]),Kt=(t,s,i,c)=>{const d=p=>{const x=Nt.getValue(p);$o(p,t,"tabview").each(E=>{An(t.tabs,N=>N.value===x).each(N=>{const z=N.view();Js(p.element,"id").each(Y=>{Mt(E.element,"aria-labelledby",Y)}),Nn.set(E,z),t.onChangeTab(E,p,z)})})},m=(p,x)=>{$o(p,t,"tabbar").each(E=>{x(E).each(Au)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Fd(t.tabSectionBehaviours),events:ns(Tn([t.selectFirst?[ys((p,x)=>{m(p,wo.getFirst)})]:[],[Ke(py(),(p,x)=>{const E=x.event.button;d(E)}),Ke(gy(),(p,x)=>{const E=x.event.button;t.onDismissTab(p,E)})]])),apis:{getViewItems:p=>$o(p,t,"tabview").map(x=>Nn.contents(x)).getOr([]),showTab:(p,x)=>{m(p,R=>{const N=wo.getCandidates(R);return An(N,Y=>Nt.getValue(Y)===x).filter(Y=>!wo.isHighlighted(R,Y))})}}}},to=ki({name:"TabSection",configFields:cs(),partFields:Tt(),factory:Kt,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),kt=(t,s,i)=>He(t,(c,d)=>{Nn.set(i,t[d].view());const m=s.dom.getBoundingClientRect();return Nn.set(i,[]),m.height}),ln=t=>wn(Xa(t,(s,i)=>s>i?-1:s<i?1:0)),Gn=(t,s,i)=>{const c=qc(t).dom,d=rc(t,".tox-dialog-wrap").getOr(t),m=L(d,"position")==="fixed";let p;m?p=Math.max(c.clientHeight,window.innerHeight):p=Math.max(c.offsetHeight,c.scrollHeight);const x=We(s),R=s.dom.offsetLeft>=i.dom.offsetLeft+uo(i)?Math.max(We(i),x):x,N=parseInt(L(t,"margin-top"),10)||0,z=parseInt(L(t,"margin-bottom"),10)||0,J=We(t)+N+z-R;return p-J},Bt=(t,s)=>{wn(t).each(i=>to.showTab(s,i.value))},jn=(t,s)=>{b(t,"height",s+"px"),b(t,"flex-basis",s+"px")},Zn=(t,s,i)=>{rc(t,'[role="dialog"]').each(c=>{hs(c,'[role="tablist"]').each(d=>{i.get().map(m=>(b(s,"height","0"),b(s,"flex-basis","0"),Math.min(m,Gn(c,s,d)))).each(m=>{jn(s,m)})})})},_r=t=>hs(t,'[role="tabpanel"]'),Po=t=>{const s=ss();return{extraEvents:[ys(d=>{const m=d.element;_r(m).each(p=>{b(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(x=>{const E=kt(t,p,x);ln(E).fold(s.clear,s.set)}),Zn(m,p,s),me(p,"visibility"),Bt(t,d),requestAnimationFrame(()=>{Zn(m,p,s)})})}),Ke(Eh(),d=>{const m=d.element;_r(m).each(p=>{Zn(m,p,s)})}),Ke(fN,(d,m)=>{const p=d.element;_r(p).each(x=>{const E=cl(gs(x));b(x,"visibility","hidden");const R=X(x,"height").map(Y=>parseInt(Y,10));me(x,"height"),me(x,"flex-basis");const N=x.dom.getBoundingClientRect().height;R.forall(Y=>N>Y)?(s.set(N),Zn(p,x,s)):R.each(Y=>{jn(x,Y)}),me(x,"visibility"),E.each(Tc)})})],selectFirst:!1}},Tr="send-data-to-section",Sl="send-data-to-view",tf=(t,s,i)=>{const c=rn({}),d=R=>{const N=Nt.getValue(R),z=bt(N).getOr({}),Y=c.get(),J=es(Y,z);c.set(J)},m=R=>{const N=c.get();Nt.setValue(R,N)},p=rn(null),x=He(t.tabs,R=>({value:R.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ws(i.shared.providers.translate(R.title))],view:()=>[h0.sketch(N=>({dom:{tag:"div",classes:["tox-form"]},components:He(R.items,z=>RD(N,z,s,i)),formBehaviours:yt([cn.config({mode:"acyclic",useTabstopAt:je(m0)}),Fn("TabView.form.events",[ys(m),ku(d)]),Za.config({channels:Hm([{key:Tr,value:{onReceive:d}},{key:Sl,value:{onReceive:m}}])})])}))]})),E=Po(x);return to.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(R,N,z)=>{const Y=Nt.getValue(N);on(R,dN,{name:Y,oldName:p.get()}),p.set(Y)},tabs:x,components:[to.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Qn.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:yt([ps.config({})])}),to.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:yt([Fn("tabpanel",E.extraEvents),cn.config({mode:"acyclic"}),ro.config({find:R=>wn(to.getViewItems(R))}),Xd(P.none(),R=>(R.getSystem().broadcastOn([Tr],{}),c.get()),(R,N)=>{c.set(N),R.getSystem().broadcastOn([Sl],{})})])})},da=(t,s,i,c,d)=>{const m=E=>{const R=E.body;switch(R.type){case"tabpanel":return[tf(R,E.initialData,c)];default:return[Rt(R,E.initialData,c)]}},p=(E,R)=>P.some({isTabPanel:()=>R.body.type==="tabpanel"}),x={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(E=>({id:E})).getOr({}),...d?x:{}}},components:[],behaviours:yt([wl.childAt(0),qe.config({channel:`${__}-${s}`,updateState:p,renderComponents:m,initialData:t})])}},Fc=(t,s,i,c,d)=>da(t,s,P.some(i),c,d),ru=(t,s,i)=>{const c=da(t,s,P.none(),i,!1);return mr.parts.body(c)},Hc=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[uI(P.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:yt([ps.config({}),dn.config({})])})]}],behaviours:yt([cn.config({mode:"acyclic",useTabstopAt:je(m0)})])};return mr.parts.body(s)},iu=Gb.deviceType.isTouch(),Qt=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),ao=(t,s)=>mr.parts.close(ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:yt([ps.config({})])})),Es=()=>mr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),zs=(t,s)=>mr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:am(`<p>${ZP(s.translate(t))}</p>`)}]}]}),pr=t=>mr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),li=(t,s)=>[Yu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Yu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Gs=t=>{const s="tox-dialog",i=s+"-wrap",c=i+"__backdrop",d=s+"__disable-scroll";return mr.sketch({lazySink:t.lazySink,onEscape:m=>(t.onEscape(m),P.some(!0)),useTabstopAt:m=>!m0(m),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:am(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:iu?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:i,modalBehaviours:yt([dn.config({}),Fn("dialog-events",t.dialogEvents.concat([Zm(tl(),(m,p)=>{nd.isBlocked(m)?ue():cn.focusIn(m)}),Ke(sl(),(m,p)=>{m.getSystem().broadcastOn([qw],{newFocus:p.event.newFocus})})])),Fn("scroll-lock",[ys(()=>{Ds(Jr(),d)}),ku(()=>{Ps(Jr(),d)})]),...t.extraBehaviours]),eventOrder:{[Ha()]:["dialog-events"],[za()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Fl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},cr=t=>ci.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:yt([ps.config({}),Di.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Yl("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Un(s,um)}}),fa=(t,s,i,c)=>{const d=m=>[Ws(c.translate(m.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(m=>({id:m})).getOr({})}},components:[],behaviours:yt([qe.config({channel:`${uD}-${s}`,initialData:t,renderComponents:d})])}},au=()=>({dom:am('<div class="tox-dialog__draghandle"></div>')}),od=(t,s,i,c)=>Yu.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:[fa(t,s,P.some(i),c),au(),cr(c)],containerBehaviours:yt([X1.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>zl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),sd=(t,s,i)=>{const c=mr.parts.title(fa(t,s,P.none(),i)),d=mr.parts.draghandle(au()),m=mr.parts.close(cr(i)),p=[c].concat(t.draggable?[d]:[]).concat([m]);return Yu.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:p})},El=(t,s,i)=>sd({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),vm=(t,s,i,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${c.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),tv=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:c=>{const d=hs(t().element,".tox-dialog__header").map(m=>We(m));mr.setBusy(t(),(m,p)=>vm(c.message,p,s,d))},onUnblock:()=>{mr.setIdle(t())}}),nv="tox-dialog--fullscreen",PC="tox-dialog--width-lg",nf="tox-dialog--width-md",ov=t=>{switch(t){case"large":return P.some(PC);case"medium":return P.some(nf);default:return P.none()}},vR=(t,s)=>{const i=Ae.fromDom(s.element.dom);Ua(i,nv)||(Wa(i,[PC,nf]),ov(t).each(c=>Ds(i,c)))},Yi=(t,s)=>{const i=Ae.fromDom(t.element.dom),c=tp(i),d=An(c,m=>m===PC||m===nf).or(ov(s));vx(i,[nv,...d.toArray()])},Zp=(t,s,i)=>jr(Gs({...t,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Zw({}),...t.extraBehaviours],onEscape:c=>{Un(c,um)},dialogEvents:s,eventOrder:{[_u()]:[qe.name(),Za.name()],[za()]:["scroll-lock",qe.name(),"messages","dialog-events","alloy.base.behaviour"],[Fl()]:["alloy.base.behaviour","dialog-events","messages",qe.name(),"scroll-lock"]}})),RT=(t,s={})=>{const i=c=>{const d=He(c.items,m=>{const p=Dt(s,m.name).getOr(rn(!1));return{...m,storage:p}});return{...c,items:d}};return He(t,c=>c.type==="menu"?i(c):c)},PT=t=>Mo(t,(s,i)=>i.type==="menu"?Mo(i.items,(d,m)=>(d[m.name]=m.storage,d),s):s,{}),of=(t,s)=>[kh(tl(),sV),t(Hf,(i,c,d,m)=>{cl(gs(m.element)).fold(ue,Xv),s.onClose(),c.onClose()}),t(um,(i,c,d,m)=>{c.onCancel(i),Un(m,Hf)}),Ke(L4,(i,c)=>s.onUnblock()),Ke($4,(i,c)=>s.onBlock(c.event))],MC=(t,s)=>{const i=(d,m)=>Ke(d,(p,x)=>{c(p,(E,R)=>{m(t(),E,x.event,p)})}),c=(d,m)=>{qe.getState(d).get().each(p=>{m(p,d)})};return[...of(i,s),i(Kd,(d,m,p)=>{m.onAction(d,{name:p.name})})]},Ie=(t,s,i)=>{const c=(m,p)=>Ke(m,(x,E)=>{d(x,(R,N)=>{p(t(),R,E.event,x)})}),d=(m,p)=>{qe.getState(m).get().each(x=>{p(x.internalDialog,m)})};return[...of(c,s),c(Nw,(m,p)=>p.onSubmit(m)),c(Ma,(m,p,x)=>{p.onChange(m,{name:x.name})}),c(Kd,(m,p,x,E)=>{const R=()=>E.getSystem().isConnected()?cn.focusIn(E):void 0,N=J=>Am(J,"disabled")||Js(J,"aria-disabled").exists(se=>se==="true"),z=gs(E.element),Y=cl(z);p.onAction(m,{name:x.name,value:x.value}),cl(z).fold(R,J=>{N(J)||Y.exists(se=>Ia(J,se)&&N(se))?R():i().toOptional().filter(se=>!Ia(se.element,J)).each(R)})}),c(dN,(m,p,x)=>{p.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})}),ku(m=>{const p=t();Nt.setValue(m,p.getData())})]},$e=(t,s)=>Qw(t,t.type,s),St=(t,s,i)=>An(s,c=>c.name===i).bind(c=>c.memento.getOpt(t)),pt=(t,s)=>{const i=s.map(x=>x.footerButtons).getOr([]),c=Xr(i,x=>x.align==="start"),d=(x,E)=>Yu.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${x}`]},components:He(E,R=>R.memento.asSpec())}),m=d("start",c.pass),p=d("end",c.fail);return[m,p]},vn=(t,s,i)=>{const c=(d,m)=>{const p=He(m.buttons,E=>{const R=Oo($e(E,i));return{name:E.name,align:E.align,memento:R}}),x=E=>St(d,p,E);return P.some({lookupByName:x,footerButtons:p})};return{dom:am('<div class="tox-dialog__footer"></div>'),components:[],behaviours:yt([qe.config({channel:`${jf}-${s}`,initialData:t,updateState:c,renderComponents:pt})])}},no=(t,s,i)=>vn(t,s,i),_s=(t,s,i)=>mr.parts.footer(vn(t,s,i)),cu=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const c=ro.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return h0.getField(c,s).orThunk(()=>t.getFooter().bind(p=>qe.getState(p).get()).bind(p=>p.lookupByName(s)))}else return P.none()},MT=(t,s)=>{const i=t.getRoot();return qe.getState(i).get().map(c=>Il(fs("data",c.dataValidator,s))).getOr(s)},PF=(t,s,i)=>{const c=se=>{const fe=t.getRoot();fe.getSystem().isConnected()&&se(fe)},J={getData:()=>{const se=t.getRoot(),fe=se.getSystem().isConnected()?t.getFormWrapper():se,Me=Nt.getValue(fe),we=is(i,ke=>ke.get());return{...Me,...we}},setData:se=>{c(fe=>{const Me=J.getData(),we=es(Me,se),ke=MT(t,we),Se=t.getFormWrapper();Nt.setValue(Se,ke),lr(i,(ot,Qe)=>{go(we,Qe)&&ot.set(we[Qe])})})},setEnabled:(se,fe)=>{cu(t,se).each(fe?En.enable:En.disable)},focus:se=>{cu(t,se).each(dn.focus)},block:se=>{if(!q(se))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(fe=>{on(fe,$4,{message:se})})},unblock:()=>{c(se=>{Un(se,L4)})},showTab:se=>{c(fe=>{const Me=t.getBody();qe.getState(Me).get().exists(ke=>ke.isTabPanel())&&ro.getCurrent(Me).each(ke=>{to.showTab(ke,se)})})},redial:se=>{c(fe=>{const Me=t.getId(),we=s(se),ke=RT(we.internalDialog.buttons,i);fe.getSystem().broadcastOn([`${E_}-${Me}`],we),fe.getSystem().broadcastOn([`${uD}-${Me}`],we.internalDialog),fe.getSystem().broadcastOn([`${__}-${Me}`],we.internalDialog),fe.getSystem().broadcastOn([`${jf}-${Me}`],{...we.internalDialog,buttons:ke}),J.setData(we.initialData)})},close:()=>{c(se=>{Un(se,Hf)})},toggleFullscreen:t.toggleFullscreen};return J},BT=(t,s,i)=>{const c=zt("dialog"),d=t.internalDialog,m=El(d.title,c,i),p=rn(d.size),x=ov(p.get()).toArray(),E=(ke,Se)=>(p.set(Se.internalDialog.size),vR(Se.internalDialog.size,ke),P.some(Se)),R=ru({body:d.body,initialData:d.initialData},c,i),N=RT(d.buttons),z=PT(N),Y=un(N.length!==0,_s({buttons:N},c,i)),J=Ie(()=>we,tv(()=>fe,i.shared.providers,s),i.shared.getSink),se={id:c,header:m,body:R,footer:Y,extraClasses:x,extraBehaviours:[qe.config({channel:`${E_}-${c}`,updateState:E,initialData:t})],extraStyles:{}},fe=Zp(se,J,i),Me=(()=>{const ke=()=>{const ot=mr.getBody(fe);return ro.getCurrent(ot).getOr(ot)},Se=()=>{Yi(fe,p.get())};return{getId:A(c),getRoot:A(fe),getBody:()=>mr.getBody(fe),getFooter:()=>mr.getFooter(fe),getFormWrapper:ke,toggleFullscreen:Se}})(),we=PF(Me,s.redial,z);return{dialog:fe,instanceApi:we}},Yf=(t,s,i,c=!1,d)=>{const m=zt("dialog"),p=zt("dialog-label"),x=zt("dialog-content"),E=t.internalDialog,R=rn(E.size),N=ov(R.get()).toArray(),z=(lt,_t)=>(R.set(_t.internalDialog.size),vR(_t.internalDialog.size,lt),d(),P.some(_t)),Y=Oo(od({title:E.title,draggable:!0},m,p,i.shared.providers)),J=Oo(Fc({body:E.body,initialData:E.initialData},m,x,i,c)),se=RT(E.buttons),fe=PT(se),Me=un(se.length!==0,Oo(no({buttons:se},m,i))),we=Ie(()=>Qe,{onBlock:lt=>{nd.block(Se,(_t,Xe)=>{const Dn=Y.getOpt(Se).map(Ht=>We(Ht.element));return vm(lt.message,Xe,i.shared.providers,Dn)})},onUnblock:()=>{nd.unblock(Se)},onClose:()=>s.closeWindow()},i.shared.getSink),Se=jr({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...N],attributes:{role:"dialog","aria-labelledby":p}},eventOrder:{[_u()]:[qe.name(),Za.name()],[Ha()]:["execute-on-form"],[za()]:["reflecting","execute-on-form"]},behaviours:yt([cn.config({mode:"cyclic",onEscape:lt=>(Un(lt,Hf),P.some(!0)),useTabstopAt:lt=>!m0(lt)&&(Vs(lt)!=="button"||As(lt,"disabled")!=="disabled"),firstTabstop:1}),qe.config({channel:`${E_}-${m}`,updateState:z,initialData:t}),dn.config({}),Fn("execute-on-form",we.concat([Zm(tl(),(lt,_t)=>{cn.focusIn(lt)}),Ke(sl(),(lt,_t)=>{lt.getSystem().broadcastOn([qw],{newFocus:_t.event.newFocus})})])),nd.config({getRoot:()=>P.some(Se)}),Nn.config({}),Zw({})]),components:[Y.asSpec(),J.asSpec(),...Me.map(lt=>lt.asSpec()).toArray()]}),ot=()=>{Yi(Se,R.get())},Qe=PF({getId:A(m),getRoot:A(Se),getFooter:()=>Me.map(lt=>lt.get(Se)),getBody:()=>J.get(Se),getFormWrapper:()=>{const lt=J.get(Se);return ro.getCurrent(lt).getOr(lt)},toggleFullscreen:ot},s.redial,fe);return{dialog:Se,instanceApi:Qe}};var NT=tinymce.util.Tools.resolve("tinymce.util.URI");const MF=t=>{const s=p=>{t.getSystem().isConnected()&&p(t)};return{block:p=>{if(!q(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(x=>{on(x,$4,{message:p})})},unblock:()=>{s(p=>{Un(p,L4)})},close:()=>{s(p=>{Un(p,Hf)})},sendMessage:p=>{s(x=>{x.getSystem().broadcastOn([T_],p)})}}},BF=["insertContent","setContent","execCommand","close","block","unblock"],bR=t=>W(t)&&BF.indexOf(t.mceAction)!==-1,Eq=t=>!bR(t)&&W(t)&&go(t,"mceAction"),Xn=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const c=ce(i.ui)?i.ui:!1;t.execCommand(i.cmd,c,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},Fe=(t,s,i,c)=>{const d=zt("dialog"),m=El(t.title,d,c),p=Hc(t),x=t.buttons.bind(Se=>Se.length===0?P.none():P.some(_s({buttons:Se},d,c))),E=MC(()=>ke,tv(()=>we,c.shared.providers,s)),R={...t.height.fold(()=>({}),Se=>({height:Se+"px","max-height":Se+"px"})),...t.width.fold(()=>({}),Se=>({width:Se+"px","max-width":Se+"px"}))},N=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],z=new NT(t.url,{base_uri:new NT(window.location.href)}),Y=`${z.protocol}://${z.host}${z.port?":"+z.port:""}`,J=cp(),se=(Se,ot)=>P.some(ot),fe=[qe.config({channel:`${E_}-${d}`,updateState:se,initialData:t}),Fn("messages",[ys(()=>{const Se=bi(Ae.fromDom(window),"message",ot=>{if(z.isSameOrigin(new NT(ot.raw.origin))){const Qe=ot.raw.data;bR(Qe)?Xn(i,ke,Qe):Eq(Qe)&&t.onMessage(ke,Qe)}});J.set(Se)}),ku(J.clear)]),Za.config({channels:{[T_]:{onReceive:(Se,ot)=>{hs(Se.element,"iframe").each(Qe=>{const lt=Qe.dom.contentWindow;xe(lt)&&lt.postMessage(ot,Y)})}}}})],we=Zp({id:d,header:m,body:p,footer:x,extraClasses:N,extraBehaviours:fe,extraStyles:R},E,c),ke=MF(we);return{dialog:we,instanceApi:ke}},qt=t=>{const s=t.shared;return{open:(c,d)=>{const m=()=>{mr.hide(R),d()},p=Oo(Qw({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),x=Es(),E=ao(m,s.providers),R=jr(Gs({lazySink:()=>s.getSink(),header:Qt(x,E),body:zs(c,s.providers),footer:P.some(pr(li([],[p.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ke(um,m)],eventOrder:{}}));mr.show(R);const N=p.get(R);dn.focus(N)}}},On=t=>{const s=t.shared;return{open:(c,d)=>{const m=Y=>{mr.hide(N),d(Y)},p=Oo(Qw({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),x=Qw({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),E=Es(),R=ao(()=>m(!1),s.providers),N=jr(Gs({lazySink:()=>s.getSink(),header:Qt(E,R),body:zs(c,s.providers),footer:P.some(pr(li([],[x,p.asSpec()]))),onEscape:()=>m(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ke(um,()=>m(!1)),Ke(Nw,()=>m(!0))],eventOrder:{}}));mr.show(N);const z=p.get(N);dn.focus(z)}}},Ks=(t,s)=>Il(fs("data",s,t)),ha=t=>Mw(t,".tox-alert-dialog")||Mw(t,".tox-confirm-dialog"),rd=(t,s,i)=>s&&i?[]:[ar.config({contextual:{lazyContext:()=>P.some(Is(Ae.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:c=>M1(t,c.element).map(m=>({bounds:B1(m),optScrollEnv:P.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Qs(m.element).top})})).getOrThunk(()=>({bounds:Fi(),optScrollEnv:P.none()}))})],ui=t=>{const s=t.editor,i=mw(s),c=qt(t.backstages.dialog),d=On(t.backstages.dialog),m=(se,fe,Me)=>{if(!be(fe)){if(fe.inline==="toolbar")return R(se,t.backstages.popup.shared.anchors.inlineDialog(),Me,fe);if(fe.inline==="bottom")return N(se,t.backstages.popup.shared.anchors.inlineBottomDialog(),Me,fe);if(fe.inline==="cursor")return R(se,t.backstages.popup.shared.anchors.cursor(),Me,fe)}return E(se,Me)},p=(se,fe)=>x(se,fe),x=(se,fe)=>{const Me=we=>{const ke=Fe(we,{closeWindow:()=>{mr.hide(ke.dialog),fe(ke.instanceApi)}},s,t.backstages.dialog);return mr.show(ke.dialog),ke.instanceApi};return oe.openUrl(Me,se)},E=(se,fe)=>{const Me=(we,ke,Se)=>{const ot=ke,lt=BT({dataValidator:Se,initialData:ot,internalDialog:we},{redial:oe.redial,closeWindow:()=>{mr.hide(lt.dialog),fe(lt.instanceApi)}},t.backstages.dialog);return mr.show(lt.dialog),lt.instanceApi.setData(ot),lt.instanceApi};return oe.open(Me,se)},R=(se,fe,Me,we)=>{const ke=(Se,ot,Qe)=>{const lt=Ks(ot,Qe),_t=ss(),Xe=t.backstages.popup.shared.header.isPositionedAtTop(),Dn={dataValidator:Qe,initialData:lt,internalDialog:Se},Ht=()=>_t.on(mo=>{Ms.reposition(mo),(!i||!Xe)&&ar.refresh(mo)}),hn=Yf(Dn,{redial:oe.redial,closeWindow:()=>{_t.on(Ms.hide),s.off("ResizeEditor",Ht),_t.clear(),Me(hn.instanceApi)}},t.backstages.popup,we.ariaAttrs,Ht),tn=jr(Ms.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:we.persistent?{event:"doNotDismissYet"}:{},...Xe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:yt([Fn("window-manager-inline-events",[Ke(Tu(),(mo,Kn)=>{Un(hn.dialog,um)})]),...rd(s,i,Xe)]),isExtraPart:(mo,Kn)=>ha(Kn)}));_t.set(tn);const bo=()=>{const mo=s.inline?Jr():Ae.fromDom(s.getContainer()),Kn=Is(mo);return P.some(Kn)};return Ms.showWithinBounds(tn,Sc(hn.dialog),{anchor:fe},bo),(!i||!Xe)&&(ar.refresh(tn),s.on("ResizeEditor",Ht)),hn.instanceApi.setData(lt),cn.focusIn(hn.dialog),hn.instanceApi};return oe.open(ke,se)},N=(se,fe,Me,we)=>{const ke=(Se,ot,Qe)=>{const lt=Ks(ot,Qe),_t=ss(),Xe=t.backstages.popup.shared.header.isPositionedAtTop(),Dn={dataValidator:Qe,initialData:lt,internalDialog:Se},Ht=()=>_t.on(mo=>{Ms.reposition(mo),ar.refresh(mo)}),hn=Yf(Dn,{redial:oe.redial,closeWindow:()=>{_t.on(Ms.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Ht),_t.clear(),Me(hn.instanceApi)}},t.backstages.popup,we.ariaAttrs,Ht),tn=jr(Ms.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:we.persistent?{event:"doNotDismissYet"}:{},...Xe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:yt([Fn("window-manager-inline-events",[Ke(Tu(),(mo,Kn)=>{Un(hn.dialog,um)})]),ar.config({contextual:{lazyContext:()=>P.some(Is(Ae.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:mo=>M1(s,mo.element).map(xt=>({bounds:B1(xt),optScrollEnv:P.some({currentScrollTop:xt.element.dom.scrollTop,scrollElmTop:Qs(xt.element).top})})).getOrThunk(()=>({bounds:Fi(),optScrollEnv:P.none()}))})]),isExtraPart:(mo,Kn)=>ha(Kn)}));_t.set(tn);const bo=()=>t.backstages.popup.shared.getSink().toOptional().bind(mo=>{const Kn=M1(s,mo.element),xt=15,Ut=Kn.map(sn=>B1(sn)).getOr(Fi()),In=Is(Ae.fromDom(s.getContentAreaContainer())),bn=Y0(In,Ut);return P.some(yr(bn.x,bn.y,bn.width,bn.height-xt))});return Ms.showWithinBounds(tn,Sc(hn.dialog),{anchor:fe},bo),ar.refresh(tn),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Ht),hn.instanceApi.setData(lt),cn.focusIn(hn.dialog),hn.instanceApi};return oe.open(ke,se)};return{open:m,openUrl:p,alert:(se,fe)=>{c.open(se,fe)},close:se=>{se.close()},confirm:(se,fe)=>{d.open(se,fe)}}},id=t=>{xO(t),IH(t),Wj(t)};var yR=()=>{ag.add("silver",t=>{id(t);let s=()=>Fi();const{dialogs:i,popups:c,renderUI:d}=VZ(t,{getPopupSinkBounds:()=>s()}),m=()=>{const E=d();return M1(t,c.getMothership().element).each(N=>{s=()=>B1(N)}),E};O8.register(t,c.backstage.shared);const p=ui({editor:t,backstages:{popup:c.backstage,dialog:i.backstage}}),x=()=>XP(t,{backstage:c.backstage},c.getMothership());return{renderUI:m,getWindowManagerImpl:A(p),getNotificationManagerImpl:x}})};yR()})();(function(){var S=tinymce.util.Tools.resolve("tinymce.ModelManager");const y=(l,f,g)=>{var w;return g(l,f.prototype)?!0:((w=l.constructor)===null||w===void 0?void 0:w.name)===f.name},k=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&y(l,String,(g,w)=>w.isPrototypeOf(g))?"string":f},M=l=>f=>k(f)===l,V=l=>f=>typeof f===l,G=l=>f=>l===f,te=M("string"),q=M("object"),W=M("array"),U=G(null),I=V("boolean"),ee=G(void 0),ce=l=>l==null,be=l=>!ce(l),he=V("function"),xe=V("number"),Re=()=>{},et=(l,f)=>(...g)=>l(f.apply(null,g)),nn=(l,f)=>g=>l(f(g)),ue=l=>()=>l,mt=l=>l,Vn=(l,f)=>l===f;function Gt(l,...f){return(...g)=>{const w=f.concat(g);return l.apply(null,w)}}const A=l=>f=>!l(f),mn=l=>()=>{throw new Error(l)},Cn=l=>l(),Sn=ue(!1),je=ue(!0);class ye{constructor(f,g){this.tag=f,this.value=g}static some(f){return new ye(!0,f)}static none(){return ye.singletonNone}fold(f,g){return this.tag?g(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ye.some(f(this.value)):ye.none()}bind(f){return this.tag?f(this.value):ye.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ye.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return be(f)?ye.some(f):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const Ze=Array.prototype.slice,Vt=Array.prototype.indexOf,wt=Array.prototype.push,P=(l,f)=>Vt.call(l,f),yn=(l,f)=>P(l,f)>-1,st=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];if(f(T,g))return!0}return!1},eo=(l,f)=>{const g=[];for(let w=0;w<l;w++)g.push(f(w));return g},jt=(l,f)=>{const g=l.length,w=new Array(g);for(let T=0;T<g;T++){const B=l[T];w[T]=f(B,T)}return w},Ge=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];f(T,g)}},ct=(l,f)=>{for(let g=l.length-1;g>=0;g--){const w=l[g];f(w,g)}},Rn=(l,f)=>{const g=[],w=[];for(let T=0,B=l.length;T<B;T++){const Z=l[T];(f(Z,T)?g:w).push(Z)}return{pass:g,fail:w}},_n=(l,f)=>{const g=[];for(let w=0,T=l.length;w<T;w++){const B=l[w];f(B,w)&&g.push(B)}return g},$n=(l,f,g)=>(ct(l,(w,T)=>{g=f(g,w,T)}),g),He=(l,f,g)=>(Ge(l,(w,T)=>{g=f(g,w,T)}),g),ht=(l,f,g)=>{for(let w=0,T=l.length;w<T;w++){const B=l[w];if(f(B,w))return ye.some(B);if(g(B,w))break}return ye.none()},K=(l,f)=>ht(l,f,Sn),Xr=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];if(f(T,g))return ye.some(g)}return ye.none()},po=l=>{const f=[];for(let g=0,w=l.length;g<w;++g){if(!W(l[g]))throw new Error("Arr.flatten item "+g+" was not an array, input: "+l);wt.apply(f,l[g])}return f},Cs=(l,f)=>po(jt(l,f)),Mo=(l,f)=>{for(let g=0,w=l.length;g<w;++g){const T=l[g];if(f(T,g)!==!0)return!1}return!0},ld=l=>{const f=Ze.call(l,0);return f.reverse(),f},An=(l,f)=>{const g={};for(let w=0,T=l.length;w<T;w++){const B=l[w];g[String(B)]=f(B,w)}return g},Xo=(l,f)=>{const g=Ze.call(l,0);return g.sort(f),g},Tn=(l,f)=>f>=0&&f<l.length?ye.some(l[f]):ye.none(),Le=l=>Tn(l,0),di=l=>Tn(l,l.length-1),Nr=(l,f)=>{for(let g=0;g<l.length;g++){const w=f(l[g],g);if(w.isSome())return w}return ye.none()},Jt=Object.keys,Ya=Object.hasOwnProperty,To=(l,f)=>{const g=Jt(l);for(let w=0,T=g.length;w<T;w++){const B=g[w],Z=l[B];f(Z,B)}},Xa=(l,f)=>Jo(l,(g,w)=>({k:w,v:f(g,w)})),Jo=(l,f)=>{const g={};return To(l,(w,T)=>{const B=f(w,T);g[B.k]=B.v}),g},wn=l=>(f,g)=>{l[g]=f},Ir=(l,f,g,w)=>{To(l,(T,B)=>{(f(T,B)?g:w)(T,B)})},Mi=(l,f)=>{const g={};return Ir(l,f,wn(g),Re),g},gr=(l,f)=>{const g=[];return To(l,(w,T)=>{g.push(f(w,T))}),g},Ts=l=>gr(l,mt),sh=(l,f)=>lr(l,f)?ye.from(l[f]):ye.none(),lr=(l,f)=>Ya.call(l,f),is=(l,f)=>lr(l,f)&&l[f]!==void 0&&l[f]!==null,pa=l=>{for(const f in l)if(Ya.call(l,f))return!1;return!0},Ys=typeof window<"u"?window:Function("return this;")(),ga=(l,f)=>{let g=f??Ys;for(let w=0;w<l.length&&g!==void 0&&g!==null;++w)g=g[l[w]];return g},Ji=(l,f)=>{const g=l.split(".");return ga(g,f)},zc=(l,f)=>Ji(l,f),af=(l,f)=>{const g=zc(l,f);if(g==null)throw new Error(l+" not available on this browser");return g},fi=Object.getPrototypeOf,Xp=l=>af("HTMLElement",l),Dt=l=>{const f=Ji("ownerDocument.defaultView",l);return q(l)&&(Xp(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(fi(l).constructor.name))},go=8,va=9,Qi=11,ea=1,$r=3,as=l=>l.dom.nodeName.toLowerCase(),uu=l=>l.dom.nodeType,ud=l=>f=>uu(f)===l,Qo=l=>uu(l)===go||as(l)==="#comment",un=l=>Lr(l)&&Dt(l.dom),Lr=ud(ea),Al=ud($r),dd=ud(va),Jp=ud(Qi),Bi=l=>f=>Lr(f)&&as(f)===l,hi=(l,f,g)=>{if(te(g)||I(g)||xe(g))l.setAttribute(f,g+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",g,":: Element ",l),new Error("Attribute value was not simple")},Xs=(l,f,g)=>{hi(l.dom,f,g)},Vc=(l,f)=>{const g=l.dom;To(f,(w,T)=>{hi(g,T,w)})},bm=(l,f)=>{To(f,(g,w)=>{g.fold(()=>{Go(l,w)},T=>{hi(l.dom,w,T)})})},Uc=(l,f)=>{const g=l.dom.getAttribute(f);return g===null?void 0:g},ba=(l,f)=>ye.from(Uc(l,f)),Go=(l,f)=>{l.dom.removeAttribute(f)},Na=l=>He(l.dom.attributes,(f,g)=>(f[g.name]=g.value,f),{}),Ja=(l,f)=>{const w=(f||document).createElement("div");if(w.innerHTML=l,!w.hasChildNodes()||w.childNodes.length>1){const T="HTML does not have a single root node";throw console.error(T,l),new Error(T)}return Wc(w.childNodes[0])},Qp=(l,f)=>{const w=(f||document).createElement(l);return Wc(w)},ym=(l,f)=>{const w=(f||document).createTextNode(l);return Wc(w)},Wc=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},Ae={fromHtml:Ja,fromTag:Qp,fromText:ym,fromDom:Wc,fromPoint:(l,f,g)=>ye.from(l.dom.elementFromPoint(f,g)).map(Wc)},Ni=(l,f)=>{const g=l.dom;if(g.nodeType!==ea)return!1;{const w=g;if(w.matches!==void 0)return w.matches(f);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(f);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(f);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},fd=l=>l.nodeType!==ea&&l.nodeType!==va&&l.nodeType!==Qi||l.childElementCount===0,eg=(l,f)=>{const g=f===void 0?document:f.dom;return fd(g)?[]:jt(g.querySelectorAll(l),Ae.fromDom)},wm=(l,f)=>{const g=f===void 0?document:f.dom;return fd(g)?ye.none():ye.from(g.querySelector(l)).map(Ae.fromDom)},us=(l,f)=>l.dom===f.dom,rh=(l,f)=>{const g=l.dom,w=f.dom;return g===w?!1:g.contains(w)},Z0=Ni,ih=l=>Ae.fromDom(l.dom.ownerDocument),hd=l=>dd(l)?l:ih(l),Fr=l=>Ae.fromDom(hd(l).dom.documentElement),Bs=l=>Ae.fromDom(hd(l).dom.defaultView),jc=l=>ye.from(l.dom.parentNode).map(Ae.fromDom),Vs=l=>ye.from(l.dom.parentElement).map(Ae.fromDom),Qa=(l,f)=>{const g=he(f)?f:Sn;let w=l.dom;const T=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const B=w.parentNode,Z=Ae.fromDom(B);if(T.push(Z),g(Z)===!0)break;w=B}return T},du=l=>ye.from(l.dom.previousSibling).map(Ae.fromDom),cf=l=>ye.from(l.dom.nextSibling).map(Ae.fromDom),Uo=l=>jt(l.dom.childNodes,Ae.fromDom),Ii=(l,f)=>{const g=l.dom.childNodes;return ye.from(g[f]).map(Ae.fromDom)},lv=l=>Ii(l,0),Zc=(l,f)=>{jc(l).each(w=>{w.dom.insertBefore(f.dom,l.dom)})},kl=(l,f)=>{cf(l).fold(()=>{jc(l).each(T=>{Ns(T,f)})},w=>{Zc(w,f)})},$i=(l,f)=>{lv(l).fold(()=>{Ns(l,f)},w=>{l.dom.insertBefore(f.dom,w.dom)})},Ns=(l,f)=>{l.dom.appendChild(f.dom)},pc=(l,f,g)=>{Ii(l,g).fold(()=>{Ns(l,f)},w=>{Zc(w,f)})},Cm=(l,f)=>{Zc(l,f),Ns(f,l)},yo=(l,f)=>{Ge(f,(g,w)=>{const T=w===0?l:f[w-1];kl(T,g)})},Ia=(l,f)=>{Ge(f,g=>{Ns(l,g)})},ya=l=>{l.dom.textContent="",Ge(Uo(l),f=>{Us(f)})},Us=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},qc=l=>{const f=Uo(l);f.length>0&&yo(l,f),Us(l)},Ol=(l,f)=>Ae.fromDom(l.dom.cloneNode(f)),ec=l=>Ol(l,!1),gc=l=>Ol(l,!0),tc=(l,f)=>{const g=Ae.fromTag(f),w=Na(l);return Vc(g,w),g},xm=(l,f)=>{const g=tc(l,f),w=Uo(gc(l));return Ia(g,w),g},Sm=(l,f)=>{const g=tc(l,f);kl(l,g);const w=Uo(l);return Ia(g,w),Us(l),g},tg=["tfoot","thead","tbody","colgroup"],vc=l=>yn(tg,l),Dl=(l,f)=>({rows:l,columns:f}),Em=(l,f)=>({row:l,column:f}),_m=(l,f,g)=>({element:l,rowspan:f,colspan:g}),ah=(l,f,g,w)=>({element:l,rowspan:f,colspan:g,isNew:w}),ng=(l,f,g,w,T,B)=>({element:l,rowspan:f,colspan:g,row:w,column:T,isLocked:B}),ch=(l,f,g)=>({element:l,cells:f,section:g}),uv=(l,f,g,w)=>({element:l,cells:f,section:g,isNew:w}),gs=(l,f,g)=>({element:l,isNew:f,isLocked:g}),nc=(l,f,g,w)=>({element:l,cells:f,section:g,isNew:w}),q0=(l,f,g,w)=>({startRow:l,startCol:f,finishRow:g,finishCol:w}),og=(l,f,g)=>({element:l,colspan:f,column:g}),oc=(l,f)=>({element:l,columns:f}),sg=l=>Jp(l)&&be(l.dom.host),lh=he(Element.prototype.attachShadow)&&he(Node.prototype.getRootNode),ur=ue(lh),Jr=lh?l=>Ae.fromDom(l.dom.getRootNode()):hd,fu=l=>{const f=Jr(l);return sg(f)?ye.some(f):ye.none()},Tm=l=>Ae.fromDom(l.dom.host),Mt=l=>{if(ur()&&be(l.target)){const f=Ae.fromDom(l.target);if(Lr(f)&&dv(f)&&l.composed&&l.composedPath){const g=l.composedPath();if(g)return Le(g)}}return ye.from(l.target)},dv=l=>be(l.dom.shadowRoot),As=l=>{const f=Al(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const g=f.ownerDocument;return fu(Ae.fromDom(f)).fold(()=>g.body.contains(f),nn(As,Tm))},Js=()=>Am(Ae.fromDom(document)),Am=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return Ae.fromDom(f)},xs=(l,f,g)=>_n(Qa(l,g),f),G0=(l,f)=>_n(Uo(l),f),uh=(l,f)=>{let g=[];return Ge(Uo(l),w=>{f(w)&&(g=g.concat([w])),g=g.concat(uh(w,f))}),g},dh=(l,f,g)=>xs(l,w=>Ni(w,f),g),b=(l,f)=>G0(l,g=>Ni(g,f)),_=(l,f)=>eg(f,l);var D=(l,f,g,w,T)=>l(g,w)?ye.some(g):he(T)&&T(g)?ye.none():f(g,w,T);const L=(l,f,g)=>{let w=l.dom;const T=he(g)?g:Sn;for(;w.parentNode;){w=w.parentNode;const B=Ae.fromDom(w);if(f(B))return ye.some(B);if(T(B))break}return ye.none()},Q=(l,f,g)=>D((T,B)=>B(T),L,l,f,g),X=(l,f)=>{const g=T=>f(Ae.fromDom(T));return K(l.dom.childNodes,g).map(Ae.fromDom)},ie=(l,f)=>{const g=w=>{for(let T=0;T<w.childNodes.length;T++){const B=Ae.fromDom(w.childNodes[T]);if(f(B))return ye.some(B);const Z=g(w.childNodes[T]);if(Z.isSome())return Z}return ye.none()};return g(l.dom)},Te=(l,f,g)=>L(l,w=>Ni(w,f),g),me=(l,f)=>X(l,g=>Ni(g,f)),Ne=(l,f)=>wm(f,l),nt=(l,f,g)=>D((T,B)=>Ni(T,B),Te,l,f,g),gt=(l,f,g=Vn)=>l.exists(w=>g(w,f)),We=l=>{const f=[],g=w=>{f.push(w)};for(let w=0;w<l.length;w++)l[w].each(g);return f},It=(l,f)=>l!=null?f(l):ye.none(),co=(l,f)=>l?ye.some(f):ye.none(),Wo=(l,f)=>l.substring(f),kn=(l,f,g)=>f===""||l.length>=f.length&&l.substr(g,g+f.length)===f,mi=(l,f)=>Qs(l,f)?Wo(l,f.length):l,Io=(l,f,g=0,w)=>{const T=l.indexOf(f,g);return T!==-1?ee(w)?!0:T+f.length<=w:!1},Qs=(l,f)=>kn(l,f,0),Hr=(l,f)=>kn(l,f,l.length-f.length),Jn=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),uo=l=>l.length>0,vs=l=>{const f=parseFloat(l);return isNaN(f)?ye.none():ye.some(f)},Gc=l=>l.style!==void 0&&he(l.style.getPropertyValue),wa=(l,f,g)=>{if(!te(g))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",g,":: Element ",l),new Error("CSS value must be a string: "+g);Gc(l)&&l.style.setProperty(f,g)},dr=(l,f)=>{Gc(l)&&l.style.removeProperty(f)},jo=(l,f,g)=>{const w=l.dom;wa(w,f,g)},Ca=(l,f)=>{const g=l.dom;To(f,(w,T)=>{wa(g,T,w)})},xa=(l,f)=>{const g=l.dom,T=window.getComputedStyle(g).getPropertyValue(f);return T===""&&!As(l)?$a(g,f):T},$a=(l,f)=>Gc(l)?l.style.getPropertyValue(f):"",Ci=(l,f)=>{const g=l.dom,w=$a(g,f);return ye.from(w).filter(T=>T.length>0)},Zo=(l,f)=>{const g=l.dom;dr(g,f),gt(ba(l,"style").map(Jn),"")&&Go(l,"style")},xi=(l,f)=>{const g=l.dom,w=f.dom;Gc(g)&&Gc(w)&&(w.style.cssText=g.style.cssText)},ds=(l,f,g=0)=>ba(l,f).map(w=>parseInt(w,10)).getOr(g),bc=(l,f)=>ds(l,f,1),md=l=>Bi("col")(l)?ds(l,"span",1)>1:bc(l,"colspan")>1,vr=l=>bc(l,"rowspan")>1,So=(l,f)=>parseInt(xa(l,f),10),Rl=ue(10),Sa=ue(10),Kc=(l,f)=>km(l,f,je),km=(l,f,g)=>Cs(Uo(l),w=>Ni(w,f)?g(w)?[w]:[]:km(w,f,g)),lf=(l,f,g=Sn)=>{if(g(f))return ye.none();if(yn(l,as(f)))return ye.some(f);const w=T=>Ni(T,"table")||g(T);return Te(f,l.join(","),w)},fh=(l,f)=>lf(["td","th"],l,f),Ea=l=>Kc(l,"th,td"),pd=l=>Ni(l,"colgroup")?b(l,"col"):Cs(mu(l),f=>b(f,"col")),br=(l,f)=>nt(l,"table",f),hu=l=>Kc(l,"tr"),mu=l=>br(l).fold(ue([]),f=>b(f,"colgroup")),Yc=(l,f)=>jt(l,g=>{if(as(g)==="colgroup"){const w=jt(pd(g),T=>{const B=ds(T,"span",1);return _m(T,1,B)});return ch(g,w,"colgroup")}else{const w=jt(Ea(g),T=>{const B=ds(T,"rowspan",1),Z=ds(T,"colspan",1);return _m(T,B,Z)});return ch(g,w,f(g))}}),hh=l=>jc(l).map(f=>{const g=as(f);return vc(g)?g:"tbody"}).getOr("tbody"),gd=l=>{const f=hu(l),w=[...mu(l),...f];return Yc(w,hh)},fv=(l,f)=>Yc(l,()=>f),Pl=l=>{let f=!1,g;return(...w)=>(f||(f=!0,g=l.apply(null,w)),g)},Om=(l,f,g,w)=>{const T=l.isiOS()&&/ipad/i.test(g)===!0,B=l.isiOS()&&!T,Z=l.isiOS()||l.isAndroid(),ne=Z||w("(pointer:coarse)"),ae=T||!B&&Z&&w("(min-device-width:768px)"),ve=B||Z&&!ae,De=f.isSafari()&&l.isiOS()&&/safari/i.test(g)===!1,ft=!ve&&!ae&&!De;return{isiPad:ue(T),isiPhone:ue(B),isTablet:ue(ae),isPhone:ue(ve),isTouch:ue(ne),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:ue(De),isDesktop:ue(ft)}},pu=(l,f)=>{for(let g=0;g<l.length;g++){const w=l[g];if(w.test(f))return w}},K0=(l,f)=>{const g=pu(l,f);if(!g)return{major:0,minor:0};const w=T=>Number(f.replace(g,"$"+T));return ge(w(1),w(2))},pe=(l,f)=>{const g=String(f).toLowerCase();return l.length===0?Dm():K0(l,g)},Dm=()=>ge(0,0),ge=(l,f)=>({major:l,minor:f}),Oe={nu:ge,detect:pe,unknown:Dm},tt=(l,f)=>Nr(f.brands,g=>{const w=g.brand.toLowerCase();return K(l,T=>{var B;return w===((B=T.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(T=>({current:T.name,version:Oe.nu(parseInt(g.version,10),0)}))}),it=(l,f)=>{const g=String(f).toLowerCase();return K(l,w=>w.search(g))},Je=(l,f)=>it(l,f).map(g=>{const w=Oe.detect(g.versionRegexes,f);return{current:g.name,version:w}}),Zt=(l,f)=>it(l,f).map(g=>{const w=Oe.detect(g.versionRegexes,f);return{current:g.name,version:w}}),en=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fn=l=>f=>Io(f,l),xn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>Io(l,"edge/")&&Io(l,"chrome")&&Io(l,"safari")&&Io(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,en],search:l=>Io(l,"chrome")&&!Io(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>Io(l,"msie")||Io(l,"trident")},{name:"Opera",versionRegexes:[en,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fn("firefox")},{name:"Safari",versionRegexes:[en,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(Io(l,"safari")||Io(l,"mobile/"))&&Io(l,"applewebkit")}],xo=[{name:"Windows",search:fn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>Io(l,"iphone")||Io(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fn("linux"),versionRegexes:[]},{name:"Solaris",search:fn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Hn={browsers:ue(xn),oses:ue(xo)},so="Edge",ko="Chromium",Yn="IE",No="Opera",Qr="Firefox",pi="Safari",er=()=>ks({current:void 0,version:Oe.unknown()}),ks=l=>{const f=l.current,g=l.version,w=T=>()=>f===T;return{current:f,version:g,isEdge:w(so),isChromium:w(ko),isIE:w(Yn),isOpera:w(No),isFirefox:w(Qr),isSafari:w(pi)}},La={unknown:er,nu:ks,edge:ue(so),chromium:ue(ko),ie:ue(Yn),opera:ue(No),firefox:ue(Qr),safari:ue(pi)},zr="Windows",Xc="iOS",ta="Android",hv="Linux",HC="macOS",rg="Solaris",ig="FreeBSD",mv="ChromeOS",vd=()=>pv({current:void 0,version:Oe.unknown()}),pv=l=>{const f=l.current,g=l.version,w=T=>()=>f===T;return{current:f,version:g,isWindows:w(zr),isiOS:w(Xc),isAndroid:w(ta),isMacOS:w(HC),isLinux:w(hv),isSolaris:w(rg),isFreeBSD:w(ig),isChromeOS:w(mv)}},GT={unknown:vd,nu:pv,windows:ue(zr),ios:ue(Xc),android:ue(ta),linux:ue(hv),macos:ue(HC),solaris:ue(rg),freebsd:ue(ig),chromeos:ue(mv)},KT={detect:(l,f,g)=>{const w=Hn.browsers(),T=Hn.oses(),B=f.bind(ae=>tt(w,ae)).orThunk(()=>Je(w,l)).fold(La.unknown,La.nu),Z=Zt(T,l).fold(GT.unknown,GT.nu),ne=Om(Z,B,l,g);return{browser:B,os:Z,deviceType:ne}}},gv=l=>window.matchMedia(l).matches;let YT=Pl(()=>KT.detect(navigator.userAgent,ye.from(navigator.userAgentData),gv));const mh=()=>YT(),yr=(l,f)=>{const g=(ne,ae)=>{if(!xe(ae)&&!ae.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+ae);const ve=ne.dom;Gc(ve)&&(ve.style[l]=ae+"px")},w=ne=>{const ae=f(ne);if(ae<=0||ae===null){const ve=xa(ne,l);return parseFloat(ve)||0}return ae},T=w,B=(ne,ae)=>He(ae,(ve,De)=>{const ft=xa(ne,De),At=ft===void 0?0:parseInt(ft,10);return isNaN(At)?ve:ve+At},0);return{set:g,get:w,getOuter:T,aggregate:B,max:(ne,ae,ve)=>{const De=B(ne,ve);return ae>De?ae-De:0}}},Is=(l,f)=>vs(l).getOr(f),Li=(l,f,g)=>Is(xa(l,f),g),Y0=(l,f,g,w)=>{const T=Li(l,`padding-${g}`,0),B=Li(l,`padding-${w}`,0),Z=Li(l,`border-${g}-width`,0),ne=Li(l,`border-${w}-width`,0);return f-T-B-Z-ne},XT=(l,f)=>{const g=l.dom,w=g.getBoundingClientRect().width||g.offsetWidth;return f==="border-box"?w:Y0(l,w,"left","right")},Fi=l=>Li(l,"height",l.dom.offsetHeight),ag=l=>Li(l,"width",l.dom.offsetWidth),cg=l=>XT(l,"content-box"),uf=yr("width",l=>l.dom.offsetWidth),df=l=>uf.get(l),Ln=l=>uf.getOuter(l),Fa=cg,ph=ag,vv=(l,f,g)=>{const w=l.cells,T=w.slice(0,f),B=w.slice(f),Z=T.concat(g).concat(B);return lg(l,Z)},zC=(l,f,g)=>vv(l,f,[g]),Rm=(l,f,g)=>{const w=l.cells;w[f]=g},lg=(l,f)=>nc(l.element,f,l.section,l.isNew),gu=(l,f)=>{const g=l.cells,w=jt(g,f);return nc(l.element,w,l.section,l.isNew)},sc=(l,f)=>l.cells[f],Hi=(l,f)=>sc(l,f).element,yc=l=>l.cells.length,gi=l=>{const f=Rn(l,g=>g.section==="colgroup");return{rows:f.fail,cols:f.pass}},tr=(l,f,g)=>{const w=jt(l.cells,g);return nc(f(l.element),w,l.section,!0)},Si="data-snooker-locked-cols",bd=l=>ba(l,Si).bind(f=>ye.from(f.match(/\d+/g))).map(f=>An(f,je)),Ml=l=>{const f=He(gi(l).rows,(w,T)=>(Ge(T.cells,(B,Z)=>{B.isLocked&&(w[Z]=!0)}),w),{}),g=gr(f,(w,T)=>parseInt(T,10));return Xo(g)},fr=(l,f)=>l+","+f,VC=(l,f,g)=>ye.from(l.access[fr(f,g)]),UC=(l,f,g)=>{const w=es(l,T=>g(f,T.element));return w.length>0?ye.some(w[0]):ye.none()},es=(l,f)=>{const g=Cs(l.all,w=>w.cells);return _n(g,f)},gh=l=>{const f={};let g=0;return Ge(l.cells,w=>{const T=w.colspan;eo(T,B=>{const Z=g+B;f[Z]=og(w.element,T,Z)}),g+=T}),f},Eo=l=>{const f={},g=[],T=Le(l).map(Et=>Et.element).bind(br).bind(bd).getOr({});let B=0,Z=0,ne=0;const{pass:ae,fail:ve}=Rn(l,Et=>Et.section==="colgroup");Ge(ve,Et=>{const vt=[];Ge(Et.cells,$t=>{let ut=0;for(;f[fr(ne,ut)]!==void 0;)ut++;const Ct=is(T,ut.toString()),an=ng($t.element,$t.rowspan,$t.colspan,ne,ut,Ct);for(let gn=0;gn<$t.colspan;gn++)for(let vo=0;vo<$t.rowspan;vo++){const ws=ne+vo,Ss=ut+gn,Oi=fr(ws,Ss);f[Oi]=an,Z=Math.max(Z,Ss+1)}vt.push(an)}),B++,g.push(ch(Et.element,vt,Et.section)),ne++});const{columns:De,colgroups:ft}=di(ae).map(Et=>{const vt=gh(Et);return{colgroups:[oc(Et.element,Ts(vt))],columns:vt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Dl(B,Z),access:f,all:g,columns:De,colgroups:ft}},fo={fromTable:l=>{const f=gd(l);return Eo(f)},generate:Eo,getAt:VC,findItem:UC,filterItems:es,justCells:l=>Cs(l.all,f=>f.cells),justColumns:l=>Ts(l.columns),hasColumns:l=>Jt(l.columns).length>0,getColumnAt:(l,f)=>ye.from(l.columns[f])},yv=(l,f=je)=>{const g=l.grid,w=eo(g.columns,mt),T=eo(g.rows,mt);return jt(w,B=>JT(()=>Cs(T,ve=>fo.getAt(l,ve,B).filter(De=>De.column===B).toArray()),ve=>ve.colspan===1&&f(ve.element),()=>fo.getAt(l,0,B)))},JT=(l,f,g)=>{const w=l();return K(w,f).orThunk(()=>ye.from(w[0]).orThunk(g)).map(Z=>Z.element)},QT=l=>{const f=l.grid,g=eo(f.rows,mt),w=eo(f.columns,mt);return jt(g,T=>JT(()=>Cs(w,ae=>fo.getAt(l,T,ae).filter(ve=>ve.row===T).fold(ue([]),ve=>[ve])),ae=>ae.rowspan===1,()=>fo.getAt(l,T,0)))},WC=(l,f)=>{if(f<0||f>=l.length-1)return ye.none();const g=l[f].fold(()=>{const T=ld(l.slice(0,f));return Nr(T,(B,Z)=>B.map(ne=>({value:ne,delta:Z+1})))},T=>ye.some({value:T,delta:0})),w=l[f+1].fold(()=>{const T=l.slice(f+1);return Nr(T,(B,Z)=>B.map(ne=>({value:ne,delta:Z+1})))},T=>ye.some({value:T,delta:1}));return g.bind(T=>w.map(B=>{const Z=B.delta+T.delta;return Math.abs(B.value-T.value)/Z}))},wv=(l,f)=>g=>eA(g)==="rtl"?f:l,eA=l=>xa(l,"direction")==="rtl"?"rtl":"ltr",vh=yr("height",l=>{const f=l.dom;return As(l)?f.getBoundingClientRect().height:f.offsetHeight}),bu=l=>vh.get(l),jC=l=>vh.getOuter(l),Cv=Fi,ZC=(l,f)=>({left:l,top:f,translate:(w,T)=>ZC(l+w,f+T)}),Bl=ZC,ff=l=>{const f=l.getBoundingClientRect();return Bl(f.left,f.top)},Pm=(l,f)=>l!==void 0?l:f!==void 0?f:0,Mm=l=>{const f=l.dom.ownerDocument,g=f.body,w=f.defaultView,T=f.documentElement;if(g===l.dom)return Bl(g.offsetLeft,g.offsetTop);const B=Pm(w==null?void 0:w.pageYOffset,T.scrollTop),Z=Pm(w==null?void 0:w.pageXOffset,T.scrollLeft),ne=Pm(T.clientTop,g.clientTop),ae=Pm(T.clientLeft,g.clientLeft);return qC(l).translate(Z-ae,B-ne)},qC=l=>{const f=l.dom,w=f.ownerDocument.body;return w===f?Bl(w.offsetLeft,w.offsetTop):As(l)?ff(f):Bl(0,0)},ey=(l,f)=>({row:l,y:f}),ty=(l,f)=>({col:l,x:f}),GC=l=>Mm(l).left+Ln(l),ny=l=>Mm(l).left,vi=(l,f)=>ty(l,ny(f)),oy=(l,f)=>ty(l,GC(f)),_a=l=>Mm(l).top,pn=(l,f)=>ey(l,_a(f)),$s=(l,f)=>ey(l,_a(f)+jC(f)),yd=(l,f,g)=>{if(g.length===0)return[];const w=jt(g.slice(1),(B,Z)=>B.map(ne=>l(Z,ne))),T=g[g.length-1].map(B=>f(g.length-1,B));return w.concat([T])},ei=l=>-l,Bm={delta:mt,positions:l=>yd(pn,$s,l),edge:_a},Nl=wv({delta:mt,edge:ny,positions:l=>yd(vi,oy,l)},{delta:ei,edge:GC,positions:l=>yd(oy,vi,l)}),bh={delta:(l,f)=>Nl(f).delta(l,f),positions:(l,f)=>Nl(f).positions(l,f),edge:l=>Nl(l).edge(l)},ti={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nm=(()=>{const l="[0-9]+",g="[eE]"+("[+-]?"+l),w="\\.",T=ne=>`(?:${ne})?`,Z=`[+-]?(?:${["Infinity",l+w+T(l)+T(g),w+l+T(g),l+T(g)].join("|")})`;return new RegExp(`^(${Z})(.*)$`)})(),sy=(l,f)=>st(f,g=>st(ti[g],w=>l===w)),ry=(l,f)=>ye.from(Nm.exec(l)).bind(w=>{const T=Number(w[1]),B=w[2];return sy(B,f)?ye.some({value:T,unit:B}):ye.none()}),hf=/(\d+(\.\d+)?)%/,xv=/(\d+(\.\d+)?)px|em/,Wt=Bi("col"),wd=Bi("tr"),Im=(l,f,g)=>{const w=Vs(l).getOrThunk(()=>Am(ih(l)));return f(l)/g(w)*100},yh=(l,f)=>{jo(l,"width",f+"px")},Jc=(l,f)=>{jo(l,"width",f+"%")},fs=(l,f)=>{jo(l,"height",f+"px")},Il=l=>{Zo(l,"height")},Vr=l=>Cv(l)+"px",$m=(l,f,g,w)=>{const T=br(l).map(B=>{const Z=g(B);return Math.floor(f/100*Z)}).getOr(f);return w(l,T),T},wr=(l,f,g,w)=>{const T=parseFloat(l);return Hr(l,"%")&&as(f)!=="table"?$m(f,T,g,w):T},iy=l=>{const f=Vr(l);return f?wr(f,l,bu,fs):bu(l)},Ur=(l,f,g)=>{const w=g(l),T=bc(l,f);return w/T},at=(l,f)=>Ci(l,f).orThunk(()=>ba(l,f).map(g=>g+"px")),mf=l=>at(l,"width"),rt=l=>at(l,"height"),ni=l=>Im(l,df,Fa),Lm=l=>Wt(l)?df(l):ph(l),nr=l=>wd(l)?bu(l):Ur(l,"rowspan",iy),ts=l=>mf(l).bind(g=>ry(g,["fixed","relative","empty"])),ay=(l,f,g)=>{jo(l,"width",f+g)},kr=l=>df(l)+"px",bs=l=>bu(l)+"px",Qc=l=>Im(l,df,Fa)+"%",YC=l=>mf(l).exists(f=>hf.test(f)),Or=l=>mf(l).exists(f=>xv.test(f)),_o=l=>mf(l).isNone(),el=ue(hf),ug=Bi("col"),Ei=l=>mf(l).getOrThunk(()=>Lm(l)+"px"),XC=l=>rt(l).getOrThunk(()=>nr(l)+"px"),pf=l=>jt(fo.justColumns(l),f=>ye.from(f.element)),JC=l=>{const f=mh().browser,g=f.isChromium()||f.isFirefox();return ug(l)?g:!0},Ta=(l,f,g,w,T,B)=>l.filter(w).fold(()=>B(WC(g,f)),Z=>T(Z)),cy=(l,f,g,w)=>{const T=yv(l),B=fo.hasColumns(l)?pf(l):T,Z=[ye.some(bh.edge(f))].concat(jt(bh.positions(T,f),ae=>ae.map(ve=>ve.x))),ne=A(md);return jt(B,(ae,ve)=>Ta(ae,ve,Z,ne,De=>{if(JC(De))return g(De);{const ft=It(T[ve],mt);return Ta(ft,ve,Z,ne,At=>w(ye.some(df(At))),w)}},w))},Pe=l=>l.map(f=>f+"px").getOr(""),wc=(l,f)=>cy(l,f,Ei,Pe),dg=(l,f,g)=>cy(l,f,ni,w=>w.fold(()=>g.minCellWidth(),T=>T/g.pixelWidth()*100)),_i=(l,f,g)=>cy(l,f,Lm,w=>w.getOrThunk(g.minCellWidth)),Ls=(l,f,g,w)=>{const T=QT(l),B=jt(l.all,ne=>ye.some(ne.element)),Z=[ye.some(Bm.edge(f))].concat(jt(Bm.positions(T,f),ne=>ne.map(ae=>ae.y)));return jt(B,(ne,ae)=>Ta(ne,ae,Z,je,g,w))},Ti=(l,f)=>Ls(l,f,nr,g=>g.getOrThunk(Sa)),Os=(l,f)=>Ls(l,f,XC,Pe),Fm=(l,f)=>()=>As(l)?f(l):parseFloat(Ci(l,"width").getOr("0")),Cd=l=>{const f=Fm(l,df),g=ue(0);return{width:f,pixelWidth:f,getWidths:(T,B)=>_i(T,l,B),getCellDelta:g,singleColumnWidth:ue([0]),minCellWidth:g,setElementWidth:Re,adjustTableWidth:Re,isRelative:!0,label:"none"}},Sv=l=>{const f=Fm(l,ae=>parseFloat(Qc(ae))),g=Fm(l,df);return{width:f,pixelWidth:g,getWidths:(ae,ve)=>dg(ae,l,ve),getCellDelta:ae=>ae/g()*100,singleColumnWidth:(ae,ve)=>[100-ae],minCellWidth:()=>Rl()/g()*100,setElementWidth:Jc,adjustTableWidth:ae=>{const ve=f(),De=ae/100*ve,ft=ve+De;Jc(l,ft)},isRelative:!0,label:"percent"}},rn=l=>{const f=Fm(l,df);return{width:f,pixelWidth:f,getWidths:(Z,ne)=>_i(Z,l,ne),getCellDelta:mt,singleColumnWidth:(Z,ne)=>[Math.max(Rl(),Z+ne)-Z],minCellWidth:Rl,setElementWidth:yh,adjustTableWidth:Z=>{const ne=f()+Z;yh(l,ne)},isRelative:!1,label:"pixel"}},ly=(l,f)=>el().exec(f)!==null?Sv(l):rn(l),gf={getTableSize:l=>mf(l).fold(()=>Cd(l),g=>ly(l,g)),pixelSize:rn,percentageSize:Sv,noneSize:Cd},QC=(l,f,g,w,T,B)=>({minRow:l,minCol:f,maxRow:g,maxCol:w,allCells:T,selectedCells:B}),ex=(l,f)=>{const g=l.grid.columns;let T=l.grid.rows,B=g,Z=0,ne=0;const ae=[],ve=[];return To(l.access,De=>{if(ae.push(De),f(De)){ve.push(De);const ft=De.row,At=ft+De.rowspan-1,Et=De.column,vt=Et+De.colspan-1;ft<T?T=ft:At>Z&&(Z=At),Et<B?B=Et:vt>ne&&(ne=vt)}}),QC(T,B,Z,ne,ae,ve)},tx=(l,f,g)=>{const w=l[g].element,T=Ae.fromTag("td");Ns(T,Ae.fromTag("br")),(f?Ns:$i)(w,T)},tA=(l,f,g,w)=>{const T=_n(l,ne=>ne.section!=="colgroup"),B=f.grid.columns,Z=f.grid.rows;for(let ne=0;ne<Z;ne++){let ae=!1;for(let ve=0;ve<B;ve++)ne<g.minRow||ne>g.maxRow||ve<g.minCol||ve>g.maxCol||(fo.getAt(f,ne,ve).filter(w).isNone()?tx(T,ae,ne):ae=!0)}},wh=(l,f,g,w)=>{To(g.columns,Z=>{(Z.column<f.minCol||Z.column>f.maxCol)&&Us(Z.element)});const T=_n(Kc(l,"tr"),Z=>Z.dom.childElementCount===0);Ge(T,Us),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&Ge(Kc(l,"th,td"),Z=>{Go(Z,"rowspan"),Go(Z,"colspan")}),Go(l,Si),Go(l,"data-snooker-col-series"),gf.getTableSize(l).adjustTableWidth(w)},Hm=(l,f,g,w)=>{if(w.minCol===0&&f.grid.columns===w.maxCol+1)return 0;const T=_i(f,l,g),B=He(T,(ve,De)=>ve+De,0),ae=He(T.slice(w.minCol,w.maxCol+1),(ve,De)=>ve+De,0)/B*g.pixelWidth()-g.pixelWidth();return g.getCellDelta(ae)},uy=(l,f)=>{const g=At=>Ni(At.element,f),w=gc(l),T=gd(w),B=gf.getTableSize(l),Z=fo.generate(T),ne=ex(Z,g),ae="th:not("+f+"),td:not("+f+")",ve=km(w,"th,td",At=>Ni(At,ae));Ge(ve,Us),tA(T,Z,ne,g);const De=fo.fromTable(l),ft=Hm(l,De,B,ne);return wh(w,ne,Z,ft),w},nA=" ",zm=((l,f)=>{const g=B=>{if(!l(B))throw new Error("Can only get "+f+" value of a "+f+" node");return w(B).getOr("")},w=B=>l(B)?ye.from(B.dom.nodeValue):ye.none();return{get:g,getOption:w,set:(B,Z)=>{if(!l(B))throw new Error("Can only set raw "+f+" value of a "+f+" node");B.dom.nodeValue=Z}}})(Al,"text"),Vm=l=>zm.get(l),Ch=l=>zm.getOption(l),vf=(l,f)=>zm.set(l,f),bf=l=>as(l)==="img"?1:Ch(l).fold(()=>Uo(l).length,f=>f.length),yf=l=>Ch(l).filter(f=>f.trim().length!==0||f.indexOf(nA)>-1).isSome(),oA=l=>un(l)&&Uc(l,"contenteditable")==="false",nx=["img","br"],ox=l=>yf(l)||yn(nx,as(l))||oA(l),dy=l=>ie(l,ox),oi=l=>wu(l,ox),wu=(l,f)=>{const g=w=>{const T=Uo(w);for(let B=T.length-1;B>=0;B--){const Z=T[B];if(f(Z))return ye.some(Z);const ne=g(Z);if(ne.isSome())return ne}return ye.none()};return g(l)},Ev={scope:["row","col"]},Cu=l=>()=>{const f=Ae.fromTag("td",l.dom);return Ns(f,Ae.fromTag("br",l.dom)),f},_v=l=>()=>Ae.fromTag("col",l.dom),Aa=l=>()=>Ae.fromTag("colgroup",l.dom),fg=l=>()=>Ae.fromTag("tr",l.dom),hg=(l,f,g)=>{const w=xm(l,f);return To(g,(T,B)=>{T===null?Go(w,B):Xs(w,B,T)}),w},fy=l=>l,xu=(l,f,g)=>dy(l).map(T=>{const B=g.join(","),Z=dh(T,B,ne=>us(ne,l));return $n(Z,(ne,ae)=>{const ve=ec(ae);return Ns(ne,ve),ve},f)}).getOr(f),tl=(l,f)=>{To(Ev,(g,w)=>ba(l,w).filter(T=>yn(g,T)).each(T=>Xs(f,w,T)))},Um=(l,f,g)=>{const w=(Z,ne)=>{xi(Z.element,ne),Zo(ne,"height"),Z.colspan!==1&&Zo(ne,"width")},T=Z=>{const ne=Ae.fromTag(as(Z.element),f.dom),ae=g.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ve=ae.length>0?xu(Z.element,ne,ae):ne;return Ns(ve,Ae.fromTag("br")),w(Z,ne),tl(Z.element,ne),l(Z.element,ne),ne};return{col:Z=>{const ne=Ae.fromTag(as(Z.element),f.dom);return w(Z,ne),l(Z.element,ne),ne},colgroup:Aa(f),row:fg(f),cell:T,replace:hg,colGap:_v(f),gap:Cu(f)}},nl=l=>({col:_v(l),colgroup:Aa(l),row:fg(l),cell:Cu(l),replace:fy,colGap:_v(l),gap:Cu(l)}),Tv=(l,f)=>{const w=(f||document).createElement("div");return w.innerHTML=l,Uo(Ae.fromDom(w))},Su=l=>jt(l,Ae.fromDom),ol=l=>f=>f.options.get(l),wf="100%",sx=l=>{var f;const g=l.dom,w=(f=g.getParent(l.selection.getStart(),g.isBlock))!==null&&f!==void 0?f:l.getBody();return Fa(Ae.fromDom(w))+"px"},Ll=(l,f)=>Dr(l)||!Av(l)?f:na(l)?{...f,width:sx(l)}:{...f,width:wf},sA=(l,f)=>Dr(l)||Av(l)?f:na(l)?{...f,width:sx(l)}:{...f,width:wf},rA=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:g=>{const w=yn(["section","cells","sectionCells","auto"],g);return w?{value:g,valid:w}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:g=>{const w=yn(["preservetable","resizetable"],g);return w?{value:g,valid:w}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},Fs=l=>ye.from(l.options.get("table_clone_elements")),hy=l=>{const f=l.options.get("object_resizing");return yn(f.split(","),"table")},Eu=ol("table_header_type"),xh=ol("table_column_resizing"),mg=l=>xh(l)==="preservetable",_u=l=>xh(l)==="resizetable",Ha=ol("table_sizing_mode"),Sh=l=>Ha(l)==="relative",na=l=>Ha(l)==="fixed",Dr=l=>Ha(l)==="responsive",pg=ol("table_resize_bars"),Av=ol("table_style_by_css"),kv=ol("table_merge_content_on_paste"),iA=l=>{const f=l.options,g=f.get("table_default_attributes");return f.isSet("table_default_attributes")?g:sA(l,g)},rx=l=>{const f=l.options,g=f.get("table_default_styles");return f.isSet("table_default_styles")?g:Ll(l,g)},Ov=ol("table_use_colgroups"),Eh=l=>nt(l,"[contenteditable]"),za=(l,f=!1)=>As(l)?l.dom.isContentEditable:Eh(l).fold(ue(f),g=>Fl(g)==="true"),Fl=l=>l.dom.contentEditable,Tu=l=>Ae.fromDom(l.getBody()),_h=l=>f=>us(f,Tu(l)),sl=l=>{Go(l,"data-mce-style");const f=g=>Go(g,"data-mce-style");Ge(Ea(l),f),Ge(pd(l),f),Ge(hu(l),f)},Wm=l=>Ae.fromDom(l.selection.getStart()),my=l=>l.getBoundingClientRect().width,py=l=>l.getBoundingClientRect().height,gy=l=>(f,g)=>{const w=f.dom.getStyle(g,l)||f.dom.getAttrib(g,l);return ye.from(w).filter(uo)},jm=gy("width"),Th=gy("height"),Un=l=>/^(\d+(\.\d+)?)%$/.test(l),on=l=>/^(\d+(\.\d+)?)px$/.test(l),Au=l=>Q(l,Bi("table")).exists(za),Dv=(l,f)=>{const g=f.column,w=f.column+f.colspan-1,T=f.row,B=f.row+f.rowspan-1;return g<=l.finishCol&&w>=l.startCol&&T<=l.finishRow&&B>=l.startRow},Rv=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,vy=(l,f)=>{let g=!0;const w=Gt(Rv,f);for(let T=f.startRow;T<=f.finishRow;T++)for(let B=f.startCol;B<=f.finishCol;B++)g=g&&fo.getAt(l,T,B).exists(w);return g?ye.some(f):ye.none()},xd=(l,f)=>q0(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),ns=(l,f,g)=>{const w=fo.findItem(l,f,us),T=fo.findItem(l,g,us);return w.bind(B=>T.map(Z=>xd(B,Z)))},ix=(l,f,g)=>ns(l,f,g).bind(w=>vy(l,w)),by=(l,f,g,w)=>fo.findItem(l,f,us).bind(T=>{const B=g>0?T.row+T.rowspan-1:T.row,Z=w>0?T.column+T.colspan-1:T.column;return fo.getAt(l,B+g,Z+w).map(ae=>ae.element)}),yy=(l,f,g)=>ns(l,f,g).map(w=>{const T=fo.filterItems(l,Gt(Dv,w));return jt(T,B=>B.element)}),Ke=(l,f)=>{const g=(w,T)=>rh(T,w);return fo.findItem(l,f,g).map(w=>w.element)},wy=(l,f,g)=>br(l).bind(w=>{const T=Sd(w);return by(T,l,f,g)}),ax=(l,f,g)=>{const w=Sd(l);return yy(w,f,g)},Ah=(l,f,g,w,T)=>{const B=Sd(l),Z=us(l,g)?ye.some(f):Ke(B,f),ne=us(l,T)?ye.some(w):Ke(B,w);return Z.bind(ae=>ne.bind(ve=>yy(B,ae,ve)))},cx=(l,f,g)=>{const w=Sd(l);return ix(w,f,g)},Sd=fo.fromTable;var kh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rl=()=>{const l=ve=>Ae.fromDom(ve.dom.cloneNode(!1)),f=ve=>hd(ve).dom,g=ve=>Lr(ve)?as(ve)==="body"?!0:yn(kh,as(ve)):!1,w=ve=>Lr(ve)?yn(["br","img","hr","input"],as(ve)):!1,T=ve=>Lr(ve)&&Uc(ve,"contenteditable")==="false",B=(ve,De)=>ve.dom.compareDocumentPosition(De.dom),Z=(ve,De)=>{const ft=Na(ve);Vc(De,ft)},ne=ve=>{const De=as(ve);return yn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],De)},ae=ve=>Lr(ve)?ba(ve,"lang"):ye.none();return{up:ue({selector:Te,closest:nt,predicate:L,all:Qa}),down:ue({selector:_,predicate:uh}),styles:ue({get:xa,getRaw:Ci,set:jo,remove:Zo}),attrs:ue({get:Uc,set:Xs,remove:Go,copyTo:Z}),insert:ue({before:Zc,after:kl,afterAll:yo,append:Ns,appendAll:Ia,prepend:$i,wrap:Cm}),remove:ue({unwrap:qc,remove:Us}),create:ue({nu:Ae.fromTag,clone:l,text:Ae.fromText}),query:ue({comparePosition:B,prevSibling:du,nextSibling:cf}),property:ue({children:Uo,name:as,parent:jc,document:f,isText:Al,isComment:Qo,isElement:Lr,isSpecial:ne,getLanguage:ae,getText:Vm,setText:vf,isBoundary:g,isEmptyTag:w,isNonEditable:T}),eq:us,is:Z0}};const aA=(l,f,g,w)=>{const T=g[0],B=g.slice(1);return w(l,f,T,B)},Zm=(l,f,g)=>g.length>0?aA(l,f,g,ys):ye.none(),ys=(l,f,g,w)=>{const T=f(l,g);return $n(w,(B,Z)=>{const ne=f(l,Z);return ku(l,B,ne)},T)},ku=(l,f,g)=>f.bind(w=>g.filter(Gt(l.eq,w))),lx=(l,f)=>Gt(l.eq,f),Hl=(l,f,g,w=Sn)=>{const T=[f].concat(l.up().all(f)),B=[g].concat(l.up().all(g)),Z=De=>Xr(De,w).fold(()=>De,At=>De.slice(0,At+1)),ne=Z(T),ae=Z(B),ve=K(ne,De=>st(ae,lx(l,De)));return{firstpath:ne,secondpath:ae,shared:ve}},cA=Zm,Cy=Hl,Ed=rl(),qm=(l,f)=>cA(Ed,(g,w)=>l(w),f),ux=(l,f,g)=>Cy(Ed,l,f,g),Oh=l=>Te(l,"table"),Pv=(l,f,g)=>{const w=T=>B=>g!==void 0&&g(B)||us(B,T);return us(l,f)?ye.some({boxes:ye.some([l]),start:l,finish:f}):Oh(l).bind(T=>Oh(f).bind(B=>{if(us(T,B))return ye.some({boxes:ax(T,l,f),start:l,finish:f});if(rh(T,B)){const Z=dh(f,"td,th",w(T)),ne=Z.length>0?Z[Z.length-1]:f;return ye.some({boxes:Ah(T,l,T,f,B),start:l,finish:ne})}else if(rh(B,T)){const Z=dh(l,"td,th",w(B)),ne=Z.length>0?Z[Z.length-1]:l;return ye.some({boxes:Ah(B,l,T,f,B),start:l,finish:ne})}else return ux(l,f).shared.bind(Z=>nt(Z,"table",g).bind(ne=>{const ae=dh(f,"td,th",w(ne)),ve=ae.length>0?ae[ae.length-1]:f,De=dh(l,"td,th",w(ne)),ft=De.length>0?De[De.length-1]:l;return ye.some({boxes:Ah(ne,l,T,f,B),start:ft,finish:ve})}))}))},_d=(l,f)=>{const g=_(l,f);return g.length>0?ye.some(g):ye.none()},Ou=(l,f)=>K(l,g=>Ni(g,f)),dx=(l,f,g)=>Ne(l,f).bind(w=>Ne(l,g).bind(T=>qm(Oh,[w,T]).map(B=>({first:w,last:T,table:B})))),xy=(l,f)=>Te(l,"table").bind(g=>Ne(g,f).bind(w=>Pv(w,l).bind(T=>T.boxes.map(B=>({boxes:B,start:T.start,finish:T.finish}))))),lA=(l,f,g,w,T)=>Ou(l,T).bind(B=>wy(B,f,g).bind(Z=>xy(Z,w))),Dh=(l,f)=>_d(l,f),zt=(l,f,g)=>dx(l,f,g).bind(w=>{const T=ae=>us(l,ae),B="thead,tfoot,tbody,table",Z=Te(w.first,B,T),ne=Te(w.last,B,T);return Z.bind(ae=>ne.bind(ve=>us(ae,ve)?cx(w.table,w.first,w.last):ye.none()))}),Rh=mt,fx=l=>{const f=(w,T)=>ba(w,T).exists(B=>parseInt(B,10)>1),g=w=>f(w,"rowspan")||f(w,"colspan");return l.length>0&&Mo(l,g)?ye.some(l):ye.none()},uA=(l,f,g)=>f.length<=1?ye.none():zt(l,g.firstSelectedSelector,g.lastSelectedSelector).map(w=>({bounds:w,cells:f})),Gm="data-mce-selected",dA="td["+Gm+"],th["+Gm+"]",Ko="["+Gm+"]",Ph="data-mce-first-selected",Km="td["+Ph+"],th["+Ph+"]",Sy="data-mce-last-selected",Mh="td["+Sy+"],th["+Sy+"]",hx=Ko,Va={selected:Gm,selectedSelector:dA,firstSelected:Ph,firstSelectedSelector:Km,lastSelected:Sy,lastSelectedSelector:Mh},or=(l,f,g)=>({element:g,mergable:uA(f,l,Va),unmergable:fx(l),selection:Rh(l)}),Ey=(l,f,g)=>({element:l,clipboard:f,generators:g}),fA=(l,f,g,w)=>({selection:Rh(l),clipboard:g,generators:w}),Mv=l=>br(l).bind(f=>Dh(f,Va.firstSelectedSelector)).fold(ue(l),f=>f[0]),Bh=l=>(f,g)=>{const w=as(f),T=w==="col"||w==="colgroup"?Mv(f):f;return nt(T,l,g)},_y=Bh("th,td,caption"),gg=Bh("th,td"),il=l=>Su(l.model.table.getSelectedCells()),Du=l=>_n(il(l),f=>Ni(f,Va.selectedSelector)),Cc=l=>br(l[0]).map(f=>{const g=uy(f,hx);return sl(g),[g]}),IR=(l,f)=>jt(f,g=>l.selection.serializer.serialize(g.dom,{})).join(""),$R=l=>jt(l,f=>f.dom.innerText).join(""),LR=(l,f)=>{l.on("BeforeGetContent",g=>{const w=T=>{g.preventDefault(),Cc(T).each(B=>{g.content=g.format==="text"?$R(B):IR(l,B)})};if(g.selection===!0){const T=Du(l);T.length>=1&&w(T)}}),l.on("BeforeSetContent",g=>{if(g.selection===!0&&g.paste===!0){const w=il(l);Le(w).each(T=>{br(T).each(B=>{const Z=_n(Tv(g.content),ae=>as(ae)!=="meta"),ne=Bi("table");if(kv(l)&&Z.length===1&&ne(Z[0])){g.preventDefault();const ae=Ae.fromDom(l.getDoc()),ve=nl(ae),De=Ey(T,Z[0],ve);f.pasteCells(B,De).each(()=>{l.focus()})}})})}})},vg=(l,f)=>({element:l,offset:f}),Rr=(l,f,g)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?g(f).bind(w=>Rr(l,w,g).orThunk(()=>ye.some(w))):ye.none(),zi=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,mx=(l,f)=>{const g=Rr(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(g))return vg(g,zi(l,g));const w=l.property().children(g);return w.length>0?mx(l,w[w.length-1]):vg(g,zi(l,g))},hA=mx,Cf=rl(),Bv=l=>hA(Cf,l),Ty=(l,f)=>{md(l)||ts(l).each(w=>{const T=w.value/2;ay(l,T,w.unit),ay(f,T,w.unit)})},Ym=l=>jt(l,ue(0)),Xm=(l,f,g,w,T)=>T(l.slice(0,f)).concat(w).concat(T(l.slice(g))),xf=l=>(f,g,w,T)=>{if(l(w)){const B=Math.max(T,f[g]-Math.abs(w)),Z=Math.abs(B-f[g]);return w>=0?Z:-Z}else return w},Td=xf(l=>l<0),bg=xf(je),Jm=()=>{const l=(ne,ae,ve,De,ft)=>{const At=Td(ne,ae,De,ft);return Xm(ne,ae,ve+1,[At,0],Ym)},f=(ne,ae,ve,De)=>{const ft=(100+ve)/100,At=Math.max(De,(ne[ae]+ve)/ft);return jt(ne,(Et,vt)=>(vt===ae?At:Et/ft)-Et)},g=(ne,ae,ve,De,ft,At)=>At?f(ne,ae,De,ft):l(ne,ae,ve,De,ft);return{resizeTable:(ne,ae)=>ne(ae),clampTableDelta:Td,calcLeftEdgeDeltas:g,calcMiddleDeltas:(ne,ae,ve,De,ft,At,Et)=>g(ne,ve,De,ft,At,Et),calcRightEdgeDeltas:(ne,ae,ve,De,ft,At)=>{if(At)return f(ne,ve,De,ft);{const Et=Td(ne,ve,De,ft);return Ym(ne.slice(0,ve)).concat([Et])}},calcRedestributedWidths:(ne,ae,ve,De)=>{if(De){const At=(ae+ve)/ae,Et=jt(ne,vt=>vt/At);return{delta:At*100-100,newSizes:Et}}else return{delta:ve,newSizes:ne}}}},Nh=()=>{const l=(Z,ne,ae,ve,De)=>{const ft=ve>=0?ae:ne,At=bg(Z,ft,ve,De);return Xm(Z,ne,ae+1,[At,-At],Ym)};return{resizeTable:(Z,ne,ae)=>{ae&&Z(ne)},clampTableDelta:(Z,ne,ae,ve,De)=>{if(De){if(ae>=0)return ae;{const ft=He(Z,(At,Et)=>At+Et-ve,0);return Math.max(-ft,ae)}}else return Td(Z,ne,ae,ve)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(Z,ne,ae,ve,De,ft)=>l(Z,ae,ve,De,ft),calcRightEdgeDeltas:(Z,ne,ae,ve,De,ft)=>{if(ft)return Ym(Z);{const At=ve/Z.length;return jt(Z,ue(At))}},calcRedestributedWidths:(Z,ne,ae,ve)=>({delta:0,newSizes:Z})}},yg=l=>fo.fromTable(l).grid,wg=Bi("th"),Ru=l=>Mo(l,f=>wg(f.element)),px=(l,f)=>l&&f?"sectionCells":l?"section":"cells",Ay=l=>{const f=l.section==="thead",g=gt(Nv(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||g?{type:"header",subType:px(f,g)}:{type:"body"}},Nv=l=>{const f=_n(l,g=>wg(g.element));return f.length===0?ye.some("td"):f.length===l.length?ye.some("th"):ye.none()},mA=l=>{const f=jt(l,T=>Ay(T).type),g=yn(f,"header"),w=yn(f,"footer");if(!g&&!w)return ye.some("body");{const T=yn(f,"body");return g&&!T&&!w?ye.some("header"):!g&&!T&&w?ye.some("footer"):ye.none()}},pA=l=>Nr(l.all,f=>{const g=Ay(f);return g.type==="header"?ye.from(g.subType):ye.none()}),Cg=(l,f,g)=>gs(g(l.element,f),!0,l.isLocked),Iv=(l,f)=>l.section!==f?nc(l.element,l.cells,f,l.isNew):l,Qm=()=>({transformRow:Iv,transformCell:(l,f,g)=>{const w=g(l.element,f),T=as(w)!=="td"?Sm(w,"td"):w;return gs(T,l.isNew,l.isLocked)}}),Ih=()=>({transformRow:Iv,transformCell:Cg}),$v=()=>({transformRow:(l,f)=>Iv(l,f==="thead"?"tbody":f),transformCell:Cg}),ep={getTableSectionType:(l,f)=>{const g=fo.fromTable(l);switch(pA(g).getOr(f)){case"section":return Qm();case"sectionCells":return Ih();case"cells":return $v()}},section:Qm,sectionCells:Ih,cells:$v,fallback:()=>({transformRow:mt,transformCell:Cg})},Ds=(l,f,g,w)=>{g===w?Go(l,f):Xs(l,f,g)},ky=(l,f,g)=>{di(b(l,f)).fold(()=>$i(l,g),w=>kl(w,g))},Ps=(l,f)=>{const g=me(l,f).getOrThunk(()=>{const w=Ae.fromTag(f,ih(l).dom);return f==="thead"?ky(l,"caption,colgroup",w):f==="colgroup"?ky(l,"caption",w):Ns(l,w),w});return ya(g),g},Lh=(l,f)=>{const g=[],w=[],T=Et=>jt(Et,vt=>{vt.isNew&&g.push(vt.element);const $t=vt.element;return ya($t),Ge(vt.cells,ut=>{ut.isNew&&w.push(ut.element),Ds(ut.element,"colspan",ut.colspan,1),Ds(ut.element,"rowspan",ut.rowspan,1),Ns($t,ut.element)}),$t}),B=Et=>Cs(Et,vt=>jt(vt.cells,$t=>(Ds($t.element,"span",$t.colspan,1),$t.element))),Z=(Et,vt)=>{const $t=Ps(l,vt),Ct=(vt==="colgroup"?B:T)(Et);Ia($t,Ct)},ne=Et=>{me(l,Et).each(Us)},ae=(Et,vt)=>{Et.length>0?Z(Et,vt):ne(vt)},ve=[],De=[],ft=[],At=[];return Ge(f,Et=>{switch(Et.section){case"thead":ve.push(Et);break;case"tbody":De.push(Et);break;case"tfoot":ft.push(Et);break;case"colgroup":At.push(Et);break}}),ae(At,"colgroup"),ae(ve,"thead"),ae(De,"tbody"),ae(ft,"tfoot"),{newRows:g,newCells:w}},Ua=l=>jt(l,f=>{const g=ec(f.element);return Ge(f.cells,w=>{const T=gc(w.element);Ds(T,"colspan",w.colspan,1),Ds(T,"rowspan",w.rowspan,1),Ns(g,T)}),g}),Ad=(l,f)=>jt(l,g=>sc(g,f)),Wa=(l,f)=>l[f],vx=(l,f)=>{if(l.length===0)return 0;const g=l[0];return Xr(l,T=>!f(g.element,T.element)).getOr(l.length)},gA=(l,f,g,w)=>{const T=Wa(l,f),B=T.section==="colgroup",Z=vx(T.cells.slice(g),w),ne=B?1:vx(Ad(l.slice(f),g),w);return{colspan:Z,rowspan:ne}},vA=(l,f)=>{const g=jt(l,T=>jt(T.cells,Sn)),w=(T,B,Z,ne)=>{for(let ae=T;ae<T+Z;ae++)for(let ve=B;ve<B+ne;ve++)g[ae][ve]=!0};return jt(l,(T,B)=>{const Z=Cs(T.cells,(ne,ae)=>{if(g[B][ae]===!1){const ve=gA(l,B,ae,f);return w(B,ae,ve.rowspan,ve.colspan),[ah(ne.element,ve.rowspan,ve.colspan,ne.isNew)]}else return[]});return uv(T.element,Z,T.section,T.isNew)})},tp=(l,f,g)=>{const w=[];Ge(l.colgroups,T=>{const B=[];for(let Z=0;Z<l.grid.columns;Z++){const ne=fo.getColumnAt(l,Z).map(ae=>gs(ae.element,g,!1)).getOrThunk(()=>gs(f.colGap(),!0,!1));B.push(ne)}w.push(nc(T.element,B,"colgroup",g))});for(let T=0;T<l.grid.rows;T++){const B=[];for(let ae=0;ae<l.grid.columns;ae++){const ve=fo.getAt(l,T,ae).map(De=>gs(De.element,g,De.isLocked)).getOrThunk(()=>gs(f.gap(),!0,!1));B.push(ve)}const Z=l.all[T],ne=nc(Z.element,B,Z.section,g);w.push(ne)}return w},kd=(l,f)=>tp(l,f,!1),Pu=l=>vA(l,us),Oy=(l,f)=>Nr(l.all,g=>K(g.cells,w=>us(f,w.element))),Lv=(l,f,g)=>{const w=jt(f.selection,B=>fh(B).bind(Z=>Oy(l,Z)).filter(g)),T=We(w);return co(T.length>0,T)},sr=(l,f,g,w,T)=>(B,Z,ne,ae)=>{const ve=fo.fromTable(B),De=ye.from(ae==null?void 0:ae.section).getOrThunk(ep.fallback);return f(ve,Z).map(At=>{const Et=kd(ve,ne),vt=l(Et,At,us,T(ne),De),$t=Ml(vt.grid),ut=Pu(vt.grid);return{info:At,grid:ut,cursor:vt.cursor,lockedColumns:$t}}).bind(At=>{const Et=Lh(B,At.grid),vt=ye.from(ae==null?void 0:ae.sizing).getOrThunk(()=>gf.getTableSize(B)),$t=ye.from(ae==null?void 0:ae.resize).getOrThunk(Nh);return g(B,At.grid,At.info,{sizing:vt,resize:$t,section:De}),w(B),Go(B,Si),At.lockedColumns.length>0&&Xs(B,Si,At.lockedColumns.join(",")),ye.some({cursor:At.cursor,newRows:Et.newRows,newCells:Et.newCells})})},bx=(l,f)=>fh(f.element).bind(g=>Oy(l,g).map(w=>({...w,generators:f.generators,clipboard:f.clipboard}))),Od=(l,f)=>Lv(l,f,je).map(g=>({cells:g,generators:f.generators,clipboard:f.clipboard})),yx=(l,f)=>f.mergable,Fv=(l,f)=>f.unmergable,xc=(l,f)=>Lv(l,f,je),Dd=(l,f)=>Lv(l,f,g=>!g.isLocked),xg=(l,f)=>Oy(l,f).exists(g=>!g.isLocked),Sg=(l,f)=>Mo(f,g=>xg(l,g)),bA=(l,f)=>yx(l,f).filter(g=>Sg(l,g.cells)),yA=(l,f)=>Fv(l,f).filter(g=>Sg(l,g)),Eg=(l,f,g,w)=>{const T=gi(l).rows;if(T.length===0)return l;for(let B=f.startRow;B<=f.finishRow;B++)for(let Z=f.startCol;Z<=f.finishCol;Z++){const ne=T[B],ae=sc(ne,Z).isLocked;Rm(ne,Z,gs(w(),!1,ae))}return l},Rd=(l,f,g,w)=>{const T=gi(l).rows;let B=!0;for(let Z=0;Z<T.length;Z++)for(let ne=0;ne<yc(T[0]);ne++){const ae=T[Z],ve=sc(ae,ne),De=ve.element,ft=g(De,f);ft&&!B?Rm(ae,ne,gs(w(),!0,ve.isLocked)):ft&&(B=!1)}return l},wA=(l,f)=>He(l,(g,w)=>st(g,T=>f(T.element,w.element))?g:g.concat([w]),[]),Wr=(l,f,g,w)=>(f>0&&f<l[0].cells.length&&Ge(l,T=>{const B=T.cells[f-1];let Z=0;const ne=w();for(;T.cells.length>f+Z&&g(B.element,T.cells[f+Z].element);)Rm(T,f+Z,gs(ne,!0,T.cells[f+Z].isLocked)),Z++}),l),Hv=(l,f,g,w)=>{const T=gi(l).rows;if(f>0&&f<T.length){const B=T[f-1].cells,Z=wA(B,g);Ge(Z,ne=>{let ae=ye.none();for(let ve=f;ve<T.length;ve++)for(let De=0;De<yc(T[0]);De++){const ft=T[ve],At=sc(ft,De);g(At.element,ne.element)&&(ae.isNone()&&(ae=ye.some(w())),ae.each(vt=>{Rm(ft,De,gs(vt,!0,At.isLocked))}))}})}return l},ja=l=>{const f=B=>B(l),g=ue(l),w=()=>T,T={tag:!0,inner:l,fold:(B,Z)=>Z(l),isValue:je,isError:Sn,map:B=>Mu.value(B(l)),mapError:w,bind:f,exists:f,forall:f,getOr:g,or:w,getOrThunk:g,orThunk:w,getOrDie:g,each:B=>{B(l)},toOptional:()=>ye.some(l)};return T},wx=l=>{const f=()=>g,g={tag:!1,inner:l,fold:(w,T)=>w(l),isValue:Sn,isError:je,map:f,mapError:w=>Mu.error(w(l)),bind:f,exists:Sn,forall:je,getOr:mt,or:mt,getOrThunk:Cn,orThunk:Cn,getOrDie:mn(String(l)),each:Re,toOptional:ye.none};return g},Mu={value:ja,error:wx,fromOption:(l,f)=>l.fold(()=>wx(f),ja)},np=(l,f,g)=>{if(l.row>=f.length||l.column>yc(f[0]))return Mu.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const w=f.slice(l.row),T=w[0].cells.slice(l.column),B=yc(g[0]),Z=g.length;return Mu.value({rowDelta:w.length-Z,colDelta:T.length-B})},Pd=(l,f)=>{const g=yc(l[0]),w=yc(f[0]);return{rowDelta:0,colDelta:g-w}},ka=(l,f)=>{const g=l.length,w=f.length;return{rowDelta:g-w,colDelta:0}},jr=(l,f,g,w)=>{const T=f.section==="colgroup"?g.col:g.cell;return eo(l,B=>gs(T(),!0,w(B)))},Sc=(l,f,g,w)=>{const T=l[l.length-1];return l.concat(eo(f,()=>{const B=T.section==="colgroup"?g.colgroup:g.row,Z=tr(T,B,mt),ne=jr(Z.cells.length,Z,g,ae=>lr(w,ae.toString()));return lg(Z,ne)}))},zv=(l,f,g,w)=>jt(l,T=>{const B=jr(f,T,g,Sn);return vv(T,w,B)}),Vv=(l,f,g)=>jt(l,w=>He(g,(T,B)=>{const Z=jr(1,w,f,je)[0];return zC(T,B,Z)},w)),op=(l,f,g)=>{const w=f.colDelta<0?zv:mt,T=f.rowDelta<0?Sc:mt,B=Ml(l),Z=yc(l[0]),ne=st(B,De=>De===Z-1),ae=w(l,Math.abs(f.colDelta),g,ne?Z-1:Z),ve=Ml(ae);return T(ae,Math.abs(f.rowDelta),g,An(ve,je))},Uv=(l,f,g,w)=>{const T=sc(l[f],g),B=Gt(w,T.element),Z=l[f];return l.length>1&&yc(Z)>1&&(g>0&&B(Hi(Z,g-1))||g<Z.cells.length-1&&B(Hi(Z,g+1))||f>0&&B(Hi(l[f-1],g))||f<l.length-1&&B(Hi(l[f+1],g)))},_g=(l,f,g,w,T,B)=>{const Z=l.row,ne=l.column,ae=g.length,ve=yc(g[0]),De=Z+ae,ft=ne+ve+B.length,At=An(B,je);for(let Et=Z;Et<De;Et++){let vt=0;for(let $t=ne;$t<ft;$t++){if(At[$t]){vt++;continue}Uv(f,Et,$t,T)&&Rd(f,Hi(f[Et],$t),T,w.cell);const ut=$t-ne-vt,Ct=sc(g[Et-Z],ut),an=Ct.element,gn=w.replace(an);Rm(f[Et],$t,gs(gn,!0,Ct.isLocked))}}return f},CA=(l,f,g)=>{const w=yc(f[0]),T=gi(f).cols.length+l.row,B=eo(w-l.column,ne=>ne+l.column),Z=K(B,ne=>Mo(g,ae=>ae!==ne)).getOr(w-1);return{row:T,column:Z}},Tg=(l,f,g)=>_n(g,w=>w>=l.column&&w<=yc(f[0])+l.column),Cx=(l,f,g,w,T)=>{const B=Ml(f),Z=CA(l,f,B),ne=gi(g).rows,ae=Tg(Z,ne,B);return np(Z,f,ne).map(De=>{const ft={...De,colDelta:De.colDelta-ae.length},At=op(f,ft,w),Et=Ml(At),vt=Tg(Z,ne,Et);return _g(Z,At,ne,w,T,vt)})},rc=(l,f,g,w,T)=>{Wr(f,l,T,w.cell);const B=ka(g,f),Z=op(g,B,w),ne=ka(f,Z),ae=op(f,ne,w);return jt(ae,(ve,De)=>vv(ve,l,Z[De].cells))},Sf=(l,f,g,w,T)=>{Hv(f,l,T,w.cell);const B=Ml(f),Z=Pd(f,g),ne={...Z,colDelta:Z.colDelta-B.length},ae=op(f,ne,w),{cols:ve,rows:De}=gi(ae),ft=Ml(ae),At=Pd(g,f),Et={...At,colDelta:At.colDelta+ft.length},vt=Vv(g,w,ft),$t=op(vt,Et,w);return[...ve,...De.slice(0,l),...$t,...De.slice(l,De.length)]},Wv=(l,f,g,w)=>tr(l,T=>w(T,g),f),hs=(l,f,g,w,T)=>{const{rows:B,cols:Z}=gi(l),ne=B.slice(0,f),ae=B.slice(f),ve=Wv(B[g],(De,ft)=>f>0&&f<B.length&&w(Hi(B[f-1],ft),Hi(B[f],ft))?sc(B[f],ft):gs(T(De.element,w),!0,De.isLocked),w,T);return[...Z,...ne,ve,...ae]},zl=(l,f,g,w,T,B,Z)=>{if(g==="colgroup"||!w){const ne=sc(l,T);return gs(Z(ne.element,B),!0,!1)}else return sc(l,f)},Bu=(l,f,g,w,T)=>jt(l,B=>{const Z=f>0&&f<yc(B)&&w(Hi(B,f-1),Hi(B,f)),ne=zl(B,f,B.section,Z,g,w,T);return zC(B,f,ne)}),Ag=(l,f)=>Cs(l,g=>{const w=g.cells,T=$n(f,(B,Z)=>Z>=0&&Z<B.length?B.slice(0,Z).concat(B.slice(Z+1)):B,w);return T.length>0?[nc(g.element,T,g.section,g.isNew)]:[]}),xx=(l,f,g)=>{const{rows:w,cols:T}=gi(l);return[...T,...w.slice(0,f),...w.slice(g+1)]},xA=(l,f,g,w)=>Hi(l[f],g)!==void 0&&f>0&&w(Hi(l[f-1],g),Hi(l[f],g)),Ef=(l,f,g)=>f>0&&g(Hi(l,f-1),Hi(l,f)),Dy=(l,f,g,w)=>xA(l,f,g,w)||Ef(l[f],g,w),sp=(l,f)=>Mo(f,mt)&&Ru(l.cells)?je:(w,T,B)=>!(as(w.element)==="th"&&f[B]),rp=(l,f)=>Mo(f,mt)&&Ru(l)?je:(w,T,B)=>!(as(w.element)==="th"&&f[T]),Md=(l,f,g,w)=>{const T=Z=>Z==="row"?vr(f):md(f),B=Z=>T(Z)?`${Z}group`:Z;return l?wg(f)?B(g):null:w&&wg(f)?B(g==="row"?"col":"row"):null},SA=(l,f)=>(g,w,T)=>ye.some(Md(l,g.element,"col",f[T])),EA=(l,f)=>(g,w)=>ye.some(Md(l,g.element,"row",f[w])),Ry=(l,f,g)=>gs(g(l.element,f),!0,l.isLocked),Py=(l,f,g,w,T,B,Z)=>{const ne=ae=>st(f,ve=>g(ae.element,ve.element));return jt(l,(ae,ve)=>gu(ae,(De,ft)=>{if(ne(De)){const At=Z(De,ve,ft)?T(De,g,w):De;return B(At,ve,ft).each(Et=>{bm(At.element,{scope:ye.from(Et)})}),At}else return De}))},jv=(l,f,g)=>Cs(l,(w,T)=>Dy(l,T,f,g)?[]:[sc(w,f)]),Sx=(l,f,g)=>{const w=l[f];return Cs(w.cells,(T,B)=>Dy(l,f,B,g)?[]:[T])},My=(l,f,g,w,T)=>{const B=gi(l).rows,Z=Cs(f,De=>jv(B,De,w)),ne=jt(B,De=>Ru(De.cells)),ae=rp(Z,ne),ve=EA(g,ne);return Py(l,Z,w,T,Ry,ve,ae)},By=(l,f,g,w,T,B,Z)=>{const{cols:ne,rows:ae}=gi(l),ve=ae[f[0]],De=Cs(f,ut=>Sx(ae,ut,T)),ft=jt(ve.cells,(ut,Ct)=>Ru(jv(ae,Ct,T))),At=[...ae];Ge(f,ut=>{At[ut]=Z.transformRow(ae[ut],g)});const Et=[...ne,...At],vt=sp(ve,ft),$t=SA(w,ft);return Py(Et,De,T,B,Z.transformCell,$t,vt)},Ex=(l,f,g,w)=>{const T=gi(l).rows,B=jt(f,Z=>sc(T[Z.row],Z.column));return Py(l,B,g,w,Ry,ye.none,je)},_f={generate:l=>{if(!W(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],g={};return Ge(l,(w,T)=>{const B=Jt(w);if(B.length!==1)throw new Error("one and only one name per case");const Z=B[0],ne=w[Z];if(g[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!W(ne))throw new Error("case arguments must be an array");f.push(Z),g[Z]=(...ae)=>{const ve=ae.length;if(ve!==ne.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+ne.length+" ("+ne+"), got "+ve);return{fold:(...ft)=>{if(ft.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+ft.length);return ft[T].apply(null,ae)},match:ft=>{const At=Jt(ft);if(f.length!==At.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+At.join(","));if(!Mo(f,vt=>yn(At,vt)))throw new Error("Not all branches were specified when using match. Specified: "+At.join(", ")+`
Required: `+f.join(", "));return ft[Z].apply(null,ae)},log:ft=>{console.log(ft,{constructors:f,constructor:Z,params:ae})}}}}),g}},al={..._f.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ic=(l,f)=>l.length===0?al.none():l.length===1?al.only(0):f===0?al.left(0,1):f===l.length-1?al.right(f-1,f):f>0&&f<l.length-1?al.middle(f-1,f,f+1):al.none(),ho=(l,f,g,w,T)=>{const B=l.slice(0),Z=ic(l,f),ne=ue(jt(B,ue(0))),ae=At=>w.singleColumnWidth(B[At],g),ve=(At,Et)=>T.calcLeftEdgeDeltas(B,At,Et,g,w.minCellWidth(),w.isRelative),De=(At,Et,vt)=>T.calcMiddleDeltas(B,At,Et,vt,g,w.minCellWidth(),w.isRelative),ft=(At,Et)=>T.calcRightEdgeDeltas(B,At,Et,g,w.minCellWidth(),w.isRelative);return Z.fold(ne,ae,ve,De,ft)},oa=(l,f,g)=>{let w=0;for(let T=l;T<f;T++)w+=g[T]!==void 0?g[T]:0;return w},Fh=(l,f)=>{const g=fo.justCells(l);return jt(g,w=>{const T=oa(w.column,w.column+w.colspan,f);return{element:w.element,width:T,colspan:w.colspan}})},Iy=(l,f)=>{const g=fo.justColumns(l);return jt(g,(w,T)=>({element:w.element,width:f[T],colspan:w.colspan}))},ms=(l,f)=>jt(l.all,(g,w)=>({element:g.element,height:f[w]})),$y=l=>$n(l,(f,g)=>f+g,0),Ly=(l,f)=>fo.hasColumns(l)?Iy(l,f):Fh(l,f),Zr=(l,f,g)=>{const w=Ly(l,f);Ge(w,T=>{g.setElementWidth(T.element,T.width)})},Nu=(l,f,g,w,T)=>{const B=fo.fromTable(l),Z=T.getCellDelta(f),ne=T.getWidths(B,T),ae=g===B.grid.columns-1,ve=w.clampTableDelta(ne,g,Z,T.minCellWidth(),ae),De=ho(ne,g,ve,T,w),ft=jt(De,(At,Et)=>At+ne[Et]);Zr(B,ft,T),w.resizeTable(T.adjustTableWidth,ve,ae)},_x=(l,f,g)=>{const w=fo.fromTable(l),T=Ti(w,l),B=jt(T,(ae,ve)=>g===ve?Math.max(f+ae,Sa()):ae),Z=ms(w,B);Ge(Z,ae=>{fs(ae.element,ae.height)}),Ge(fo.justCells(w),ae=>{Il(ae.element)});const ne=$y(B);fs(l,ne)},kg=(l,f,g,w,T)=>{const B=fo.generate(f),Z=w.getWidths(B,w),ne=w.pixelWidth(),{newSizes:ae,delta:ve}=T.calcRedestributedWidths(Z,ne,g.pixelDelta,w.isRelative);Zr(B,ae,w),w.adjustTableWidth(ve)},_A=(l,f,g,w)=>{const T=fo.generate(f),B=w.getWidths(T,w);Zr(T,B,w)},Ec=l=>He(l,(g,w)=>st(g,B=>B.column===w.column)?g:g.concat([w]),[]).sort((g,w)=>g.column-w.column),ip=Bi("col"),Og=Bi("colgroup"),Hh=l=>as(l)==="tr"||Og(l),Zv=l=>{const f=ds(l,"colspan",1),g=ds(l,"rowspan",1);return{element:l,colspan:f,rowspan:g}},qv=(l,f=Zv)=>{const g=ne=>ip(ne.element)?l.col(ne):l.cell(ne),w=ne=>Og(ne.element)?l.colgroup(ne):l.row(ne),T=ne=>{if(Hh(ne))return w({element:ne});{const ae=ne,ve=g(f(ae));return B=ye.some({item:ae,replacement:ve}),ve}};let B=ye.none();return{getOrInit:(ne,ae)=>B.fold(()=>T(ne),ve=>ae(ne,ve.item)?ve.replacement:T(ne))}},Fy=l=>f=>{const g=[],w=(Z,ne)=>K(g,ae=>ne(ae.item,Z)),T=Z=>{const ne=l==="td"?{scope:null}:{},ae=f.replace(Z,l,ne);return g.push({item:Z,sub:ae}),ae};return{replaceOrInit:(Z,ne)=>{if(Hh(Z)||ip(Z))return Z;{const ae=Z;return w(ae,ne).fold(()=>T(ae),ve=>ne(Z,ve.item)?ve.sub:T(ae))}}}},Dg=l=>ba(l,"scope").map(f=>f.substr(0,3)),Hs={modification:qv,transform:Fy,merging:l=>({unmerge:w=>{const T=Dg(w);return T.each(B=>Xs(w,"scope",B)),()=>{const B=l.cell({element:w,colspan:1,rowspan:1});return Zo(B,"width"),Zo(w,"width"),T.each(Z=>Xs(B,"scope",Z)),B}},merge:w=>{const T=()=>{const B=We(jt(w,Dg));if(B.length===0)return ye.none();{const Z=B[0],ne=["row","col"];return st(B,ve=>ve!==Z&&yn(ne,ve))?ye.none():ye.from(Z)}};return Zo(w[0],"width"),T().fold(()=>Go(w[0],"scope"),B=>Xs(w[0],"scope",B+"group")),ue(w[0])}})},Tx=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],js=(l,f)=>{const g=l.property().name(f);return yn(["ol","ul"],g)},zh=(l,f)=>{const g=l.property().name(f);return yn(Tx,g)},Tf=(l,f)=>yn(["br","img","hr","input"],l.property().name(f)),Ve=rl(),Vh=l=>zh(Ve,l),Ax=l=>js(Ve,l),Hy=l=>Tf(Ve,l),Pg=l=>{const f=Bi("br"),g=ae=>Mo(ae,ve=>f(ve)||Al(ve)&&Vm(ve).trim().length===0),w=ae=>as(ae)==="li"||L(ae,Ax).isSome(),T=ae=>cf(ae).map(ve=>Vh(ve)?!0:Hy(ve)?as(ve)!=="img":!1).getOr(!1),B=ae=>oi(ae).bind(ve=>{const De=T(ve);return jc(ve).map(ft=>De===!0||w(ft)||f(ve)||Vh(ft)&&!us(ae,ft)?[]:[Ae.fromTag("br")])}).getOr([]),ne=(()=>{const ae=Cs(l,ve=>{const De=Uo(ve);return g(De)?[]:De.concat(B(ve))});return ae.length===0?[Ae.fromTag("br")]:ae})();ya(l[0]),Ia(l[0],ne)},_c=l=>za(l,!0),zy=l=>{Ea(l).length===0&&Us(l)},Mg=(l,f)=>({grid:l,cursor:f}),hr=l=>Nr(l,f=>Nr(f.cells,g=>{const w=g.element;return co(_c(w),w)})),rr=(l,f,g)=>{var w,T;const B=gi(l).rows;return ye.from((T=(w=B[f])===null||w===void 0?void 0:w.cells[g])===null||T===void 0?void 0:T.element).filter(_c).orThunk(()=>hr(B))},os=(l,f,g)=>{const w=rr(l,f,g);return Mg(l,w)},Cr=l=>He(l,(g,w)=>st(g,B=>B.row===w.row)?g:g.concat([w]),[]).sort((g,w)=>g.row-w.row),qr=(l,f,g,w)=>{const T=f[0].row,B=Cr(f),Z=$n(B,(ne,ae)=>({grid:hs(ne.grid,T,ae.row+ne.delta,g,w.getOrInit),delta:ne.delta+1}),{grid:l,delta:0}).grid;return os(Z,T,f[0].column)},Zs=(l,f,g,w)=>{const T=Cr(f),B=T[T.length-1],Z=B.row+B.rowspan,ne=$n(T,(ae,ve)=>hs(ae,Z,ve.row,g,w.getOrInit),l);return os(ne,Z,f[0].column)},Vy=(l,f,g,w)=>{const T=f.details,B=Ec(T),Z=B[0].column,ne=$n(B,(ae,ve)=>({grid:Bu(ae.grid,Z,ve.column+ae.delta,g,w.getOrInit),delta:ae.delta+1}),{grid:l,delta:0}).grid;return os(ne,T[0].row,Z)},Gv=(l,f,g,w)=>{const T=f.details,B=T[T.length-1],Z=B.column+B.colspan,ne=Ec(T),ae=$n(ne,(ve,De)=>Bu(ve,Z,De.column,g,w.getOrInit),l);return os(ae,T[0].row,Z)},kx=(l,f,g,w)=>{const T=Ec(f),B=jt(T,ne=>ne.column),Z=My(l,B,!0,g,w.replaceOrInit);return os(Z,f[0].row,f[0].column)},Ox=(l,f,g,w)=>{const T=Ex(l,f,g,w.replaceOrInit);return os(T,f[0].row,f[0].column)},Uy=(l,f,g,w)=>{const T=Ec(f),B=jt(T,ne=>ne.column),Z=My(l,B,!1,g,w.replaceOrInit);return os(Z,f[0].row,f[0].column)},Bg=(l,f,g,w)=>{const T=Ex(l,f,g,w.replaceOrInit);return os(T,f[0].row,f[0].column)},Ng=(l,f)=>(g,w,T,B,Z)=>{const ne=Cr(w),ae=jt(ne,De=>De.row),ve=By(g,ae,l,f,T,B.replaceOrInit,Z);return os(ve,w[0].row,w[0].column)},Kv=Ng("thead",!0),TA=Ng("tbody",!1),Dx=Ng("tfoot",!1),Rx=(l,f,g,w)=>{const T=Ec(f.details),B=Ag(l,jt(T,ne=>ne.column)),Z=B.length>0?B[0].cells.length-1:0;return os(B,T[0].row,Math.min(T[0].column,Z))},Px=(l,f,g,w)=>{const T=Cr(f),B=xx(l,T[0].row,T[T.length-1].row),Z=Math.max(gi(B).rows.length-1,0);return os(B,Math.min(f[0].row,Z),f[0].column)},Mx=(l,f,g,w)=>{const T=f.cells;Pg(T);const B=Eg(l,f.bounds,g,w.merge(T));return Mg(B,ye.from(T[0]))},Wy=(l,f,g,w)=>{const B=$n(f,(Z,ne)=>Rd(Z,ne,g,w.unmerge(ne)),l);return Mg(B,ye.from(f[0]))},Bx=(l,f,g,w)=>{const B=((ae,ve)=>{const De=fo.fromTable(ae);return tp(De,ve,!0)})(f.clipboard,f.generators),Z=Em(f.row,f.column);return Cx(Z,l,B,f.generators,g).fold(()=>Mg(l,ye.some(f.element)),ae=>os(ae,f.row,f.column))},Yv=(l,f,g)=>{const w=fv(l,g.section),T=fo.generate(w);return tp(T,f,!0)},AA=(l,f,g,w)=>{const T=gi(l).rows,B=f.cells[0].column,Z=T[f.cells[0].row],ne=Yv(f.clipboard,f.generators,Z),ae=rc(B,l,ne,f.generators,g);return os(ae,f.cells[0].row,f.cells[0].column)},Nx=(l,f,g,w)=>{const T=gi(l).rows,B=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,Z=T[f.cells[0].row],ne=Yv(f.clipboard,f.generators,Z),ae=rc(B,l,ne,f.generators,g);return os(ae,f.cells[0].row,B)},jy=(l,f,g,w)=>{const T=gi(l).rows,B=f.cells[0].row,Z=T[B],ne=Yv(f.clipboard,f.generators,Z),ae=Sf(B,l,ne,f.generators,g);return os(ae,f.cells[0].row,f.cells[0].column)},yt=(l,f,g,w)=>{const T=gi(l).rows,B=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,Z=T[f.cells[0].row],ne=Yv(f.clipboard,f.generators,Z),ae=Sf(B,l,ne,f.generators,g);return os(ae,B,f.cells[0].column)},Zy=(l,f)=>{const g=fo.fromTable(l);return xc(g,f).bind(T=>{const B=T[T.length-1],Z=T[0].column,ne=B.column+B.colspan,ae=po(jt(g.all,ve=>_n(ve.cells,De=>De.column>=Z&&De.column<ne)));return Nv(ae)}).getOr("")},Gr=(l,f)=>{const g=fo.fromTable(l);return xc(g,f).bind(Nv).getOr("")},Ix=(l,f)=>{const g=fo.fromTable(l);return xc(g,f).bind(T=>{const B=T[T.length-1],Z=T[0].row,ne=B.row+B.rowspan,ae=g.all.slice(Z,ne);return mA(ae)}).getOr("")},qy=(l,f,g,w)=>_A(l,f,g,w.sizing),Vi=(l,f,g,w)=>kg(l,f,g,w.sizing,w.resize),Za=(l,f)=>st(f,g=>g.column===0&&g.isLocked),Iu=(l,f)=>st(f,g=>g.column+g.colspan>=l.grid.columns&&g.isLocked),$x=(l,f)=>{const g=yv(l),w=Ec(f);return He(w,(T,B)=>{const ne=g[B.column].map(Ln).getOr(0);return T+ne},0)},Tc=l=>(f,g)=>xc(f,g).filter(w=>!(l?Za:Iu)(f,w)).map(w=>({details:w,pixelDelta:$x(f,w)})),Xv=(l,f)=>Dd(l,f).map(g=>({details:g,pixelDelta:-$x(l,g)})),ap=l=>(f,g)=>Od(f,g).filter(w=>!(l?Za:Iu)(f,w.cells)),cl=Hs.transform("th"),si=Hs.transform("td"),Jv=sr(qr,xc,Re,Re,Hs.modification),ll=sr(Zs,xc,Re,Re,Hs.modification),Gy=sr(Vy,Tc(!0),Vi,Re,Hs.modification),Ky=sr(Gv,Tc(!1),Vi,Re,Hs.modification),Yy=sr(Rx,Xv,Vi,zy,Hs.modification),Qv=sr(Px,xc,Re,zy,Hs.modification),Lx=sr(kx,Dd,Re,Re,cl),Xy=sr(Uy,Dd,Re,Re,si),kA=sr(Kv,Dd,Re,Re,cl),Jy=sr(TA,Dd,Re,Re,si),Lt=sr(Dx,Dd,Re,Re,si),eb=sr(Ox,Dd,Re,Re,cl),Fx=sr(Bg,Dd,Re,Re,si),OA=sr(Mx,bA,qy,Re,Hs.merging),DA=sr(Wy,yA,qy,Re,Hs.merging),Qy=sr(Bx,bx,qy,Re,Hs.modification),Hx=sr(AA,ap(!0),Re,Re,Hs.modification),zx=sr(Nx,ap(!1),Re,Re,Hs.modification),RA=sr(jy,Od,Re,Re,Hs.modification),Ig=sr(yt,Od,Re,Re,Hs.modification),PA=Zy,Ui=Gr,$g=Ix,Vx=(l,f)=>l.dispatch("NewRow",{node:f}),Ux=(l,f)=>l.dispatch("NewCell",{node:f}),Bd=(l,f,g)=>{l.dispatch("TableModified",{...g,table:f})},MA=(l,f,g,w,T)=>{l.dispatch("TableSelectionChange",{cells:f,start:g,finish:w,otherCells:T})},cp=l=>{l.dispatch("TableSelectionClear")},ss=(l,f,g,w,T)=>{l.dispatch("ObjectResizeStart",{target:f,width:g,height:w,origin:T})},e2=(l,f,g,w,T)=>{l.dispatch("ObjectResized",{target:f,width:g,height:w,origin:T})},bi={structure:!1,style:!0},xr={structure:!0,style:!1},Wx={structure:!0,style:!0},t2=(l,f)=>Sh(l)?gf.percentageSize(f):na(l)?gf.pixelSize(f):gf.getTableSize(f),tb=(l,f,g)=>{const w=qi=>as(Tu(qi))==="table",T=qi=>!w(l)||yg(qi).rows>1,B=qi=>!w(l)||yg(qi).columns>1,Z=Fs(l),ne=_u(l)?Re:Ty,ae=qi=>{switch(Eu(l)){case"section":return ep.section();case"sectionCells":return ep.sectionCells();case"cells":return ep.cells();default:return ep.getTableSectionType(qi,"section")}},ve=(qi,j2)=>j2.cursor.fold(()=>{const zd=Ea(qi);return Le(zd).filter(As).map(Gl=>{g.clearSelectedCells(qi.dom);const ai=l.dom.createRng();return ai.selectNode(Gl.dom),l.selection.setRng(ai),Xs(Gl,"data-mce-selected","1"),ai})},zd=>{const Gl=Bv(zd),ai=l.dom.createRng();return ai.setStart(Gl.element.dom,Gl.offset),ai.setEnd(Gl.element.dom,Gl.offset),l.selection.setRng(ai),g.clearSelectedCells(qi.dom),ye.some(ai)}),De=(qi,j2,zd,Gl)=>(ai,Z2,q2=!1)=>{sl(ai);const XS=Ae.fromDom(l.getDoc()),Fk=Um(zd,XS,Z),Hk={sizing:t2(l,ai),resize:_u(l)?Jm():Nh(),section:ae(ai)};return j2(ai)?qi(ai,Z2,Fk,Hk).bind(G2=>{f.refresh(ai.dom),Ge(G2.newRows,kp=>{Vx(l,kp.dom)}),Ge(G2.newCells,kp=>{Ux(l,kp.dom)});const zk=ve(ai,G2);return As(ai)&&(sl(ai),q2||Bd(l,ai.dom,Gl)),zk.map(kp=>({rng:kp,effect:Gl}))}):ye.none()},ft=De(Qv,T,Re,xr),At=De(Yy,B,Re,xr),Et=De(Jv,je,Re,xr),vt=De(ll,je,Re,xr),$t=De(Gy,je,ne,xr),ut=De(Ky,je,ne,xr),Ct=De(OA,je,Re,xr),an=De(DA,je,Re,xr),gn=De(Hx,je,Re,xr),vo=De(zx,je,Re,xr),ws=De(RA,je,Re,xr),Ss=De(Ig,je,Re,xr),Oi=De(Qy,je,Re,Wx),Mc=De(eb,je,Re,xr),Nf=De(Fx,je,Re,xr),sm=De(Lx,je,Re,xr),Fb=De(Xy,je,Re,xr),qo=De(kA,je,Re,xr),ia=De(Jy,je,Re,xr),Zi=De(Lt,je,Re,xr);return{deleteRow:ft,deleteColumn:At,insertRowsBefore:Et,insertRowsAfter:vt,insertColumnsBefore:$t,insertColumnsAfter:ut,mergeCells:Ct,unmergeCells:an,pasteColsBefore:gn,pasteColsAfter:vo,pasteRowsBefore:ws,pasteRowsAfter:Ss,pasteCells:Oi,makeCellsHeader:Mc,unmakeCellsHeader:Nf,makeColumnsHeader:sm,unmakeColumnsHeader:Fb,makeRowsHeader:qo,makeRowsBody:ia,makeRowsFooter:Zi,getTableRowType:$g,getTableCellType:Ui,getTableColType:PA}},jx=(l,f,g)=>{const w=ds(l,f,1);g===1||w<=1?Go(l,f):Xs(l,f,Math.min(g,w))},Zx=(l,f)=>g=>{const w=g.column+g.colspan-1,T=g.column;return w>=l&&T<f},BA=(l,f,g)=>{if(fo.hasColumns(l)){const w=_n(fo.justColumns(l),Zx(f,g)),T=jt(w,Z=>{const ne=gc(Z.element);return jx(ne,"span",g-f),ne}),B=Ae.fromTag("colgroup");return Ia(B,T),[B]}else return[]},n2=(l,f,g)=>jt(l.all,w=>{const T=_n(w.cells,Zx(f,g)),B=jt(T,ne=>{const ae=gc(ne.element);return jx(ae,"colspan",g-f),ae}),Z=Ae.fromTag("tr");return Ia(Z,B),Z}),qx=(l,f)=>{const g=fo.fromTable(l);return Dd(g,f).map(T=>{const B=T[T.length-1],Z=T[0].column,ne=B.column+B.colspan,ae=BA(g,Z,ne),ve=n2(g,Z,ne);return[...ae,...ve]})},NA=(l,f,g)=>{const w=fo.fromTable(l);return xc(w,f).bind(B=>{const Z=tp(w,g,!1),ae=gi(Z).rows.slice(B[0].row,B[B.length-1].row+B[B.length-1].rowspan),ve=Cs(ae,ft=>{const At=_n(ft.cells,Et=>!Et.isLocked);return At.length>0?[{...ft,cells:At}]:[]}),De=Pu(ve);return co(De.length>0,De)}).map(B=>Ua(B))},lp=_f.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Gx=(l,f,g)=>{const w=g.substring(0,g.length-l.length),T=parseFloat(w);return w===T.toString()?f(T):lp.invalid(g)},Uh={...lp,from:l=>Hr(l,"%")?Gx("%",lp.percent,l):Hr(l,"px")?Gx("px",lp.pixels,l):lp.invalid(l)},Kx=(l,f)=>jt(l,g=>Uh.from(g).fold(()=>g,T=>T/f*100+"%",T=>T+"%")),IA=(l,f,g)=>{const w=g/f;return jt(l,T=>Uh.from(T).fold(()=>T,Z=>Z*w+"px",Z=>Z/100*g+"px"))},$A=(l,f)=>{const g=l.fold(()=>ue(""),w=>{const T=w/f;return ue(T+"px")},()=>{const w=100/f;return ue(w+"%")});return eo(f,g)},Yx=(l,f,g)=>l.fold(()=>f,w=>IA(f,g,w),w=>Kx(f,g)),o2=(l,f,g)=>{const w=Uh.from(g),T=Mo(l,B=>B==="0px")?$A(w,l.length):Yx(w,l,f);return up(T)},s2=(l,f)=>l.length===0?f:$n(l,(g,w)=>Uh.from(w).fold(ue(0),mt,mt)+g,0),Wh=(l,f)=>{const g=Math.floor(l);return{value:g+f,remainder:l-g}},Xx=(l,f)=>Uh.from(l).fold(ue(l),g=>g+f+"px",g=>g+f+"%"),up=l=>{if(l.length===0)return l;const f=$n(l,(w,T)=>{const B=Uh.from(T).fold(()=>({value:T,remainder:0}),Z=>Wh(Z,"px"),Z=>({value:Z+"%",remainder:0}));return{output:[B.value].concat(w.output),remainder:w.remainder+B.remainder}},{output:[],remainder:0}),g=f.output;return g.slice(0,g.length-1).concat([Xx(g[g.length-1],Math.round(f.remainder))])},LA=Uh.from,r2=(l,f,g)=>{Ge(f,w=>{const T=l.slice(w.column,w.colspan+w.column),B=s2(T,Rl());jo(w.element,"width",B+g)})},ul=(l,f,g)=>{Ge(f,(w,T)=>{const B=s2([l[T]],Rl());jo(w.element,"width",B+g)})},Af=(l,f,g)=>{Ge(g,w=>{Zo(w.element,"height")}),Ge(f,(w,T)=>{jo(w.element,"height",l[T])})},nb=l=>LA(l).fold(ue("px"),ue("px"),ue("%")),Lg=(l,f,g)=>{const w=fo.fromTable(l),T=w.all,B=fo.justCells(w),Z=fo.justColumns(w);f.each(ne=>{const ae=nb(ne),ve=df(l),De=wc(w,l),ft=o2(De,ve,ne);fo.hasColumns(w)?ul(ft,Z,ae):r2(ft,B,ae),jo(l,"width",ne)}),g.each(ne=>{const ae=bu(l),ve=Os(w,l),De=o2(ve,ae,ne);Af(De,T,B),jo(l,"height",ne)})},Jx=YC,$u=Or,ob=_o,jh=l=>{Go(l,"width"),Go(l,"height")},dl=l=>{const f=Qc(l);Lg(l,ye.some(f),ye.none()),jh(l)},dp=l=>{const f=kr(l);Lg(l,ye.some(f),ye.none()),jh(l)},FA=l=>{const f=bs(l);Lg(l,ye.none(),ye.some(f)),jh(l)},Qx=l=>{Zo(l,"width");const f=pd(l),g=f.length>0?f:Ea(l);Ge(g,w=>{Zo(w,"width"),jh(w)}),jh(l)},HA={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},zA=()=>Ae.fromTag("th"),i2=()=>Ae.fromTag("td"),VA=()=>Ae.fromTag("col"),eS=(l,f,g,w)=>{const T=Ae.fromTag("tr");for(let B=0;B<l;B++){const Z=w<f||B<g?zA():i2();B<g&&Xs(Z,"scope","row"),w<f&&Xs(Z,"scope","col"),Ns(Z,Ae.fromTag("br")),Ns(T,Z)}return T},Fg=l=>{const f=Ae.fromTag("colgroup");return eo(l,()=>Ns(f,VA())),f},tS=(l,f,g,w)=>eo(l,T=>eS(f,g,w,T)),nS=(l,f,g,w,T,B=HA)=>{const Z=Ae.fromTag("table"),ne=T!=="cells";Ca(Z,B.styles),Vc(Z,B.attributes),B.colGroups&&Ns(Z,Fg(f));const ae=Math.min(l,g);if(ne&&g>0){const Et=Ae.fromTag("thead");Ns(Z,Et);const $t=tS(g,f,T==="sectionCells"?ae:0,w);Ia(Et,$t)}const ve=Ae.fromTag("tbody");Ns(Z,ve);const De=ne?l-ae:l,At=tS(De,f,ne?0:g,w);return Ia(ve,At),Z},UA=l=>l.dom.innerHTML,WA=l=>{const f=Ae.fromTag("div"),g=Ae.fromDom(l.dom.cloneNode(!0));return Ns(f,g),UA(f)},oS=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},sS=(l,f)=>{Ne(f,"td,th").each(Gt(oS,l))},a2=(l,f)=>{Ge(_(f,"tr"),g=>{Vx(l,g.dom),Ge(_(g,"th,td"),w=>{Ux(l,w.dom)})})},rS=l=>te(l)&&l.indexOf("%")!==-1,jA=(l,f,g,w,T)=>{const B=rx(l),Z={styles:B,attributes:iA(l),colGroups:Ov(l)};return l.undoManager.ignore(()=>{const ne=nS(g,f,T,w,Eu(l),Z);Xs(ne,"data-mce-id","__mce");const ae=WA(ne);l.insertContent(ae),l.addVisual()}),Ne(Tu(l),'table[data-mce-id="__mce"]').map(ne=>(na(l)?dp(ne):Dr(l)?Qx(ne):(Sh(l)||rS(B.width))&&dl(ne),sl(ne),Go(ne,"data-mce-id"),a2(l,ne),sS(l,ne),ne.dom)).getOrNull()},ZA=(l,f,g,w={})=>{const T=B=>xe(B)&&B>0;if(T(f)&&T(g)){const B=w.headerRows||0,Z=w.headerColumns||0;return jA(l,g,f,Z,B)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var sb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const iS="x-tinymce/dom-table-",aS=iS+"rows",Nd=iS+"columns",rb=l=>{const f=sb.FakeClipboardItem(l);sb.write([f])},c2=l=>{var f;const g=(f=sb.read())!==null&&f!==void 0?f:[];return Nr(g,w=>ye.from(w.getType(l)))},cS=l=>{c2(l).isSome()&&sb.clear()},lS=l=>{l.fold(qA,f=>rb({[aS]:f}))},uS=()=>c2(aS),qA=()=>cS(aS),dS=l=>{l.fold(GA,f=>rb({[Nd]:f}))},Hg=()=>c2(Nd),GA=()=>cS(Nd),l2=l=>_y(Wm(l),_h(l)).filter(Au),KA=l=>gg(Wm(l),_h(l)).filter(Au),YA=(l,f)=>{const g=_h(l),w=()=>l2(l).each(ut=>{br(ut,g).filter(A(g)).each(Ct=>{const an=Ae.fromText("");if(kl(Ct,an),Us(Ct),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const gn=l.dom.createRng();gn.setStart(an.dom,0),gn.setEnd(an.dom,0),l.selection.setRng(gn),l.nodeChanged()}})}),T=ut=>l2(l).each(Ct=>{Dr(l)||na(l)||Sh(l)||br(Ct,g).each(gn=>{ut==="relative"&&!Jx(gn)?dl(gn):ut==="fixed"&&!$u(gn)?dp(gn):ut==="responsive"&&!ob(gn)&&Qx(gn),sl(gn),Bd(l,gn.dom,xr)})}),B=ut=>br(ut,g),Z=ut=>KA(l).bind(Ct=>B(Ct).map(an=>ut(an,Ct))),ne=(ut,Ct)=>{Z(an=>{l.formatter.toggle("tableclass",{value:Ct},an.dom),Bd(l,an.dom,bi)})},ae=(ut,Ct)=>{Z(an=>{const gn=il(l),ws=Mo(gn,Ss=>l.formatter.match("tablecellclass",{value:Ct},Ss.dom))?l.formatter.remove:l.formatter.apply;Ge(gn,Ss=>ws("tablecellclass",{value:Ct},Ss.dom)),Bd(l,an.dom,bi)})},ve=()=>{l2(l).each(ut=>{br(ut,g).each(Ct=>{me(Ct,"caption").fold(()=>{const an=Ae.fromTag("caption");Ns(an,Ae.fromText("Caption")),pc(Ct,an,0),l.selection.setCursorLocation(an.dom,0)},an=>{Bi("caption")(ut)&&wm("td",Ct).each(gn=>l.selection.setCursorLocation(gn.dom,0)),Us(an)}),Bd(l,Ct.dom,xr)})})},De=ut=>{l.focus()},ft=(ut,Ct=!1)=>Z((an,gn)=>{const vo=or(il(l),an,gn);ut(an,vo,Ct).each(De)}),At=()=>Z((ut,Ct)=>{const an=or(il(l),ut,Ct),gn=Um(Re,Ae.fromDom(l.getDoc()),ye.none());return NA(ut,an,gn)}),Et=()=>Z((ut,Ct)=>{const an=or(il(l),ut,Ct);return qx(ut,an)}),vt=(ut,Ct)=>Ct().each(an=>{const gn=jt(an,vo=>gc(vo));Z((vo,ws)=>{const Ss=nl(Ae.fromDom(l.getDoc())),Oi=fA(il(l),ws,gn,Ss);ut(vo,Oi).each(De)})}),$t=ut=>(Ct,an)=>sh(an,"type").each(gn=>{ft(ut(gn),an.no_events)});To({mceTableSplitCells:()=>ft(f.unmergeCells),mceTableMergeCells:()=>ft(f.mergeCells),mceTableInsertRowBefore:()=>ft(f.insertRowsBefore),mceTableInsertRowAfter:()=>ft(f.insertRowsAfter),mceTableInsertColBefore:()=>ft(f.insertColumnsBefore),mceTableInsertColAfter:()=>ft(f.insertColumnsAfter),mceTableDeleteCol:()=>ft(f.deleteColumn),mceTableDeleteRow:()=>ft(f.deleteRow),mceTableCutCol:()=>Et().each(ut=>{dS(ut),ft(f.deleteColumn)}),mceTableCutRow:()=>At().each(ut=>{lS(ut),ft(f.deleteRow)}),mceTableCopyCol:()=>Et().each(ut=>dS(ut)),mceTableCopyRow:()=>At().each(ut=>lS(ut)),mceTablePasteColBefore:()=>vt(f.pasteColsBefore,Hg),mceTablePasteColAfter:()=>vt(f.pasteColsAfter,Hg),mceTablePasteRowBefore:()=>vt(f.pasteRowsBefore,uS),mceTablePasteRowAfter:()=>vt(f.pasteRowsAfter,uS),mceTableDelete:w,mceTableCellToggleClass:ae,mceTableToggleClass:ne,mceTableToggleCaption:ve,mceTableSizingMode:(ut,Ct)=>T(Ct),mceTableCellType:$t(ut=>ut==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:$t(ut=>ut==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:$t(ut=>{switch(ut){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(ut,Ct)=>l.addCommand(Ct,ut)),l.addCommand("mceInsertTable",(ut,Ct)=>{ZA(l,Ct.rows,Ct.columns,Ct.options)}),l.addCommand("mceTableApplyCellStyle",(ut,Ct)=>{const an=ws=>"tablecell"+ws.toLowerCase().replace("-","");if(!q(Ct))return;const gn=_n(il(l),Au);if(gn.length===0)return;const vo=Mi(Ct,(ws,Ss)=>l.formatter.has(an(Ss))&&te(ws));pa(vo)||(To(vo,(ws,Ss)=>{const Oi=an(Ss);Ge(gn,Mc=>{ws===""?l.formatter.remove(Oi,{value:null},Mc.dom,!0):l.formatter.apply(Oi,{value:ws},Mc.dom)})}),B(gn[0]).each(ws=>Bd(l,ws.dom,bi)))})},fS=(l,f)=>{const g=_h(l),w=T=>gg(Wm(l)).bind(B=>br(B,g).map(Z=>{const ne=or(il(l),Z,B);return T(Z,ne)})).getOr("");To({mceTableRowType:()=>w(f.getTableRowType),mceTableCellType:()=>w(f.getTableCellType),mceTableColType:()=>w(f.getTableColType)},(T,B)=>l.addQueryValueHandler(B,T))},u2=_f.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),XA=(l,f,g,w)=>l.fold(f,g,w),zg=l=>l.fold(mt,mt,mt),JA=u2.before,hS=u2.on,mS=u2.after,Wi={before:JA,on:hS,after:mS,cata:XA,getStart:zg},fp={create:(l,f)=>({selection:l,kill:f})},ek=(l,f)=>{const g=l.document.createRange();return g.selectNode(f.dom),g},hp=(l,f)=>{const g=l.document.createRange();return pS(g,f),g},pS=(l,f)=>l.selectNodeContents(f.dom),tk=(l,f)=>{f.fold(g=>{l.setStartBefore(g.dom)},(g,w)=>{l.setStart(g.dom,w)},g=>{l.setStartAfter(g.dom)})},nk=(l,f)=>{f.fold(g=>{l.setEndBefore(g.dom)},(g,w)=>{l.setEnd(g.dom,w)},g=>{l.setEndAfter(g.dom)})},d2=(l,f,g)=>{const w=l.document.createRange();return tk(w,f),nk(w,g),w},mp=(l,f,g,w,T)=>{const B=l.document.createRange();return B.setStart(f.dom,g),B.setEnd(w.dom,T),B},gS=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),sa=l=>{const f=l.getClientRects(),g=f.length>0?f[0]:l.getBoundingClientRect();return g.width>0||g.height>0?ye.some(g).map(gS):ye.none()},Vg=_f.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vS=(l,f,g)=>f(Ae.fromDom(g.startContainer),g.startOffset,Ae.fromDom(g.endContainer),g.endOffset),bS=(l,f)=>f.match({domRange:g=>({ltr:ue(g),rtl:ye.none}),relative:(g,w)=>({ltr:Pl(()=>d2(l,g,w)),rtl:Pl(()=>ye.some(d2(l,w,g)))}),exact:(g,w,T,B)=>({ltr:Pl(()=>mp(l,g,w,T,B)),rtl:Pl(()=>ye.some(mp(l,T,B,g,w)))})}),f2=(l,f)=>{const g=f.ltr();return g.collapsed?f.rtl().filter(T=>T.collapsed===!1).map(T=>Vg.rtl(Ae.fromDom(T.endContainer),T.endOffset,Ae.fromDom(T.startContainer),T.startOffset)).getOrThunk(()=>vS(l,Vg.ltr,g)):vS(l,Vg.ltr,g)},h2=(l,f)=>{const g=bS(l,f);return f2(l,g)},ib=(l,f)=>h2(l,f).match({ltr:(w,T,B,Z)=>{const ne=l.document.createRange();return ne.setStart(w.dom,T),ne.setEnd(B.dom,Z),ne},rtl:(w,T,B,Z)=>{const ne=l.document.createRange();return ne.setStart(B.dom,Z),ne.setEnd(w.dom,T),ne}});Vg.ltr,Vg.rtl;const Ug={create:(l,f,g,w)=>({start:l,soffset:f,finish:g,foffset:w})},wS={create:(l,f,g,w)=>({start:Wi.on(l,f),finish:Wi.on(g,w)})},CS=(l,f)=>{const g=ib(l,f);return Ug.create(Ae.fromDom(g.startContainer),g.startOffset,Ae.fromDom(g.endContainer),g.endOffset)},Zh=wS.create,qh=(l,f,g,w,T,B,Z)=>us(g,T)&&w===B?ye.none():nt(g,"td,th",f).bind(ne=>nt(T,"td,th",f).bind(ae=>m2(l,f,ne,ae,Z))),m2=(l,f,g,w,T)=>us(g,w)?ye.none():Pv(g,w,f).bind(B=>{const Z=B.boxes.getOr([]);return Z.length>1?(T(l,Z,B.start,B.finish),ye.some(fp.create(ye.some(Zh(g,0,g,bf(g))),!0))):ye.none()}),p2=(l,f,g,w,T)=>{const B=Z=>(T.clearBeforeUpdate(g),T.selectRange(g,Z.boxes,Z.start,Z.finish),Z.boxes);return lA(w,l,f,T.firstSelectedSelector,T.lastSelectedSelector).map(B)},ab=(l,f)=>({item:l,mode:f}),xS=(l,f,g,w=Gh)=>l.property().parent(f).map(T=>ab(T,w)),Gh=(l,f,g,w=kf)=>g.sibling(l,f).map(T=>ab(T,w)),kf=(l,f,g,w=kf)=>{const T=l.property().children(f);return g.first(T).map(Z=>ab(Z,w))},SS=[{current:xS,next:Gh,fallback:ye.none()},{current:Gh,next:kf,fallback:ye.some(xS)},{current:kf,next:kf,fallback:ye.some(Gh)}],cb=(l,f,g,w,T=SS)=>K(T,Z=>Z.current===g).bind(Z=>Z.current(l,f,w,Z.next).orThunk(()=>Z.fallback.bind(ne=>cb(l,f,ne,w)))),g2={left:()=>({sibling:(g,w)=>g.query().prevSibling(w),first:g=>g.length>0?ye.some(g[g.length-1]):ye.none()}),right:()=>({sibling:(g,w)=>g.query().nextSibling(w),first:g=>g.length>0?ye.some(g[0]):ye.none()})},pp=(l,f,g,w,T,B)=>cb(l,f,w,T).bind(ne=>B(ne.item)?ye.none():g(ne.item)?ye.some(ne.item):pp(l,ne.item,g,ne.mode,T,B)),ES=(l,f,g,w)=>pp(l,f,g,Gh,g2.left(),w),v2=(l,f,g,w)=>pp(l,f,g,Gh,g2.right(),w),lb=l=>f=>l.property().children(f).length===0,b2=(l,f,g)=>_S(l,f,lb(l),g),ok=(l,f,g)=>TS(l,f,lb(l),g),_S=ES,TS=v2,Id=rl(),Of=(l,f)=>b2(Id,l,f),Zg=(l,f)=>ok(Id,l,f),qg=(l,f,g)=>_S(Id,l,f,g),sk=(l,f,g)=>TS(Id,l,f,g),Df=(l,f,g)=>L(l,f,g).isSome(),Ac=_f.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ub=(l,f,g)=>{const w=l.getRect(f),T=l.getRect(g);return T.right>w.left&&T.left<w.right},rk=l=>nt(l,"tr"),$d={...Ac,verify:(l,f,g,w,T,B,Z)=>nt(w,"td,th",Z).bind(ne=>nt(f,"td,th",Z).map(ae=>us(ne,ae)?us(w,ne)&&bf(ne)===T?B(ae):Ac.none("in same cell"):qm(rk,[ne,ae]).fold(()=>ub(l,ae,ne)?Ac.success():B(ae),ve=>B(ae)))).getOr(Ac.none("default")),cata:(l,f,g,w,T)=>l.fold(f,g,w,T)},Gg=(l,f,g,w)=>({parent:l,children:f,element:g,index:w}),ri=l=>jc(l).bind(f=>{const g=Uo(f);return db(g,l).map(w=>Gg(f,g,l,w))}),db=(l,f)=>Xr(l,Gt(us,f)),Vl=Bi("br"),Lu=(l,f,g)=>f(l,g).bind(w=>Al(w)&&Vm(w).trim().length===0?Lu(w,f,g):ye.some(w)),AS=(l,f,g)=>g.traverse(f).orThunk(()=>Lu(f,g.gather,l)).map(g.relative),Kg=(l,f)=>Ii(l,f).filter(Vl).orThunk(()=>Ii(l,f-1).filter(Vl)),Yg=(l,f,g,w)=>Kg(f,g).bind(T=>w.traverse(T).fold(()=>Lu(T,w.gather,l).map(w.relative),B=>ri(B).map(Z=>Wi.on(Z.parent,Z.index)))),ii=(l,f,g,w)=>(Vl(f)?AS(l,f,w):Yg(l,f,g,w)).map(B=>({start:B,finish:B})),ak=l=>$d.cata(l,f=>ye.none(),()=>ye.none(),f=>ye.some(vg(f,0)),f=>ye.some(vg(f,bf(f)))),kc=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),Ul=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Xg=(l,f,g)=>({left:l.left+f,top:l.top+g,right:l.right+f,bottom:l.bottom+g}),Kh=l=>l.top,Fu=l=>l.bottom,Jg=(l,f,g)=>g>=0&&g<bf(f)?l.getRangedRect(f,g,f,g+1):g>0?l.getRangedRect(f,g-1,f,g):ye.none(),gp=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),vp=(l,f)=>ye.some(l.getRect(f)),fb=(l,f,g)=>Lr(f)?vp(l,f).map(gp):Al(f)?Jg(l,f,g).map(gp):ye.none(),kS=(l,f)=>Lr(f)?vp(l,f).map(gp):Al(f)?l.getRangedRect(f,0,f,bf(f)).map(gp):ye.none(),Hu=5,Wl=100,zu=_f.generate([{none:[]},{retry:["caret"]}]),ck=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,hb=(l,f,g)=>Q(f,Vh).fold(Sn,w=>kS(l,w).exists(T=>ck(g,T))),y2=(l,f,g,w,T)=>{const B=kc(T,Hu);return Math.abs(g.bottom-w.bottom)<1||g.top>T.bottom?zu.retry(B):g.top===T.bottom?zu.retry(kc(T,1)):hb(l,f,T)?zu.retry(Xg(B,Hu,0)):zu.none()},uk={point:Kh,adjuster:(l,f,g,w,T)=>{const B=Ul(T,Hu);return Math.abs(g.top-w.top)<1||g.bottom<T.top?zu.retry(B):g.bottom===T.top?zu.retry(Ul(T,1)):hb(l,f,T)?zu.retry(Xg(B,Hu,0)):zu.none()},move:Ul,gather:Of},dk={point:Fu,adjuster:y2,move:kc,gather:Zg},Oc=(l,f,g)=>l.elementFromPoint(f,g).filter(w=>as(w)==="table").isSome(),Yh=(l,f,g,w,T)=>mb(l,f,g,f.move(w,Hu),T),mb=(l,f,g,w,T)=>T===0?ye.some(w):Oc(l,w.left,f.point(w))?Yh(l,f,g,w,T-1):l.situsFromPoint(w.left,f.point(w)).bind(B=>B.start.fold(ye.none,Z=>kS(l,Z).bind(ne=>f.adjuster(l,Z,ne,g,w).fold(ye.none,ae=>mb(l,f,g,ae,T-1))).orThunk(()=>ye.some(w)),ye.none)),Xh=(l,f,g)=>l.point(f)>g.getInnerHeight()?ye.some(l.point(f)-g.getInnerHeight()):l.point(f)<0?ye.some(-l.point(f)):ye.none(),ra=(l,f,g)=>{const w=l.move(g,Hu),T=mb(f,l,g,w,Wl).getOr(w);return Xh(l,T,f).fold(()=>f.situsFromPoint(T.left,l.point(T)),B=>(f.scrollBy(0,B),f.situsFromPoint(T.left,l.point(T)-B)))},Oa={tryUp:Gt(ra,uk),tryDown:Gt(ra,dk),getJumpSize:ue(Hu)},ji=20,fl=(l,f,g)=>l.getSelection().bind(w=>ii(f,w.finish,w.foffset,g).fold(()=>ye.some(vg(w.finish,w.foffset)),T=>{const B=l.fromSitus(T),Z=$d.verify(l,w.finish,w.foffset,B.finish,B.foffset,g.failure,f);return ak(Z)})),pb=(l,f,g,w,T,B)=>B===0?ye.none():Rf(l,f,g,w,T).bind(Z=>{const ne=l.fromSitus(Z),ae=$d.verify(l,g,w,ne.finish,ne.foffset,T.failure,f);return $d.cata(ae,()=>ye.none(),()=>ye.some(Z),ve=>us(g,ve)&&w===0?ac(l,g,w,Ul,T):pb(l,f,ve,0,T,B-1),ve=>us(g,ve)&&w===bf(ve)?ac(l,g,w,kc,T):pb(l,f,ve,bf(ve),T,B-1))}),ac=(l,f,g,w,T)=>fb(l,f,g).bind(B=>qn(l,T,w(B,Oa.getJumpSize()))),qn=(l,f,g)=>{const w=mh().browser;return w.isChromium()||w.isSafari()||w.isFirefox()?f.retry(l,g):ye.none()},Rf=(l,f,g,w,T)=>fb(l,g,w).bind(B=>qn(l,T,B)),bp=(l,f,g)=>fl(l,f,g).bind(w=>pb(l,f,w.element,w.offset,g,ji).map(l.fromSitus)),w2=(l,f)=>Df(l,g=>jc(g).exists(w=>us(w,f))),C2=(l,f,g,w,T)=>nt(w,"td,th",f).bind(B=>nt(B,"table",f).bind(Z=>w2(T,Z)?bp(l,f,g).bind(ne=>nt(ne.finish,"td,th",f).map(ae=>({start:B,finish:ae,range:ne}))):ye.none())),Qg=(l,f,g,w,T,B)=>B(w,f).orThunk(()=>C2(l,f,g,w,T).map(Z=>{const ne=Z.range;return fp.create(ye.some(Zh(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),gb=(l,f)=>nt(l,"tr",f).bind(g=>nt(g,"table",f).bind(w=>{const T=_(w,"tr");return us(g,T[0])?qg(w,B=>oi(B).isSome(),f).map(B=>{const Z=bf(B);return fp.create(ye.some(Zh(B,Z,B,Z)),!0)}):ye.none()})),vb=(l,f)=>nt(l,"tr",f).bind(g=>nt(g,"table",f).bind(w=>{const T=_(w,"tr");return us(g,T[T.length-1])?sk(w,B=>dy(B).isSome(),f).map(B=>fp.create(ye.some(Zh(B,0,B,0)),!0)):ye.none()})),bb=(l,f,g,w,T,B,Z)=>C2(l,g,w,T,B).bind(ne=>m2(f,g,ne.start,ne.finish,Z)),yb=l=>{let f=l;return{get:()=>f,set:T=>{f=T}}},zR=l=>{const f=yb(ye.none()),g=()=>f.get().each(l);return{clear:()=>{g(),f.set(ye.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:ne=>{g(),f.set(ye.some(ne))}}},x2=()=>{const l=zR(Re);return{...l,on:g=>l.get().each(g)}},OS=(l,f)=>nt(l,"td,th",f),DS=l=>Vs(l).exists(za),RS=(l,f,g,w)=>{const T=x2(),B=T.clear,Z=De=>{T.on(ft=>{w.clearBeforeUpdate(f),OS(De.target,g).each(At=>{Pv(ft,At,g).each(Et=>{const vt=Et.boxes.getOr([]);if(vt.length===1){const $t=vt[0],ut=Fl($t)==="false",Ct=gt(Eh(De.target),$t,us);ut&&Ct&&(w.selectRange(f,vt,$t,$t),l.selectContents($t))}else vt.length>1&&(w.selectRange(f,vt,Et.start,Et.finish),l.selectContents(At))})})})};return{clearstate:B,mousedown:De=>{w.clear(f),OS(De.target,g).filter(DS).each(T.set)},mouseover:De=>{Z(De)},mouseup:De=>{Z(De),B()}}},S2={traverse:cf,gather:Zg,relative:Wi.before,retry:Oa.tryDown,failure:$d.failedDown},E2={traverse:du,gather:Of,relative:Wi.before,retry:Oa.tryUp,failure:$d.failedUp},yp=l=>f=>f===l,wb=yp(38),_2=yp(40),wp=l=>l>=37&&l<=40,PS={isBackward:yp(37),isForward:yp(39)},Dc={isBackward:yp(39),isForward:yp(37)},VR=l=>{const f=l!==void 0?l.dom:document,g=f.body.scrollLeft||f.documentElement.scrollLeft,w=f.body.scrollTop||f.documentElement.scrollTop;return Bl(g,w)},Cb=(l,f,g)=>{const T=(g!==void 0?g.dom:document).defaultView;T&&T.scrollBy(l,f)},Ld=_f.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),T2=l=>Ld.exact(l.start,l.soffset,l.finish,l.foffset),A2=l=>l.match({domRange:f=>Ae.fromDom(f.startContainer),relative:(f,g)=>Wi.getStart(f),exact:(f,g,w,T)=>f}),fk=Ld.domRange,hk=Ld.relative,mk=Ld.exact,pk=l=>{const f=A2(l);return Bs(f)},MS=Ug.create,jl={domRange:fk,relative:hk,exact:mk,exactFromRange:T2,getWin:pk,range:MS},e1=(l,f,g)=>{var w,T;return ye.from((T=(w=l.dom).caretPositionFromPoint)===null||T===void 0?void 0:T.call(w,f,g)).bind(B=>{if(B.offsetNode===null)return ye.none();const Z=l.dom.createRange();return Z.setStart(B.offsetNode,B.offset),Z.collapse(),ye.some(Z)})},gk=(l,f,g)=>{var w,T;return ye.from((T=(w=l.dom).caretRangeFromPoint)===null||T===void 0?void 0:T.call(w,f,g))},Nt=document.caretPositionFromPoint?e1:document.caretRangeFromPoint?gk:ye.none,Pr=(l,f,g)=>{const w=Ae.fromDom(l.document);return Nt(w,f,g).map(T=>Ug.create(Ae.fromDom(T.startContainer),T.startOffset,Ae.fromDom(T.endContainer),T.endOffset))},Fd=(l,f)=>{const g=as(l);return g==="input"?Wi.after(l):yn(["br","img"],g)?f===0?Wi.before(l):Wi.after(l):Wi.on(l,f)},Mr=(l,f)=>{const g=l.fold(Wi.before,Fd,Wi.after),w=f.fold(Wi.before,Fd,Wi.after);return jl.relative(g,w)},cc=(l,f,g,w)=>{const T=Fd(l,f),B=Fd(g,w);return jl.relative(T,B)},t1=(l,f,g,w)=>{const B=ih(l).dom.createRange();return B.setStart(l.dom,f),B.setEnd(g.dom,w),B},Cp=(l,f,g,w)=>{const T=t1(l,f,g,w),B=us(l,g)&&f===w;return T.collapsed&&!B},Jh=l=>ye.from(l.getSelection()),xp=(l,f)=>{Jh(l).each(g=>{g.removeAllRanges(),g.addRange(f)})},n1=(l,f,g,w,T)=>{const B=mp(l,f,g,w,T);xp(l,B)},BS=(l,f,g,w,T,B)=>{f.collapse(g.dom,w),f.extend(T.dom,B)},k2=(l,f)=>h2(l,f).match({ltr:(g,w,T,B)=>{n1(l,g,w,T,B)},rtl:(g,w,T,B)=>{Jh(l).each(Z=>{if(Z.setBaseAndExtent)Z.setBaseAndExtent(g.dom,w,T.dom,B);else if(Z.extend)try{BS(l,Z,g,w,T,B)}catch{n1(l,T,B,g,w)}else n1(l,T,B,g,w)})}}),NS=(l,f,g,w,T)=>{const B=cc(f,g,w,T);k2(l,B)},O2=(l,f,g)=>{const w=Mr(f,g);k2(l,w)},o1=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),g=l.getRangeAt(l.rangeCount-1);return ye.some(Ug.create(Ae.fromDom(f.startContainer),f.startOffset,Ae.fromDom(g.endContainer),g.endOffset))}else return ye.none()},Sp=l=>{if(l.anchorNode===null||l.focusNode===null)return o1(l);{const f=Ae.fromDom(l.anchorNode),g=Ae.fromDom(l.focusNode);return Cp(f,l.anchorOffset,g,l.focusOffset)?ye.some(Ug.create(f,l.anchorOffset,g,l.focusOffset)):o1(l)}},s1=(l,f,g=!0)=>{const T=(g?hp:ek)(l,f);xp(l,T)},xb=l=>Jh(l).filter(f=>f.rangeCount>0).bind(Sp),r1=l=>xb(l).map(f=>jl.exact(f.start,f.soffset,f.finish,f.foffset)),Sb=(l,f)=>{const g=ib(l,f);return sa(g)},Zl=(l,f,g)=>Pr(l,f,g),i1=l=>{Jh(l).each(f=>f.removeAllRanges())},a1=l=>({elementFromPoint:(ut,Ct)=>Ae.fromPoint(Ae.fromDom(l.document),ut,Ct),getRect:ut=>ut.dom.getBoundingClientRect(),getRangedRect:(ut,Ct,an,gn)=>{const vo=jl.exact(ut,Ct,an,gn);return Sb(l,vo)},getSelection:()=>r1(l).map(ut=>CS(l,ut)),fromSitus:ut=>{const Ct=jl.relative(ut.start,ut.finish);return CS(l,Ct)},situsFromPoint:(ut,Ct)=>Zl(l,ut,Ct).map(an=>wS.create(an.start,an.soffset,an.finish,an.foffset)),clearSelection:()=>{i1(l)},collapseSelection:(ut=!1)=>{r1(l).each(Ct=>Ct.fold(an=>an.collapse(ut),(an,gn)=>{const vo=ut?an:gn;O2(l,vo,vo)},(an,gn,vo,ws)=>{const Ss=ut?an:vo,Oi=ut?gn:ws;NS(l,Ss,Oi,Ss,Oi)}))},setSelection:ut=>{NS(l,ut.start,ut.soffset,ut.finish,ut.foffset)},setRelativeSelection:(ut,Ct)=>{O2(l,ut,Ct)},selectNode:ut=>{s1(l,ut,!1)},selectContents:ut=>{s1(l,ut)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>VR(Ae.fromDom(l.document)).top,scrollBy:(ut,Ct)=>{Cb(ut,Ct,Ae.fromDom(l.document))}}),hl=(l,f)=>({rows:l,cols:f}),c1=(l,f,g,w)=>{const T=a1(l),B=RS(T,f,g,w);return{clearstate:B.clearstate,mousedown:B.mousedown,mouseover:B.mouseover,mouseup:B.mouseup}},l1=l=>Q(l,un).exists(za),u1=(l,f)=>l1(l)||l1(f),vk=(l,f,g,w)=>{const T=a1(l),B=()=>(w.clear(f),ye.none());return{keydown:(ae,ve,De,ft,At,Et)=>{const vt=ae.raw,$t=vt.which,ut=vt.shiftKey===!0;return _d(f,w.selectedSelector).fold(()=>(wp($t)&&!ut&&w.clearBeforeUpdate(f),wp($t)&&ut&&!u1(ve,ft)?ye.none:_2($t)&&ut?Gt(bb,T,f,g,S2,ft,ve,w.selectRange):wb($t)&&ut?Gt(bb,T,f,g,E2,ft,ve,w.selectRange):_2($t)?Gt(Qg,T,g,S2,ft,ve,vb):wb($t)?Gt(Qg,T,g,E2,ft,ve,gb):ye.none),an=>{const gn=vo=>()=>Nr(vo,Ss=>p2(Ss.rows,Ss.cols,f,an,w)).fold(()=>dx(f,w.firstSelectedSelector,w.lastSelectedSelector).map(Ss=>{const Oi=_2($t)||Et.isForward($t)?Wi.after:Wi.before;return T.setRelativeSelection(Wi.on(Ss.first,0),Oi(Ss.table)),w.clear(f),fp.create(ye.none(),!0)}),Ss=>ye.some(fp.create(ye.none(),!0)));return wp($t)&&ut&&!u1(ve,ft)?ye.none:_2($t)&&ut?gn([hl(1,0)]):wb($t)&&ut?gn([hl(-1,0)]):Et.isBackward($t)&&ut?gn([hl(0,-1),hl(-1,0)]):Et.isForward($t)&&ut?gn([hl(0,1),hl(1,0)]):wp($t)&&!ut?B:ye.none})()},keyup:(ae,ve,De,ft,At)=>_d(f,w.selectedSelector).fold(()=>{const Et=ae.raw,vt=Et.which;return Et.shiftKey===!0&&wp(vt)&&u1(ve,ft)?qh(f,g,ve,De,ft,At,w.selectRange):ye.none()},ye.none)}},bk=(l,f,g,w)=>{const T=a1(l);return(B,Z)=>{w.clearBeforeUpdate(f),Pv(B,Z,g).each(ne=>{const ae=ne.boxes.getOr([]);w.selectRange(f,ae,ne.start,ne.finish),T.selectContents(Z),T.collapseSelection()})}},Rc=(l,f)=>{const g=Uc(l,f);return g===void 0||g===""?[]:g.split(" ")},IS=(l,f,g)=>{const T=Rc(l,f).concat([g]);return Xs(l,f,T.join(" ")),!0},yk=(l,f,g)=>{const w=_n(Rc(l,f),T=>T!==g);return w.length>0?Xs(l,f,w.join(" ")):Go(l,f),!1},Ai=l=>l.dom.classList!==void 0,Bo=l=>Rc(l,"class"),ml=(l,f)=>IS(l,"class",f),qa=(l,f)=>yk(l,"class",f),pl=(l,f)=>{Ai(l)?l.dom.classList.add(f):ml(l,f)},Eb=l=>{(Ai(l)?l.dom.classList:Bo(l)).length===0&&Go(l,"class")},D2=(l,f)=>{Ai(l)?l.dom.classList.remove(f):qa(l,f),Eb(l)},Vu=(l,f)=>Ai(l)&&l.dom.classList.contains(f),$S=(l,f)=>{Ge(f,g=>{D2(l,g)})},_b=l=>f=>{pl(f,l)},wk=l=>f=>{$S(f,l)},R2={byClass:l=>{const f=_b(l.selected),g=wk([l.selected,l.lastSelected,l.firstSelected]),w=B=>{const Z=_(B,l.selectedSelector);Ge(Z,g)};return{clearBeforeUpdate:w,clear:w,selectRange:(B,Z,ne,ae)=>{w(B),Ge(Z,f),pl(ne,l.firstSelected),pl(ae,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,g)=>{const w=ae=>{Go(ae,l.selected),Go(ae,l.firstSelected),Go(ae,l.lastSelected)},T=ae=>{Xs(ae,l.selected,"1")},B=ae=>{Z(ae),g()},Z=ae=>{const ve=_(ae,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);Ge(ve,w)};return{clearBeforeUpdate:Z,clear:B,selectRange:(ae,ve,De,ft)=>{B(ae),Ge(ve,T),Xs(De,l.firstSelected,"1"),Xs(ft,l.lastSelected,"1"),f(ve,De,ft)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},P2=(l,f,g,w)=>{switch(l.tag){case"none":return f();case"single":return w(l.element);case"multiple":return g(l.elements)}},M2=()=>({tag:"none"}),$o=l=>({tag:"multiple",elements:l}),Hd=l=>({tag:"single",element:l}),B2=(l,f,g)=>({get:()=>Dh(l(),g).fold(()=>f().fold(M2,Hd),$o)}),N2=(l,f)=>{const g=l.slice(0,f[f.length-1].row+1),w=Pu(g);return Cs(w,T=>{const B=T.cells.slice(0,f[f.length-1].column+1);return jt(B,Z=>Z.element)})},d1=(l,f)=>{const g=l.slice(f[0].row+f[0].rowspan-1,l.length),w=Pu(g);return Cs(w,T=>{const B=T.cells.slice(f[0].column+f[0].colspan-1,T.cells.length);return jt(B,Z=>Z.element)})},Tb=(l,f,g)=>{const w=fo.fromTable(l);return xc(w,f).map(B=>{const Z=tp(w,g,!1),{rows:ne}=gi(Z),ae=N2(ne,B),ve=d1(ne,B);return{upOrLeftCells:ae,downOrRightCells:ve}})},Pf=(l,f,g,w,T,B,Z)=>({target:l,x:f,y:g,stop:w,prevent:T,kill:B,raw:Z}),Mf=l=>{const f=Ae.fromDom(Mt(l).getOr(l.target)),g=()=>l.stopPropagation(),w=()=>l.preventDefault(),T=et(w,g);return Pf(f,l.clientX,l.clientY,g,w,T,l)},Ck=(l,f)=>g=>{l(g)&&f(Mf(g))},xk=(l,f,g,w,T)=>{const B=Ck(g,w);return l.dom.addEventListener(f,B,T),{unbind:Gt(Sk,l,f,B,T)}},HS=(l,f,g,w)=>xk(l,f,g,w,!1),Sk=(l,f,g,w)=>{l.dom.removeEventListener(f,g,w)},Ab=je,Ep=(l,f,g)=>HS(l,f,Ab,g),Qh=Mf,I2=l=>!Vu(Ae.fromDom(l.target),"ephox-snooker-resizer-bar"),Ek=(l,f)=>{const g=B2(()=>Ae.fromDom(l.getBody()),()=>gg(Wm(l),_h(l)),Va.selectedSelector),w=(ae,ve,De)=>{br(ve).each(At=>{const Et=jt(ae,an=>an.dom),vt=Fs(l),$t=Um(Re,Ae.fromDom(l.getDoc()),vt),ut=il(l),Ct=Tb(At,{selection:ut},$t).map(an=>Xa(an,gn=>jt(gn,vo=>vo.dom))).getOrUndefined();MA(l,Et,ve.dom,De.dom,Ct)})},T=()=>cp(l),B=R2.byAttr(Va,w,T);return l.on("init",ae=>{const ve=l.getWin(),De=Tu(l),ft=_h(l),At=()=>{const qo=l.selection,ia=Ae.fromDom(qo.getStart()),Zi=Ae.fromDom(qo.getEnd());qm(br,[ia,Zi]).fold(()=>B.clear(De),Re)},Et=c1(ve,De,ft,B),vt=vk(ve,De,ft,B),$t=bk(ve,De,ft,B),ut=qo=>qo.raw.shiftKey===!0;l.on("TableSelectorChange",qo=>$t(qo.start,qo.finish));const Ct=(qo,ia)=>{ut(qo)&&(ia.kill&&qo.kill(),ia.selection.each(Zi=>{const gl=jl.relative(Zi.start,Zi.finish),Bc=ib(ve,gl);l.selection.setRng(Bc)}))},an=qo=>{const ia=Qh(qo);if(ia.raw.shiftKey&&wp(ia.raw.which)){const Zi=l.selection.getRng(),gl=Ae.fromDom(Zi.startContainer),Bc=Ae.fromDom(Zi.endContainer);vt.keyup(ia,gl,Zi.startOffset,Bc,Zi.endOffset).each(rm=>{Ct(ia,rm)})}},gn=qo=>{const ia=Qh(qo);f.hide();const Zi=l.selection.getRng(),gl=Ae.fromDom(Zi.startContainer),Bc=Ae.fromDom(Zi.endContainer),rm=wv(PS,Dc)(Ae.fromDom(l.selection.getStart()));vt.keydown(ia,gl,Zi.startOffset,Bc,Zi.endOffset,rm).each(qi=>{Ct(ia,qi)}),f.show()},vo=qo=>qo.button===0,ws=qo=>qo.buttons===void 0?!0:(qo.buttons&1)!==0,Ss=qo=>{Et.clearstate()},Oi=qo=>{vo(qo)&&I2(qo)&&Et.mousedown(Qh(qo))},Mc=qo=>{ws(qo)&&I2(qo)&&Et.mouseover(Qh(qo))},Nf=qo=>{vo(qo)&&I2(qo)&&Et.mouseup(Qh(qo))},Fb=(()=>{const qo=yb(Ae.fromDom(De)),ia=yb(0);return{touchEnd:gl=>{const Bc=Ae.fromDom(gl.target);if(Bi("td")(Bc)||Bi("th")(Bc)){const rm=qo.get(),qi=ia.get();us(rm,Bc)&&gl.timeStamp-qi<300&&(gl.preventDefault(),$t(Bc,Bc))}qo.set(Bc),ia.set(gl.timeStamp)}}})();l.on("dragstart",Ss),l.on("mousedown",Oi),l.on("mouseover",Mc),l.on("mouseup",Nf),l.on("touchend",Fb.touchEnd),l.on("keyup",an),l.on("keydown",gn),l.on("NodeChange",At)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Va.firstSelected),l.serializer.addTempAttr(Va.lastSelected)}),{getSelectedCells:()=>P2(g.get(),ue([]),ae=>jt(ae,ve=>ve.dom),ae=>[ae.dom]),clearSelectedCells:ae=>B.clear(Ae.fromDom(ae))}},Pc=l=>{let f=[];return{bind:B=>{if(B===void 0)throw new Error("Event bind error: undefined handler");f.push(B)},unbind:B=>{f=_n(f,Z=>Z!==B)},trigger:(...B)=>{const Z={};Ge(l,(ne,ae)=>{Z[ne]=B[ae]}),Ge(f,ne=>{ne(Z)})}}},Sr=l=>{const f=Xa(l,w=>({bind:w.bind,unbind:w.unbind})),g=Xa(l,w=>w.trigger);return{registry:f,trigger:g}},ki=(l,f)=>{let g=null;const w=()=>{U(g)||(clearTimeout(g),g=null)};return{cancel:w,throttle:(...B)=>{w(),g=setTimeout(()=>{g=null,l.apply(null,B)},f)}}},Uu=l=>l.slice(0).sort(),UR=(l,f)=>{throw new Error("All required keys ("+Uu(l).join(", ")+") were not specified. Specified keys were: "+Uu(f).join(", ")+".")},_k=l=>{throw new Error("Unsupported keys for object: "+Uu(l).join(", "))},Tk=(l,f)=>{if(!W(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");Ge(f,g=>{if(!te(g))throw new Error("The value "+g+" in the "+l+" fields was not a string.")})},ro=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Uu(l).join(", ")+") were not.")},Ak=l=>{const f=Uu(l);K(f,(w,T)=>T<f.length-1&&w===f[T+1]).each(w=>{throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},zS=(l,f)=>$2(l,f,{validate:he,label:"function"}),$2=(l,f,g)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return Tk("required",f),Ak(f),w=>{const T=Jt(w);Mo(f,ne=>yn(T,ne))||UR(f,T),l(f,T);const Z=_n(f,ne=>!g.validate(w[ne],ne));return Z.length>0&&ro(Z,g.label),w}},kk=(l,f)=>{const g=_n(f,w=>!yn(l,w));g.length>0&&_k(g)},L2=l=>zS(kk,l),Ok=L2(["compare","extract","mutate","sink"]),VS=L2(["element","start","stop","destroy"]),US=L2(["forceDrop","drop","move","delayDrop"]),WS=()=>{let l=ye.none();const f=()=>{l=ye.none()},g=(B,Z)=>{const ne=l.map(ae=>B.compare(ae,Z));return l=ye.some(Z),ne},w=(B,Z)=>{Z.extract(B).each(ae=>{g(Z,ae).each(De=>{T.trigger.move(De)})})},T=Sr({move:Pc(["info"])});return{onEvent:w,reset:f,events:T.registry}},F2=()=>{const l=Sr({move:Pc(["info"])});return{onEvent:Re,reset:Re,events:l.registry}},kb=()=>{const l=F2(),f=WS();let g=l;return{on:()=>{g.reset(),g=f},off:()=>{g.reset(),g=l},isOn:()=>g===f,onEvent:(ne,ae)=>{g.onEvent(ne,ae)},events:f.events}},jS=(l,f,g)=>{let w=!1;const T=Sr({start:Pc([]),stop:Pc([])}),B=kb(),Z=()=>{vt.stop(),B.isOn()&&(B.off(),T.trigger.stop())},ne=ki(Z,200),ae=ut=>{vt.start(ut),B.on(),T.trigger.start()},ve=ut=>{ne.cancel(),B.onEvent(ut,f)};B.events.move.bind(ut=>{f.mutate(l,ut.info)});const De=()=>{w=!0},ft=()=>{w=!1},At=()=>w,Et=ut=>(...Ct)=>{w&&ut.apply(null,Ct)},vt=f.sink(US({forceDrop:Z,drop:Et(Z),move:Et(ve),delayDrop:Et(ne.throttle)}),g),$t=()=>{vt.destroy()};return{element:vt.element,go:ae,on:De,off:ft,isActive:At,destroy:$t,events:T.registry}},ZS=l=>{const f=l.replace(/\./g,"-");return{resolve:w=>f+"-"+w}},Dk=ZS("ephox-dragster").resolve,qS=l=>{const f={layerClass:Dk("blocker"),...l},g=Ae.fromTag("div");return Xs(g,"role","presentation"),Ca(g,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),pl(g,Dk("blocker")),pl(g,f.layerClass),{element:ue(g),destroy:()=>{Us(g)}}};var Rk=Ok({compare:(l,f)=>Bl(f.left-l.left,f.top-l.top),extract:l=>ye.some(Bl(l.x,l.y)),sink:(l,f)=>{const g=qS(f),w=Ep(g.element(),"mousedown",l.forceDrop),T=Ep(g.element(),"mouseup",l.drop),B=Ep(g.element(),"mousemove",l.move),Z=Ep(g.element(),"mouseout",l.delayDrop),ne=()=>{g.destroy(),T.unbind(),B.unbind(),Z.unbind(),w.unbind()},ae=De=>{Ns(De,g.element())},ve=()=>{Us(g.element())};return VS({element:g.element,start:ae,stop:ve,destroy:ne})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const Ft=(l,f={})=>{var g;const w=(g=f.mode)!==null&&g!==void 0?g:Rk;return jS(l,w,f)},Ob=ZS("ephox-snooker").resolve,KS=()=>{const l=Sr({drag:Pc(["xDelta","yDelta"])});return{mutate:(g,w)=>{l.trigger.drag(g,w)},events:l.registry}},Db=()=>{const l=Sr({drag:Pc(["xDelta","yDelta","target"])});let f=ye.none();const g=KS();return g.events.drag.bind(B=>{f.each(Z=>{l.trigger.drag(B.xDelta,B.yDelta,Z)})}),{assign:B=>{f=ye.some(B)},get:()=>f,mutate:g.mutate,events:l.registry}},H2=(l,f,g,w,T)=>{const B=Ae.fromTag("div");return Ca(B,{position:"absolute",left:f-w/2+"px",top:g+"px",height:T+"px",width:w+"px"}),Vc(B,{"data-column":l,role:"presentation"}),B},z2=(l,f,g,w,T)=>{const B=Ae.fromTag("div");return Ca(B,{position:"absolute",left:f+"px",top:g-T/2+"px",height:T+"px",width:w+"px"}),Vc(B,{"data-row":l,role:"presentation"}),B},Rb=Ob("resizer-bar"),YS=Ob("resizer-rows"),V2=Ob("resizer-cols"),Pb=7,Mb=(l,f)=>Cs(l.all,(g,w)=>f(g.element)?[w]:[]),f1=(l,f)=>{const g=[];return eo(l.grid.columns,w=>{fo.getColumnAt(l,w).map(B=>B.element).forall(f)&&g.push(w)}),_n(g,w=>{const T=fo.filterItems(l,B=>B.column===w);return Mo(T,B=>f(B.element))})},Bb=l=>{const f=_(l.parent(),"."+Rb);Ge(f,Us)},U2=(l,f,g)=>{const w=l.origin();Ge(f,T=>{T.each(B=>{const Z=g(w,B);pl(Z,Rb),Ns(l.parent(),Z)})})},Pk=(l,f,g,w)=>{U2(l,f,(T,B)=>{const Z=H2(B.col,B.x-T.left,g.top-T.top,Pb,w);return pl(Z,V2),Z})},Mk=(l,f,g,w)=>{U2(l,f,(T,B)=>{const Z=z2(B.row,g.left-T.left,B.y-T.top,w,Pb);return pl(Z,YS),Z})},wo=(l,f,g,w,T)=>{const B=Mm(g),Z=f.isResizable,ne=w.length>0?Bm.positions(w,g):[],ae=ne.length>0?Mb(l,Z):[],ve=_n(ne,(Et,vt)=>st(ae,$t=>vt===$t));Mk(f,ve,B,Ln(g));const De=T.length>0?bh.positions(T,g):[],ft=De.length>0?f1(l,Z):[],At=_n(De,(Et,vt)=>st(ft,$t=>vt===$t));Pk(f,At,B,jC(g))},Nb=(l,f)=>{if(Bb(l),l.isResizable(f)){const g=fo.fromTable(f),w=QT(g),T=yv(g);wo(g,l,f,w,T)}},ju=(l,f)=>{const g=_(l.parent(),"."+Rb);Ge(g,f)},Zu=l=>{ju(l,f=>{jo(f,"display","none")})},Ib=l=>{ju(l,f=>{jo(f,"display","block")})},Ga=l=>Vu(l,YS),_p=l=>Vu(l,V2),h1=Ob("resizer-bar-dragging"),$b=l=>{const f=Db(),g=Ft(f,{});let w=ye.none();const T=(vt,$t)=>ye.from(Uc(vt,$t));f.events.drag.bind(vt=>{T(vt.target,"data-row").each($t=>{const ut=So(vt.target,"top");jo(vt.target,"top",ut+vt.yDelta+"px")}),T(vt.target,"data-column").each($t=>{const ut=So(vt.target,"left");jo(vt.target,"left",ut+vt.xDelta+"px")})});const B=(vt,$t)=>{const ut=So(vt,$t),Ct=ds(vt,"data-initial-"+$t,0);return ut-Ct};g.events.stop.bind(()=>{f.get().each(vt=>{w.each($t=>{T(vt,"data-row").each(ut=>{const Ct=B(vt,"top");Go(vt,"data-initial-top"),Et.trigger.adjustHeight($t,Ct,parseInt(ut,10))}),T(vt,"data-column").each(ut=>{const Ct=B(vt,"left");Go(vt,"data-initial-left"),Et.trigger.adjustWidth($t,Ct,parseInt(ut,10))}),Nb(l,$t)})})});const Z=(vt,$t)=>{Et.trigger.startAdjust(),f.assign(vt),Xs(vt,"data-initial-"+$t,So(vt,$t)),pl(vt,h1),jo(vt,"opacity","0.2"),g.go(l.parent())},ne=Ep(l.parent(),"mousedown",vt=>{Ga(vt.target)&&Z(vt.target,"top"),_p(vt.target)&&Z(vt.target,"left")}),ae=vt=>us(vt,l.view()),ve=vt=>nt(vt,"table",ae).filter(za),De=Ep(l.view(),"mouseover",vt=>{ve(vt.target).fold(()=>{As(vt.target)&&Bb(l)},$t=>{g.isActive()&&(w=ye.some($t),Nb(l,$t))})}),ft=()=>{ne.unbind(),De.unbind(),g.destroy(),Bb(l)},At=vt=>{Nb(l,vt)},Et=Sr({adjustHeight:Pc(["table","delta","row"]),adjustWidth:Pc(["table","delta","column"]),startAdjust:Pc([])});return{destroy:ft,refresh:At,on:g.on,off:g.off,hideBars:Gt(Zu,l),showBars:Gt(Ib,l),events:Et.registry}},Bk={create:(l,f,g)=>{const w=Bm,T=bh,B=$b(l),Z=Sr({beforeResize:Pc(["table","type"]),afterResize:Pc(["table","type"]),startDrag:Pc([])});return B.events.adjustHeight.bind(ne=>{const ae=ne.table;Z.trigger.beforeResize(ae,"row");const ve=w.delta(ne.delta,ae);_x(ae,ve,ne.row),Z.trigger.afterResize(ae,"row")}),B.events.startAdjust.bind(ne=>{Z.trigger.startDrag()}),B.events.adjustWidth.bind(ne=>{const ae=ne.table;Z.trigger.beforeResize(ae,"col");const ve=T.delta(ne.delta,ae),De=g(ae);Nu(ae,ve,ne.column,f,De),Z.trigger.afterResize(ae,"col")}),{on:B.on,off:B.off,refreshBars:B.refresh,hideBars:B.hideBars,showBars:B.showBars,destroy:B.destroy,events:Z.registry}}},io={only:(l,f)=>{const g=dd(l)?Fr(l):l;return{parent:ue(g),view:ue(l),origin:ue(Bl(0,0)),isResizable:f}},detached:(l,f,g)=>{const w=()=>Mm(f);return{parent:ue(f),view:ue(l),origin:w,isResizable:g}},body:(l,f,g)=>({parent:ue(f),view:ue(l),origin:ue(Bl(0,0)),isResizable:g})},ql=()=>{const l=Ae.fromTag("div");return Ca(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ns(Js(),l),l},em=(l,f)=>l.inline?io.body(Ae.fromDom(l.getBody()),ql(),f):io.only(Ae.fromDom(l.getDoc()),f),Nk=(l,f)=>{l.inline&&Us(f.parent())},Tp=l=>be(l)&&l.nodeName==="TABLE",lo="bar-",Ik=l=>Uc(l,"data-mce-resize")!=="false",tm=l=>{const f=fo.fromTable(l);fo.hasColumns(f)||Ge(Ea(l),g=>{const w=xa(g,"width");jo(g,"width",w),Go(g,"width")})},Ap=l=>Qs(l,"corner-"),$k=l=>mi(l,"corner-"),nm=l=>{const f=x2(),g=x2(),w=x2();let T,B,Z,ne;const ae=Ct=>t2(l,Ct),ve=()=>mg(l)?Nh():Jm(),De=Ct=>yg(Ct).columns,ft=Ct=>yg(Ct).rows,At=(Ct,an,gn,vo)=>{const ws=$k(an),Ss=Hr(ws,"e"),Oi=Qs(ws,"n");if(B===""&&dl(Ct),ne===""&&FA(Ct),gn!==T&&B!==""){jo(Ct,"width",B);const Mc=ve(),Nf=ae(Ct),sm=mg(l)||Ss?De(Ct)-1:0;Nu(Ct,gn-T,sm,Mc,Nf)}else if(Un(B)){const Mc=parseFloat(B.replace("%","")),Nf=gn*Mc/T;jo(Ct,"width",Nf+"%")}if(on(B)&&tm(Ct),vo!==Z&&ne!==""){jo(Ct,"height",ne);const Mc=Oi?0:ft(Ct)-1;_x(Ct,vo-Z,Mc)}},Et=()=>{g.on(Ct=>{Ct.destroy()}),w.on(Ct=>{Nk(l,Ct)})};return l.on("init",()=>{const Ct=em(l,Ik);if(w.set(Ct),hy(l)&&pg(l)){const an=ve(),gn=Bk.create(Ct,an,ae);gn.on(),gn.events.startDrag.bind(vo=>{f.set(l.selection.getRng())}),gn.events.beforeResize.bind(vo=>{const ws=vo.table.dom;ss(l,ws,my(ws),py(ws),lo+vo.type)}),gn.events.afterResize.bind(vo=>{const ws=vo.table,Ss=ws.dom;sl(ws),f.on(Oi=>{l.selection.setRng(Oi),l.focus()}),e2(l,Ss,my(Ss),py(Ss),lo+vo.type),l.undoManager.add()}),g.set(gn)}}),l.on("ObjectResizeStart",Ct=>{const an=Ct.target;if(Tp(an)){const gn=Ae.fromDom(an);Ge(l.dom.select(".mce-clonedresizable"),vo=>{l.dom.addClass(vo,"mce-"+xh(l)+"-columns")}),!$u(gn)&&na(l)?dp(gn):!Jx(gn)&&Sh(l)&&dl(gn),ob(gn)&&Qs(Ct.origin,lo)&&dl(gn),T=Ct.width,B=Dr(l)?"":jm(l,an).getOr(""),Z=Ct.height,ne=Th(l,an).getOr("")}}),l.on("ObjectResized",Ct=>{const an=Ct.target;if(Tp(an)){const gn=Ae.fromDom(an),vo=Ct.origin;Ap(vo)&&At(gn,vo,Ct.width,Ct.height),sl(gn),Bd(l,gn.dom,bi)}}),l.on("SwitchMode",()=>{g.on(Ct=>{l.mode.isReadOnly()?Ct.hideBars():Ct.showBars()})}),l.on("dragstart dragend",Ct=>{g.on(an=>{Ct.type==="dragstart"?(an.hideBars(),an.off()):(an.on(),an.showBars())})}),l.on("remove",()=>{Et()}),{refresh:Ct=>{g.on(an=>an.refreshBars(Ae.fromDom(Ct)))},hide:()=>{g.on(Ct=>Ct.hideBars())},show:()=>{g.on(Ct=>Ct.showBars())}}},om=l=>{rA(l);const f=nm(l),g=Ek(l,f),w=tb(l,f,g);return YA(l,w),fS(l,w),LR(l,w),{getSelectedCells:g.getSelectedCells,clearSelectedCells:g.clearSelectedCells}},Lb=l=>({table:om(l)});var Lk=()=>{S.add("dom",Lb)};Lk()})();var oX={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(S){(function(y,k){S.exports=y.document?k(y,!0):function(M){if(!M.document)throw new Error("jQuery requires a window with a document");return k(M)}})(typeof window<"u"?window:tee,function(y,k){var M=[],V=Object.getPrototypeOf,G=M.slice,te=M.flat?function(b){return M.flat.call(b)}:function(b){return M.concat.apply([],b)},q=M.push,W=M.indexOf,U={},I=U.toString,ee=U.hasOwnProperty,ce=ee.toString,be=ce.call(Object),he={},xe=function(_){return typeof _=="function"&&typeof _.nodeType!="number"&&typeof _.item!="function"},Re=function(_){return _!=null&&_===_.window},et=y.document,nn={type:!0,src:!0,nonce:!0,noModule:!0};function ue(b,_,D){D=D||et;var L,Q,X=D.createElement("script");if(X.text=b,_)for(L in nn)Q=_[L]||_.getAttribute&&_.getAttribute(L),Q&&X.setAttribute(L,Q);D.head.appendChild(X).parentNode.removeChild(X)}function mt(b){return b==null?b+"":typeof b=="object"||typeof b=="function"?U[I.call(b)]||"object":typeof b}var Vn="3.7.1",Gt=/HTML$/i,A=function(b,_){return new A.fn.init(b,_)};A.fn=A.prototype={jquery:Vn,constructor:A,length:0,toArray:function(){return G.call(this)},get:function(b){return b==null?G.call(this):b<0?this[b+this.length]:this[b]},pushStack:function(b){var _=A.merge(this.constructor(),b);return _.prevObject=this,_},each:function(b){return A.each(this,b)},map:function(b){return this.pushStack(A.map(this,function(_,D){return b.call(_,D,_)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(b,_){return(_+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(b,_){return _%2}))},eq:function(b){var _=this.length,D=+b+(b<0?_:0);return this.pushStack(D>=0&&D<_?[this[D]]:[])},end:function(){return this.prevObject||this.constructor()},push:q,sort:M.sort,splice:M.splice},A.extend=A.fn.extend=function(){var b,_,D,L,Q,X,ie=arguments[0]||{},Te=1,me=arguments.length,Ne=!1;for(typeof ie=="boolean"&&(Ne=ie,ie=arguments[Te]||{},Te++),typeof ie!="object"&&!xe(ie)&&(ie={}),Te===me&&(ie=this,Te--);Te<me;Te++)if((b=arguments[Te])!=null)for(_ in b)L=b[_],!(_==="__proto__"||ie===L)&&(Ne&&L&&(A.isPlainObject(L)||(Q=Array.isArray(L)))?(D=ie[_],Q&&!Array.isArray(D)?X=[]:!Q&&!A.isPlainObject(D)?X={}:X=D,Q=!1,ie[_]=A.extend(Ne,X,L)):L!==void 0&&(ie[_]=L));return ie},A.extend({expando:"jQuery"+(Vn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw new Error(b)},noop:function(){},isPlainObject:function(b){var _,D;return!b||I.call(b)!=="[object Object]"?!1:(_=V(b),_?(D=ee.call(_,"constructor")&&_.constructor,typeof D=="function"&&ce.call(D)===be):!0)},isEmptyObject:function(b){var _;for(_ in b)return!1;return!0},globalEval:function(b,_,D){ue(b,{nonce:_&&_.nonce},D)},each:function(b,_){var D,L=0;if(mn(b))for(D=b.length;L<D&&_.call(b[L],L,b[L])!==!1;L++);else for(L in b)if(_.call(b[L],L,b[L])===!1)break;return b},text:function(b){var _,D="",L=0,Q=b.nodeType;if(!Q)for(;_=b[L++];)D+=A.text(_);return Q===1||Q===11?b.textContent:Q===9?b.documentElement.textContent:Q===3||Q===4?b.nodeValue:D},makeArray:function(b,_){var D=_||[];return b!=null&&(mn(Object(b))?A.merge(D,typeof b=="string"?[b]:b):q.call(D,b)),D},inArray:function(b,_,D){return _==null?-1:W.call(_,b,D)},isXMLDoc:function(b){var _=b&&b.namespaceURI,D=b&&(b.ownerDocument||b).documentElement;return!Gt.test(_||D&&D.nodeName||"HTML")},merge:function(b,_){for(var D=+_.length,L=0,Q=b.length;L<D;L++)b[Q++]=_[L];return b.length=Q,b},grep:function(b,_,D){for(var L,Q=[],X=0,ie=b.length,Te=!D;X<ie;X++)L=!_(b[X],X),L!==Te&&Q.push(b[X]);return Q},map:function(b,_,D){var L,Q,X=0,ie=[];if(mn(b))for(L=b.length;X<L;X++)Q=_(b[X],X,D),Q!=null&&ie.push(Q);else for(X in b)Q=_(b[X],X,D),Q!=null&&ie.push(Q);return te(ie)},guid:1,support:he}),typeof Symbol=="function"&&(A.fn[Symbol.iterator]=M[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,_){U["[object "+_+"]"]=_.toLowerCase()});function mn(b){var _=!!b&&"length"in b&&b.length,D=mt(b);return xe(b)||Re(b)?!1:D==="array"||_===0||typeof _=="number"&&_>0&&_-1 in b}function Cn(b,_){return b.nodeName&&b.nodeName.toLowerCase()===_.toLowerCase()}var Sn=M.pop,je=M.sort,ye=M.splice,Ze="[\\x20\\t\\r\\n\\f]",Vt=new RegExp("^"+Ze+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ze+"+$","g");A.contains=function(b,_){var D=_&&_.parentNode;return b===D||!!(D&&D.nodeType===1&&(b.contains?b.contains(D):b.compareDocumentPosition&&b.compareDocumentPosition(D)&16))};var wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function P(b,_){return _?b==="\0"?"�":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b}A.escapeSelector=function(b){return(b+"").replace(wt,P)};var yn=et,st=q;(function(){var b,_,D,L,Q,X=st,ie,Te,me,Ne,nt,gt=A.expando,We=0,It=0,co=Rl(),Wo=Rl(),kn=Rl(),mi=Rl(),Io=function(ge,Oe){return ge===Oe&&(Q=!0),0},Qs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Hr="(?:\\\\[\\da-fA-F]{1,6}"+Ze+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ao="\\["+Ze+"*("+Hr+")(?:"+Ze+"*([*^$|!~]?=)"+Ze+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Hr+"))|)"+Ze+"*\\]",Jn=":("+Hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ao+")*)|.*)\\)|)",uo=new RegExp(Ze+"+","g"),vs=new RegExp("^"+Ze+"*,"+Ze+"*"),Gc=new RegExp("^"+Ze+"*([>+~]|"+Ze+")"+Ze+"*"),wa=new RegExp(Ze+"|>"),dr=new RegExp(Jn),jo=new RegExp("^"+Hr+"$"),Ca={ID:new RegExp("^#("+Hr+")"),CLASS:new RegExp("^\\.("+Hr+")"),TAG:new RegExp("^("+Hr+"|[*])"),ATTR:new RegExp("^"+Ao),PSEUDO:new RegExp("^"+Jn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ze+"*(even|odd|(([+-]|)(\\d*)n|)"+Ze+"*(?:([+-]|)"+Ze+"*(\\d+)|))"+Ze+"*\\)|)","i"),bool:new RegExp("^(?:"+Qs+")$","i"),needsContext:new RegExp("^"+Ze+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ze+"*((?:-\\d)?\\d*)"+Ze+"*\\)|)(?=[^-]|$)","i")},xa=/^(?:input|select|textarea|button)$/i,$a=/^h\d$/i,Ci=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zo=/[+~]/,xi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ze+"?|\\\\([^\\r\\n\\f])","g"),ds=function(ge,Oe){var tt="0x"+ge.slice(1)-65536;return Oe||(tt<0?String.fromCharCode(tt+65536):String.fromCharCode(tt>>10|55296,tt&1023|56320))},bc=function(){br()},md=hh(function(ge){return ge.disabled===!0&&Cn(ge,"fieldset")},{dir:"parentNode",next:"legend"});function vr(){try{return ie.activeElement}catch{}}try{X.apply(M=G.call(yn.childNodes),yn.childNodes),M[yn.childNodes.length].nodeType}catch{X={apply:function(Oe,tt){st.apply(Oe,G.call(tt))},call:function(Oe){st.apply(Oe,G.call(arguments,1))}}}function So(ge,Oe,tt,it){var Je,Zt,en,fn,xn,xo,Hn,so=Oe&&Oe.ownerDocument,ko=Oe?Oe.nodeType:9;if(tt=tt||[],typeof ge!="string"||!ge||ko!==1&&ko!==9&&ko!==11)return tt;if(!it&&(br(Oe),Oe=Oe||ie,me)){if(ko!==11&&(xn=Ci.exec(ge)))if(Je=xn[1]){if(ko===9)if(en=Oe.getElementById(Je)){if(en.id===Je)return X.call(tt,en),tt}else return tt;else if(so&&(en=so.getElementById(Je))&&So.contains(Oe,en)&&en.id===Je)return X.call(tt,en),tt}else{if(xn[2])return X.apply(tt,Oe.getElementsByTagName(ge)),tt;if((Je=xn[3])&&Oe.getElementsByClassName)return X.apply(tt,Oe.getElementsByClassName(Je)),tt}if(!mi[ge+" "]&&(!Ne||!Ne.test(ge))){if(Hn=ge,so=Oe,ko===1&&(wa.test(ge)||Gc.test(ge))){for(so=Zo.test(ge)&&pd(Oe.parentNode)||Oe,(so!=Oe||!he.scope)&&((fn=Oe.getAttribute("id"))?fn=A.escapeSelector(fn):Oe.setAttribute("id",fn=gt)),xo=mu(ge),Zt=xo.length;Zt--;)xo[Zt]=(fn?"#"+fn:":scope")+" "+Yc(xo[Zt]);Hn=xo.join(",")}try{return X.apply(tt,so.querySelectorAll(Hn)),tt}catch{mi(ge,!0)}finally{fn===gt&&Oe.removeAttribute("id")}}}return Dm(ge.replace(Vt,"$1"),Oe,tt,it)}function Rl(){var ge=[];function Oe(tt,it){return ge.push(tt+" ")>_.cacheLength&&delete Oe[ge.shift()],Oe[tt+" "]=it}return Oe}function Sa(ge){return ge[gt]=!0,ge}function Kc(ge){var Oe=ie.createElement("fieldset");try{return!!ge(Oe)}catch{return!1}finally{Oe.parentNode&&Oe.parentNode.removeChild(Oe),Oe=null}}function km(ge){return function(Oe){return Cn(Oe,"input")&&Oe.type===ge}}function lf(ge){return function(Oe){return(Cn(Oe,"input")||Cn(Oe,"button"))&&Oe.type===ge}}function fh(ge){return function(Oe){return"form"in Oe?Oe.parentNode&&Oe.disabled===!1?"label"in Oe?"label"in Oe.parentNode?Oe.parentNode.disabled===ge:Oe.disabled===ge:Oe.isDisabled===ge||Oe.isDisabled!==!ge&&md(Oe)===ge:Oe.disabled===ge:"label"in Oe?Oe.disabled===ge:!1}}function Ea(ge){return Sa(function(Oe){return Oe=+Oe,Sa(function(tt,it){for(var Je,Zt=ge([],tt.length,Oe),en=Zt.length;en--;)tt[Je=Zt[en]]&&(tt[Je]=!(it[Je]=tt[Je]))})})}function pd(ge){return ge&&typeof ge.getElementsByTagName<"u"&&ge}function br(ge){var Oe,tt=ge?ge.ownerDocument||ge:yn;return tt==ie||tt.nodeType!==9||!tt.documentElement||(ie=tt,Te=ie.documentElement,me=!A.isXMLDoc(ie),nt=Te.matches||Te.webkitMatchesSelector||Te.msMatchesSelector,Te.msMatchesSelector&&yn!=ie&&(Oe=ie.defaultView)&&Oe.top!==Oe&&Oe.addEventListener("unload",bc),he.getById=Kc(function(it){return Te.appendChild(it).id=A.expando,!ie.getElementsByName||!ie.getElementsByName(A.expando).length}),he.disconnectedMatch=Kc(function(it){return nt.call(it,"*")}),he.scope=Kc(function(){return ie.querySelectorAll(":scope")}),he.cssHas=Kc(function(){try{return ie.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),he.getById?(_.filter.ID=function(it){var Je=it.replace(xi,ds);return function(Zt){return Zt.getAttribute("id")===Je}},_.find.ID=function(it,Je){if(typeof Je.getElementById<"u"&&me){var Zt=Je.getElementById(it);return Zt?[Zt]:[]}}):(_.filter.ID=function(it){var Je=it.replace(xi,ds);return function(Zt){var en=typeof Zt.getAttributeNode<"u"&&Zt.getAttributeNode("id");return en&&en.value===Je}},_.find.ID=function(it,Je){if(typeof Je.getElementById<"u"&&me){var Zt,en,fn,xn=Je.getElementById(it);if(xn){if(Zt=xn.getAttributeNode("id"),Zt&&Zt.value===it)return[xn];for(fn=Je.getElementsByName(it),en=0;xn=fn[en++];)if(Zt=xn.getAttributeNode("id"),Zt&&Zt.value===it)return[xn]}return[]}}),_.find.TAG=function(it,Je){return typeof Je.getElementsByTagName<"u"?Je.getElementsByTagName(it):Je.querySelectorAll(it)},_.find.CLASS=function(it,Je){if(typeof Je.getElementsByClassName<"u"&&me)return Je.getElementsByClassName(it)},Ne=[],Kc(function(it){var Je;Te.appendChild(it).innerHTML="<a id='"+gt+"' href='' disabled='disabled'></a><select id='"+gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",it.querySelectorAll("[selected]").length||Ne.push("\\["+Ze+"*(?:value|"+Qs+")"),it.querySelectorAll("[id~="+gt+"-]").length||Ne.push("~="),it.querySelectorAll("a#"+gt+"+*").length||Ne.push(".#.+[+~]"),it.querySelectorAll(":checked").length||Ne.push(":checked"),Je=ie.createElement("input"),Je.setAttribute("type","hidden"),it.appendChild(Je).setAttribute("name","D"),Te.appendChild(it).disabled=!0,it.querySelectorAll(":disabled").length!==2&&Ne.push(":enabled",":disabled"),Je=ie.createElement("input"),Je.setAttribute("name",""),it.appendChild(Je),it.querySelectorAll("[name='']").length||Ne.push("\\["+Ze+"*name"+Ze+"*="+Ze+`*(?:''|"")`)}),he.cssHas||Ne.push(":has"),Ne=Ne.length&&new RegExp(Ne.join("|")),Io=function(it,Je){if(it===Je)return Q=!0,0;var Zt=!it.compareDocumentPosition-!Je.compareDocumentPosition;return Zt||(Zt=(it.ownerDocument||it)==(Je.ownerDocument||Je)?it.compareDocumentPosition(Je):1,Zt&1||!he.sortDetached&&Je.compareDocumentPosition(it)===Zt?it===ie||it.ownerDocument==yn&&So.contains(yn,it)?-1:Je===ie||Je.ownerDocument==yn&&So.contains(yn,Je)?1:L?W.call(L,it)-W.call(L,Je):0:Zt&4?-1:1)}),ie}So.matches=function(ge,Oe){return So(ge,null,null,Oe)},So.matchesSelector=function(ge,Oe){if(br(ge),me&&!mi[Oe+" "]&&(!Ne||!Ne.test(Oe)))try{var tt=nt.call(ge,Oe);if(tt||he.disconnectedMatch||ge.document&&ge.document.nodeType!==11)return tt}catch{mi(Oe,!0)}return So(Oe,ie,null,[ge]).length>0},So.contains=function(ge,Oe){return(ge.ownerDocument||ge)!=ie&&br(ge),A.contains(ge,Oe)},So.attr=function(ge,Oe){(ge.ownerDocument||ge)!=ie&&br(ge);var tt=_.attrHandle[Oe.toLowerCase()],it=tt&&ee.call(_.attrHandle,Oe.toLowerCase())?tt(ge,Oe,!me):void 0;return it!==void 0?it:ge.getAttribute(Oe)},So.error=function(ge){throw new Error("Syntax error, unrecognized expression: "+ge)},A.uniqueSort=function(ge){var Oe,tt=[],it=0,Je=0;if(Q=!he.sortStable,L=!he.sortStable&&G.call(ge,0),je.call(ge,Io),Q){for(;Oe=ge[Je++];)Oe===ge[Je]&&(it=tt.push(Je));for(;it--;)ye.call(ge,tt[it],1)}return L=null,ge},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(G.apply(this)))},_=A.expr={cacheLength:50,createPseudo:Sa,match:Ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ge){return ge[1]=ge[1].replace(xi,ds),ge[3]=(ge[3]||ge[4]||ge[5]||"").replace(xi,ds),ge[2]==="~="&&(ge[3]=" "+ge[3]+" "),ge.slice(0,4)},CHILD:function(ge){return ge[1]=ge[1].toLowerCase(),ge[1].slice(0,3)==="nth"?(ge[3]||So.error(ge[0]),ge[4]=+(ge[4]?ge[5]+(ge[6]||1):2*(ge[3]==="even"||ge[3]==="odd")),ge[5]=+(ge[7]+ge[8]||ge[3]==="odd")):ge[3]&&So.error(ge[0]),ge},PSEUDO:function(ge){var Oe,tt=!ge[6]&&ge[2];return Ca.CHILD.test(ge[0])?null:(ge[3]?ge[2]=ge[4]||ge[5]||"":tt&&dr.test(tt)&&(Oe=mu(tt,!0))&&(Oe=tt.indexOf(")",tt.length-Oe)-tt.length)&&(ge[0]=ge[0].slice(0,Oe),ge[2]=tt.slice(0,Oe)),ge.slice(0,3))}},filter:{TAG:function(ge){var Oe=ge.replace(xi,ds).toLowerCase();return ge==="*"?function(){return!0}:function(tt){return Cn(tt,Oe)}},CLASS:function(ge){var Oe=co[ge+" "];return Oe||(Oe=new RegExp("(^|"+Ze+")"+ge+"("+Ze+"|$)"))&&co(ge,function(tt){return Oe.test(typeof tt.className=="string"&&tt.className||typeof tt.getAttribute<"u"&&tt.getAttribute("class")||"")})},ATTR:function(ge,Oe,tt){return function(it){var Je=So.attr(it,ge);return Je==null?Oe==="!=":Oe?(Je+="",Oe==="="?Je===tt:Oe==="!="?Je!==tt:Oe==="^="?tt&&Je.indexOf(tt)===0:Oe==="*="?tt&&Je.indexOf(tt)>-1:Oe==="$="?tt&&Je.slice(-tt.length)===tt:Oe==="~="?(" "+Je.replace(uo," ")+" ").indexOf(tt)>-1:Oe==="|="?Je===tt||Je.slice(0,tt.length+1)===tt+"-":!1):!0}},CHILD:function(ge,Oe,tt,it,Je){var Zt=ge.slice(0,3)!=="nth",en=ge.slice(-4)!=="last",fn=Oe==="of-type";return it===1&&Je===0?function(xn){return!!xn.parentNode}:function(xn,xo,Hn){var so,ko,Yn,No,Qr,pi=Zt!==en?"nextSibling":"previousSibling",er=xn.parentNode,ks=fn&&xn.nodeName.toLowerCase(),La=!Hn&&!fn,zr=!1;if(er){if(Zt){for(;pi;){for(Yn=xn;Yn=Yn[pi];)if(fn?Cn(Yn,ks):Yn.nodeType===1)return!1;Qr=pi=ge==="only"&&!Qr&&"nextSibling"}return!0}if(Qr=[en?er.firstChild:er.lastChild],en&&La){for(ko=er[gt]||(er[gt]={}),so=ko[ge]||[],No=so[0]===We&&so[1],zr=No&&so[2],Yn=No&&er.childNodes[No];Yn=++No&&Yn&&Yn[pi]||(zr=No=0)||Qr.pop();)if(Yn.nodeType===1&&++zr&&Yn===xn){ko[ge]=[We,No,zr];break}}else if(La&&(ko=xn[gt]||(xn[gt]={}),so=ko[ge]||[],No=so[0]===We&&so[1],zr=No),zr===!1)for(;(Yn=++No&&Yn&&Yn[pi]||(zr=No=0)||Qr.pop())&&!((fn?Cn(Yn,ks):Yn.nodeType===1)&&++zr&&(La&&(ko=Yn[gt]||(Yn[gt]={}),ko[ge]=[We,zr]),Yn===xn)););return zr-=Je,zr===it||zr%it===0&&zr/it>=0}}},PSEUDO:function(ge,Oe){var tt,it=_.pseudos[ge]||_.setFilters[ge.toLowerCase()]||So.error("unsupported pseudo: "+ge);return it[gt]?it(Oe):it.length>1?(tt=[ge,ge,"",Oe],_.setFilters.hasOwnProperty(ge.toLowerCase())?Sa(function(Je,Zt){for(var en,fn=it(Je,Oe),xn=fn.length;xn--;)en=W.call(Je,fn[xn]),Je[en]=!(Zt[en]=fn[xn])}):function(Je){return it(Je,0,tt)}):it}},pseudos:{not:Sa(function(ge){var Oe=[],tt=[],it=pe(ge.replace(Vt,"$1"));return it[gt]?Sa(function(Je,Zt,en,fn){for(var xn,xo=it(Je,null,fn,[]),Hn=Je.length;Hn--;)(xn=xo[Hn])&&(Je[Hn]=!(Zt[Hn]=xn))}):function(Je,Zt,en){return Oe[0]=Je,it(Oe,null,en,tt),Oe[0]=null,!tt.pop()}}),has:Sa(function(ge){return function(Oe){return So(ge,Oe).length>0}}),contains:Sa(function(ge){return ge=ge.replace(xi,ds),function(Oe){return(Oe.textContent||A.text(Oe)).indexOf(ge)>-1}}),lang:Sa(function(ge){return jo.test(ge||"")||So.error("unsupported lang: "+ge),ge=ge.replace(xi,ds).toLowerCase(),function(Oe){var tt;do if(tt=me?Oe.lang:Oe.getAttribute("xml:lang")||Oe.getAttribute("lang"))return tt=tt.toLowerCase(),tt===ge||tt.indexOf(ge+"-")===0;while((Oe=Oe.parentNode)&&Oe.nodeType===1);return!1}}),target:function(ge){var Oe=y.location&&y.location.hash;return Oe&&Oe.slice(1)===ge.id},root:function(ge){return ge===Te},focus:function(ge){return ge===vr()&&ie.hasFocus()&&!!(ge.type||ge.href||~ge.tabIndex)},enabled:fh(!1),disabled:fh(!0),checked:function(ge){return Cn(ge,"input")&&!!ge.checked||Cn(ge,"option")&&!!ge.selected},selected:function(ge){return ge.parentNode&&ge.parentNode.selectedIndex,ge.selected===!0},empty:function(ge){for(ge=ge.firstChild;ge;ge=ge.nextSibling)if(ge.nodeType<6)return!1;return!0},parent:function(ge){return!_.pseudos.empty(ge)},header:function(ge){return $a.test(ge.nodeName)},input:function(ge){return xa.test(ge.nodeName)},button:function(ge){return Cn(ge,"input")&&ge.type==="button"||Cn(ge,"button")},text:function(ge){var Oe;return Cn(ge,"input")&&ge.type==="text"&&((Oe=ge.getAttribute("type"))==null||Oe.toLowerCase()==="text")},first:Ea(function(){return[0]}),last:Ea(function(ge,Oe){return[Oe-1]}),eq:Ea(function(ge,Oe,tt){return[tt<0?tt+Oe:tt]}),even:Ea(function(ge,Oe){for(var tt=0;tt<Oe;tt+=2)ge.push(tt);return ge}),odd:Ea(function(ge,Oe){for(var tt=1;tt<Oe;tt+=2)ge.push(tt);return ge}),lt:Ea(function(ge,Oe,tt){var it;for(tt<0?it=tt+Oe:tt>Oe?it=Oe:it=tt;--it>=0;)ge.push(it);return ge}),gt:Ea(function(ge,Oe,tt){for(var it=tt<0?tt+Oe:tt;++it<Oe;)ge.push(it);return ge})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=km(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=lf(b);function hu(){}hu.prototype=_.filters=_.pseudos,_.setFilters=new hu;function mu(ge,Oe){var tt,it,Je,Zt,en,fn,xn,xo=Wo[ge+" "];if(xo)return Oe?0:xo.slice(0);for(en=ge,fn=[],xn=_.preFilter;en;){(!tt||(it=vs.exec(en)))&&(it&&(en=en.slice(it[0].length)||en),fn.push(Je=[])),tt=!1,(it=Gc.exec(en))&&(tt=it.shift(),Je.push({value:tt,type:it[0].replace(Vt," ")}),en=en.slice(tt.length));for(Zt in _.filter)(it=Ca[Zt].exec(en))&&(!xn[Zt]||(it=xn[Zt](it)))&&(tt=it.shift(),Je.push({value:tt,type:Zt,matches:it}),en=en.slice(tt.length));if(!tt)break}return Oe?en.length:en?So.error(ge):Wo(ge,fn).slice(0)}function Yc(ge){for(var Oe=0,tt=ge.length,it="";Oe<tt;Oe++)it+=ge[Oe].value;return it}function hh(ge,Oe,tt){var it=Oe.dir,Je=Oe.next,Zt=Je||it,en=tt&&Zt==="parentNode",fn=It++;return Oe.first?function(xn,xo,Hn){for(;xn=xn[it];)if(xn.nodeType===1||en)return ge(xn,xo,Hn);return!1}:function(xn,xo,Hn){var so,ko,Yn=[We,fn];if(Hn){for(;xn=xn[it];)if((xn.nodeType===1||en)&&ge(xn,xo,Hn))return!0}else for(;xn=xn[it];)if(xn.nodeType===1||en)if(ko=xn[gt]||(xn[gt]={}),Je&&Cn(xn,Je))xn=xn[it]||xn;else{if((so=ko[Zt])&&so[0]===We&&so[1]===fn)return Yn[2]=so[2];if(ko[Zt]=Yn,Yn[2]=ge(xn,xo,Hn))return!0}return!1}}function gd(ge){return ge.length>1?function(Oe,tt,it){for(var Je=ge.length;Je--;)if(!ge[Je](Oe,tt,it))return!1;return!0}:ge[0]}function fv(ge,Oe,tt){for(var it=0,Je=Oe.length;it<Je;it++)So(ge,Oe[it],tt);return tt}function Pl(ge,Oe,tt,it,Je){for(var Zt,en=[],fn=0,xn=ge.length,xo=Oe!=null;fn<xn;fn++)(Zt=ge[fn])&&(!tt||tt(Zt,it,Je))&&(en.push(Zt),xo&&Oe.push(fn));return en}function Om(ge,Oe,tt,it,Je,Zt){return it&&!it[gt]&&(it=Om(it)),Je&&!Je[gt]&&(Je=Om(Je,Zt)),Sa(function(en,fn,xn,xo){var Hn,so,ko,Yn,No=[],Qr=[],pi=fn.length,er=en||fv(Oe||"*",xn.nodeType?[xn]:xn,[]),ks=ge&&(en||!Oe)?Pl(er,No,ge,xn,xo):er;if(tt?(Yn=Je||(en?ge:pi||it)?[]:fn,tt(ks,Yn,xn,xo)):Yn=ks,it)for(Hn=Pl(Yn,Qr),it(Hn,[],xn,xo),so=Hn.length;so--;)(ko=Hn[so])&&(Yn[Qr[so]]=!(ks[Qr[so]]=ko));if(en){if(Je||ge){if(Je){for(Hn=[],so=Yn.length;so--;)(ko=Yn[so])&&Hn.push(ks[so]=ko);Je(null,Yn=[],Hn,xo)}for(so=Yn.length;so--;)(ko=Yn[so])&&(Hn=Je?W.call(en,ko):No[so])>-1&&(en[Hn]=!(fn[Hn]=ko))}}else Yn=Pl(Yn===fn?Yn.splice(pi,Yn.length):Yn),Je?Je(null,fn,Yn,xo):X.apply(fn,Yn)})}function pu(ge){for(var Oe,tt,it,Je=ge.length,Zt=_.relative[ge[0].type],en=Zt||_.relative[" "],fn=Zt?1:0,xn=hh(function(so){return so===Oe},en,!0),xo=hh(function(so){return W.call(Oe,so)>-1},en,!0),Hn=[function(so,ko,Yn){var No=!Zt&&(Yn||ko!=D)||((Oe=ko).nodeType?xn(so,ko,Yn):xo(so,ko,Yn));return Oe=null,No}];fn<Je;fn++)if(tt=_.relative[ge[fn].type])Hn=[hh(gd(Hn),tt)];else{if(tt=_.filter[ge[fn].type].apply(null,ge[fn].matches),tt[gt]){for(it=++fn;it<Je&&!_.relative[ge[it].type];it++);return Om(fn>1&&gd(Hn),fn>1&&Yc(ge.slice(0,fn-1).concat({value:ge[fn-2].type===" "?"*":""})).replace(Vt,"$1"),tt,fn<it&&pu(ge.slice(fn,it)),it<Je&&pu(ge=ge.slice(it)),it<Je&&Yc(ge))}Hn.push(tt)}return gd(Hn)}function K0(ge,Oe){var tt=Oe.length>0,it=ge.length>0,Je=function(Zt,en,fn,xn,xo){var Hn,so,ko,Yn=0,No="0",Qr=Zt&&[],pi=[],er=D,ks=Zt||it&&_.find.TAG("*",xo),La=We+=er==null?1:Math.random()||.1,zr=ks.length;for(xo&&(D=en==ie||en||xo);No!==zr&&(Hn=ks[No])!=null;No++){if(it&&Hn){for(so=0,!en&&Hn.ownerDocument!=ie&&(br(Hn),fn=!me);ko=ge[so++];)if(ko(Hn,en||ie,fn)){X.call(xn,Hn);break}xo&&(We=La)}tt&&((Hn=!ko&&Hn)&&Yn--,Zt&&Qr.push(Hn))}if(Yn+=No,tt&&No!==Yn){for(so=0;ko=Oe[so++];)ko(Qr,pi,en,fn);if(Zt){if(Yn>0)for(;No--;)Qr[No]||pi[No]||(pi[No]=Sn.call(xn));pi=Pl(pi)}X.apply(xn,pi),xo&&!Zt&&pi.length>0&&Yn+Oe.length>1&&A.uniqueSort(xn)}return xo&&(We=La,D=er),Qr};return tt?Sa(Je):Je}function pe(ge,Oe){var tt,it=[],Je=[],Zt=kn[ge+" "];if(!Zt){for(Oe||(Oe=mu(ge)),tt=Oe.length;tt--;)Zt=pu(Oe[tt]),Zt[gt]?it.push(Zt):Je.push(Zt);Zt=kn(ge,K0(Je,it)),Zt.selector=ge}return Zt}function Dm(ge,Oe,tt,it){var Je,Zt,en,fn,xn,xo=typeof ge=="function"&&ge,Hn=!it&&mu(ge=xo.selector||ge);if(tt=tt||[],Hn.length===1){if(Zt=Hn[0]=Hn[0].slice(0),Zt.length>2&&(en=Zt[0]).type==="ID"&&Oe.nodeType===9&&me&&_.relative[Zt[1].type]){if(Oe=(_.find.ID(en.matches[0].replace(xi,ds),Oe)||[])[0],Oe)xo&&(Oe=Oe.parentNode);else return tt;ge=ge.slice(Zt.shift().value.length)}for(Je=Ca.needsContext.test(ge)?0:Zt.length;Je--&&(en=Zt[Je],!_.relative[fn=en.type]);)if((xn=_.find[fn])&&(it=xn(en.matches[0].replace(xi,ds),Zo.test(Zt[0].type)&&pd(Oe.parentNode)||Oe))){if(Zt.splice(Je,1),ge=it.length&&Yc(Zt),!ge)return X.apply(tt,it),tt;break}}return(xo||pe(ge,Hn))(it,Oe,!me,tt,!Oe||Zo.test(ge)&&pd(Oe.parentNode)||Oe),tt}he.sortStable=gt.split("").sort(Io).join("")===gt,br(),he.sortDetached=Kc(function(ge){return ge.compareDocumentPosition(ie.createElement("fieldset"))&1}),A.find=So,A.expr[":"]=A.expr.pseudos,A.unique=A.uniqueSort,So.compile=pe,So.select=Dm,So.setDocument=br,So.tokenize=mu,So.escape=A.escapeSelector,So.getText=A.text,So.isXML=A.isXMLDoc,So.selectors=A.expr,So.support=A.support,So.uniqueSort=A.uniqueSort})();var eo=function(b,_,D){for(var L=[],Q=D!==void 0;(b=b[_])&&b.nodeType!==9;)if(b.nodeType===1){if(Q&&A(b).is(D))break;L.push(b)}return L},jt=function(b,_){for(var D=[];b;b=b.nextSibling)b.nodeType===1&&b!==_&&D.push(b);return D},Ge=A.expr.match.needsContext,ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Rn(b,_,D){return xe(_)?A.grep(b,function(L,Q){return!!_.call(L,Q,L)!==D}):_.nodeType?A.grep(b,function(L){return L===_!==D}):typeof _!="string"?A.grep(b,function(L){return W.call(_,L)>-1!==D}):A.filter(_,b,D)}A.filter=function(b,_,D){var L=_[0];return D&&(b=":not("+b+")"),_.length===1&&L.nodeType===1?A.find.matchesSelector(L,b)?[L]:[]:A.find.matches(b,A.grep(_,function(Q){return Q.nodeType===1}))},A.fn.extend({find:function(b){var _,D,L=this.length,Q=this;if(typeof b!="string")return this.pushStack(A(b).filter(function(){for(_=0;_<L;_++)if(A.contains(Q[_],this))return!0}));for(D=this.pushStack([]),_=0;_<L;_++)A.find(b,Q[_],D);return L>1?A.uniqueSort(D):D},filter:function(b){return this.pushStack(Rn(this,b||[],!1))},not:function(b){return this.pushStack(Rn(this,b||[],!0))},is:function(b){return!!Rn(this,typeof b=="string"&&Ge.test(b)?A(b):b||[],!1).length}});var _n,$n=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,He=A.fn.init=function(b,_,D){var L,Q;if(!b)return this;if(D=D||_n,typeof b=="string")if(b[0]==="<"&&b[b.length-1]===">"&&b.length>=3?L=[null,b,null]:L=$n.exec(b),L&&(L[1]||!_))if(L[1]){if(_=_ instanceof A?_[0]:_,A.merge(this,A.parseHTML(L[1],_&&_.nodeType?_.ownerDocument||_:et,!0)),ct.test(L[1])&&A.isPlainObject(_))for(L in _)xe(this[L])?this[L](_[L]):this.attr(L,_[L]);return this}else return Q=et.getElementById(L[2]),Q&&(this[0]=Q,this.length=1),this;else return!_||_.jquery?(_||D).find(b):this.constructor(_).find(b);else{if(b.nodeType)return this[0]=b,this.length=1,this;if(xe(b))return D.ready!==void 0?D.ready(b):b(A)}return A.makeArray(b,this)};He.prototype=A.fn,_n=A(et);var ht=/^(?:parents|prev(?:Until|All))/,K={children:!0,contents:!0,next:!0,prev:!0};A.fn.extend({has:function(b){var _=A(b,this),D=_.length;return this.filter(function(){for(var L=0;L<D;L++)if(A.contains(this,_[L]))return!0})},closest:function(b,_){var D,L=0,Q=this.length,X=[],ie=typeof b!="string"&&A(b);if(!Ge.test(b)){for(;L<Q;L++)for(D=this[L];D&&D!==_;D=D.parentNode)if(D.nodeType<11&&(ie?ie.index(D)>-1:D.nodeType===1&&A.find.matchesSelector(D,b))){X.push(D);break}}return this.pushStack(X.length>1?A.uniqueSort(X):X)},index:function(b){return b?typeof b=="string"?W.call(A(b),this[0]):W.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,_){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(b,_))))},addBack:function(b){return this.add(b==null?this.prevObject:this.prevObject.filter(b))}});function Xr(b,_){for(;(b=b[_])&&b.nodeType!==1;);return b}A.each({parent:function(b){var _=b.parentNode;return _&&_.nodeType!==11?_:null},parents:function(b){return eo(b,"parentNode")},parentsUntil:function(b,_,D){return eo(b,"parentNode",D)},next:function(b){return Xr(b,"nextSibling")},prev:function(b){return Xr(b,"previousSibling")},nextAll:function(b){return eo(b,"nextSibling")},prevAll:function(b){return eo(b,"previousSibling")},nextUntil:function(b,_,D){return eo(b,"nextSibling",D)},prevUntil:function(b,_,D){return eo(b,"previousSibling",D)},siblings:function(b){return jt((b.parentNode||{}).firstChild,b)},children:function(b){return jt(b.firstChild)},contents:function(b){return b.contentDocument!=null&&V(b.contentDocument)?b.contentDocument:(Cn(b,"template")&&(b=b.content||b),A.merge([],b.childNodes))}},function(b,_){A.fn[b]=function(D,L){var Q=A.map(this,_,D);return b.slice(-5)!=="Until"&&(L=D),L&&typeof L=="string"&&(Q=A.filter(L,Q)),this.length>1&&(K[b]||A.uniqueSort(Q),ht.test(b)&&Q.reverse()),this.pushStack(Q)}});var po=/[^\x20\t\r\n\f]+/g;function Cs(b){var _={};return A.each(b.match(po)||[],function(D,L){_[L]=!0}),_}A.Callbacks=function(b){b=typeof b=="string"?Cs(b):A.extend({},b);var _,D,L,Q,X=[],ie=[],Te=-1,me=function(){for(Q=Q||b.once,L=_=!0;ie.length;Te=-1)for(D=ie.shift();++Te<X.length;)X[Te].apply(D[0],D[1])===!1&&b.stopOnFalse&&(Te=X.length,D=!1);b.memory||(D=!1),_=!1,Q&&(D?X=[]:X="")},Ne={add:function(){return X&&(D&&!_&&(Te=X.length-1,ie.push(D)),function nt(gt){A.each(gt,function(We,It){xe(It)?(!b.unique||!Ne.has(It))&&X.push(It):It&&It.length&&mt(It)!=="string"&&nt(It)})}(arguments),D&&!_&&me()),this},remove:function(){return A.each(arguments,function(nt,gt){for(var We;(We=A.inArray(gt,X,We))>-1;)X.splice(We,1),We<=Te&&Te--}),this},has:function(nt){return nt?A.inArray(nt,X)>-1:X.length>0},empty:function(){return X&&(X=[]),this},disable:function(){return Q=ie=[],X=D="",this},disabled:function(){return!X},lock:function(){return Q=ie=[],!D&&!_&&(X=D=""),this},locked:function(){return!!Q},fireWith:function(nt,gt){return Q||(gt=gt||[],gt=[nt,gt.slice?gt.slice():gt],ie.push(gt),_||me()),this},fire:function(){return Ne.fireWith(this,arguments),this},fired:function(){return!!L}};return Ne};function Mo(b){return b}function ld(b){throw b}function An(b,_,D,L){var Q;try{b&&xe(Q=b.promise)?Q.call(b).done(_).fail(D):b&&xe(Q=b.then)?Q.call(b,_,D):_.apply(void 0,[b].slice(L))}catch(X){D.apply(void 0,[X])}}A.extend({Deferred:function(b){var _=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],D="pending",L={state:function(){return D},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(X){return L.then(null,X)},pipe:function(){var X=arguments;return A.Deferred(function(ie){A.each(_,function(Te,me){var Ne=xe(X[me[4]])&&X[me[4]];Q[me[1]](function(){var nt=Ne&&Ne.apply(this,arguments);nt&&xe(nt.promise)?nt.promise().progress(ie.notify).done(ie.resolve).fail(ie.reject):ie[me[0]+"With"](this,Ne?[nt]:arguments)})}),X=null}).promise()},then:function(X,ie,Te){var me=0;function Ne(nt,gt,We,It){return function(){var co=this,Wo=arguments,kn=function(){var Io,Qs;if(!(nt<me)){if(Io=We.apply(co,Wo),Io===gt.promise())throw new TypeError("Thenable self-resolution");Qs=Io&&(typeof Io=="object"||typeof Io=="function")&&Io.then,xe(Qs)?It?Qs.call(Io,Ne(me,gt,Mo,It),Ne(me,gt,ld,It)):(me++,Qs.call(Io,Ne(me,gt,Mo,It),Ne(me,gt,ld,It),Ne(me,gt,Mo,gt.notifyWith))):(We!==Mo&&(co=void 0,Wo=[Io]),(It||gt.resolveWith)(co,Wo))}},mi=It?kn:function(){try{kn()}catch(Io){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(Io,mi.error),nt+1>=me&&(We!==ld&&(co=void 0,Wo=[Io]),gt.rejectWith(co,Wo))}};nt?mi():(A.Deferred.getErrorHook?mi.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(mi.error=A.Deferred.getStackHook()),y.setTimeout(mi))}}return A.Deferred(function(nt){_[0][3].add(Ne(0,nt,xe(Te)?Te:Mo,nt.notifyWith)),_[1][3].add(Ne(0,nt,xe(X)?X:Mo)),_[2][3].add(Ne(0,nt,xe(ie)?ie:ld))}).promise()},promise:function(X){return X!=null?A.extend(X,L):L}},Q={};return A.each(_,function(X,ie){var Te=ie[2],me=ie[5];L[ie[1]]=Te.add,me&&Te.add(function(){D=me},_[3-X][2].disable,_[3-X][3].disable,_[0][2].lock,_[0][3].lock),Te.add(ie[3].fire),Q[ie[0]]=function(){return Q[ie[0]+"With"](this===Q?void 0:this,arguments),this},Q[ie[0]+"With"]=Te.fireWith}),L.promise(Q),b&&b.call(Q,Q),Q},when:function(b){var _=arguments.length,D=_,L=Array(D),Q=G.call(arguments),X=A.Deferred(),ie=function(Te){return function(me){L[Te]=this,Q[Te]=arguments.length>1?G.call(arguments):me,--_||X.resolveWith(L,Q)}};if(_<=1&&(An(b,X.done(ie(D)).resolve,X.reject,!_),X.state()==="pending"||xe(Q[D]&&Q[D].then)))return X.then();for(;D--;)An(Q[D],ie(D),X.reject);return X.promise()}});var Xo=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(b,_){y.console&&y.console.warn&&b&&Xo.test(b.name)&&y.console.warn("jQuery.Deferred exception: "+b.message,b.stack,_)},A.readyException=function(b){y.setTimeout(function(){throw b})};var Tn=A.Deferred();A.fn.ready=function(b){return Tn.then(b).catch(function(_){A.readyException(_)}),this},A.extend({isReady:!1,readyWait:1,ready:function(b){(b===!0?--A.readyWait:A.isReady)||(A.isReady=!0,!(b!==!0&&--A.readyWait>0)&&Tn.resolveWith(et,[A]))}}),A.ready.then=Tn.then;function Le(){et.removeEventListener("DOMContentLoaded",Le),y.removeEventListener("load",Le),A.ready()}et.readyState==="complete"||et.readyState!=="loading"&&!et.documentElement.doScroll?y.setTimeout(A.ready):(et.addEventListener("DOMContentLoaded",Le),y.addEventListener("load",Le));var di=function(b,_,D,L,Q,X,ie){var Te=0,me=b.length,Ne=D==null;if(mt(D)==="object"){Q=!0;for(Te in D)di(b,_,Te,D[Te],!0,X,ie)}else if(L!==void 0&&(Q=!0,xe(L)||(ie=!0),Ne&&(ie?(_.call(b,L),_=null):(Ne=_,_=function(nt,gt,We){return Ne.call(A(nt),We)})),_))for(;Te<me;Te++)_(b[Te],D,ie?L:L.call(b[Te],Te,_(b[Te],D)));return Q?b:Ne?_.call(b):me?_(b[0],D):X},Nr=/^-ms-/,Jt=/-([a-z])/g;function Ya(b,_){return _.toUpperCase()}function To(b){return b.replace(Nr,"ms-").replace(Jt,Ya)}var Xa=function(b){return b.nodeType===1||b.nodeType===9||!+b.nodeType};function Jo(){this.expando=A.expando+Jo.uid++}Jo.uid=1,Jo.prototype={cache:function(b){var _=b[this.expando];return _||(_={},Xa(b)&&(b.nodeType?b[this.expando]=_:Object.defineProperty(b,this.expando,{value:_,configurable:!0}))),_},set:function(b,_,D){var L,Q=this.cache(b);if(typeof _=="string")Q[To(_)]=D;else for(L in _)Q[To(L)]=_[L];return Q},get:function(b,_){return _===void 0?this.cache(b):b[this.expando]&&b[this.expando][To(_)]},access:function(b,_,D){return _===void 0||_&&typeof _=="string"&&D===void 0?this.get(b,_):(this.set(b,_,D),D!==void 0?D:_)},remove:function(b,_){var D,L=b[this.expando];if(L!==void 0){if(_!==void 0)for(Array.isArray(_)?_=_.map(To):(_=To(_),_=_ in L?[_]:_.match(po)||[]),D=_.length;D--;)delete L[_[D]];(_===void 0||A.isEmptyObject(L))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){var _=b[this.expando];return _!==void 0&&!A.isEmptyObject(_)}};var wn=new Jo,Ir=new Jo,Mi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,gr=/[A-Z]/g;function Ts(b){return b==="true"?!0:b==="false"?!1:b==="null"?null:b===+b+""?+b:Mi.test(b)?JSON.parse(b):b}function sh(b,_,D){var L;if(D===void 0&&b.nodeType===1)if(L="data-"+_.replace(gr,"-$&").toLowerCase(),D=b.getAttribute(L),typeof D=="string"){try{D=Ts(D)}catch{}Ir.set(b,_,D)}else D=void 0;return D}A.extend({hasData:function(b){return Ir.hasData(b)||wn.hasData(b)},data:function(b,_,D){return Ir.access(b,_,D)},removeData:function(b,_){Ir.remove(b,_)},_data:function(b,_,D){return wn.access(b,_,D)},_removeData:function(b,_){wn.remove(b,_)}}),A.fn.extend({data:function(b,_){var D,L,Q,X=this[0],ie=X&&X.attributes;if(b===void 0){if(this.length&&(Q=Ir.get(X),X.nodeType===1&&!wn.get(X,"hasDataAttrs"))){for(D=ie.length;D--;)ie[D]&&(L=ie[D].name,L.indexOf("data-")===0&&(L=To(L.slice(5)),sh(X,L,Q[L])));wn.set(X,"hasDataAttrs",!0)}return Q}return typeof b=="object"?this.each(function(){Ir.set(this,b)}):di(this,function(Te){var me;if(X&&Te===void 0)return me=Ir.get(X,b),me!==void 0||(me=sh(X,b),me!==void 0)?me:void 0;this.each(function(){Ir.set(this,b,Te)})},null,_,arguments.length>1,null,!0)},removeData:function(b){return this.each(function(){Ir.remove(this,b)})}}),A.extend({queue:function(b,_,D){var L;if(b)return _=(_||"fx")+"queue",L=wn.get(b,_),D&&(!L||Array.isArray(D)?L=wn.access(b,_,A.makeArray(D)):L.push(D)),L||[]},dequeue:function(b,_){_=_||"fx";var D=A.queue(b,_),L=D.length,Q=D.shift(),X=A._queueHooks(b,_),ie=function(){A.dequeue(b,_)};Q==="inprogress"&&(Q=D.shift(),L--),Q&&(_==="fx"&&D.unshift("inprogress"),delete X.stop,Q.call(b,ie,X)),!L&&X&&X.empty.fire()},_queueHooks:function(b,_){var D=_+"queueHooks";return wn.get(b,D)||wn.access(b,D,{empty:A.Callbacks("once memory").add(function(){wn.remove(b,[_+"queue",D])})})}}),A.fn.extend({queue:function(b,_){var D=2;return typeof b!="string"&&(_=b,b="fx",D--),arguments.length<D?A.queue(this[0],b):_===void 0?this:this.each(function(){var L=A.queue(this,b,_);A._queueHooks(this,b),b==="fx"&&L[0]!=="inprogress"&&A.dequeue(this,b)})},dequeue:function(b){return this.each(function(){A.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,_){var D,L=1,Q=A.Deferred(),X=this,ie=this.length,Te=function(){--L||Q.resolveWith(X,[X])};for(typeof b!="string"&&(_=b,b=void 0),b=b||"fx";ie--;)D=wn.get(X[ie],b+"queueHooks"),D&&D.empty&&(L++,D.empty.add(Te));return Te(),Q.promise(_)}});var lr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,is=new RegExp("^(?:([+-])=|)("+lr+")([a-z%]*)$","i"),pa=["Top","Right","Bottom","Left"],Ys=et.documentElement,ga=function(b){return A.contains(b.ownerDocument,b)},Ji={composed:!0};Ys.getRootNode&&(ga=function(b){return A.contains(b.ownerDocument,b)||b.getRootNode(Ji)===b.ownerDocument});var zc=function(b,_){return b=_||b,b.style.display==="none"||b.style.display===""&&ga(b)&&A.css(b,"display")==="none"};function af(b,_,D,L){var Q,X,ie=20,Te=L?function(){return L.cur()}:function(){return A.css(b,_,"")},me=Te(),Ne=D&&D[3]||(A.cssNumber[_]?"":"px"),nt=b.nodeType&&(A.cssNumber[_]||Ne!=="px"&&+me)&&is.exec(A.css(b,_));if(nt&&nt[3]!==Ne){for(me=me/2,Ne=Ne||nt[3],nt=+me||1;ie--;)A.style(b,_,nt+Ne),(1-X)*(1-(X=Te()/me||.5))<=0&&(ie=0),nt=nt/X;nt=nt*2,A.style(b,_,nt+Ne),D=D||[]}return D&&(nt=+nt||+me||0,Q=D[1]?nt+(D[1]+1)*D[2]:+D[2],L&&(L.unit=Ne,L.start=nt,L.end=Q)),Q}var fi={};function Xp(b){var _,D=b.ownerDocument,L=b.nodeName,Q=fi[L];return Q||(_=D.body.appendChild(D.createElement(L)),Q=A.css(_,"display"),_.parentNode.removeChild(_),Q==="none"&&(Q="block"),fi[L]=Q,Q)}function Dt(b,_){for(var D,L,Q=[],X=0,ie=b.length;X<ie;X++)L=b[X],L.style&&(D=L.style.display,_?(D==="none"&&(Q[X]=wn.get(L,"display")||null,Q[X]||(L.style.display="")),L.style.display===""&&zc(L)&&(Q[X]=Xp(L))):D!=="none"&&(Q[X]="none",wn.set(L,"display",D)));for(X=0;X<ie;X++)Q[X]!=null&&(b[X].style.display=Q[X]);return b}A.fn.extend({show:function(){return Dt(this,!0)},hide:function(){return Dt(this)},toggle:function(b){return typeof b=="boolean"?b?this.show():this.hide():this.each(function(){zc(this)?A(this).show():A(this).hide()})}});var go=/^(?:checkbox|radio)$/i,va=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var b=et.createDocumentFragment(),_=b.appendChild(et.createElement("div")),D=et.createElement("input");D.setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),_.appendChild(D),he.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue,_.innerHTML="<option></option>",he.option=!!_.lastChild})();var ea={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ea.tbody=ea.tfoot=ea.colgroup=ea.caption=ea.thead,ea.th=ea.td,he.option||(ea.optgroup=ea.option=[1,"<select multiple='multiple'>","</select>"]);function $r(b,_){var D;return typeof b.getElementsByTagName<"u"?D=b.getElementsByTagName(_||"*"):typeof b.querySelectorAll<"u"?D=b.querySelectorAll(_||"*"):D=[],_===void 0||_&&Cn(b,_)?A.merge([b],D):D}function as(b,_){for(var D=0,L=b.length;D<L;D++)wn.set(b[D],"globalEval",!_||wn.get(_[D],"globalEval"))}var uu=/<|&#?\w+;/;function ud(b,_,D,L,Q){for(var X,ie,Te,me,Ne,nt,gt=_.createDocumentFragment(),We=[],It=0,co=b.length;It<co;It++)if(X=b[It],X||X===0)if(mt(X)==="object")A.merge(We,X.nodeType?[X]:X);else if(!uu.test(X))We.push(_.createTextNode(X));else{for(ie=ie||gt.appendChild(_.createElement("div")),Te=(va.exec(X)||["",""])[1].toLowerCase(),me=ea[Te]||ea._default,ie.innerHTML=me[1]+A.htmlPrefilter(X)+me[2],nt=me[0];nt--;)ie=ie.lastChild;A.merge(We,ie.childNodes),ie=gt.firstChild,ie.textContent=""}for(gt.textContent="",It=0;X=We[It++];){if(L&&A.inArray(X,L)>-1){Q&&Q.push(X);continue}if(Ne=ga(X),ie=$r(gt.appendChild(X),"script"),Ne&&as(ie),D)for(nt=0;X=ie[nt++];)Qi.test(X.type||"")&&D.push(X)}return gt}var Qo=/^([^.]*)(?:\.(.+)|)/;function un(){return!0}function Lr(){return!1}function Al(b,_,D,L,Q,X){var ie,Te;if(typeof _=="object"){typeof D!="string"&&(L=L||D,D=void 0);for(Te in _)Al(b,Te,D,L,_[Te],X);return b}if(L==null&&Q==null?(Q=D,L=D=void 0):Q==null&&(typeof D=="string"?(Q=L,L=void 0):(Q=L,L=D,D=void 0)),Q===!1)Q=Lr;else if(!Q)return b;return X===1&&(ie=Q,Q=function(me){return A().off(me),ie.apply(this,arguments)},Q.guid=ie.guid||(ie.guid=A.guid++)),b.each(function(){A.event.add(this,_,Q,L,D)})}A.event={global:{},add:function(b,_,D,L,Q){var X,ie,Te,me,Ne,nt,gt,We,It,co,Wo,kn=wn.get(b);if(Xa(b))for(D.handler&&(X=D,D=X.handler,Q=X.selector),Q&&A.find.matchesSelector(Ys,Q),D.guid||(D.guid=A.guid++),(me=kn.events)||(me=kn.events=Object.create(null)),(ie=kn.handle)||(ie=kn.handle=function(mi){return typeof A<"u"&&A.event.triggered!==mi.type?A.event.dispatch.apply(b,arguments):void 0}),_=(_||"").match(po)||[""],Ne=_.length;Ne--;)Te=Qo.exec(_[Ne])||[],It=Wo=Te[1],co=(Te[2]||"").split(".").sort(),It&&(gt=A.event.special[It]||{},It=(Q?gt.delegateType:gt.bindType)||It,gt=A.event.special[It]||{},nt=A.extend({type:It,origType:Wo,data:L,handler:D,guid:D.guid,selector:Q,needsContext:Q&&A.expr.match.needsContext.test(Q),namespace:co.join(".")},X),(We=me[It])||(We=me[It]=[],We.delegateCount=0,(!gt.setup||gt.setup.call(b,L,co,ie)===!1)&&b.addEventListener&&b.addEventListener(It,ie)),gt.add&&(gt.add.call(b,nt),nt.handler.guid||(nt.handler.guid=D.guid)),Q?We.splice(We.delegateCount++,0,nt):We.push(nt),A.event.global[It]=!0)},remove:function(b,_,D,L,Q){var X,ie,Te,me,Ne,nt,gt,We,It,co,Wo,kn=wn.hasData(b)&&wn.get(b);if(!(!kn||!(me=kn.events))){for(_=(_||"").match(po)||[""],Ne=_.length;Ne--;){if(Te=Qo.exec(_[Ne])||[],It=Wo=Te[1],co=(Te[2]||"").split(".").sort(),!It){for(It in me)A.event.remove(b,It+_[Ne],D,L,!0);continue}for(gt=A.event.special[It]||{},It=(L?gt.delegateType:gt.bindType)||It,We=me[It]||[],Te=Te[2]&&new RegExp("(^|\\.)"+co.join("\\.(?:.*\\.|)")+"(\\.|$)"),ie=X=We.length;X--;)nt=We[X],(Q||Wo===nt.origType)&&(!D||D.guid===nt.guid)&&(!Te||Te.test(nt.namespace))&&(!L||L===nt.selector||L==="**"&&nt.selector)&&(We.splice(X,1),nt.selector&&We.delegateCount--,gt.remove&&gt.remove.call(b,nt));ie&&!We.length&&((!gt.teardown||gt.teardown.call(b,co,kn.handle)===!1)&&A.removeEvent(b,It,kn.handle),delete me[It])}A.isEmptyObject(me)&&wn.remove(b,"handle events")}},dispatch:function(b){var _,D,L,Q,X,ie,Te=new Array(arguments.length),me=A.event.fix(b),Ne=(wn.get(this,"events")||Object.create(null))[me.type]||[],nt=A.event.special[me.type]||{};for(Te[0]=me,_=1;_<arguments.length;_++)Te[_]=arguments[_];if(me.delegateTarget=this,!(nt.preDispatch&&nt.preDispatch.call(this,me)===!1)){for(ie=A.event.handlers.call(this,me,Ne),_=0;(Q=ie[_++])&&!me.isPropagationStopped();)for(me.currentTarget=Q.elem,D=0;(X=Q.handlers[D++])&&!me.isImmediatePropagationStopped();)(!me.rnamespace||X.namespace===!1||me.rnamespace.test(X.namespace))&&(me.handleObj=X,me.data=X.data,L=((A.event.special[X.origType]||{}).handle||X.handler).apply(Q.elem,Te),L!==void 0&&(me.result=L)===!1&&(me.preventDefault(),me.stopPropagation()));return nt.postDispatch&&nt.postDispatch.call(this,me),me.result}},handlers:function(b,_){var D,L,Q,X,ie,Te=[],me=_.delegateCount,Ne=b.target;if(me&&Ne.nodeType&&!(b.type==="click"&&b.button>=1)){for(;Ne!==this;Ne=Ne.parentNode||this)if(Ne.nodeType===1&&!(b.type==="click"&&Ne.disabled===!0)){for(X=[],ie={},D=0;D<me;D++)L=_[D],Q=L.selector+" ",ie[Q]===void 0&&(ie[Q]=L.needsContext?A(Q,this).index(Ne)>-1:A.find(Q,this,null,[Ne]).length),ie[Q]&&X.push(L);X.length&&Te.push({elem:Ne,handlers:X})}}return Ne=this,me<_.length&&Te.push({elem:Ne,handlers:_.slice(me)}),Te},addProp:function(b,_){Object.defineProperty(A.Event.prototype,b,{enumerable:!0,configurable:!0,get:xe(_)?function(){if(this.originalEvent)return _(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(D){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:D})}})},fix:function(b){return b[A.expando]?b:new A.Event(b)},special:{load:{noBubble:!0},click:{setup:function(b){var _=this||b;return go.test(_.type)&&_.click&&Cn(_,"input")&&dd(_,"click",!0),!1},trigger:function(b){var _=this||b;return go.test(_.type)&&_.click&&Cn(_,"input")&&dd(_,"click"),!0},_default:function(b){var _=b.target;return go.test(_.type)&&_.click&&Cn(_,"input")&&wn.get(_,"click")||Cn(_,"a")}},beforeunload:{postDispatch:function(b){b.result!==void 0&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};function dd(b,_,D){if(!D){wn.get(b,_)===void 0&&A.event.add(b,_,un);return}wn.set(b,_,!1),A.event.add(b,_,{namespace:!1,handler:function(L){var Q,X=wn.get(this,_);if(L.isTrigger&1&&this[_]){if(X)(A.event.special[_]||{}).delegateType&&L.stopPropagation();else if(X=G.call(arguments),wn.set(this,_,X),this[_](),Q=wn.get(this,_),wn.set(this,_,!1),X!==Q)return L.stopImmediatePropagation(),L.preventDefault(),Q}else X&&(wn.set(this,_,A.event.trigger(X[0],X.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=un)}})}A.removeEvent=function(b,_,D){b.removeEventListener&&b.removeEventListener(_,D)},A.Event=function(b,_){if(!(this instanceof A.Event))return new A.Event(b,_);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.defaultPrevented===void 0&&b.returnValue===!1?un:Lr,this.target=b.target&&b.target.nodeType===3?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,_&&A.extend(this,_),this.timeStamp=b&&b.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=un,b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=un,b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=un,b&&!this.isSimulated&&b.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(b,_){function D(L){if(et.documentMode){var Q=wn.get(this,"handle"),X=A.event.fix(L);X.type=L.type==="focusin"?"focus":"blur",X.isSimulated=!0,Q(L),X.target===X.currentTarget&&Q(X)}else A.event.simulate(_,L.target,A.event.fix(L))}A.event.special[b]={setup:function(){var L;if(dd(this,b,!0),et.documentMode)L=wn.get(this,_),L||this.addEventListener(_,D),wn.set(this,_,(L||0)+1);else return!1},trigger:function(){return dd(this,b),!0},teardown:function(){var L;if(et.documentMode)L=wn.get(this,_)-1,L?wn.set(this,_,L):(this.removeEventListener(_,D),wn.remove(this,_));else return!1},_default:function(L){return wn.get(L.target,b)},delegateType:_},A.event.special[_]={setup:function(){var L=this.ownerDocument||this.document||this,Q=et.documentMode?this:L,X=wn.get(Q,_);X||(et.documentMode?this.addEventListener(_,D):L.addEventListener(b,D,!0)),wn.set(Q,_,(X||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,Q=et.documentMode?this:L,X=wn.get(Q,_)-1;X?wn.set(Q,_,X):(et.documentMode?this.removeEventListener(_,D):L.removeEventListener(b,D,!0),wn.remove(Q,_))}}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,_){A.event.special[b]={delegateType:_,bindType:_,handle:function(D){var L,Q=this,X=D.relatedTarget,ie=D.handleObj;return(!X||X!==Q&&!A.contains(Q,X))&&(D.type=ie.origType,L=ie.handler.apply(this,arguments),D.type=_),L}}}),A.fn.extend({on:function(b,_,D,L){return Al(this,b,_,D,L)},one:function(b,_,D,L){return Al(this,b,_,D,L,1)},off:function(b,_,D){var L,Q;if(b&&b.preventDefault&&b.handleObj)return L=b.handleObj,A(b.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler),this;if(typeof b=="object"){for(Q in b)this.off(Q,_,b[Q]);return this}return(_===!1||typeof _=="function")&&(D=_,_=void 0),D===!1&&(D=Lr),this.each(function(){A.event.remove(this,b,D,_)})}});var Jp=/<script|<style|<link/i,Bi=/checked\s*(?:[^=]|=\s*.checked.)/i,hi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xs(b,_){return Cn(b,"table")&&Cn(_.nodeType!==11?_:_.firstChild,"tr")&&A(b).children("tbody")[0]||b}function Vc(b){return b.type=(b.getAttribute("type")!==null)+"/"+b.type,b}function bm(b){return(b.type||"").slice(0,5)==="true/"?b.type=b.type.slice(5):b.removeAttribute("type"),b}function Uc(b,_){var D,L,Q,X,ie,Te,me;if(_.nodeType===1){if(wn.hasData(b)&&(X=wn.get(b),me=X.events,me)){wn.remove(_,"handle events");for(Q in me)for(D=0,L=me[Q].length;D<L;D++)A.event.add(_,Q,me[Q][D])}Ir.hasData(b)&&(ie=Ir.access(b),Te=A.extend({},ie),Ir.set(_,Te))}}function ba(b,_){var D=_.nodeName.toLowerCase();D==="input"&&go.test(b.type)?_.checked=b.checked:(D==="input"||D==="textarea")&&(_.defaultValue=b.defaultValue)}function Go(b,_,D,L){_=te(_);var Q,X,ie,Te,me,Ne,nt=0,gt=b.length,We=gt-1,It=_[0],co=xe(It);if(co||gt>1&&typeof It=="string"&&!he.checkClone&&Bi.test(It))return b.each(function(Wo){var kn=b.eq(Wo);co&&(_[0]=It.call(this,Wo,kn.html())),Go(kn,_,D,L)});if(gt&&(Q=ud(_,b[0].ownerDocument,!1,b,L),X=Q.firstChild,Q.childNodes.length===1&&(Q=X),X||L)){for(ie=A.map($r(Q,"script"),Vc),Te=ie.length;nt<gt;nt++)me=Q,nt!==We&&(me=A.clone(me,!0,!0),Te&&A.merge(ie,$r(me,"script"))),D.call(b[nt],me,nt);if(Te)for(Ne=ie[ie.length-1].ownerDocument,A.map(ie,bm),nt=0;nt<Te;nt++)me=ie[nt],Qi.test(me.type||"")&&!wn.access(me,"globalEval")&&A.contains(Ne,me)&&(me.src&&(me.type||"").toLowerCase()!=="module"?A._evalUrl&&!me.noModule&&A._evalUrl(me.src,{nonce:me.nonce||me.getAttribute("nonce")},Ne):ue(me.textContent.replace(hi,""),me,Ne))}return b}function Na(b,_,D){for(var L,Q=_?A.filter(_,b):b,X=0;(L=Q[X])!=null;X++)!D&&L.nodeType===1&&A.cleanData($r(L)),L.parentNode&&(D&&ga(L)&&as($r(L,"script")),L.parentNode.removeChild(L));return b}A.extend({htmlPrefilter:function(b){return b},clone:function(b,_,D){var L,Q,X,ie,Te=b.cloneNode(!0),me=ga(b);if(!he.noCloneChecked&&(b.nodeType===1||b.nodeType===11)&&!A.isXMLDoc(b))for(ie=$r(Te),X=$r(b),L=0,Q=X.length;L<Q;L++)ba(X[L],ie[L]);if(_)if(D)for(X=X||$r(b),ie=ie||$r(Te),L=0,Q=X.length;L<Q;L++)Uc(X[L],ie[L]);else Uc(b,Te);return ie=$r(Te,"script"),ie.length>0&&as(ie,!me&&$r(b,"script")),Te},cleanData:function(b){for(var _,D,L,Q=A.event.special,X=0;(D=b[X])!==void 0;X++)if(Xa(D)){if(_=D[wn.expando]){if(_.events)for(L in _.events)Q[L]?A.event.remove(D,L):A.removeEvent(D,L,_.handle);D[wn.expando]=void 0}D[Ir.expando]&&(D[Ir.expando]=void 0)}}}),A.fn.extend({detach:function(b){return Na(this,b,!0)},remove:function(b){return Na(this,b)},text:function(b){return di(this,function(_){return _===void 0?A.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=_)})},null,b,arguments.length)},append:function(){return Go(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Xs(this,b);_.appendChild(b)}})},prepend:function(){return Go(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Xs(this,b);_.insertBefore(b,_.firstChild)}})},before:function(){return Go(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return Go(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,_=0;(b=this[_])!=null;_++)b.nodeType===1&&(A.cleanData($r(b,!1)),b.textContent="");return this},clone:function(b,_){return b=b??!1,_=_??b,this.map(function(){return A.clone(this,b,_)})},html:function(b){return di(this,function(_){var D=this[0]||{},L=0,Q=this.length;if(_===void 0&&D.nodeType===1)return D.innerHTML;if(typeof _=="string"&&!Jp.test(_)&&!ea[(va.exec(_)||["",""])[1].toLowerCase()]){_=A.htmlPrefilter(_);try{for(;L<Q;L++)D=this[L]||{},D.nodeType===1&&(A.cleanData($r(D,!1)),D.innerHTML=_);D=0}catch{}}D&&this.empty().append(_)},null,b,arguments.length)},replaceWith:function(){var b=[];return Go(this,arguments,function(_){var D=this.parentNode;A.inArray(this,b)<0&&(A.cleanData($r(this)),D&&D.replaceChild(_,this))},b)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,_){A.fn[b]=function(D){for(var L,Q=[],X=A(D),ie=X.length-1,Te=0;Te<=ie;Te++)L=Te===ie?this:this.clone(!0),A(X[Te])[_](L),q.apply(Q,L.get());return this.pushStack(Q)}});var Ja=new RegExp("^("+lr+")(?!px)[a-z%]+$","i"),Qp=/^--/,ym=function(b){var _=b.ownerDocument.defaultView;return(!_||!_.opener)&&(_=y),_.getComputedStyle(b)},Wc=function(b,_,D){var L,Q,X={};for(Q in _)X[Q]=b.style[Q],b.style[Q]=_[Q];L=D.call(b);for(Q in _)b.style[Q]=X[Q];return L},qT=new RegExp(pa.join("|"),"i");(function(){function b(){if(Ne){me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ne.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ys.appendChild(me).appendChild(Ne);var nt=y.getComputedStyle(Ne);D=nt.top!=="1%",Te=_(nt.marginLeft)===12,Ne.style.right="60%",X=_(nt.right)===36,L=_(nt.width)===36,Ne.style.position="absolute",Q=_(Ne.offsetWidth/3)===12,Ys.removeChild(me),Ne=null}}function _(nt){return Math.round(parseFloat(nt))}var D,L,Q,X,ie,Te,me=et.createElement("div"),Ne=et.createElement("div");Ne.style&&(Ne.style.backgroundClip="content-box",Ne.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle=Ne.style.backgroundClip==="content-box",A.extend(he,{boxSizingReliable:function(){return b(),L},pixelBoxStyles:function(){return b(),X},pixelPosition:function(){return b(),D},reliableMarginLeft:function(){return b(),Te},scrollboxSize:function(){return b(),Q},reliableTrDimensions:function(){var nt,gt,We,It;return ie==null&&(nt=et.createElement("table"),gt=et.createElement("tr"),We=et.createElement("div"),nt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="box-sizing:content-box;border:1px solid",gt.style.height="1px",We.style.height="9px",We.style.display="block",Ys.appendChild(nt).appendChild(gt).appendChild(We),It=y.getComputedStyle(gt),ie=parseInt(It.height,10)+parseInt(It.borderTopWidth,10)+parseInt(It.borderBottomWidth,10)===gt.offsetHeight,Ys.removeChild(nt)),ie}}))})();function Ae(b,_,D){var L,Q,X,ie,Te=Qp.test(_),me=b.style;return D=D||ym(b),D&&(ie=D.getPropertyValue(_)||D[_],Te&&ie&&(ie=ie.replace(Vt,"$1")||void 0),ie===""&&!ga(b)&&(ie=A.style(b,_)),!he.pixelBoxStyles()&&Ja.test(ie)&&qT.test(_)&&(L=me.width,Q=me.minWidth,X=me.maxWidth,me.minWidth=me.maxWidth=me.width=ie,ie=D.width,me.width=L,me.minWidth=Q,me.maxWidth=X)),ie!==void 0?ie+"":ie}function Ni(b,_){return{get:function(){if(b()){delete this.get;return}return(this.get=_).apply(this,arguments)}}}var fd=["Webkit","Moz","ms"],eg=et.createElement("div").style,wm={};function us(b){for(var _=b[0].toUpperCase()+b.slice(1),D=fd.length;D--;)if(b=fd[D]+_,b in eg)return b}function rh(b){var _=A.cssProps[b]||wm[b];return _||(b in eg?b:wm[b]=us(b)||b)}var Z0=/^(none|table(?!-c[ea]).+)/,ih={position:"absolute",visibility:"hidden",display:"block"},hd={letterSpacing:"0",fontWeight:"400"};function Fr(b,_,D){var L=is.exec(_);return L?Math.max(0,L[2]-(D||0))+(L[3]||"px"):_}function Bs(b,_,D,L,Q,X){var ie=_==="width"?1:0,Te=0,me=0,Ne=0;if(D===(L?"border":"content"))return 0;for(;ie<4;ie+=2)D==="margin"&&(Ne+=A.css(b,D+pa[ie],!0,Q)),L?(D==="content"&&(me-=A.css(b,"padding"+pa[ie],!0,Q)),D!=="margin"&&(me-=A.css(b,"border"+pa[ie]+"Width",!0,Q))):(me+=A.css(b,"padding"+pa[ie],!0,Q),D!=="padding"?me+=A.css(b,"border"+pa[ie]+"Width",!0,Q):Te+=A.css(b,"border"+pa[ie]+"Width",!0,Q));return!L&&X>=0&&(me+=Math.max(0,Math.ceil(b["offset"+_[0].toUpperCase()+_.slice(1)]-X-me-Te-.5))||0),me+Ne}function jc(b,_,D){var L=ym(b),Q=!he.boxSizingReliable()||D,X=Q&&A.css(b,"boxSizing",!1,L)==="border-box",ie=X,Te=Ae(b,_,L),me="offset"+_[0].toUpperCase()+_.slice(1);if(Ja.test(Te)){if(!D)return Te;Te="auto"}return(!he.boxSizingReliable()&&X||!he.reliableTrDimensions()&&Cn(b,"tr")||Te==="auto"||!parseFloat(Te)&&A.css(b,"display",!1,L)==="inline")&&b.getClientRects().length&&(X=A.css(b,"boxSizing",!1,L)==="border-box",ie=me in b,ie&&(Te=b[me])),Te=parseFloat(Te)||0,Te+Bs(b,_,D||(X?"border":"content"),ie,L,Te)+"px"}A.extend({cssHooks:{opacity:{get:function(b,_){if(_){var D=Ae(b,"opacity");return D===""?"1":D}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(b,_,D,L){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var Q,X,ie,Te=To(_),me=Qp.test(_),Ne=b.style;if(me||(_=rh(Te)),ie=A.cssHooks[_]||A.cssHooks[Te],D!==void 0){if(X=typeof D,X==="string"&&(Q=is.exec(D))&&Q[1]&&(D=af(b,_,Q),X="number"),D==null||D!==D)return;X==="number"&&!me&&(D+=Q&&Q[3]||(A.cssNumber[Te]?"":"px")),!he.clearCloneStyle&&D===""&&_.indexOf("background")===0&&(Ne[_]="inherit"),(!ie||!("set"in ie)||(D=ie.set(b,D,L))!==void 0)&&(me?Ne.setProperty(_,D):Ne[_]=D)}else return ie&&"get"in ie&&(Q=ie.get(b,!1,L))!==void 0?Q:Ne[_]}},css:function(b,_,D,L){var Q,X,ie,Te=To(_),me=Qp.test(_);return me||(_=rh(Te)),ie=A.cssHooks[_]||A.cssHooks[Te],ie&&"get"in ie&&(Q=ie.get(b,!0,D)),Q===void 0&&(Q=Ae(b,_,L)),Q==="normal"&&_ in hd&&(Q=hd[_]),D===""||D?(X=parseFloat(Q),D===!0||isFinite(X)?X||0:Q):Q}}),A.each(["height","width"],function(b,_){A.cssHooks[_]={get:function(D,L,Q){if(L)return Z0.test(A.css(D,"display"))&&(!D.getClientRects().length||!D.getBoundingClientRect().width)?Wc(D,ih,function(){return jc(D,_,Q)}):jc(D,_,Q)},set:function(D,L,Q){var X,ie=ym(D),Te=!he.scrollboxSize()&&ie.position==="absolute",me=Te||Q,Ne=me&&A.css(D,"boxSizing",!1,ie)==="border-box",nt=Q?Bs(D,_,Q,Ne,ie):0;return Ne&&Te&&(nt-=Math.ceil(D["offset"+_[0].toUpperCase()+_.slice(1)]-parseFloat(ie[_])-Bs(D,_,"border",!1,ie)-.5)),nt&&(X=is.exec(L))&&(X[3]||"px")!=="px"&&(D.style[_]=L,L=A.css(D,_)),Fr(D,L,nt)}}}),A.cssHooks.marginLeft=Ni(he.reliableMarginLeft,function(b,_){if(_)return(parseFloat(Ae(b,"marginLeft"))||b.getBoundingClientRect().left-Wc(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(b,_){A.cssHooks[b+_]={expand:function(D){for(var L=0,Q={},X=typeof D=="string"?D.split(" "):[D];L<4;L++)Q[b+pa[L]+_]=X[L]||X[L-2]||X[0];return Q}},b!=="margin"&&(A.cssHooks[b+_].set=Fr)}),A.fn.extend({css:function(b,_){return di(this,function(D,L,Q){var X,ie,Te={},me=0;if(Array.isArray(L)){for(X=ym(D),ie=L.length;me<ie;me++)Te[L[me]]=A.css(D,L[me],!1,X);return Te}return Q!==void 0?A.style(D,L,Q):A.css(D,L)},b,_,arguments.length>1)}});function Vs(b,_,D,L,Q){return new Vs.prototype.init(b,_,D,L,Q)}A.Tween=Vs,Vs.prototype={constructor:Vs,init:function(b,_,D,L,Q,X){this.elem=b,this.prop=D,this.easing=Q||A.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=L,this.unit=X||(A.cssNumber[D]?"":"px")},cur:function(){var b=Vs.propHooks[this.prop];return b&&b.get?b.get(this):Vs.propHooks._default.get(this)},run:function(b){var _,D=Vs.propHooks[this.prop];return this.options.duration?this.pos=_=A.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=_=b,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),D&&D.set?D.set(this):Vs.propHooks._default.set(this),this}},Vs.prototype.init.prototype=Vs.prototype,Vs.propHooks={_default:{get:function(b){var _;return b.elem.nodeType!==1||b.elem[b.prop]!=null&&b.elem.style[b.prop]==null?b.elem[b.prop]:(_=A.css(b.elem,b.prop,""),!_||_==="auto"?0:_)},set:function(b){A.fx.step[b.prop]?A.fx.step[b.prop](b):b.elem.nodeType===1&&(A.cssHooks[b.prop]||b.elem.style[rh(b.prop)]!=null)?A.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}},Vs.propHooks.scrollTop=Vs.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}},A.easing={linear:function(b){return b},swing:function(b){return .5-Math.cos(b*Math.PI)/2},_default:"swing"},A.fx=Vs.prototype.init,A.fx.step={};var Qa,du,cf=/^(?:toggle|show|hide)$/,Uo=/queueHooks$/;function Ii(){du&&(et.hidden===!1&&y.requestAnimationFrame?y.requestAnimationFrame(Ii):y.setTimeout(Ii,A.fx.interval),A.fx.tick())}function lv(){return y.setTimeout(function(){Qa=void 0}),Qa=Date.now()}function Zc(b,_){var D,L=0,Q={height:b};for(_=_?1:0;L<4;L+=2-_)D=pa[L],Q["margin"+D]=Q["padding"+D]=b;return _&&(Q.opacity=Q.width=b),Q}function kl(b,_,D){for(var L,Q=(pc.tweeners[_]||[]).concat(pc.tweeners["*"]),X=0,ie=Q.length;X<ie;X++)if(L=Q[X].call(D,_,b))return L}function $i(b,_,D){var L,Q,X,ie,Te,me,Ne,nt,gt="width"in _||"height"in _,We=this,It={},co=b.style,Wo=b.nodeType&&zc(b),kn=wn.get(b,"fxshow");D.queue||(ie=A._queueHooks(b,"fx"),ie.unqueued==null&&(ie.unqueued=0,Te=ie.empty.fire,ie.empty.fire=function(){ie.unqueued||Te()}),ie.unqueued++,We.always(function(){We.always(function(){ie.unqueued--,A.queue(b,"fx").length||ie.empty.fire()})}));for(L in _)if(Q=_[L],cf.test(Q)){if(delete _[L],X=X||Q==="toggle",Q===(Wo?"hide":"show"))if(Q==="show"&&kn&&kn[L]!==void 0)Wo=!0;else continue;It[L]=kn&&kn[L]||A.style(b,L)}if(me=!A.isEmptyObject(_),!(!me&&A.isEmptyObject(It))){gt&&b.nodeType===1&&(D.overflow=[co.overflow,co.overflowX,co.overflowY],Ne=kn&&kn.display,Ne==null&&(Ne=wn.get(b,"display")),nt=A.css(b,"display"),nt==="none"&&(Ne?nt=Ne:(Dt([b],!0),Ne=b.style.display||Ne,nt=A.css(b,"display"),Dt([b]))),(nt==="inline"||nt==="inline-block"&&Ne!=null)&&A.css(b,"float")==="none"&&(me||(We.done(function(){co.display=Ne}),Ne==null&&(nt=co.display,Ne=nt==="none"?"":nt)),co.display="inline-block")),D.overflow&&(co.overflow="hidden",We.always(function(){co.overflow=D.overflow[0],co.overflowX=D.overflow[1],co.overflowY=D.overflow[2]})),me=!1;for(L in It)me||(kn?"hidden"in kn&&(Wo=kn.hidden):kn=wn.access(b,"fxshow",{display:Ne}),X&&(kn.hidden=!Wo),Wo&&Dt([b],!0),We.done(function(){Wo||Dt([b]),wn.remove(b,"fxshow");for(L in It)A.style(b,L,It[L])})),me=kl(Wo?kn[L]:0,L,We),L in kn||(kn[L]=me.start,Wo&&(me.end=me.start,me.start=0))}}function Ns(b,_){var D,L,Q,X,ie;for(D in b)if(L=To(D),Q=_[L],X=b[D],Array.isArray(X)&&(Q=X[1],X=b[D]=X[0]),D!==L&&(b[L]=X,delete b[D]),ie=A.cssHooks[L],ie&&"expand"in ie){X=ie.expand(X),delete b[L];for(D in X)D in b||(b[D]=X[D],_[D]=Q)}else _[L]=Q}function pc(b,_,D){var L,Q,X=0,ie=pc.prefilters.length,Te=A.Deferred().always(function(){delete me.elem}),me=function(){if(Q)return!1;for(var gt=Qa||lv(),We=Math.max(0,Ne.startTime+Ne.duration-gt),It=We/Ne.duration||0,co=1-It,Wo=0,kn=Ne.tweens.length;Wo<kn;Wo++)Ne.tweens[Wo].run(co);return Te.notifyWith(b,[Ne,co,We]),co<1&&kn?We:(kn||Te.notifyWith(b,[Ne,1,0]),Te.resolveWith(b,[Ne]),!1)},Ne=Te.promise({elem:b,props:A.extend({},_),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},D),originalProperties:_,originalOptions:D,startTime:Qa||lv(),duration:D.duration,tweens:[],createTween:function(gt,We){var It=A.Tween(b,Ne.opts,gt,We,Ne.opts.specialEasing[gt]||Ne.opts.easing);return Ne.tweens.push(It),It},stop:function(gt){var We=0,It=gt?Ne.tweens.length:0;if(Q)return this;for(Q=!0;We<It;We++)Ne.tweens[We].run(1);return gt?(Te.notifyWith(b,[Ne,1,0]),Te.resolveWith(b,[Ne,gt])):Te.rejectWith(b,[Ne,gt]),this}}),nt=Ne.props;for(Ns(nt,Ne.opts.specialEasing);X<ie;X++)if(L=pc.prefilters[X].call(Ne,b,nt,Ne.opts),L)return xe(L.stop)&&(A._queueHooks(Ne.elem,Ne.opts.queue).stop=L.stop.bind(L)),L;return A.map(nt,kl,Ne),xe(Ne.opts.start)&&Ne.opts.start.call(b,Ne),Ne.progress(Ne.opts.progress).done(Ne.opts.done,Ne.opts.complete).fail(Ne.opts.fail).always(Ne.opts.always),A.fx.timer(A.extend(me,{elem:b,anim:Ne,queue:Ne.opts.queue})),Ne}A.Animation=A.extend(pc,{tweeners:{"*":[function(b,_){var D=this.createTween(b,_);return af(D.elem,b,is.exec(_),D),D}]},tweener:function(b,_){xe(b)?(_=b,b=["*"]):b=b.match(po);for(var D,L=0,Q=b.length;L<Q;L++)D=b[L],pc.tweeners[D]=pc.tweeners[D]||[],pc.tweeners[D].unshift(_)},prefilters:[$i],prefilter:function(b,_){_?pc.prefilters.unshift(b):pc.prefilters.push(b)}}),A.speed=function(b,_,D){var L=b&&typeof b=="object"?A.extend({},b):{complete:D||!D&&_||xe(b)&&b,duration:b,easing:D&&_||_&&!xe(_)&&_};return A.fx.off?L.duration=0:typeof L.duration!="number"&&(L.duration in A.fx.speeds?L.duration=A.fx.speeds[L.duration]:L.duration=A.fx.speeds._default),(L.queue==null||L.queue===!0)&&(L.queue="fx"),L.old=L.complete,L.complete=function(){xe(L.old)&&L.old.call(this),L.queue&&A.dequeue(this,L.queue)},L},A.fn.extend({fadeTo:function(b,_,D,L){return this.filter(zc).css("opacity",0).show().end().animate({opacity:_},b,D,L)},animate:function(b,_,D,L){var Q=A.isEmptyObject(b),X=A.speed(_,D,L),ie=function(){var Te=pc(this,A.extend({},b),X);(Q||wn.get(this,"finish"))&&Te.stop(!0)};return ie.finish=ie,Q||X.queue===!1?this.each(ie):this.queue(X.queue,ie)},stop:function(b,_,D){var L=function(Q){var X=Q.stop;delete Q.stop,X(D)};return typeof b!="string"&&(D=_,_=b,b=void 0),_&&this.queue(b||"fx",[]),this.each(function(){var Q=!0,X=b!=null&&b+"queueHooks",ie=A.timers,Te=wn.get(this);if(X)Te[X]&&Te[X].stop&&L(Te[X]);else for(X in Te)Te[X]&&Te[X].stop&&Uo.test(X)&&L(Te[X]);for(X=ie.length;X--;)ie[X].elem===this&&(b==null||ie[X].queue===b)&&(ie[X].anim.stop(D),Q=!1,ie.splice(X,1));(Q||!D)&&A.dequeue(this,b)})},finish:function(b){return b!==!1&&(b=b||"fx"),this.each(function(){var _,D=wn.get(this),L=D[b+"queue"],Q=D[b+"queueHooks"],X=A.timers,ie=L?L.length:0;for(D.finish=!0,A.queue(this,b,[]),Q&&Q.stop&&Q.stop.call(this,!0),_=X.length;_--;)X[_].elem===this&&X[_].queue===b&&(X[_].anim.stop(!0),X.splice(_,1));for(_=0;_<ie;_++)L[_]&&L[_].finish&&L[_].finish.call(this);delete D.finish})}}),A.each(["toggle","show","hide"],function(b,_){var D=A.fn[_];A.fn[_]=function(L,Q,X){return L==null||typeof L=="boolean"?D.apply(this,arguments):this.animate(Zc(_,!0),L,Q,X)}}),A.each({slideDown:Zc("show"),slideUp:Zc("hide"),slideToggle:Zc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,_){A.fn[b]=function(D,L,Q){return this.animate(_,D,L,Q)}}),A.timers=[],A.fx.tick=function(){var b,_=0,D=A.timers;for(Qa=Date.now();_<D.length;_++)b=D[_],!b()&&D[_]===b&&D.splice(_--,1);D.length||A.fx.stop(),Qa=void 0},A.fx.timer=function(b){A.timers.push(b),A.fx.start()},A.fx.interval=13,A.fx.start=function(){du||(du=!0,Ii())},A.fx.stop=function(){du=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(b,_){return b=A.fx&&A.fx.speeds[b]||b,_=_||"fx",this.queue(_,function(D,L){var Q=y.setTimeout(D,b);L.stop=function(){y.clearTimeout(Q)}})},function(){var b=et.createElement("input"),_=et.createElement("select"),D=_.appendChild(et.createElement("option"));b.type="checkbox",he.checkOn=b.value!=="",he.optSelected=D.selected,b=et.createElement("input"),b.value="t",b.type="radio",he.radioValue=b.value==="t"}();var Cm,yo=A.expr.attrHandle;A.fn.extend({attr:function(b,_){return di(this,A.attr,b,_,arguments.length>1)},removeAttr:function(b){return this.each(function(){A.removeAttr(this,b)})}}),A.extend({attr:function(b,_,D){var L,Q,X=b.nodeType;if(!(X===3||X===8||X===2)){if(typeof b.getAttribute>"u")return A.prop(b,_,D);if((X!==1||!A.isXMLDoc(b))&&(Q=A.attrHooks[_.toLowerCase()]||(A.expr.match.bool.test(_)?Cm:void 0)),D!==void 0){if(D===null){A.removeAttr(b,_);return}return Q&&"set"in Q&&(L=Q.set(b,D,_))!==void 0?L:(b.setAttribute(_,D+""),D)}return Q&&"get"in Q&&(L=Q.get(b,_))!==null?L:(L=A.find.attr(b,_),L??void 0)}},attrHooks:{type:{set:function(b,_){if(!he.radioValue&&_==="radio"&&Cn(b,"input")){var D=b.value;return b.setAttribute("type",_),D&&(b.value=D),_}}}},removeAttr:function(b,_){var D,L=0,Q=_&&_.match(po);if(Q&&b.nodeType===1)for(;D=Q[L++];)b.removeAttribute(D)}}),Cm={set:function(b,_,D){return _===!1?A.removeAttr(b,D):b.setAttribute(D,D),D}},A.each(A.expr.match.bool.source.match(/\w+/g),function(b,_){var D=yo[_]||A.find.attr;yo[_]=function(L,Q,X){var ie,Te,me=Q.toLowerCase();return X||(Te=yo[me],yo[me]=ie,ie=D(L,Q,X)!=null?me:null,yo[me]=Te),ie}});var Ia=/^(?:input|select|textarea|button)$/i,ya=/^(?:a|area)$/i;A.fn.extend({prop:function(b,_){return di(this,A.prop,b,_,arguments.length>1)},removeProp:function(b){return this.each(function(){delete this[A.propFix[b]||b]})}}),A.extend({prop:function(b,_,D){var L,Q,X=b.nodeType;if(!(X===3||X===8||X===2))return(X!==1||!A.isXMLDoc(b))&&(_=A.propFix[_]||_,Q=A.propHooks[_]),D!==void 0?Q&&"set"in Q&&(L=Q.set(b,D,_))!==void 0?L:b[_]=D:Q&&"get"in Q&&(L=Q.get(b,_))!==null?L:b[_]},propHooks:{tabIndex:{get:function(b){var _=A.find.attr(b,"tabindex");return _?parseInt(_,10):Ia.test(b.nodeName)||ya.test(b.nodeName)&&b.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(A.propHooks.selected={get:function(b){var _=b.parentNode;return _&&_.parentNode&&_.parentNode.selectedIndex,null},set:function(b){var _=b.parentNode;_&&(_.selectedIndex,_.parentNode&&_.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this});function Us(b){var _=b.match(po)||[];return _.join(" ")}function qc(b){return b.getAttribute&&b.getAttribute("class")||""}function Ol(b){return Array.isArray(b)?b:typeof b=="string"?b.match(po)||[]:[]}A.fn.extend({addClass:function(b){var _,D,L,Q,X,ie;return xe(b)?this.each(function(Te){A(this).addClass(b.call(this,Te,qc(this)))}):(_=Ol(b),_.length?this.each(function(){if(L=qc(this),D=this.nodeType===1&&" "+Us(L)+" ",D){for(X=0;X<_.length;X++)Q=_[X],D.indexOf(" "+Q+" ")<0&&(D+=Q+" ");ie=Us(D),L!==ie&&this.setAttribute("class",ie)}}):this)},removeClass:function(b){var _,D,L,Q,X,ie;return xe(b)?this.each(function(Te){A(this).removeClass(b.call(this,Te,qc(this)))}):arguments.length?(_=Ol(b),_.length?this.each(function(){if(L=qc(this),D=this.nodeType===1&&" "+Us(L)+" ",D){for(X=0;X<_.length;X++)for(Q=_[X];D.indexOf(" "+Q+" ")>-1;)D=D.replace(" "+Q+" "," ");ie=Us(D),L!==ie&&this.setAttribute("class",ie)}}):this):this.attr("class","")},toggleClass:function(b,_){var D,L,Q,X,ie=typeof b,Te=ie==="string"||Array.isArray(b);return xe(b)?this.each(function(me){A(this).toggleClass(b.call(this,me,qc(this),_),_)}):typeof _=="boolean"&&Te?_?this.addClass(b):this.removeClass(b):(D=Ol(b),this.each(function(){if(Te)for(X=A(this),Q=0;Q<D.length;Q++)L=D[Q],X.hasClass(L)?X.removeClass(L):X.addClass(L);else(b===void 0||ie==="boolean")&&(L=qc(this),L&&wn.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||b===!1?"":wn.get(this,"__className__")||""))}))},hasClass:function(b){var _,D,L=0;for(_=" "+b+" ";D=this[L++];)if(D.nodeType===1&&(" "+Us(qc(D))+" ").indexOf(_)>-1)return!0;return!1}});var ec=/\r/g;A.fn.extend({val:function(b){var _,D,L,Q=this[0];return arguments.length?(L=xe(b),this.each(function(X){var ie;this.nodeType===1&&(L?ie=b.call(this,X,A(this).val()):ie=b,ie==null?ie="":typeof ie=="number"?ie+="":Array.isArray(ie)&&(ie=A.map(ie,function(Te){return Te==null?"":Te+""})),_=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()],(!_||!("set"in _)||_.set(this,ie,"value")===void 0)&&(this.value=ie))})):Q?(_=A.valHooks[Q.type]||A.valHooks[Q.nodeName.toLowerCase()],_&&"get"in _&&(D=_.get(Q,"value"))!==void 0?D:(D=Q.value,typeof D=="string"?D.replace(ec,""):D??"")):void 0}}),A.extend({valHooks:{option:{get:function(b){var _=A.find.attr(b,"value");return _??Us(A.text(b))}},select:{get:function(b){var _,D,L,Q=b.options,X=b.selectedIndex,ie=b.type==="select-one",Te=ie?null:[],me=ie?X+1:Q.length;for(X<0?L=me:L=ie?X:0;L<me;L++)if(D=Q[L],(D.selected||L===X)&&!D.disabled&&(!D.parentNode.disabled||!Cn(D.parentNode,"optgroup"))){if(_=A(D).val(),ie)return _;Te.push(_)}return Te},set:function(b,_){for(var D,L,Q=b.options,X=A.makeArray(_),ie=Q.length;ie--;)L=Q[ie],(L.selected=A.inArray(A.valHooks.option.get(L),X)>-1)&&(D=!0);return D||(b.selectedIndex=-1),X}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(b,_){if(Array.isArray(_))return b.checked=A.inArray(A(b).val(),_)>-1}},he.checkOn||(A.valHooks[this].get=function(b){return b.getAttribute("value")===null?"on":b.value})});var gc=y.location,tc={guid:Date.now()},xm=/\?/;A.parseXML=function(b){var _,D;if(!b||typeof b!="string")return null;try{_=new y.DOMParser().parseFromString(b,"text/xml")}catch{}return D=_&&_.getElementsByTagName("parsererror")[0],(!_||D)&&A.error("Invalid XML: "+(D?A.map(D.childNodes,function(L){return L.textContent}).join(`
`):b)),_};var Sm=/^(?:focusinfocus|focusoutblur)$/,tg=function(b){b.stopPropagation()};A.extend(A.event,{trigger:function(b,_,D,L){var Q,X,ie,Te,me,Ne,nt,gt,We=[D||et],It=ee.call(b,"type")?b.type:b,co=ee.call(b,"namespace")?b.namespace.split("."):[];if(X=gt=ie=D=D||et,!(D.nodeType===3||D.nodeType===8)&&!Sm.test(It+A.event.triggered)&&(It.indexOf(".")>-1&&(co=It.split("."),It=co.shift(),co.sort()),me=It.indexOf(":")<0&&"on"+It,b=b[A.expando]?b:new A.Event(It,typeof b=="object"&&b),b.isTrigger=L?2:3,b.namespace=co.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+co.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=D),_=_==null?[b]:A.makeArray(_,[b]),nt=A.event.special[It]||{},!(!L&&nt.trigger&&nt.trigger.apply(D,_)===!1))){if(!L&&!nt.noBubble&&!Re(D)){for(Te=nt.delegateType||It,Sm.test(Te+It)||(X=X.parentNode);X;X=X.parentNode)We.push(X),ie=X;ie===(D.ownerDocument||et)&&We.push(ie.defaultView||ie.parentWindow||y)}for(Q=0;(X=We[Q++])&&!b.isPropagationStopped();)gt=X,b.type=Q>1?Te:nt.bindType||It,Ne=(wn.get(X,"events")||Object.create(null))[b.type]&&wn.get(X,"handle"),Ne&&Ne.apply(X,_),Ne=me&&X[me],Ne&&Ne.apply&&Xa(X)&&(b.result=Ne.apply(X,_),b.result===!1&&b.preventDefault());return b.type=It,!L&&!b.isDefaultPrevented()&&(!nt._default||nt._default.apply(We.pop(),_)===!1)&&Xa(D)&&me&&xe(D[It])&&!Re(D)&&(ie=D[me],ie&&(D[me]=null),A.event.triggered=It,b.isPropagationStopped()&&gt.addEventListener(It,tg),D[It](),b.isPropagationStopped()&&gt.removeEventListener(It,tg),A.event.triggered=void 0,ie&&(D[me]=ie)),b.result}},simulate:function(b,_,D){var L=A.extend(new A.Event,D,{type:b,isSimulated:!0});A.event.trigger(L,null,_)}}),A.fn.extend({trigger:function(b,_){return this.each(function(){A.event.trigger(b,_,this)})},triggerHandler:function(b,_){var D=this[0];if(D)return A.event.trigger(b,_,D,!0)}});var vc=/\[\]$/,Dl=/\r?\n/g,Em=/^(?:submit|button|image|reset|file)$/i,_m=/^(?:input|select|textarea|keygen)/i;function ah(b,_,D,L){var Q;if(Array.isArray(_))A.each(_,function(X,ie){D||vc.test(b)?L(b,ie):ah(b+"["+(typeof ie=="object"&&ie!=null?X:"")+"]",ie,D,L)});else if(!D&&mt(_)==="object")for(Q in _)ah(b+"["+Q+"]",_[Q],D,L);else L(b,_)}A.param=function(b,_){var D,L=[],Q=function(X,ie){var Te=xe(ie)?ie():ie;L[L.length]=encodeURIComponent(X)+"="+encodeURIComponent(Te??"")};if(b==null)return"";if(Array.isArray(b)||b.jquery&&!A.isPlainObject(b))A.each(b,function(){Q(this.name,this.value)});else for(D in b)ah(D,b[D],_,Q);return L.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=A.prop(this,"elements");return b?A.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!A(this).is(":disabled")&&_m.test(this.nodeName)&&!Em.test(b)&&(this.checked||!go.test(b))}).map(function(b,_){var D=A(this).val();return D==null?null:Array.isArray(D)?A.map(D,function(L){return{name:_.name,value:L.replace(Dl,`\r
`)}}):{name:_.name,value:D.replace(Dl,`\r
`)}}).get()}});var ng=/%20/g,ch=/#.*$/,uv=/([?&])_=[^&]*/,gs=/^(.*?):[ \t]*([^\r\n]*)$/mg,nc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q0=/^(?:GET|HEAD)$/,og=/^\/\//,oc={},sg={},lh="*/".concat("*"),ur=et.createElement("a");ur.href=gc.href;function Jr(b){return function(_,D){typeof _!="string"&&(D=_,_="*");var L,Q=0,X=_.toLowerCase().match(po)||[];if(xe(D))for(;L=X[Q++];)L[0]==="+"?(L=L.slice(1)||"*",(b[L]=b[L]||[]).unshift(D)):(b[L]=b[L]||[]).push(D)}}function fu(b,_,D,L){var Q={},X=b===sg;function ie(Te){var me;return Q[Te]=!0,A.each(b[Te]||[],function(Ne,nt){var gt=nt(_,D,L);if(typeof gt=="string"&&!X&&!Q[gt])return _.dataTypes.unshift(gt),ie(gt),!1;if(X)return!(me=gt)}),me}return ie(_.dataTypes[0])||!Q["*"]&&ie("*")}function Tm(b,_){var D,L,Q=A.ajaxSettings.flatOptions||{};for(D in _)_[D]!==void 0&&((Q[D]?b:L||(L={}))[D]=_[D]);return L&&A.extend(!0,b,L),b}function Mt(b,_,D){for(var L,Q,X,ie,Te=b.contents,me=b.dataTypes;me[0]==="*";)me.shift(),L===void 0&&(L=b.mimeType||_.getResponseHeader("Content-Type"));if(L){for(Q in Te)if(Te[Q]&&Te[Q].test(L)){me.unshift(Q);break}}if(me[0]in D)X=me[0];else{for(Q in D){if(!me[0]||b.converters[Q+" "+me[0]]){X=Q;break}ie||(ie=Q)}X=X||ie}if(X)return X!==me[0]&&me.unshift(X),D[X]}function dv(b,_,D,L){var Q,X,ie,Te,me,Ne={},nt=b.dataTypes.slice();if(nt[1])for(ie in b.converters)Ne[ie.toLowerCase()]=b.converters[ie];for(X=nt.shift();X;)if(b.responseFields[X]&&(D[b.responseFields[X]]=_),!me&&L&&b.dataFilter&&(_=b.dataFilter(_,b.dataType)),me=X,X=nt.shift(),X){if(X==="*")X=me;else if(me!=="*"&&me!==X){if(ie=Ne[me+" "+X]||Ne["* "+X],!ie){for(Q in Ne)if(Te=Q.split(" "),Te[1]===X&&(ie=Ne[me+" "+Te[0]]||Ne["* "+Te[0]],ie)){ie===!0?ie=Ne[Q]:Ne[Q]!==!0&&(X=Te[0],nt.unshift(Te[1]));break}}if(ie!==!0)if(ie&&b.throws)_=ie(_);else try{_=ie(_)}catch(gt){return{state:"parsererror",error:ie?gt:"No conversion from "+me+" to "+X}}}}return{state:"success",data:_}}A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gc.href,type:"GET",isLocal:nc.test(gc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,_){return _?Tm(Tm(b,A.ajaxSettings),_):Tm(A.ajaxSettings,b)},ajaxPrefilter:Jr(oc),ajaxTransport:Jr(sg),ajax:function(b,_){typeof b=="object"&&(_=b,b=void 0),_=_||{};var D,L,Q,X,ie,Te,me,Ne,nt,gt,We=A.ajaxSetup({},_),It=We.context||We,co=We.context&&(It.nodeType||It.jquery)?A(It):A.event,Wo=A.Deferred(),kn=A.Callbacks("once memory"),mi=We.statusCode||{},Io={},Qs={},Hr="canceled",Ao={readyState:0,getResponseHeader:function(uo){var vs;if(me){if(!X)for(X={};vs=gs.exec(Q);)X[vs[1].toLowerCase()+" "]=(X[vs[1].toLowerCase()+" "]||[]).concat(vs[2]);vs=X[uo.toLowerCase()+" "]}return vs==null?null:vs.join(", ")},getAllResponseHeaders:function(){return me?Q:null},setRequestHeader:function(uo,vs){return me==null&&(uo=Qs[uo.toLowerCase()]=Qs[uo.toLowerCase()]||uo,Io[uo]=vs),this},overrideMimeType:function(uo){return me==null&&(We.mimeType=uo),this},statusCode:function(uo){var vs;if(uo)if(me)Ao.always(uo[Ao.status]);else for(vs in uo)mi[vs]=[mi[vs],uo[vs]];return this},abort:function(uo){var vs=uo||Hr;return D&&D.abort(vs),Jn(0,vs),this}};if(Wo.promise(Ao),We.url=((b||We.url||gc.href)+"").replace(og,gc.protocol+"//"),We.type=_.method||_.type||We.method||We.type,We.dataTypes=(We.dataType||"*").toLowerCase().match(po)||[""],We.crossDomain==null){Te=et.createElement("a");try{Te.href=We.url,Te.href=Te.href,We.crossDomain=ur.protocol+"//"+ur.host!=Te.protocol+"//"+Te.host}catch{We.crossDomain=!0}}if(We.data&&We.processData&&typeof We.data!="string"&&(We.data=A.param(We.data,We.traditional)),fu(oc,We,_,Ao),me)return Ao;Ne=A.event&&We.global,Ne&&A.active++===0&&A.event.trigger("ajaxStart"),We.type=We.type.toUpperCase(),We.hasContent=!q0.test(We.type),L=We.url.replace(ch,""),We.hasContent?We.data&&We.processData&&(We.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(We.data=We.data.replace(ng,"+")):(gt=We.url.slice(L.length),We.data&&(We.processData||typeof We.data=="string")&&(L+=(xm.test(L)?"&":"?")+We.data,delete We.data),We.cache===!1&&(L=L.replace(uv,"$1"),gt=(xm.test(L)?"&":"?")+"_="+tc.guid+++gt),We.url=L+gt),We.ifModified&&(A.lastModified[L]&&Ao.setRequestHeader("If-Modified-Since",A.lastModified[L]),A.etag[L]&&Ao.setRequestHeader("If-None-Match",A.etag[L])),(We.data&&We.hasContent&&We.contentType!==!1||_.contentType)&&Ao.setRequestHeader("Content-Type",We.contentType),Ao.setRequestHeader("Accept",We.dataTypes[0]&&We.accepts[We.dataTypes[0]]?We.accepts[We.dataTypes[0]]+(We.dataTypes[0]!=="*"?", "+lh+"; q=0.01":""):We.accepts["*"]);for(nt in We.headers)Ao.setRequestHeader(nt,We.headers[nt]);if(We.beforeSend&&(We.beforeSend.call(It,Ao,We)===!1||me))return Ao.abort();if(Hr="abort",kn.add(We.complete),Ao.done(We.success),Ao.fail(We.error),D=fu(sg,We,_,Ao),!D)Jn(-1,"No Transport");else{if(Ao.readyState=1,Ne&&co.trigger("ajaxSend",[Ao,We]),me)return Ao;We.async&&We.timeout>0&&(ie=y.setTimeout(function(){Ao.abort("timeout")},We.timeout));try{me=!1,D.send(Io,Jn)}catch(uo){if(me)throw uo;Jn(-1,uo)}}function Jn(uo,vs,Gc,wa){var dr,jo,Ca,xa,$a,Ci=vs;me||(me=!0,ie&&y.clearTimeout(ie),D=void 0,Q=wa||"",Ao.readyState=uo>0?4:0,dr=uo>=200&&uo<300||uo===304,Gc&&(xa=Mt(We,Ao,Gc)),!dr&&A.inArray("script",We.dataTypes)>-1&&A.inArray("json",We.dataTypes)<0&&(We.converters["text script"]=function(){}),xa=dv(We,xa,Ao,dr),dr?(We.ifModified&&($a=Ao.getResponseHeader("Last-Modified"),$a&&(A.lastModified[L]=$a),$a=Ao.getResponseHeader("etag"),$a&&(A.etag[L]=$a)),uo===204||We.type==="HEAD"?Ci="nocontent":uo===304?Ci="notmodified":(Ci=xa.state,jo=xa.data,Ca=xa.error,dr=!Ca)):(Ca=Ci,(uo||!Ci)&&(Ci="error",uo<0&&(uo=0))),Ao.status=uo,Ao.statusText=(vs||Ci)+"",dr?Wo.resolveWith(It,[jo,Ci,Ao]):Wo.rejectWith(It,[Ao,Ci,Ca]),Ao.statusCode(mi),mi=void 0,Ne&&co.trigger(dr?"ajaxSuccess":"ajaxError",[Ao,We,dr?jo:Ca]),kn.fireWith(It,[Ao,Ci]),Ne&&(co.trigger("ajaxComplete",[Ao,We]),--A.active||A.event.trigger("ajaxStop")))}return Ao},getJSON:function(b,_,D){return A.get(b,_,D,"json")},getScript:function(b,_){return A.get(b,void 0,_,"script")}}),A.each(["get","post"],function(b,_){A[_]=function(D,L,Q,X){return xe(L)&&(X=X||Q,Q=L,L=void 0),A.ajax(A.extend({url:D,type:_,dataType:X,data:L,success:Q},A.isPlainObject(D)&&D))}}),A.ajaxPrefilter(function(b){var _;for(_ in b.headers)_.toLowerCase()==="content-type"&&(b.contentType=b.headers[_]||"")}),A._evalUrl=function(b,_,D){return A.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){A.globalEval(L,_,D)}})},A.fn.extend({wrapAll:function(b){var _;return this[0]&&(xe(b)&&(b=b.call(this[0])),_=A(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var D=this;D.firstElementChild;)D=D.firstElementChild;return D}).append(this)),this},wrapInner:function(b){return xe(b)?this.each(function(_){A(this).wrapInner(b.call(this,_))}):this.each(function(){var _=A(this),D=_.contents();D.length?D.wrapAll(b):_.append(b)})},wrap:function(b){var _=xe(b);return this.each(function(D){A(this).wrapAll(_?b.call(this,D):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(b){return!A.expr.pseudos.visible(b)},A.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch{}};var As={0:200,1223:204},Js=A.ajaxSettings.xhr();he.cors=!!Js&&"withCredentials"in Js,he.ajax=Js=!!Js,A.ajaxTransport(function(b){var _,D;if(he.cors||Js&&!b.crossDomain)return{send:function(L,Q){var X,ie=b.xhr();if(ie.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(X in b.xhrFields)ie[X]=b.xhrFields[X];b.mimeType&&ie.overrideMimeType&&ie.overrideMimeType(b.mimeType),!b.crossDomain&&!L["X-Requested-With"]&&(L["X-Requested-With"]="XMLHttpRequest");for(X in L)ie.setRequestHeader(X,L[X]);_=function(Te){return function(){_&&(_=D=ie.onload=ie.onerror=ie.onabort=ie.ontimeout=ie.onreadystatechange=null,Te==="abort"?ie.abort():Te==="error"?typeof ie.status!="number"?Q(0,"error"):Q(ie.status,ie.statusText):Q(As[ie.status]||ie.status,ie.statusText,(ie.responseType||"text")!=="text"||typeof ie.responseText!="string"?{binary:ie.response}:{text:ie.responseText},ie.getAllResponseHeaders()))}},ie.onload=_(),D=ie.onerror=ie.ontimeout=_("error"),ie.onabort!==void 0?ie.onabort=D:ie.onreadystatechange=function(){ie.readyState===4&&y.setTimeout(function(){_&&D()})},_=_("abort");try{ie.send(b.hasContent&&b.data||null)}catch(Te){if(_)throw Te}},abort:function(){_&&_()}}}),A.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return A.globalEval(b),b}}}),A.ajaxPrefilter("script",function(b){b.cache===void 0&&(b.cache=!1),b.crossDomain&&(b.type="GET")}),A.ajaxTransport("script",function(b){if(b.crossDomain||b.scriptAttrs){var _,D;return{send:function(L,Q){_=A("<script>").attr(b.scriptAttrs||{}).prop({charset:b.scriptCharset,src:b.url}).on("load error",D=function(X){_.remove(),D=null,X&&Q(X.type==="error"?404:200,X.type)}),et.head.appendChild(_[0])},abort:function(){D&&D()}}}});var Am=[],xs=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Am.pop()||A.expando+"_"+tc.guid++;return this[b]=!0,b}}),A.ajaxPrefilter("json jsonp",function(b,_,D){var L,Q,X,ie=b.jsonp!==!1&&(xs.test(b.url)?"url":typeof b.data=="string"&&(b.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&xs.test(b.data)&&"data");if(ie||b.dataTypes[0]==="jsonp")return L=b.jsonpCallback=xe(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,ie?b[ie]=b[ie].replace(xs,"$1"+L):b.jsonp!==!1&&(b.url+=(xm.test(b.url)?"&":"?")+b.jsonp+"="+L),b.converters["script json"]=function(){return X||A.error(L+" was not called"),X[0]},b.dataTypes[0]="json",Q=y[L],y[L]=function(){X=arguments},D.always(function(){Q===void 0?A(y).removeProp(L):y[L]=Q,b[L]&&(b.jsonpCallback=_.jsonpCallback,Am.push(L)),X&&xe(Q)&&Q(X[0]),X=Q=void 0}),"script"}),he.createHTMLDocument=function(){var b=et.implementation.createHTMLDocument("").body;return b.innerHTML="<form></form><form></form>",b.childNodes.length===2}(),A.parseHTML=function(b,_,D){if(typeof b!="string")return[];typeof _=="boolean"&&(D=_,_=!1);var L,Q,X;return _||(he.createHTMLDocument?(_=et.implementation.createHTMLDocument(""),L=_.createElement("base"),L.href=et.location.href,_.head.appendChild(L)):_=et),Q=ct.exec(b),X=!D&&[],Q?[_.createElement(Q[1])]:(Q=ud([b],_,X),X&&X.length&&A(X).remove(),A.merge([],Q.childNodes))},A.fn.load=function(b,_,D){var L,Q,X,ie=this,Te=b.indexOf(" ");return Te>-1&&(L=Us(b.slice(Te)),b=b.slice(0,Te)),xe(_)?(D=_,_=void 0):_&&typeof _=="object"&&(Q="POST"),ie.length>0&&A.ajax({url:b,type:Q||"GET",dataType:"html",data:_}).done(function(me){X=arguments,ie.html(L?A("<div>").append(A.parseHTML(me)).find(L):me)}).always(D&&function(me,Ne){ie.each(function(){D.apply(this,X||[me.responseText,Ne,me])})}),this},A.expr.pseudos.animated=function(b){return A.grep(A.timers,function(_){return b===_.elem}).length},A.offset={setOffset:function(b,_,D){var L,Q,X,ie,Te,me,Ne,nt=A.css(b,"position"),gt=A(b),We={};nt==="static"&&(b.style.position="relative"),Te=gt.offset(),X=A.css(b,"top"),me=A.css(b,"left"),Ne=(nt==="absolute"||nt==="fixed")&&(X+me).indexOf("auto")>-1,Ne?(L=gt.position(),ie=L.top,Q=L.left):(ie=parseFloat(X)||0,Q=parseFloat(me)||0),xe(_)&&(_=_.call(b,D,A.extend({},Te))),_.top!=null&&(We.top=_.top-Te.top+ie),_.left!=null&&(We.left=_.left-Te.left+Q),"using"in _?_.using.call(b,We):gt.css(We)}},A.fn.extend({offset:function(b){if(arguments.length)return b===void 0?this:this.each(function(Q){A.offset.setOffset(this,b,Q)});var _,D,L=this[0];if(L)return L.getClientRects().length?(_=L.getBoundingClientRect(),D=L.ownerDocument.defaultView,{top:_.top+D.pageYOffset,left:_.left+D.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var b,_,D,L=this[0],Q={top:0,left:0};if(A.css(L,"position")==="fixed")_=L.getBoundingClientRect();else{for(_=this.offset(),D=L.ownerDocument,b=L.offsetParent||D.documentElement;b&&(b===D.body||b===D.documentElement)&&A.css(b,"position")==="static";)b=b.parentNode;b&&b!==L&&b.nodeType===1&&(Q=A(b).offset(),Q.top+=A.css(b,"borderTopWidth",!0),Q.left+=A.css(b,"borderLeftWidth",!0))}return{top:_.top-Q.top-A.css(L,"marginTop",!0),left:_.left-Q.left-A.css(L,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&A.css(b,"position")==="static";)b=b.offsetParent;return b||Ys})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,_){var D=_==="pageYOffset";A.fn[b]=function(L){return di(this,function(Q,X,ie){var Te;if(Re(Q)?Te=Q:Q.nodeType===9&&(Te=Q.defaultView),ie===void 0)return Te?Te[_]:Q[X];Te?Te.scrollTo(D?Te.pageXOffset:ie,D?ie:Te.pageYOffset):Q[X]=ie},b,L,arguments.length)}}),A.each(["top","left"],function(b,_){A.cssHooks[_]=Ni(he.pixelPosition,function(D,L){if(L)return L=Ae(D,_),Ja.test(L)?A(D).position()[_]+"px":L})}),A.each({Height:"height",Width:"width"},function(b,_){A.each({padding:"inner"+b,content:_,"":"outer"+b},function(D,L){A.fn[L]=function(Q,X){var ie=arguments.length&&(D||typeof Q!="boolean"),Te=D||(Q===!0||X===!0?"margin":"border");return di(this,function(me,Ne,nt){var gt;return Re(me)?L.indexOf("outer")===0?me["inner"+b]:me.document.documentElement["client"+b]:me.nodeType===9?(gt=me.documentElement,Math.max(me.body["scroll"+b],gt["scroll"+b],me.body["offset"+b],gt["offset"+b],gt["client"+b])):nt===void 0?A.css(me,Ne,Te):A.style(me,Ne,nt,Te)},_,ie?Q:void 0,ie)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(b,_){A.fn[_]=function(D){return this.on(_,D)}}),A.fn.extend({bind:function(b,_,D){return this.on(b,null,_,D)},unbind:function(b,_){return this.off(b,null,_)},delegate:function(b,_,D,L){return this.on(_,b,D,L)},undelegate:function(b,_,D){return arguments.length===1?this.off(b,"**"):this.off(_,b||"**",D)},hover:function(b,_){return this.on("mouseenter",b).on("mouseleave",_||b)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(b,_){A.fn[_]=function(D,L){return arguments.length>0?this.on(_,null,D,L):this.trigger(_)}});var G0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(b,_){var D,L,Q;if(typeof _=="string"&&(D=b[_],_=b,b=D),!!xe(b))return L=G.call(arguments,2),Q=function(){return b.apply(_||this,L.concat(G.call(arguments)))},Q.guid=b.guid=b.guid||A.guid++,Q},A.holdReady=function(b){b?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=Cn,A.isFunction=xe,A.isWindow=Re,A.camelCase=To,A.type=mt,A.now=Date.now,A.isNumeric=function(b){var _=A.type(b);return(_==="number"||_==="string")&&!isNaN(b-parseFloat(b))},A.trim=function(b){return b==null?"":(b+"").replace(G0,"$1")};var uh=y.jQuery,dh=y.$;return A.noConflict=function(b){return y.$===A&&(y.$=dh),b&&y.jQuery===A&&(y.jQuery=uh),A},typeof k>"u"&&(y.jQuery=y.$=A),A})})(oX);var jq=oX.exports;const oee=nX(jq);var sX={exports:{}};/*!
 * Select2 4.1.0-rc.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(S){(function(y){S.exports?S.exports=function(k,M){return M===void 0&&(typeof window<"u"?M=jq:M=jq(k)),y(M),M}:y(jQuery)})(function(y){var k=function(){if(y&&y.fn&&y.fn.select2&&y.fn.select2.amd)var V=y.fn.select2.amd;var V;return function(){if(!V||!V.requirejs){V?te=V:V={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var G,te,q;(function(W){var U,I,ee,ce,be={},he={},xe={},Re={},et=Object.prototype.hasOwnProperty,nn=[].slice,ue=/\.js$/;function mt(Ze,Vt){return et.call(Ze,Vt)}function Vn(Ze,Vt){var wt,P,yn,st,eo,jt,Ge,ct,Rn,_n,$n,He,ht=Vt&&Vt.split("/"),K=xe.map,Xr=K&&K["*"]||{};if(Ze){for(Ze=Ze.split("/"),eo=Ze.length-1,xe.nodeIdCompat&&ue.test(Ze[eo])&&(Ze[eo]=Ze[eo].replace(ue,"")),Ze[0].charAt(0)==="."&&ht&&(He=ht.slice(0,ht.length-1),Ze=He.concat(Ze)),Rn=0;Rn<Ze.length;Rn++)if($n=Ze[Rn],$n===".")Ze.splice(Rn,1),Rn-=1;else if($n===".."){if(Rn===0||Rn===1&&Ze[2]===".."||Ze[Rn-1]==="..")continue;Rn>0&&(Ze.splice(Rn-1,2),Rn-=2)}Ze=Ze.join("/")}if((ht||Xr)&&K){for(wt=Ze.split("/"),Rn=wt.length;Rn>0;Rn-=1){if(P=wt.slice(0,Rn).join("/"),ht){for(_n=ht.length;_n>0;_n-=1)if(yn=K[ht.slice(0,_n).join("/")],yn&&(yn=yn[P],yn)){st=yn,jt=Rn;break}}if(st)break;!Ge&&Xr&&Xr[P]&&(Ge=Xr[P],ct=Rn)}!st&&Ge&&(st=Ge,jt=ct),st&&(wt.splice(0,jt,st),Ze=wt.join("/"))}return Ze}function Gt(Ze,Vt){return function(){var wt=nn.call(arguments,0);return typeof wt[0]!="string"&&wt.length===1&&wt.push(null),I.apply(W,wt.concat([Ze,Vt]))}}function A(Ze){return function(Vt){return Vn(Vt,Ze)}}function mn(Ze){return function(Vt){be[Ze]=Vt}}function Cn(Ze){if(mt(he,Ze)){var Vt=he[Ze];delete he[Ze],Re[Ze]=!0,U.apply(W,Vt)}if(!mt(be,Ze)&&!mt(Re,Ze))throw new Error("No "+Ze);return be[Ze]}function Sn(Ze){var Vt,wt=Ze?Ze.indexOf("!"):-1;return wt>-1&&(Vt=Ze.substring(0,wt),Ze=Ze.substring(wt+1,Ze.length)),[Vt,Ze]}function je(Ze){return Ze?Sn(Ze):[]}ee=function(Ze,Vt){var wt,P=Sn(Ze),yn=P[0],st=Vt[1];return Ze=P[1],yn&&(yn=Vn(yn,st),wt=Cn(yn)),yn?wt&&wt.normalize?Ze=wt.normalize(Ze,A(st)):Ze=Vn(Ze,st):(Ze=Vn(Ze,st),P=Sn(Ze),yn=P[0],Ze=P[1],yn&&(wt=Cn(yn))),{f:yn?yn+"!"+Ze:Ze,n:Ze,pr:yn,p:wt}};function ye(Ze){return function(){return xe&&xe.config&&xe.config[Ze]||{}}}ce={require:function(Ze){return Gt(Ze)},exports:function(Ze){var Vt=be[Ze];return typeof Vt<"u"?Vt:be[Ze]={}},module:function(Ze){return{id:Ze,uri:"",exports:be[Ze],config:ye(Ze)}}},U=function(Ze,Vt,wt,P){var yn,st,eo,jt,Ge,ct,Rn=[],_n=typeof wt,$n;if(P=P||Ze,ct=je(P),_n==="undefined"||_n==="function"){for(Vt=!Vt.length&&wt.length?["require","exports","module"]:Vt,Ge=0;Ge<Vt.length;Ge+=1)if(jt=ee(Vt[Ge],ct),st=jt.f,st==="require")Rn[Ge]=ce.require(Ze);else if(st==="exports")Rn[Ge]=ce.exports(Ze),$n=!0;else if(st==="module")yn=Rn[Ge]=ce.module(Ze);else if(mt(be,st)||mt(he,st)||mt(Re,st))Rn[Ge]=Cn(st);else if(jt.p)jt.p.load(jt.n,Gt(P,!0),mn(st),{}),Rn[Ge]=be[st];else throw new Error(Ze+" missing "+st);eo=wt?wt.apply(be[Ze],Rn):void 0,Ze&&(yn&&yn.exports!==W&&yn.exports!==be[Ze]?be[Ze]=yn.exports:(eo!==W||!$n)&&(be[Ze]=eo))}else Ze&&(be[Ze]=wt)},G=te=I=function(Ze,Vt,wt,P,yn){if(typeof Ze=="string")return ce[Ze]?ce[Ze](Vt):Cn(ee(Ze,je(Vt)).f);if(!Ze.splice){if(xe=Ze,xe.deps&&I(xe.deps,xe.callback),!Vt)return;Vt.splice?(Ze=Vt,Vt=wt,wt=null):Ze=W}return Vt=Vt||function(){},typeof wt=="function"&&(wt=P,P=yn),P?U(W,Ze,Vt,wt):setTimeout(function(){U(W,Ze,Vt,wt)},4),I},I.config=function(Ze){return I(Ze)},G._defined=be,q=function(Ze,Vt,wt){if(typeof Ze!="string")throw new Error("See almond README: incorrect module build, no module name");Vt.splice||(wt=Vt,Vt=[]),!mt(be,Ze)&&!mt(he,Ze)&&(he[Ze]=[Ze,Vt,wt])},q.amd={jQuery:!0}})(),V.requirejs=G,V.require=te,V.define=q}}(),V.define("almond",function(){}),V.define("jquery",[],function(){var G=y||$;return G==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),G}),V.define("select2/utils",["jquery"],function(G){var te={};te.Extend=function(I,ee){var ce={}.hasOwnProperty;function be(){this.constructor=I}for(var he in ee)ce.call(ee,he)&&(I[he]=ee[he]);return be.prototype=ee.prototype,I.prototype=new be,I.__super__=ee.prototype,I};function q(I){var ee=I.prototype,ce=[];for(var be in ee){var he=ee[be];typeof he=="function"&&be!=="constructor"&&ce.push(be)}return ce}te.Decorate=function(I,ee){var ce=q(ee),be=q(I);function he(){var Vn=Array.prototype.unshift,Gt=ee.prototype.constructor.length,A=I.prototype.constructor;Gt>0&&(Vn.call(arguments,I.prototype.constructor),A=ee.prototype.constructor),A.apply(this,arguments)}ee.displayName=I.displayName;function xe(){this.constructor=he}he.prototype=new xe;for(var Re=0;Re<be.length;Re++){var et=be[Re];he.prototype[et]=I.prototype[et]}for(var nn=function(Vn){var Gt=function(){};Vn in he.prototype&&(Gt=he.prototype[Vn]);var A=ee.prototype[Vn];return function(){var mn=Array.prototype.unshift;return mn.call(arguments,Gt),A.apply(this,arguments)}},ue=0;ue<ce.length;ue++){var mt=ce[ue];he.prototype[mt]=nn(mt)}return he};var W=function(){this.listeners={}};W.prototype.on=function(I,ee){this.listeners=this.listeners||{},I in this.listeners?this.listeners[I].push(ee):this.listeners[I]=[ee]},W.prototype.trigger=function(I){var ee=Array.prototype.slice,ce=ee.call(arguments,1);this.listeners=this.listeners||{},ce==null&&(ce=[]),ce.length===0&&ce.push({}),ce[0]._type=I,I in this.listeners&&this.invoke(this.listeners[I],ee.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},W.prototype.invoke=function(I,ee){for(var ce=0,be=I.length;ce<be;ce++)I[ce].apply(this,ee)},te.Observable=W,te.generateChars=function(I){for(var ee="",ce=0;ce<I;ce++){var be=Math.floor(Math.random()*36);ee+=be.toString(36)}return ee},te.bind=function(I,ee){return function(){I.apply(ee,arguments)}},te._convertData=function(I){for(var ee in I){var ce=ee.split("-"),be=I;if(ce.length!==1){for(var he=0;he<ce.length;he++){var xe=ce[he];xe=xe.substring(0,1).toLowerCase()+xe.substring(1),xe in be||(be[xe]={}),he==ce.length-1&&(be[xe]=I[ee]),be=be[xe]}delete I[ee]}}return I},te.hasScroll=function(I,ee){var ce=G(ee),be=ee.style.overflowX,he=ee.style.overflowY;return be===he&&(he==="hidden"||he==="visible")?!1:be==="scroll"||he==="scroll"?!0:ce.innerHeight()<ee.scrollHeight||ce.innerWidth()<ee.scrollWidth},te.escapeMarkup=function(I){var ee={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof I!="string"?I:String(I).replace(/[&<>"'\/\\]/g,function(ce){return ee[ce]})},te.__cache={};var U=0;return te.GetUniqueElementId=function(I){var ee=I.getAttribute("data-select2-id");return ee!=null||(I.id?ee="select2-data-"+I.id:ee="select2-data-"+(++U).toString()+"-"+te.generateChars(4),I.setAttribute("data-select2-id",ee)),ee},te.StoreData=function(I,ee,ce){var be=te.GetUniqueElementId(I);te.__cache[be]||(te.__cache[be]={}),te.__cache[be][ee]=ce},te.GetData=function(I,ee){var ce=te.GetUniqueElementId(I);return ee?te.__cache[ce]&&te.__cache[ce][ee]!=null?te.__cache[ce][ee]:G(I).data(ee):te.__cache[ce]},te.RemoveData=function(I){var ee=te.GetUniqueElementId(I);te.__cache[ee]!=null&&delete te.__cache[ee],I.removeAttribute("data-select2-id")},te.copyNonInternalCssClasses=function(I,ee){var ce=I.getAttribute("class").trim().split(/\s+/);ce=ce.filter(function(xe){return xe.indexOf("select2-")===0});var be=ee.getAttribute("class").trim().split(/\s+/);be=be.filter(function(xe){return xe.indexOf("select2-")!==0});var he=ce.concat(be);I.setAttribute("class",he.join(" "))},te}),V.define("select2/results",["jquery","./utils"],function(G,te){function q(W,U,I){this.$element=W,this.data=I,this.options=U,q.__super__.constructor.call(this)}return te.Extend(q,te.Observable),q.prototype.render=function(){var W=G('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&W.attr("aria-multiselectable","true"),this.$results=W,W},q.prototype.clear=function(){this.$results.empty()},q.prototype.displayMessage=function(W){var U=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var I=G('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),ee=this.options.get("translations").get(W.message);I.append(U(ee(W.args))),I[0].className+=" select2-results__message",this.$results.append(I)},q.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},q.prototype.append=function(W){this.hideLoading();var U=[];if(W.results==null||W.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}W.results=this.sort(W.results);for(var I=0;I<W.results.length;I++){var ee=W.results[I],ce=this.option(ee);U.push(ce)}this.$results.append(U)},q.prototype.position=function(W,U){var I=U.find(".select2-results");I.append(W)},q.prototype.sort=function(W){var U=this.options.get("sorter");return U(W)},q.prototype.highlightFirstItem=function(){var W=this.$results.find(".select2-results__option--selectable"),U=W.filter(".select2-results__option--selected");U.length>0?U.first().trigger("mouseenter"):W.first().trigger("mouseenter"),this.ensureHighlightVisible()},q.prototype.setClasses=function(){var W=this;this.data.current(function(U){var I=U.map(function(ce){return ce.id.toString()}),ee=W.$results.find(".select2-results__option--selectable");ee.each(function(){var ce=G(this),be=te.GetData(this,"data"),he=""+be.id;be.element!=null&&be.element.selected||be.element==null&&I.indexOf(he)>-1?(this.classList.add("select2-results__option--selected"),ce.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),ce.attr("aria-selected","false"))})})},q.prototype.showLoading=function(W){this.hideLoading();var U=this.options.get("translations").get("searching"),I={disabled:!0,loading:!0,text:U(W)},ee=this.option(I);ee.className+=" loading-results",this.$results.prepend(ee)},q.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},q.prototype.option=function(W){var U=document.createElement("li");U.classList.add("select2-results__option"),U.classList.add("select2-results__option--selectable");var I={role:"option"},ee=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(W.element!=null&&ee.call(W.element,":disabled")||W.element==null&&W.disabled)&&(I["aria-disabled"]="true",U.classList.remove("select2-results__option--selectable"),U.classList.add("select2-results__option--disabled")),W.id==null&&U.classList.remove("select2-results__option--selectable"),W._resultId!=null&&(U.id=W._resultId),W.title&&(U.title=W.title),W.children&&(I.role="group",I["aria-label"]=W.text,U.classList.remove("select2-results__option--selectable"),U.classList.add("select2-results__option--group"));for(var ce in I){var be=I[ce];U.setAttribute(ce,be)}if(W.children){var he=G(U),xe=document.createElement("strong");xe.className="select2-results__group",this.template(W,xe);for(var Re=[],et=0;et<W.children.length;et++){var nn=W.children[et],ue=this.option(nn);Re.push(ue)}var mt=G("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});mt.append(Re),he.append(xe),he.append(mt)}else this.template(W,U);return te.StoreData(U,"data",W),U},q.prototype.bind=function(W,U){var I=this,ee=W.id+"-results";this.$results.attr("id",ee),W.on("results:all",function(ce){I.clear(),I.append(ce.data),W.isOpen()&&(I.setClasses(),I.highlightFirstItem())}),W.on("results:append",function(ce){I.append(ce.data),W.isOpen()&&I.setClasses()}),W.on("query",function(ce){I.hideMessages(),I.showLoading(ce)}),W.on("select",function(){W.isOpen()&&(I.setClasses(),I.options.get("scrollAfterSelect")&&I.highlightFirstItem())}),W.on("unselect",function(){W.isOpen()&&(I.setClasses(),I.options.get("scrollAfterSelect")&&I.highlightFirstItem())}),W.on("open",function(){I.$results.attr("aria-expanded","true"),I.$results.attr("aria-hidden","false"),I.setClasses(),I.ensureHighlightVisible()}),W.on("close",function(){I.$results.attr("aria-expanded","false"),I.$results.attr("aria-hidden","true"),I.$results.removeAttr("aria-activedescendant")}),W.on("results:toggle",function(){var ce=I.getHighlightedResults();ce.length!==0&&ce.trigger("mouseup")}),W.on("results:select",function(){var ce=I.getHighlightedResults();if(ce.length!==0){var be=te.GetData(ce[0],"data");ce.hasClass("select2-results__option--selected")?I.trigger("close",{}):I.trigger("select",{data:be})}}),W.on("results:previous",function(){var ce=I.getHighlightedResults(),be=I.$results.find(".select2-results__option--selectable"),he=be.index(ce);if(!(he<=0)){var xe=he-1;ce.length===0&&(xe=0);var Re=be.eq(xe);Re.trigger("mouseenter");var et=I.$results.offset().top,nn=Re.offset().top,ue=I.$results.scrollTop()+(nn-et);xe===0?I.$results.scrollTop(0):nn-et<0&&I.$results.scrollTop(ue)}}),W.on("results:next",function(){var ce=I.getHighlightedResults(),be=I.$results.find(".select2-results__option--selectable"),he=be.index(ce),xe=he+1;if(!(xe>=be.length)){var Re=be.eq(xe);Re.trigger("mouseenter");var et=I.$results.offset().top+I.$results.outerHeight(!1),nn=Re.offset().top+Re.outerHeight(!1),ue=I.$results.scrollTop()+nn-et;xe===0?I.$results.scrollTop(0):nn>et&&I.$results.scrollTop(ue)}}),W.on("results:focus",function(ce){ce.element[0].classList.add("select2-results__option--highlighted"),ce.element[0].setAttribute("aria-selected","true")}),W.on("results:message",function(ce){I.displayMessage(ce)}),G.fn.mousewheel&&this.$results.on("mousewheel",function(ce){var be=I.$results.scrollTop(),he=I.$results.get(0).scrollHeight-be+ce.deltaY,xe=ce.deltaY>0&&be-ce.deltaY<=0,Re=ce.deltaY<0&&he<=I.$results.height();xe?(I.$results.scrollTop(0),ce.preventDefault(),ce.stopPropagation()):Re&&(I.$results.scrollTop(I.$results.get(0).scrollHeight-I.$results.height()),ce.preventDefault(),ce.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(ce){var be=G(this),he=te.GetData(this,"data");if(be.hasClass("select2-results__option--selected")){I.options.get("multiple")?I.trigger("unselect",{originalEvent:ce,data:he}):I.trigger("close",{});return}I.trigger("select",{originalEvent:ce,data:he})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(ce){var be=te.GetData(this,"data");I.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),I.trigger("results:focus",{data:be,element:G(this)})})},q.prototype.getHighlightedResults=function(){var W=this.$results.find(".select2-results__option--highlighted");return W},q.prototype.destroy=function(){this.$results.remove()},q.prototype.ensureHighlightVisible=function(){var W=this.getHighlightedResults();if(W.length!==0){var U=this.$results.find(".select2-results__option--selectable"),I=U.index(W),ee=this.$results.offset().top,ce=W.offset().top,be=this.$results.scrollTop()+(ce-ee),he=ce-ee;be-=W.outerHeight(!1)*2,I<=2?this.$results.scrollTop(0):(he>this.$results.outerHeight()||he<0)&&this.$results.scrollTop(be)}},q.prototype.template=function(W,U){var I=this.options.get("templateResult"),ee=this.options.get("escapeMarkup"),ce=I(W,U);ce==null?U.style.display="none":typeof ce=="string"?U.innerHTML=ee(ce):G(U).append(ce)},q}),V.define("select2/keys",[],function(){var G={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return G}),V.define("select2/selection/base",["jquery","../utils","../keys"],function(G,te,q){function W(U,I){this.$element=U,this.options=I,W.__super__.constructor.call(this)}return te.Extend(W,te.Observable),W.prototype.render=function(){var U=G('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,te.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=te.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),U.attr("title",this.$element.attr("title")),U.attr("tabindex",this._tabindex),U.attr("aria-disabled","false"),this.$selection=U,U},W.prototype.bind=function(U,I){var ee=this,ce=U.id+"-results";this.container=U,this.$selection.on("focus",function(be){ee.trigger("focus",be)}),this.$selection.on("blur",function(be){ee._handleBlur(be)}),this.$selection.on("keydown",function(be){ee.trigger("keypress",be),be.which===q.SPACE&&be.preventDefault()}),U.on("results:focus",function(be){ee.$selection.attr("aria-activedescendant",be.data._resultId)}),U.on("selection:update",function(be){ee.update(be.data)}),U.on("open",function(){ee.$selection.attr("aria-expanded","true"),ee.$selection.attr("aria-owns",ce),ee._attachCloseHandler(U)}),U.on("close",function(){ee.$selection.attr("aria-expanded","false"),ee.$selection.removeAttr("aria-activedescendant"),ee.$selection.removeAttr("aria-owns"),ee.$selection.trigger("focus"),ee._detachCloseHandler(U)}),U.on("enable",function(){ee.$selection.attr("tabindex",ee._tabindex),ee.$selection.attr("aria-disabled","false")}),U.on("disable",function(){ee.$selection.attr("tabindex","-1"),ee.$selection.attr("aria-disabled","true")})},W.prototype._handleBlur=function(U){var I=this;window.setTimeout(function(){document.activeElement==I.$selection[0]||G.contains(I.$selection[0],document.activeElement)||I.trigger("blur",U)},1)},W.prototype._attachCloseHandler=function(U){G(document.body).on("mousedown.select2."+U.id,function(I){var ee=G(I.target),ce=ee.closest(".select2"),be=G(".select2.select2-container--open");be.each(function(){if(this!=ce[0]){var he=te.GetData(this,"element");he.select2("close")}})})},W.prototype._detachCloseHandler=function(U){G(document.body).off("mousedown.select2."+U.id)},W.prototype.position=function(U,I){var ee=I.find(".selection");ee.append(U)},W.prototype.destroy=function(){this._detachCloseHandler(this.container)},W.prototype.update=function(U){throw new Error("The `update` method must be defined in child classes.")},W.prototype.isEnabled=function(){return!this.isDisabled()},W.prototype.isDisabled=function(){return this.options.get("disabled")},W}),V.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(G,te,q,W){function U(){U.__super__.constructor.apply(this,arguments)}return q.Extend(U,te),U.prototype.render=function(){var I=U.__super__.render.call(this);return I[0].classList.add("select2-selection--single"),I.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),I},U.prototype.bind=function(I,ee){var ce=this;U.__super__.bind.apply(this,arguments);var be=I.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",be).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",be),this.$selection.attr("aria-controls",be),this.$selection.on("mousedown",function(he){he.which===1&&ce.trigger("toggle",{originalEvent:he})}),this.$selection.on("focus",function(he){}),this.$selection.on("blur",function(he){}),I.on("focus",function(he){I.isOpen()||ce.$selection.trigger("focus")})},U.prototype.clear=function(){var I=this.$selection.find(".select2-selection__rendered");I.empty(),I.removeAttr("title")},U.prototype.display=function(I,ee){var ce=this.options.get("templateSelection"),be=this.options.get("escapeMarkup");return be(ce(I,ee))},U.prototype.selectionContainer=function(){return G("<span></span>")},U.prototype.update=function(I){if(I.length===0){this.clear();return}var ee=I[0],ce=this.$selection.find(".select2-selection__rendered"),be=this.display(ee,ce);ce.empty().append(be);var he=ee.title||ee.text;he?ce.attr("title",he):ce.removeAttr("title")},U}),V.define("select2/selection/multiple",["jquery","./base","../utils"],function(G,te,q){function W(U,I){W.__super__.constructor.apply(this,arguments)}return q.Extend(W,te),W.prototype.render=function(){var U=W.__super__.render.call(this);return U[0].classList.add("select2-selection--multiple"),U.html('<ul class="select2-selection__rendered"></ul>'),U},W.prototype.bind=function(U,I){var ee=this;W.__super__.bind.apply(this,arguments);var ce=U.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",ce),this.$selection.on("click",function(be){ee.trigger("toggle",{originalEvent:be})}),this.$selection.on("click",".select2-selection__choice__remove",function(be){if(!ee.isDisabled()){var he=G(this),xe=he.parent(),Re=q.GetData(xe[0],"data");ee.trigger("unselect",{originalEvent:be,data:Re})}}),this.$selection.on("keydown",".select2-selection__choice__remove",function(be){ee.isDisabled()||be.stopPropagation()})},W.prototype.clear=function(){var U=this.$selection.find(".select2-selection__rendered");U.empty(),U.removeAttr("title")},W.prototype.display=function(U,I){var ee=this.options.get("templateSelection"),ce=this.options.get("escapeMarkup");return ce(ee(U,I))},W.prototype.selectionContainer=function(){var U=G('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>');return U},W.prototype.update=function(U){if(this.clear(),U.length!==0){for(var I=[],ee=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",ce=0;ce<U.length;ce++){var be=U[ce],he=this.selectionContainer(),xe=this.display(be,he),Re=ee+q.generateChars(4)+"-";be.id?Re+=be.id:Re+=q.generateChars(4),he.find(".select2-selection__choice__display").append(xe).attr("id",Re);var et=be.title||be.text;et&&he.attr("title",et);var nn=this.options.get("translations").get("removeItem"),ue=he.find(".select2-selection__choice__remove");ue.attr("title",nn()),ue.attr("aria-label",nn()),ue.attr("aria-describedby",Re),q.StoreData(he[0],"data",be),I.push(he)}var mt=this.$selection.find(".select2-selection__rendered");mt.append(I)}},W}),V.define("select2/selection/placeholder",[],function(){function G(te,q,W){this.placeholder=this.normalizePlaceholder(W.get("placeholder")),te.call(this,q,W)}return G.prototype.normalizePlaceholder=function(te,q){return typeof q=="string"&&(q={id:"",text:q}),q},G.prototype.createPlaceholder=function(te,q){var W=this.selectionContainer();W.html(this.display(q)),W[0].classList.add("select2-selection__placeholder"),W[0].classList.remove("select2-selection__choice");var U=q.title||q.text||W.text();return this.$selection.find(".select2-selection__rendered").attr("title",U),W},G.prototype.update=function(te,q){var W=q.length==1&&q[0].id!=this.placeholder.id,U=q.length>1;if(U||W)return te.call(this,q);this.clear();var I=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(I)},G}),V.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(G,te,q){function W(){}return W.prototype.bind=function(U,I,ee){var ce=this;U.call(this,I,ee),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(be){ce._handleClear(be)}),I.on("keypress",function(be){ce._handleKeyboardClear(be,I)})},W.prototype._handleClear=function(U,I){if(!this.isDisabled()){var ee=this.$selection.find(".select2-selection__clear");if(ee.length!==0){I.stopPropagation();var ce=q.GetData(ee[0],"data"),be=this.$element.val();this.$element.val(this.placeholder.id);var he={data:ce};if(this.trigger("clear",he),he.prevented){this.$element.val(be);return}for(var xe=0;xe<ce.length;xe++)if(he={data:ce[xe]},this.trigger("unselect",he),he.prevented){this.$element.val(be);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},W.prototype._handleKeyboardClear=function(U,I,ee){ee.isOpen()||(I.which==te.DELETE||I.which==te.BACKSPACE)&&this._handleClear(I)},W.prototype.update=function(U,I){if(U.call(this,I),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||I.length===0)){var ee=this.$selection.find(".select2-selection__rendered").attr("id"),ce=this.options.get("translations").get("removeAllItems"),be=G('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');be.attr("title",ce()),be.attr("aria-label",ce()),be.attr("aria-describedby",ee),q.StoreData(be[0],"data",I),this.$selection.prepend(be),this.$selection[0].classList.add("select2-selection--clearable")}},W}),V.define("select2/selection/search",["jquery","../utils","../keys"],function(G,te,q){function W(U,I,ee){U.call(this,I,ee)}return W.prototype.render=function(U){var I=this.options.get("translations").get("search"),ee=G('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=ee,this.$search=ee.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",I());var ce=U.call(this);return this._transferTabIndex(),ce.append(this.$searchContainer),ce},W.prototype.bind=function(U,I,ee){var ce=this,be=I.id+"-results",he=I.id+"-container";U.call(this,I,ee),ce.$search.attr("aria-describedby",he),I.on("open",function(){ce.$search.attr("aria-controls",be),ce.$search.trigger("focus")}),I.on("close",function(){ce.$search.val(""),ce.resizeSearch(),ce.$search.removeAttr("aria-controls"),ce.$search.removeAttr("aria-activedescendant"),ce.$search.trigger("focus")}),I.on("enable",function(){ce.$search.prop("disabled",!1),ce._transferTabIndex()}),I.on("disable",function(){ce.$search.prop("disabled",!0)}),I.on("focus",function(et){ce.$search.trigger("focus")}),I.on("results:focus",function(et){et.data._resultId?ce.$search.attr("aria-activedescendant",et.data._resultId):ce.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(et){ce.trigger("focus",et)}),this.$selection.on("focusout",".select2-search--inline",function(et){ce._handleBlur(et)}),this.$selection.on("keydown",".select2-search--inline",function(et){et.stopPropagation(),ce.trigger("keypress",et),ce._keyUpPrevented=et.isDefaultPrevented();var nn=et.which;if(nn===q.BACKSPACE&&ce.$search.val()===""){var ue=ce.$selection.find(".select2-selection__choice").last();if(ue.length>0){var mt=te.GetData(ue[0],"data");ce.searchRemoveChoice(mt),et.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(et){ce.$search.val()&&et.stopPropagation()});var xe=document.documentMode,Re=xe&&xe<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(et){if(Re){ce.$selection.off("input.search input.searchcheck");return}ce.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(et){if(Re&&et.type==="input"){ce.$selection.off("input.search input.searchcheck");return}var nn=et.which;nn==q.SHIFT||nn==q.CTRL||nn==q.ALT||nn!=q.TAB&&ce.handleSearch(et)})},W.prototype._transferTabIndex=function(U){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},W.prototype.createPlaceholder=function(U,I){this.$search.attr("placeholder",I.text)},W.prototype.update=function(U,I){var ee=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),U.call(this,I),this.resizeSearch(),ee&&this.$search.trigger("focus")},W.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var U=this.$search.val();this.trigger("query",{term:U})}this._keyUpPrevented=!1},W.prototype.searchRemoveChoice=function(U,I){this.trigger("unselect",{data:I}),this.$search.val(I.text),this.handleSearch()},W.prototype.resizeSearch=function(){this.$search.css("width","25px");var U="100%";if(this.$search.attr("placeholder")===""){var I=this.$search.val().length+1;U=I*.75+"em"}this.$search.css("width",U)},W}),V.define("select2/selection/selectionCss",["../utils"],function(G){function te(){}return te.prototype.render=function(q){var W=q.call(this),U=this.options.get("selectionCssClass")||"";return U.indexOf(":all:")!==-1&&(U=U.replace(":all:",""),G.copyNonInternalCssClasses(W[0],this.$element[0])),W.addClass(U),W},te}),V.define("select2/selection/eventRelay",["jquery"],function(G){function te(){}return te.prototype.bind=function(q,W,U){var I=this,ee=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],ce=["opening","closing","selecting","unselecting","clearing"];q.call(this,W,U),W.on("*",function(be,he){if(ee.indexOf(be)!==-1){he=he||{};var xe=G.Event("select2:"+be,{params:he});I.$element.trigger(xe),ce.indexOf(be)!==-1&&(he.prevented=xe.isDefaultPrevented())}})},te}),V.define("select2/translation",["jquery","require"],function(G,te){function q(W){this.dict=W||{}}return q.prototype.all=function(){return this.dict},q.prototype.get=function(W){return this.dict[W]},q.prototype.extend=function(W){this.dict=G.extend({},W.all(),this.dict)},q._cache={},q.loadPath=function(W){if(!(W in q._cache)){var U=te(W);q._cache[W]=U}return new q(q._cache[W])},q}),V.define("select2/diacritics",[],function(){var G={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D","Ꝺ":"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F","Ꝼ":"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J","Ɉ":"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N","Ƞ":"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O","Ꝋ":"O","Ꝍ":"O",Œ:"OE",Ƣ:"OI","Ꝏ":"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q",Ｑ:"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S",Ｓ:"S","ẞ":"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U","Ʉ":"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W","Ⱳ":"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a","ⱥ":"a",ɐ:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d","ꝺ":"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e","ɇ":"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f","ꝼ":"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h","ⱨ":"h","ⱶ":"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j","ɉ":"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o","ꝋ":"o","ꝍ":"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou","ꝏ":"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q",ｑ:"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r","ɍ":"r",ɽ:"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s","ȿ":"s","ꞩ":"s","ꞅ":"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v","ꝟ":"v",ʌ:"v","ꝡ":"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w","ⱳ":"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y","ɏ":"y","ỿ":"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z","ɀ":"z","ⱬ":"z","ꝣ":"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ώ:"ω",ς:"σ","’":"'"};return G}),V.define("select2/data/base",["../utils"],function(G){function te(q,W){te.__super__.constructor.call(this)}return G.Extend(te,G.Observable),te.prototype.current=function(q){throw new Error("The `current` method must be defined in child classes.")},te.prototype.query=function(q,W){throw new Error("The `query` method must be defined in child classes.")},te.prototype.bind=function(q,W){},te.prototype.destroy=function(){},te.prototype.generateResultId=function(q,W){var U=q.id+"-result-";return U+=G.generateChars(4),W.id!=null?U+="-"+W.id.toString():U+="-"+G.generateChars(4),U},te}),V.define("select2/data/select",["./base","../utils","jquery"],function(G,te,q){function W(U,I){this.$element=U,this.options=I,W.__super__.constructor.call(this)}return te.Extend(W,G),W.prototype.current=function(U){var I=this,ee=Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(ce){return I.item(q(ce))});U(ee)},W.prototype.select=function(U){var I=this;if(U.selected=!0,U.element!=null&&U.element.tagName.toLowerCase()==="option"){U.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(ce){var be=[];U=[U],U.push.apply(U,ce);for(var he=0;he<U.length;he++){var xe=U[he].id;be.indexOf(xe)===-1&&be.push(xe)}I.$element.val(be),I.$element.trigger("input").trigger("change")});else{var ee=U.id;this.$element.val(ee),this.$element.trigger("input").trigger("change")}},W.prototype.unselect=function(U){var I=this;if(this.$element.prop("multiple")){if(U.selected=!1,U.element!=null&&U.element.tagName.toLowerCase()==="option"){U.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(ee){for(var ce=[],be=0;be<ee.length;be++){var he=ee[be].id;he!==U.id&&ce.indexOf(he)===-1&&ce.push(he)}I.$element.val(ce),I.$element.trigger("input").trigger("change")})}},W.prototype.bind=function(U,I){var ee=this;this.container=U,U.on("select",function(ce){ee.select(ce.data)}),U.on("unselect",function(ce){ee.unselect(ce.data)})},W.prototype.destroy=function(){this.$element.find("*").each(function(){te.RemoveData(this)})},W.prototype.query=function(U,I){var ee=[],ce=this,be=this.$element.children();be.each(function(){if(!(this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup")){var he=q(this),xe=ce.item(he),Re=ce.matches(U,xe);Re!==null&&ee.push(Re)}}),I({results:ee})},W.prototype.addOptions=function(U){this.$element.append(U)},W.prototype.option=function(U){var I;U.children?(I=document.createElement("optgroup"),I.label=U.text):(I=document.createElement("option"),I.textContent!==void 0?I.textContent=U.text:I.innerText=U.text),U.id!==void 0&&(I.value=U.id),U.disabled&&(I.disabled=!0),U.selected&&(I.selected=!0),U.title&&(I.title=U.title);var ee=this._normalizeItem(U);return ee.element=I,te.StoreData(I,"data",ee),q(I)},W.prototype.item=function(U){var I={};if(I=te.GetData(U[0],"data"),I!=null)return I;var ee=U[0];if(ee.tagName.toLowerCase()==="option")I={id:U.val(),text:U.text(),disabled:U.prop("disabled"),selected:U.prop("selected"),title:U.prop("title")};else if(ee.tagName.toLowerCase()==="optgroup"){I={text:U.prop("label"),children:[],title:U.prop("title")};for(var ce=U.children("option"),be=[],he=0;he<ce.length;he++){var xe=q(ce[he]),Re=this.item(xe);be.push(Re)}I.children=be}return I=this._normalizeItem(I),I.element=U[0],te.StoreData(U[0],"data",I),I},W.prototype._normalizeItem=function(U){U!==Object(U)&&(U={id:U,text:U}),U=q.extend({},{text:""},U);var I={selected:!1,disabled:!1};return U.id!=null&&(U.id=U.id.toString()),U.text!=null&&(U.text=U.text.toString()),U._resultId==null&&U.id&&this.container!=null&&(U._resultId=this.generateResultId(this.container,U)),q.extend({},I,U)},W.prototype.matches=function(U,I){var ee=this.options.get("matcher");return ee(U,I)},W}),V.define("select2/data/array",["./select","../utils","jquery"],function(G,te,q){function W(U,I){this._dataToConvert=I.get("data")||[],W.__super__.constructor.call(this,U,I)}return te.Extend(W,G),W.prototype.bind=function(U,I){W.__super__.bind.call(this,U,I),this.addOptions(this.convertToOptions(this._dataToConvert))},W.prototype.select=function(U){var I=this.$element.find("option").filter(function(ee,ce){return ce.value==U.id.toString()});I.length===0&&(I=this.option(U),this.addOptions(I)),W.__super__.select.call(this,U)},W.prototype.convertToOptions=function(U){var I=this,ee=this.$element.find("option"),ce=ee.map(function(){return I.item(q(this)).id}).get(),be=[];function he(A){return function(){return q(this).val()==A.id}}for(var xe=0;xe<U.length;xe++){var Re=this._normalizeItem(U[xe]);if(ce.indexOf(Re.id)>=0){var et=ee.filter(he(Re)),nn=this.item(et),ue=q.extend(!0,{},Re,nn),mt=this.option(ue);et.replaceWith(mt);continue}var Vn=this.option(Re);if(Re.children){var Gt=this.convertToOptions(Re.children);Vn.append(Gt)}be.push(Vn)}return be},W}),V.define("select2/data/ajax",["./array","../utils","jquery"],function(G,te,q){function W(U,I){this.ajaxOptions=this._applyDefaults(I.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),W.__super__.constructor.call(this,U,I)}return te.Extend(W,G),W.prototype._applyDefaults=function(U){var I={data:function(ee){return q.extend({},ee,{q:ee.term})},transport:function(ee,ce,be){var he=q.ajax(ee);return he.then(ce),he.fail(be),he}};return q.extend({},I,U,!0)},W.prototype.processResults=function(U){return U},W.prototype.query=function(U,I){var ee=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var ce=q.extend({type:"GET"},this.ajaxOptions);typeof ce.url=="function"&&(ce.url=ce.url.call(this.$element,U)),typeof ce.data=="function"&&(ce.data=ce.data.call(this.$element,U));function be(){var he=ce.transport(ce,function(xe){var Re=ee.processResults(xe,U);ee.options.get("debug")&&window.console&&console.error&&(!Re||!Re.results||!Array.isArray(Re.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),I(Re)},function(){"status"in he&&(he.status===0||he.status==="0")||ee.trigger("results:message",{message:"errorLoading"})});ee._request=he}this.ajaxOptions.delay&&U.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(be,this.ajaxOptions.delay)):be()},W}),V.define("select2/data/tags",["jquery"],function(G){function te(q,W,U){var I=U.get("tags"),ee=U.get("createTag");ee!==void 0&&(this.createTag=ee);var ce=U.get("insertTag");if(ce!==void 0&&(this.insertTag=ce),q.call(this,W,U),Array.isArray(I))for(var be=0;be<I.length;be++){var he=I[be],xe=this._normalizeItem(he),Re=this.option(xe);this.$element.append(Re)}}return te.prototype.query=function(q,W,U){var I=this;if(this._removeOldTags(),W.term==null||W.page!=null){q.call(this,W,U);return}function ee(ce,be){for(var he=ce.results,xe=0;xe<he.length;xe++){var Re=he[xe],et=Re.children!=null&&!ee({results:Re.children},!0),nn=(Re.text||"").toUpperCase(),ue=(W.term||"").toUpperCase(),mt=nn===ue;if(mt||et){if(be)return!1;ce.data=he,U(ce);return}}if(be)return!0;var Vn=I.createTag(W);if(Vn!=null){var Gt=I.option(Vn);Gt.attr("data-select2-tag","true"),I.addOptions([Gt]),I.insertTag(he,Vn)}ce.results=he,U(ce)}q.call(this,W,ee)},te.prototype.createTag=function(q,W){if(W.term==null)return null;var U=W.term.trim();return U===""?null:{id:U,text:U}},te.prototype.insertTag=function(q,W,U){W.unshift(U)},te.prototype._removeOldTags=function(q){var W=this.$element.find("option[data-select2-tag]");W.each(function(){this.selected||G(this).remove()})},te}),V.define("select2/data/tokenizer",["jquery"],function(G){function te(q,W,U){var I=U.get("tokenizer");I!==void 0&&(this.tokenizer=I),q.call(this,W,U)}return te.prototype.bind=function(q,W,U){q.call(this,W,U),this.$search=W.dropdown.$search||W.selection.$search||U.find(".select2-search__field")},te.prototype.query=function(q,W,U){var I=this;function ee(he){var xe=I._normalizeItem(he),Re=I.$element.find("option").filter(function(){return G(this).val()===xe.id});if(!Re.length){var et=I.option(xe);et.attr("data-select2-tag",!0),I._removeOldTags(),I.addOptions([et])}ce(xe)}function ce(he){I.trigger("select",{data:he})}W.term=W.term||"";var be=this.tokenizer(W,this.options,ee);be.term!==W.term&&(this.$search.length&&(this.$search.val(be.term),this.$search.trigger("focus")),W.term=be.term),q.call(this,W,U)},te.prototype.tokenizer=function(q,W,U,I){for(var ee=U.get("tokenSeparators")||[],ce=W.term,be=0,he=this.createTag||function(ue){return{id:ue.term,text:ue.term}};be<ce.length;){var xe=ce[be];if(ee.indexOf(xe)===-1){be++;continue}var Re=ce.substr(0,be),et=G.extend({},W,{term:Re}),nn=he(et);if(nn==null){be++;continue}I(nn),ce=ce.substr(be+1)||"",be=0}return{term:ce}},te}),V.define("select2/data/minimumInputLength",[],function(){function G(te,q,W){this.minimumInputLength=W.get("minimumInputLength"),te.call(this,q,W)}return G.prototype.query=function(te,q,W){if(q.term=q.term||"",q.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:q.term,params:q}});return}te.call(this,q,W)},G}),V.define("select2/data/maximumInputLength",[],function(){function G(te,q,W){this.maximumInputLength=W.get("maximumInputLength"),te.call(this,q,W)}return G.prototype.query=function(te,q,W){if(q.term=q.term||"",this.maximumInputLength>0&&q.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:q.term,params:q}});return}te.call(this,q,W)},G}),V.define("select2/data/maximumSelectionLength",[],function(){function G(te,q,W){this.maximumSelectionLength=W.get("maximumSelectionLength"),te.call(this,q,W)}return G.prototype.bind=function(te,q,W){var U=this;te.call(this,q,W),q.on("select",function(){U._checkIfMaximumSelected()})},G.prototype.query=function(te,q,W){var U=this;this._checkIfMaximumSelected(function(){te.call(U,q,W)})},G.prototype._checkIfMaximumSelected=function(te,q){var W=this;this.current(function(U){var I=U!=null?U.length:0;if(W.maximumSelectionLength>0&&I>=W.maximumSelectionLength){W.trigger("results:message",{message:"maximumSelected",args:{maximum:W.maximumSelectionLength}});return}q&&q()})},G}),V.define("select2/dropdown",["jquery","./utils"],function(G,te){function q(W,U){this.$element=W,this.options=U,q.__super__.constructor.call(this)}return te.Extend(q,te.Observable),q.prototype.render=function(){var W=G('<span class="select2-dropdown"><span class="select2-results"></span></span>');return W.attr("dir",this.options.get("dir")),this.$dropdown=W,W},q.prototype.bind=function(){},q.prototype.position=function(W,U){},q.prototype.destroy=function(){this.$dropdown.remove()},q}),V.define("select2/dropdown/search",["jquery"],function(G){function te(){}return te.prototype.render=function(q){var W=q.call(this),U=this.options.get("translations").get("search"),I=G('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=I,this.$search=I.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",U()),W.prepend(I),W},te.prototype.bind=function(q,W,U){var I=this,ee=W.id+"-results";q.call(this,W,U),this.$search.on("keydown",function(ce){I.trigger("keypress",ce),I._keyUpPrevented=ce.isDefaultPrevented()}),this.$search.on("input",function(ce){G(this).off("keyup")}),this.$search.on("keyup input",function(ce){I.handleSearch(ce)}),W.on("open",function(){I.$search.attr("tabindex",0),I.$search.attr("aria-controls",ee),I.$search.trigger("focus"),window.setTimeout(function(){I.$search.trigger("focus")},0)}),W.on("close",function(){I.$search.attr("tabindex",-1),I.$search.removeAttr("aria-controls"),I.$search.removeAttr("aria-activedescendant"),I.$search.val(""),I.$search.trigger("blur")}),W.on("focus",function(){W.isOpen()||I.$search.trigger("focus")}),W.on("results:all",function(ce){if(ce.query.term==null||ce.query.term===""){var be=I.showSearch(ce);be?I.$searchContainer[0].classList.remove("select2-search--hide"):I.$searchContainer[0].classList.add("select2-search--hide")}}),W.on("results:focus",function(ce){ce.data._resultId?I.$search.attr("aria-activedescendant",ce.data._resultId):I.$search.removeAttr("aria-activedescendant")})},te.prototype.handleSearch=function(q){if(!this._keyUpPrevented){var W=this.$search.val();this.trigger("query",{term:W})}this._keyUpPrevented=!1},te.prototype.showSearch=function(q,W){return!0},te}),V.define("select2/dropdown/hidePlaceholder",[],function(){function G(te,q,W,U){this.placeholder=this.normalizePlaceholder(W.get("placeholder")),te.call(this,q,W,U)}return G.prototype.append=function(te,q){q.results=this.removePlaceholder(q.results),te.call(this,q)},G.prototype.normalizePlaceholder=function(te,q){return typeof q=="string"&&(q={id:"",text:q}),q},G.prototype.removePlaceholder=function(te,q){for(var W=q.slice(0),U=q.length-1;U>=0;U--){var I=q[U];this.placeholder.id===I.id&&W.splice(U,1)}return W},G}),V.define("select2/dropdown/infiniteScroll",["jquery"],function(G){function te(q,W,U,I){this.lastParams={},q.call(this,W,U,I),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return te.prototype.append=function(q,W){this.$loadingMore.remove(),this.loading=!1,q.call(this,W),this.showLoadingMore(W)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},te.prototype.bind=function(q,W,U){var I=this;q.call(this,W,U),W.on("query",function(ee){I.lastParams=ee,I.loading=!0}),W.on("query:append",function(ee){I.lastParams=ee,I.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},te.prototype.loadMoreIfNeeded=function(){var q=G.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!q)){var W=this.$results.offset().top+this.$results.outerHeight(!1),U=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);W+50>=U&&this.loadMore()}},te.prototype.loadMore=function(){this.loading=!0;var q=G.extend({},{page:1},this.lastParams);q.page++,this.trigger("query:append",q)},te.prototype.showLoadingMore=function(q,W){return W.pagination&&W.pagination.more},te.prototype.createLoadingMore=function(){var q=G('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),W=this.options.get("translations").get("loadingMore");return q.html(W(this.lastParams)),q},te}),V.define("select2/dropdown/attachBody",["jquery","../utils"],function(G,te){function q(W,U,I){this.$dropdownParent=G(I.get("dropdownParent")||document.body),W.call(this,U,I)}return q.prototype.bind=function(W,U,I){var ee=this;W.call(this,U,I),U.on("open",function(){ee._showDropdown(),ee._attachPositioningHandler(U),ee._bindContainerResultHandlers(U)}),U.on("close",function(){ee._hideDropdown(),ee._detachPositioningHandler(U)}),this.$dropdownContainer.on("mousedown",function(ce){ce.stopPropagation()})},q.prototype.destroy=function(W){W.call(this),this.$dropdownContainer.remove()},q.prototype.position=function(W,U,I){U.attr("class",I.attr("class")),U[0].classList.remove("select2"),U[0].classList.add("select2-container--open"),U.css({position:"absolute",top:-999999}),this.$container=I},q.prototype.render=function(W){var U=G("<span></span>"),I=W.call(this);return U.append(I),this.$dropdownContainer=U,U},q.prototype._hideDropdown=function(W){this.$dropdownContainer.detach()},q.prototype._bindContainerResultHandlers=function(W,U){if(!this._containerResultsHandlersBound){var I=this;U.on("results:all",function(){I._positionDropdown(),I._resizeDropdown()}),U.on("results:append",function(){I._positionDropdown(),I._resizeDropdown()}),U.on("results:message",function(){I._positionDropdown(),I._resizeDropdown()}),U.on("select",function(){I._positionDropdown(),I._resizeDropdown()}),U.on("unselect",function(){I._positionDropdown(),I._resizeDropdown()}),this._containerResultsHandlersBound=!0}},q.prototype._attachPositioningHandler=function(W,U){var I=this,ee="scroll.select2."+U.id,ce="resize.select2."+U.id,be="orientationchange.select2."+U.id,he=this.$container.parents().filter(te.hasScroll);he.each(function(){te.StoreData(this,"select2-scroll-position",{x:G(this).scrollLeft(),y:G(this).scrollTop()})}),he.on(ee,function(xe){var Re=te.GetData(this,"select2-scroll-position");G(this).scrollTop(Re.y)}),G(window).on(ee+" "+ce+" "+be,function(xe){I._positionDropdown(),I._resizeDropdown()})},q.prototype._detachPositioningHandler=function(W,U){var I="scroll.select2."+U.id,ee="resize.select2."+U.id,ce="orientationchange.select2."+U.id,be=this.$container.parents().filter(te.hasScroll);be.off(I),G(window).off(I+" "+ee+" "+ce)},q.prototype._positionDropdown=function(){var W=G(window),U=this.$dropdown[0].classList.contains("select2-dropdown--above"),I=this.$dropdown[0].classList.contains("select2-dropdown--below"),ee=null,ce=this.$container.offset();ce.bottom=ce.top+this.$container.outerHeight(!1);var be={height:this.$container.outerHeight(!1)};be.top=ce.top,be.bottom=ce.top+be.height;var he={height:this.$dropdown.outerHeight(!1)},xe={top:W.scrollTop(),bottom:W.scrollTop()+W.height()},Re=xe.top<ce.top-he.height,et=xe.bottom>ce.bottom+he.height,nn={left:ce.left,top:be.bottom},ue=this.$dropdownParent;ue.css("position")==="static"&&(ue=ue.offsetParent());var mt={top:0,left:0};(G.contains(document.body,ue[0])||ue[0].isConnected)&&(mt=ue.offset()),nn.top-=mt.top,nn.left-=mt.left,!U&&!I&&(ee="below"),!et&&Re&&!U?ee="above":!Re&&et&&U&&(ee="below"),(ee=="above"||U&&ee!=="below")&&(nn.top=be.top-mt.top-he.height),ee!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+ee),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+ee)),this.$dropdownContainer.css(nn)},q.prototype._resizeDropdown=function(){var W={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(W.minWidth=W.width,W.position="relative",W.width="auto"),this.$dropdown.css(W)},q.prototype._showDropdown=function(W){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},q}),V.define("select2/dropdown/minimumResultsForSearch",[],function(){function G(q){for(var W=0,U=0;U<q.length;U++){var I=q[U];I.children?W+=G(I.children):W++}return W}function te(q,W,U,I){this.minimumResultsForSearch=U.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),q.call(this,W,U,I)}return te.prototype.showSearch=function(q,W){return G(W.data.results)<this.minimumResultsForSearch?!1:q.call(this,W)},te}),V.define("select2/dropdown/selectOnClose",["../utils"],function(G){function te(){}return te.prototype.bind=function(q,W,U){var I=this;q.call(this,W,U),W.on("close",function(ee){I._handleSelectOnClose(ee)})},te.prototype._handleSelectOnClose=function(q,W){if(W&&W.originalSelect2Event!=null){var U=W.originalSelect2Event;if(U._type==="select"||U._type==="unselect")return}var I=this.getHighlightedResults();if(!(I.length<1)){var ee=G.GetData(I[0],"data");ee.element!=null&&ee.element.selected||ee.element==null&&ee.selected||this.trigger("select",{data:ee})}},te}),V.define("select2/dropdown/closeOnSelect",[],function(){function G(){}return G.prototype.bind=function(te,q,W){var U=this;te.call(this,q,W),q.on("select",function(I){U._selectTriggered(I)}),q.on("unselect",function(I){U._selectTriggered(I)})},G.prototype._selectTriggered=function(te,q){var W=q.originalEvent;W&&(W.ctrlKey||W.metaKey)||this.trigger("close",{originalEvent:W,originalSelect2Event:q})},G}),V.define("select2/dropdown/dropdownCss",["../utils"],function(G){function te(){}return te.prototype.render=function(q){var W=q.call(this),U=this.options.get("dropdownCssClass")||"";return U.indexOf(":all:")!==-1&&(U=U.replace(":all:",""),G.copyNonInternalCssClasses(W[0],this.$element[0])),W.addClass(U),W},te}),V.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(G){function te(){}return te.prototype.highlightFirstItem=function(q){var W=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(W.length>0){var U=W.first(),I=G.GetData(U[0],"data"),ee=I.element;if(ee&&ee.getAttribute&&ee.getAttribute("data-select2-tag")==="true"){U.trigger("mouseenter");return}}q.call(this)},te}),V.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(G){var te=G.input.length-G.maximum,q="Please delete "+te+" character";return te!=1&&(q+="s"),q},inputTooShort:function(G){var te=G.minimum-G.input.length,q="Please enter "+te+" or more characters";return q},loadingMore:function(){return"Loading more results…"},maximumSelected:function(G){var te="You can only select "+G.maximum+" item";return G.maximum!=1&&(te+="s"),te},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),V.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(G,te,q,W,U,I,ee,ce,be,he,xe,Re,et,nn,ue,mt,Vn,Gt,A,mn,Cn,Sn,je,ye,Ze,Vt,wt,P,yn,st,eo){function jt(){this.reset()}jt.prototype.apply=function(ct){if(ct=G.extend(!0,{},this.defaults,ct),ct.dataAdapter==null&&(ct.ajax!=null?ct.dataAdapter=ue:ct.data!=null?ct.dataAdapter=nn:ct.dataAdapter=et,ct.minimumInputLength>0&&(ct.dataAdapter=he.Decorate(ct.dataAdapter,Gt)),ct.maximumInputLength>0&&(ct.dataAdapter=he.Decorate(ct.dataAdapter,A)),ct.maximumSelectionLength>0&&(ct.dataAdapter=he.Decorate(ct.dataAdapter,mn)),ct.tags&&(ct.dataAdapter=he.Decorate(ct.dataAdapter,mt)),(ct.tokenSeparators!=null||ct.tokenizer!=null)&&(ct.dataAdapter=he.Decorate(ct.dataAdapter,Vn))),ct.resultsAdapter==null&&(ct.resultsAdapter=te,ct.ajax!=null&&(ct.resultsAdapter=he.Decorate(ct.resultsAdapter,ye)),ct.placeholder!=null&&(ct.resultsAdapter=he.Decorate(ct.resultsAdapter,je)),ct.selectOnClose&&(ct.resultsAdapter=he.Decorate(ct.resultsAdapter,wt)),ct.tags&&(ct.resultsAdapter=he.Decorate(ct.resultsAdapter,st))),ct.dropdownAdapter==null){if(ct.multiple)ct.dropdownAdapter=Cn;else{var Rn=he.Decorate(Cn,Sn);ct.dropdownAdapter=Rn}ct.minimumResultsForSearch!==0&&(ct.dropdownAdapter=he.Decorate(ct.dropdownAdapter,Vt)),ct.closeOnSelect&&(ct.dropdownAdapter=he.Decorate(ct.dropdownAdapter,P)),ct.dropdownCssClass!=null&&(ct.dropdownAdapter=he.Decorate(ct.dropdownAdapter,yn)),ct.dropdownAdapter=he.Decorate(ct.dropdownAdapter,Ze)}ct.selectionAdapter==null&&(ct.multiple?ct.selectionAdapter=W:ct.selectionAdapter=q,ct.placeholder!=null&&(ct.selectionAdapter=he.Decorate(ct.selectionAdapter,U)),ct.allowClear&&(ct.selectionAdapter=he.Decorate(ct.selectionAdapter,I)),ct.multiple&&(ct.selectionAdapter=he.Decorate(ct.selectionAdapter,ee)),ct.selectionCssClass!=null&&(ct.selectionAdapter=he.Decorate(ct.selectionAdapter,ce)),ct.selectionAdapter=he.Decorate(ct.selectionAdapter,be)),ct.language=this._resolveLanguage(ct.language),ct.language.push("en");for(var _n=[],$n=0;$n<ct.language.length;$n++){var He=ct.language[$n];_n.indexOf(He)===-1&&_n.push(He)}return ct.language=_n,ct.translations=this._processTranslations(ct.language,ct.debug),ct},jt.prototype.reset=function(){function ct(_n){function $n(He){return Re[He]||He}return _n.replace(/[^\u0000-\u007E]/g,$n)}function Rn(_n,$n){if(_n.term==null||_n.term.trim()==="")return $n;if($n.children&&$n.children.length>0){for(var He=G.extend(!0,{},$n),ht=$n.children.length-1;ht>=0;ht--){var K=$n.children[ht],Xr=Rn(_n,K);Xr==null&&He.children.splice(ht,1)}return He.children.length>0?He:Rn(_n,He)}var po=ct($n.text).toUpperCase(),Cs=ct(_n.term).toUpperCase();return po.indexOf(Cs)>-1?$n:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:he.escapeMarkup,language:{},matcher:Rn,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(_n){return _n},templateResult:function(_n){return _n.text},templateSelection:function(_n){return _n.text},theme:"default",width:"resolve"}},jt.prototype.applyFromElement=function(ct,Rn){var _n=ct.language,$n=this.defaults.language,He=Rn.prop("lang"),ht=Rn.closest("[lang]").prop("lang"),K=Array.prototype.concat.call(this._resolveLanguage(He),this._resolveLanguage(_n),this._resolveLanguage($n),this._resolveLanguage(ht));return ct.language=K,ct},jt.prototype._resolveLanguage=function(ct){if(!ct)return[];if(G.isEmptyObject(ct))return[];if(G.isPlainObject(ct))return[ct];var Rn;Array.isArray(ct)?Rn=ct:Rn=[ct];for(var _n=[],$n=0;$n<Rn.length;$n++)if(_n.push(Rn[$n]),typeof Rn[$n]=="string"&&Rn[$n].indexOf("-")>0){var He=Rn[$n].split("-"),ht=He[0];_n.push(ht)}return _n},jt.prototype._processTranslations=function(ct,Rn){for(var _n=new xe,$n=0;$n<ct.length;$n++){var He=new xe,ht=ct[$n];if(typeof ht=="string")try{He=xe.loadPath(ht)}catch{try{ht=this.defaults.amdLanguageBase+ht,He=xe.loadPath(ht)}catch{Rn&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ht+'" could not be automatically loaded. A fallback will be used instead.')}}else G.isPlainObject(ht)?He=new xe(ht):He=ht;_n.extend(He)}return _n},jt.prototype.set=function(ct,Rn){var _n=G.camelCase(ct),$n={};$n[_n]=Rn;var He=he._convertData($n);G.extend(!0,this.defaults,He)};var Ge=new jt;return Ge}),V.define("select2/options",["jquery","./defaults","./utils"],function(G,te,q){function W(U,I){this.options=U,I!=null&&this.fromElement(I),I!=null&&(this.options=te.applyFromElement(this.options,I)),this.options=te.apply(this.options)}return W.prototype.fromElement=function(U){var I=["select2"];this.options.multiple==null&&(this.options.multiple=U.prop("multiple")),this.options.disabled==null&&(this.options.disabled=U.prop("disabled")),this.options.autocomplete==null&&U.prop("autocomplete")&&(this.options.autocomplete=U.prop("autocomplete")),this.options.dir==null&&(U.prop("dir")?this.options.dir=U.prop("dir"):U.closest("[dir]").prop("dir")?this.options.dir=U.closest("[dir]").prop("dir"):this.options.dir="ltr"),U.prop("disabled",this.options.disabled),U.prop("multiple",this.options.multiple),q.GetData(U[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),q.StoreData(U[0],"data",q.GetData(U[0],"select2Tags")),q.StoreData(U[0],"tags",!0)),q.GetData(U[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),U.attr("ajax--url",q.GetData(U[0],"ajaxUrl")),q.StoreData(U[0],"ajax-Url",q.GetData(U[0],"ajaxUrl")));var ee={};function ce(Vn,Gt){return Gt.toUpperCase()}for(var be=0;be<U[0].attributes.length;be++){var he=U[0].attributes[be].name,xe="data-";if(he.substr(0,xe.length)==xe){var Re=he.substring(xe.length),et=q.GetData(U[0],Re),nn=Re.replace(/-([a-z])/g,ce);ee[nn]=et}}G.fn.jquery&&G.fn.jquery.substr(0,2)=="1."&&U[0].dataset&&(ee=G.extend(!0,{},U[0].dataset,ee));var ue=G.extend(!0,{},q.GetData(U[0]),ee);ue=q._convertData(ue);for(var mt in ue)I.indexOf(mt)>-1||(G.isPlainObject(this.options[mt])?G.extend(this.options[mt],ue[mt]):this.options[mt]=ue[mt]);return this},W.prototype.get=function(U){return this.options[U]},W.prototype.set=function(U,I){this.options[U]=I},W}),V.define("select2/core",["jquery","./options","./utils","./keys"],function(G,te,q,W){var U=function(I,ee){q.GetData(I[0],"select2")!=null&&q.GetData(I[0],"select2").destroy(),this.$element=I,this.id=this._generateId(I),ee=ee||{},this.options=new te(ee,I),U.__super__.constructor.call(this);var ce=I.attr("tabindex")||0;q.StoreData(I[0],"old-tabindex",ce),I.attr("tabindex","-1");var be=this.options.get("dataAdapter");this.dataAdapter=new be(I,this.options);var he=this.render();this._placeContainer(he);var xe=this.options.get("selectionAdapter");this.selection=new xe(I,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,he);var Re=this.options.get("dropdownAdapter");this.dropdown=new Re(I,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,he);var et=this.options.get("resultsAdapter");this.results=new et(I,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var nn=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(ue){nn.trigger("selection:update",{data:ue})}),I[0].classList.add("select2-hidden-accessible"),I.attr("aria-hidden","true"),this._syncAttributes(),q.StoreData(I[0],"select2",this),I.data("select2",this)};return q.Extend(U,q.Observable),U.prototype._generateId=function(I){var ee="";return I.attr("id")!=null?ee=I.attr("id"):I.attr("name")!=null?ee=I.attr("name")+"-"+q.generateChars(2):ee=q.generateChars(4),ee=ee.replace(/(:|\.|\[|\]|,)/g,""),ee="select2-"+ee,ee},U.prototype._placeContainer=function(I){I.insertAfter(this.$element);var ee=this._resolveWidth(this.$element,this.options.get("width"));ee!=null&&I.css("width",ee)},U.prototype._resolveWidth=function(I,ee){var ce=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(ee=="resolve"){var be=this._resolveWidth(I,"style");return be??this._resolveWidth(I,"element")}if(ee=="element"){var he=I.outerWidth(!1);return he<=0?"auto":he+"px"}if(ee=="style"){var xe=I.attr("style");if(typeof xe!="string")return null;for(var Re=xe.split(";"),et=0,nn=Re.length;et<nn;et=et+1){var ue=Re[et].replace(/\s/g,""),mt=ue.match(ce);if(mt!==null&&mt.length>=1)return mt[1]}return null}if(ee=="computedstyle"){var Vn=window.getComputedStyle(I[0]);return Vn.width}return ee},U.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},U.prototype._registerDomEvents=function(){var I=this;this.$element.on("change.select2",function(){I.dataAdapter.current(function(ee){I.trigger("selection:update",{data:ee})})}),this.$element.on("focus.select2",function(ee){I.trigger("focus",ee)}),this._syncA=q.bind(this._syncAttributes,this),this._syncS=q.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(ee){I._syncA(),I._syncS(ee)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},U.prototype._registerDataEvents=function(){var I=this;this.dataAdapter.on("*",function(ee,ce){I.trigger(ee,ce)})},U.prototype._registerSelectionEvents=function(){var I=this,ee=["toggle","focus"];this.selection.on("toggle",function(){I.toggleDropdown()}),this.selection.on("focus",function(ce){I.focus(ce)}),this.selection.on("*",function(ce,be){ee.indexOf(ce)===-1&&I.trigger(ce,be)})},U.prototype._registerDropdownEvents=function(){var I=this;this.dropdown.on("*",function(ee,ce){I.trigger(ee,ce)})},U.prototype._registerResultsEvents=function(){var I=this;this.results.on("*",function(ee,ce){I.trigger(ee,ce)})},U.prototype._registerEvents=function(){var I=this;this.on("open",function(){I.$container[0].classList.add("select2-container--open")}),this.on("close",function(){I.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){I.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){I.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){I.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(ee){I.isOpen()||I.trigger("open",{}),this.dataAdapter.query(ee,function(ce){I.trigger("results:all",{data:ce,query:ee})})}),this.on("query:append",function(ee){this.dataAdapter.query(ee,function(ce){I.trigger("results:append",{data:ce,query:ee})})}),this.on("keypress",function(ee){var ce=ee.which;I.isOpen()?ce===W.ESC||ce===W.UP&&ee.altKey?(I.close(ee),ee.preventDefault()):ce===W.ENTER||ce===W.TAB?(I.trigger("results:select",{}),ee.preventDefault()):ce===W.SPACE&&ee.ctrlKey?(I.trigger("results:toggle",{}),ee.preventDefault()):ce===W.UP?(I.trigger("results:previous",{}),ee.preventDefault()):ce===W.DOWN&&(I.trigger("results:next",{}),ee.preventDefault()):(ce===W.ENTER||ce===W.SPACE||ce===W.DOWN&&ee.altKey)&&(I.open(),ee.preventDefault())})},U.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},U.prototype._isChangeMutation=function(I){var ee=this;if(I.addedNodes&&I.addedNodes.length>0)for(var ce=0;ce<I.addedNodes.length;ce++){var be=I.addedNodes[ce];if(be.selected)return!0}else{if(I.removedNodes&&I.removedNodes.length>0)return!0;if(Array.isArray(I))return I.some(function(he){return ee._isChangeMutation(he)})}return!1},U.prototype._syncSubtree=function(I){var ee=this._isChangeMutation(I),ce=this;ee&&this.dataAdapter.current(function(be){ce.trigger("selection:update",{data:be})})},U.prototype.trigger=function(I,ee){var ce=U.__super__.trigger,be={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(ee===void 0&&(ee={}),I in be){var he=be[I],xe={prevented:!1,name:I,args:ee};if(ce.call(this,he,xe),xe.prevented){ee.prevented=!0;return}}ce.call(this,I,ee)},U.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},U.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},U.prototype.close=function(I){this.isOpen()&&this.trigger("close",{originalEvent:I})},U.prototype.isEnabled=function(){return!this.isDisabled()},U.prototype.isDisabled=function(){return this.options.get("disabled")},U.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},U.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},U.prototype.focus=function(I){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},U.prototype.enable=function(I){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(I==null||I.length===0)&&(I=[!0]);var ee=!I[0];this.$element.prop("disabled",ee)},U.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var I=[];return this.dataAdapter.current(function(ee){I=ee}),I},U.prototype.val=function(I){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),I==null||I.length===0)return this.$element.val();var ee=I[0];Array.isArray(ee)&&(ee=ee.map(function(ce){return ce.toString()})),this.$element.val(ee).trigger("input").trigger("change")},U.prototype.destroy=function(){q.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",q.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),q.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},U.prototype.render=function(){var I=G('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return I.attr("dir",this.options.get("dir")),this.$container=I,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),q.StoreData(I[0],"element",this.$element),I},U}),V.define("jquery-mousewheel",["jquery"],function(G){return G}),V.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(G,te,q,W,U){if(G.fn.select2==null){var I=["open","close","destroy"];G.fn.select2=function(ee){if(ee=ee||{},typeof ee=="object")return this.each(function(){var he=G.extend(!0,{},ee);new q(G(this),he)}),this;if(typeof ee=="string"){var ce,be=Array.prototype.slice.call(arguments,1);return this.each(function(){var he=U.GetData(this,"select2");he==null&&window.console&&console.error&&console.error("The select2('"+ee+"') method was called on an element that is not using Select2."),ce=he[ee].apply(he,be)}),I.indexOf(ee)>-1?this:ce}else throw new Error("Invalid arguments for Select2: "+ee)}}return G.fn.select2.defaults==null&&(G.fn.select2.defaults=W),q}),{define:V.define,require:V.require}}(),M=k.require("jquery.select2");return y.fn.select2.amd=k,M})})(sX);var see=sX.exports;const ree=nX(see);window.$=oee;ree();window.addEventListener("DOMContentLoaded",()=>{tinymce.init({selector:"#editor",placeholder:"Type here...",license_key:"gpl",skin:!1,content_css:!1,menubar:!1})});
