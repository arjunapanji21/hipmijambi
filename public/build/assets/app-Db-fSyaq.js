var fY=function(){function S(y,A){A===void 0&&(A=[]),this._eventType=y,this._eventFunctions=A}return S.prototype.init=function(){var y=this;this._eventFunctions.forEach(function(A){typeof window<"u"&&window.addEventListener(y._eventType,A)})},S}(),mY=function(){function S(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}return S.prototype.addInstance=function(y,A,N,V){if(V===void 0&&(V=!1),!this._instances[y])return console.warn("Flowbite: Component ".concat(y," does not exist.")),!1;if(this._instances[y][N]&&!V){console.warn("Flowbite: Instance with ID ".concat(N," already exists."));return}V&&this._instances[y][N]&&this._instances[y][N].destroyAndRemoveInstance(),this._instances[y][N||this._generateRandomId()]=A},S.prototype.getAllInstances=function(){return this._instances},S.prototype.getInstances=function(y){return this._instances[y]?this._instances[y]:(console.warn("Flowbite: Component ".concat(y," does not exist.")),!1)},S.prototype.getInstance=function(y,A){if(this._componentAndInstanceCheck(y,A)){if(!this._instances[y][A]){console.warn("Flowbite: Instance with ID ".concat(A," does not exist."));return}return this._instances[y][A]}},S.prototype.destroyAndRemoveInstance=function(y,A){this._componentAndInstanceCheck(y,A)&&(this.destroyInstanceObject(y,A),this.removeInstance(y,A))},S.prototype.removeInstance=function(y,A){this._componentAndInstanceCheck(y,A)&&delete this._instances[y][A]},S.prototype.destroyInstanceObject=function(y,A){this._componentAndInstanceCheck(y,A)&&this._instances[y][A].destroy()},S.prototype.instanceExists=function(y,A){return!(!this._instances[y]||!this._instances[y][A])},S.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},S.prototype._componentAndInstanceCheck=function(y,A){return this._instances[y]?this._instances[y][A]?!0:(console.warn("Flowbite: Instance with ID ".concat(A," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(y," does not exist.")),!1)},S}(),is=new mY;typeof window<"u"&&(window.FlowbiteInstances=is);var GF=function(){return GF=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},GF.apply(this,arguments)},KF={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},hY={id:null,override:!0},fX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=[]),N===void 0&&(N=KF),V===void 0&&(V=hY),this._instanceId=V.id?V.id:y.id,this._accordionEl=y,this._items=A,this._options=GF(GF({},KF),N),this._initialized=!1,this.init(),is.addInstance("Accordion",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._items.forEach(function(A){A.active&&y.open(A.id);var N=function(){y.toggle(A.id)};A.triggerEl.addEventListener("click",N),A.clickHandler=N}),this._initialized=!0)},S.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(y){y.triggerEl.removeEventListener("click",y.clickHandler),delete y.clickHandler}),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Accordion",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getItem=function(y){return this._items.filter(function(A){return A.id===y})[0]},S.prototype.open=function(y){var A,N,V=this,te=this.getItem(y);this._options.alwaysOpen||this._items.map(function(de){var ve,He;de!==te&&((ve=de.triggerEl.classList).remove.apply(ve,V._options.activeClasses.split(" ")),(He=de.triggerEl.classList).add.apply(He,V._options.inactiveClasses.split(" ")),de.targetEl.classList.add("hidden"),de.triggerEl.setAttribute("aria-expanded","false"),de.active=!1,de.iconEl&&de.iconEl.classList.add("rotate-180"))}),(A=te.triggerEl.classList).add.apply(A,this._options.activeClasses.split(" ")),(N=te.triggerEl.classList).remove.apply(N,this._options.inactiveClasses.split(" ")),te.triggerEl.setAttribute("aria-expanded","true"),te.targetEl.classList.remove("hidden"),te.active=!0,te.iconEl&&te.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,te)},S.prototype.toggle=function(y){var A=this.getItem(y);A.active?this.close(y):this.open(y),this._options.onToggle(this,A)},S.prototype.close=function(y){var A,N,V=this.getItem(y);(A=V.triggerEl.classList).remove.apply(A,this._options.activeClasses.split(" ")),(N=V.triggerEl.classList).add.apply(N,this._options.inactiveClasses.split(" ")),V.targetEl.classList.add("hidden"),V.triggerEl.setAttribute("aria-expanded","false"),V.active=!1,V.iconEl&&V.iconEl.classList.add("rotate-180"),this._options.onClose(this,V)},S.prototype.updateOnOpen=function(y){this._options.onOpen=y},S.prototype.updateOnClose=function(y){this._options.onClose=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function Wq(){document.querySelectorAll("[data-accordion]").forEach(function(S){var y=S.getAttribute("data-accordion"),A=S.getAttribute("data-active-classes"),N=S.getAttribute("data-inactive-classes"),V=[];S.querySelectorAll("[data-accordion-target]").forEach(function(te){if(te.closest("[data-accordion]")===S){var de={id:te.getAttribute("data-accordion-target"),triggerEl:te,targetEl:document.querySelector(te.getAttribute("data-accordion-target")),iconEl:te.querySelector("[data-accordion-icon]"),active:te.getAttribute("aria-expanded")==="true"};V.push(de)}}),new fX(S,V,{alwaysOpen:y==="open",activeClasses:A||KF.activeClasses,inactiveClasses:N||KF.inactiveClasses})})}typeof window<"u"&&(window.Accordion=fX,window.initAccordions=Wq);var XF=function(){return XF=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},XF.apply(this,arguments)},UK={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},pY={id:null,override:!0},Bq=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=UK),V===void 0&&(V=pY),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=A,this._options=XF(XF({},UK),N),this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Collapse",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){y.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Collapse",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},S.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},S.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},S.prototype.updateOnCollapse=function(y){this._options.onCollapse=y},S.prototype.updateOnExpand=function(y){this._options.onExpand=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function Zq(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(S){var y=S.getAttribute("data-collapse-toggle"),A=document.getElementById(y);A?is.instanceExists("Collapse",A.getAttribute("id"))?new Bq(A,S,{},{id:A.getAttribute("id")+"_"+is._generateRandomId()}):new Bq(A,S):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Bq,window.initCollapses=Zq);var B2=function(){return B2=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},B2.apply(this,arguments)},UF={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},gY={id:null,override:!0},mX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=[]),N===void 0&&(N=UF),V===void 0&&(V=gY),this._instanceId=V.id?V.id:y.id,this._carouselEl=y,this._items=A,this._options=B2(B2(B2({},UF),N),{indicators:B2(B2({},UF.indicators),N.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),is.addInstance("Carousel",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._items.map(function(A){A.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(A,N){A.el.addEventListener("click",function(){y.slideTo(N)})}),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Carousel",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getItem=function(y){return this._items[y]},S.prototype.slideTo=function(y){var A=this._items[y],N={left:A.position===0?this._items[this._items.length-1]:this._items[A.position-1],middle:A,right:A.position===this._items.length-1?this._items[0]:this._items[A.position+1]};this._rotate(N),this._setActiveItem(A),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},S.prototype.next=function(){var y=this.getActiveItem(),A=null;y.position===this._items.length-1?A=this._items[0]:A=this._items[y.position+1],this.slideTo(A.position),this._options.onNext(this)},S.prototype.prev=function(){var y=this.getActiveItem(),A=null;y.position===0?A=this._items[this._items.length-1]:A=this._items[y.position-1],this.slideTo(A.position),this._options.onPrev(this)},S.prototype._rotate=function(y){if(this._items.map(function(A){A.el.classList.add("hidden")}),this._items.length===1){y.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),y.middle.el.classList.add("translate-x-0","z-20");return}y.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),y.left.el.classList.add("-translate-x-full","z-10"),y.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),y.middle.el.classList.add("translate-x-0","z-30"),y.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),y.right.el.classList.add("translate-x-full","z-20")},S.prototype.cycle=function(){var y=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){y.next()},this._intervalDuration))},S.prototype.pause=function(){clearInterval(this._intervalInstance)},S.prototype.getActiveItem=function(){return this._activeItem},S.prototype._setActiveItem=function(y){var A,N,V=this;this._activeItem=y;var te=y.position;this._indicators.length&&(this._indicators.map(function(de){var ve,He;de.el.setAttribute("aria-current","false"),(ve=de.el.classList).remove.apply(ve,V._options.indicators.activeClasses.split(" ")),(He=de.el.classList).add.apply(He,V._options.indicators.inactiveClasses.split(" "))}),(A=this._indicators[te].el.classList).add.apply(A,this._options.indicators.activeClasses.split(" ")),(N=this._indicators[te].el.classList).remove.apply(N,this._options.indicators.inactiveClasses.split(" ")),this._indicators[te].el.setAttribute("aria-current","true"))},S.prototype.updateOnNext=function(y){this._options.onNext=y},S.prototype.updateOnPrev=function(y){this._options.onPrev=y},S.prototype.updateOnChange=function(y){this._options.onChange=y},S}();function jq(){document.querySelectorAll("[data-carousel]").forEach(function(S){var y=S.getAttribute("data-carousel-interval"),A=S.getAttribute("data-carousel")==="slide",N=[],V=0;S.querySelectorAll("[data-carousel-item]").length&&Array.from(S.querySelectorAll("[data-carousel-item]")).map(function(St,et){N.push({position:et,el:St}),St.getAttribute("data-carousel-item")==="active"&&(V=et)});var te=[];S.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(S.querySelectorAll("[data-carousel-slide-to]")).map(function(St){te.push({position:parseInt(St.getAttribute("data-carousel-slide-to")),el:St})});var de=new mX(S,N,{defaultPosition:V,indicators:{items:te},interval:y||UF.interval});A&&de.cycle();var ve=S.querySelector("[data-carousel-next]"),He=S.querySelector("[data-carousel-prev]");ve&&ve.addEventListener("click",function(){de.next()}),He&&He.addEventListener("click",function(){de.prev()})})}typeof window<"u"&&(window.Carousel=mX,window.initCarousels=jq);var YF=function(){return YF=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},YF.apply(this,arguments)},WK={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},vY={id:null,override:!0},hX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=WK),V===void 0&&(V=vY),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=A,this._options=YF(YF({},WK),N),this._initialized=!1,this.init(),is.addInstance("Dismiss",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){y.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Dismiss",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){var y=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){y._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},S.prototype.updateOnHide=function(y){this._options.onHide=y},S}();function qq(){document.querySelectorAll("[data-dismiss-target]").forEach(function(S){var y=S.getAttribute("data-dismiss-target"),A=document.querySelector(y);A?new hX(A,S):console.error('The dismiss element with id "'.concat(y,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=hX,window.initDismisses=qq);var id="top",tm="bottom",nm="right",ad="left",Gq="auto",DR=[id,tm,nm,ad],HT="start",kR="end",bY="clippingParents",pX="viewport",xR="popper",yY="reference",ZK=DR.reduce(function(S,y){return S.concat([y+"-"+HT,y+"-"+kR])},[]),gX=[].concat(DR,[Gq]).reduce(function(S,y){return S.concat([y,y+"-"+HT,y+"-"+kR])},[]),wY="beforeRead",CY="read",xY="afterRead",SY="beforeMain",EY="main",_Y="afterMain",TY="beforeWrite",kY="write",AY="afterWrite",OY=[wY,CY,xY,SY,EY,_Y,TY,kY,AY];function Gp(S){return S?(S.nodeName||"").toLowerCase():null}function sf(S){if(S==null)return window;if(S.toString()!=="[object Window]"){var y=S.ownerDocument;return y&&y.defaultView||window}return S}function $2(S){var y=sf(S).Element;return S instanceof y||S instanceof Element}function Qf(S){var y=sf(S).HTMLElement;return S instanceof y||S instanceof HTMLElement}function Kq(S){if(typeof ShadowRoot>"u")return!1;var y=sf(S).ShadowRoot;return S instanceof y||S instanceof ShadowRoot}function DY(S){var y=S.state;Object.keys(y.elements).forEach(function(A){var N=y.styles[A]||{},V=y.attributes[A]||{},te=y.elements[A];!Qf(te)||!Gp(te)||(Object.assign(te.style,N),Object.keys(V).forEach(function(de){var ve=V[de];ve===!1?te.removeAttribute(de):te.setAttribute(de,ve===!0?"":ve)}))})}function RY(S){var y=S.state,A={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,A.popper),y.styles=A,y.elements.arrow&&Object.assign(y.elements.arrow.style,A.arrow),function(){Object.keys(y.elements).forEach(function(N){var V=y.elements[N],te=y.attributes[N]||{},de=Object.keys(y.styles.hasOwnProperty(N)?y.styles[N]:A[N]),ve=de.reduce(function(He,St){return He[St]="",He},{});!Qf(V)||!Gp(V)||(Object.assign(V.style,ve),Object.keys(te).forEach(function(He){V.removeAttribute(He)}))})}}const MY={name:"applyStyles",enabled:!0,phase:"write",fn:DY,effect:RY,requires:["computeStyles"]};function qp(S){return S.split("-")[0]}var L2=Math.max,JF=Math.min,zT=Math.round;function Iq(){var S=navigator.userAgentData;return S!=null&&S.brands&&Array.isArray(S.brands)?S.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function vX(){return!/^((?!chrome|android).)*safari/i.test(Iq())}function VT(S,y,A){y===void 0&&(y=!1),A===void 0&&(A=!1);var N=S.getBoundingClientRect(),V=1,te=1;y&&Qf(S)&&(V=S.offsetWidth>0&&zT(N.width)/S.offsetWidth||1,te=S.offsetHeight>0&&zT(N.height)/S.offsetHeight||1);var de=$2(S)?sf(S):window,ve=de.visualViewport,He=!vX()&&A,St=(N.left+(He&&ve?ve.offsetLeft:0))/V,et=(N.top+(He&&ve?ve.offsetTop:0))/te,ft=N.width/V,Bn=N.height/te;return{width:ft,height:Bn,top:et,right:St+ft,bottom:et+Bn,left:St,x:St,y:et}}function Xq(S){var y=VT(S),A=S.offsetWidth,N=S.offsetHeight;return Math.abs(y.width-A)<=1&&(A=y.width),Math.abs(y.height-N)<=1&&(N=y.height),{x:S.offsetLeft,y:S.offsetTop,width:A,height:N}}function bX(S,y){var A=y.getRootNode&&y.getRootNode();if(S.contains(y))return!0;if(A&&Kq(A)){var N=y;do{if(N&&S.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function av(S){return sf(S).getComputedStyle(S)}function PY(S){return["table","td","th"].indexOf(Gp(S))>=0}function W0(S){return(($2(S)?S.ownerDocument:S.document)||window.document).documentElement}function u6(S){return Gp(S)==="html"?S:S.assignedSlot||S.parentNode||(Kq(S)?S.host:null)||W0(S)}function jK(S){return!Qf(S)||av(S).position==="fixed"?null:S.offsetParent}function NY(S){var y=/firefox/i.test(Iq()),A=/Trident/i.test(Iq());if(A&&Qf(S)){var N=av(S);if(N.position==="fixed")return null}var V=u6(S);for(Kq(V)&&(V=V.host);Qf(V)&&["html","body"].indexOf(Gp(V))<0;){var te=av(V);if(te.transform!=="none"||te.perspective!=="none"||te.contain==="paint"||["transform","perspective"].indexOf(te.willChange)!==-1||y&&te.willChange==="filter"||y&&te.filter&&te.filter!=="none")return V;V=V.parentNode}return null}function RR(S){for(var y=sf(S),A=jK(S);A&&PY(A)&&av(A).position==="static";)A=jK(A);return A&&(Gp(A)==="html"||Gp(A)==="body"&&av(A).position==="static")?y:A||NY(S)||y}function Yq(S){return["top","bottom"].indexOf(S)>=0?"x":"y"}function ER(S,y,A){return L2(S,JF(y,A))}function BY(S,y,A){var N=ER(S,y,A);return N>A?A:N}function yX(){return{top:0,right:0,bottom:0,left:0}}function wX(S){return Object.assign({},yX(),S)}function CX(S,y){return y.reduce(function(A,N){return A[N]=S,A},{})}var IY=function(y,A){return y=typeof y=="function"?y(Object.assign({},A.rects,{placement:A.placement})):y,wX(typeof y!="number"?y:CX(y,DR))};function LY(S){var y,A=S.state,N=S.name,V=S.options,te=A.elements.arrow,de=A.modifiersData.popperOffsets,ve=qp(A.placement),He=Yq(ve),St=[ad,nm].indexOf(ve)>=0,et=St?"height":"width";if(!(!te||!de)){var ft=IY(V.padding,A),Bn=Xq(te),wn=He==="y"?id:ad,ct=He==="y"?tm:nm,Xe=A.rects.reference[et]+A.rects.reference[He]-de[He]-A.rects.popper[et],nt=de[He]-A.rects.reference[He],Pt=RR(te),yo=Pt?He==="y"?Pt.clientHeight||0:Pt.clientWidth||0:0,ae=Xe/2-nt/2,Ft=ft[wn],Lo=yo-Bn[et]-ft[ct],hn=yo/2-Bn[et]/2+ae,D=ER(Ft,hn,Lo),pn=He;A.modifiersData[N]=(y={},y[pn]=D,y.centerOffset=D-hn,y)}}function $Y(S){var y=S.state,A=S.options,N=A.element,V=N===void 0?"[data-popper-arrow]":N;V!=null&&(typeof V=="string"&&(V=y.elements.popper.querySelector(V),!V)||bX(y.elements.popper,V)&&(y.elements.arrow=V))}const FY={name:"arrow",enabled:!0,phase:"main",fn:LY,effect:$Y,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function UT(S){return S.split("-")[1]}var HY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zY(S,y){var A=S.x,N=S.y,V=y.devicePixelRatio||1;return{x:zT(A*V)/V||0,y:zT(N*V)/V||0}}function qK(S){var y,A=S.popper,N=S.popperRect,V=S.placement,te=S.variation,de=S.offsets,ve=S.position,He=S.gpuAcceleration,St=S.adaptive,et=S.roundOffsets,ft=S.isFixed,Bn=de.x,wn=Bn===void 0?0:Bn,ct=de.y,Xe=ct===void 0?0:ct,nt=typeof et=="function"?et({x:wn,y:Xe}):{x:wn,y:Xe};wn=nt.x,Xe=nt.y;var Pt=de.hasOwnProperty("x"),yo=de.hasOwnProperty("y"),ae=ad,Ft=id,Lo=window;if(St){var hn=RR(A),D="clientHeight",pn="clientWidth";if(hn===sf(A)&&(hn=W0(A),av(hn).position!=="static"&&ve==="absolute"&&(D="scrollHeight",pn="scrollWidth")),hn=hn,V===id||(V===ad||V===nm)&&te===kR){Ft=tm;var En=ft&&hn===Lo&&Lo.visualViewport?Lo.visualViewport.height:hn[D];Xe-=En-N.height,Xe*=He?1:-1}if(V===ad||(V===id||V===tm)&&te===kR){ae=nm;var _n=ft&&hn===Lo&&Lo.visualViewport?Lo.visualViewport.width:hn[pn];wn-=_n-N.width,wn*=He?1:-1}}var Ne=Object.assign({position:ve},St&&HY),le=et===!0?zY({x:wn,y:Xe},sf(A)):{x:wn,y:Xe};if(wn=le.x,Xe=le.y,He){var Pn;return Object.assign({},Ne,(Pn={},Pn[Ft]=yo?"0":"",Pn[ae]=Pt?"0":"",Pn.transform=(Lo.devicePixelRatio||1)<=1?"translate("+wn+"px, "+Xe+"px)":"translate3d("+wn+"px, "+Xe+"px, 0)",Pn))}return Object.assign({},Ne,(y={},y[Ft]=yo?Xe+"px":"",y[ae]=Pt?wn+"px":"",y.transform="",y))}function VY(S){var y=S.state,A=S.options,N=A.gpuAcceleration,V=N===void 0?!0:N,te=A.adaptive,de=te===void 0?!0:te,ve=A.roundOffsets,He=ve===void 0?!0:ve,St={placement:qp(y.placement),variation:UT(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:V,isFixed:y.options.strategy==="fixed"};y.modifiersData.popperOffsets!=null&&(y.styles.popper=Object.assign({},y.styles.popper,qK(Object.assign({},St,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:de,roundOffsets:He})))),y.modifiersData.arrow!=null&&(y.styles.arrow=Object.assign({},y.styles.arrow,qK(Object.assign({},St,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:He})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})}const UY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VY,data:{}};var FF={passive:!0};function WY(S){var y=S.state,A=S.instance,N=S.options,V=N.scroll,te=V===void 0?!0:V,de=N.resize,ve=de===void 0?!0:de,He=sf(y.elements.popper),St=[].concat(y.scrollParents.reference,y.scrollParents.popper);return te&&St.forEach(function(et){et.addEventListener("scroll",A.update,FF)}),ve&&He.addEventListener("resize",A.update,FF),function(){te&&St.forEach(function(et){et.removeEventListener("scroll",A.update,FF)}),ve&&He.removeEventListener("resize",A.update,FF)}}const ZY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:WY,data:{}};var jY={left:"right",right:"left",bottom:"top",top:"bottom"};function WF(S){return S.replace(/left|right|bottom|top/g,function(y){return jY[y]})}var qY={start:"end",end:"start"};function GK(S){return S.replace(/start|end/g,function(y){return qY[y]})}function Jq(S){var y=sf(S),A=y.pageXOffset,N=y.pageYOffset;return{scrollLeft:A,scrollTop:N}}function Qq(S){return VT(W0(S)).left+Jq(S).scrollLeft}function GY(S,y){var A=sf(S),N=W0(S),V=A.visualViewport,te=N.clientWidth,de=N.clientHeight,ve=0,He=0;if(V){te=V.width,de=V.height;var St=vX();(St||!St&&y==="fixed")&&(ve=V.offsetLeft,He=V.offsetTop)}return{width:te,height:de,x:ve+Qq(S),y:He}}function KY(S){var y,A=W0(S),N=Jq(S),V=(y=S.ownerDocument)==null?void 0:y.body,te=L2(A.scrollWidth,A.clientWidth,V?V.scrollWidth:0,V?V.clientWidth:0),de=L2(A.scrollHeight,A.clientHeight,V?V.scrollHeight:0,V?V.clientHeight:0),ve=-N.scrollLeft+Qq(S),He=-N.scrollTop;return av(V||A).direction==="rtl"&&(ve+=L2(A.clientWidth,V?V.clientWidth:0)-te),{width:te,height:de,x:ve,y:He}}function eG(S){var y=av(S),A=y.overflow,N=y.overflowX,V=y.overflowY;return/auto|scroll|overlay|hidden/.test(A+V+N)}function xX(S){return["html","body","#document"].indexOf(Gp(S))>=0?S.ownerDocument.body:Qf(S)&&eG(S)?S:xX(u6(S))}function _R(S,y){var A;y===void 0&&(y=[]);var N=xX(S),V=N===((A=S.ownerDocument)==null?void 0:A.body),te=sf(N),de=V?[te].concat(te.visualViewport||[],eG(N)?N:[]):N,ve=y.concat(de);return V?ve:ve.concat(_R(u6(de)))}function Lq(S){return Object.assign({},S,{left:S.x,top:S.y,right:S.x+S.width,bottom:S.y+S.height})}function XY(S,y){var A=VT(S,!1,y==="fixed");return A.top=A.top+S.clientTop,A.left=A.left+S.clientLeft,A.bottom=A.top+S.clientHeight,A.right=A.left+S.clientWidth,A.width=S.clientWidth,A.height=S.clientHeight,A.x=A.left,A.y=A.top,A}function KK(S,y,A){return y===pX?Lq(GY(S,A)):$2(y)?XY(y,A):Lq(KY(W0(S)))}function YY(S){var y=_R(u6(S)),A=["absolute","fixed"].indexOf(av(S).position)>=0,N=A&&Qf(S)?RR(S):S;return $2(N)?y.filter(function(V){return $2(V)&&bX(V,N)&&Gp(V)!=="body"}):[]}function JY(S,y,A,N){var V=y==="clippingParents"?YY(S):[].concat(y),te=[].concat(V,[A]),de=te[0],ve=te.reduce(function(He,St){var et=KK(S,St,N);return He.top=L2(et.top,He.top),He.right=JF(et.right,He.right),He.bottom=JF(et.bottom,He.bottom),He.left=L2(et.left,He.left),He},KK(S,de,N));return ve.width=ve.right-ve.left,ve.height=ve.bottom-ve.top,ve.x=ve.left,ve.y=ve.top,ve}function SX(S){var y=S.reference,A=S.element,N=S.placement,V=N?qp(N):null,te=N?UT(N):null,de=y.x+y.width/2-A.width/2,ve=y.y+y.height/2-A.height/2,He;switch(V){case id:He={x:de,y:y.y-A.height};break;case tm:He={x:de,y:y.y+y.height};break;case nm:He={x:y.x+y.width,y:ve};break;case ad:He={x:y.x-A.width,y:ve};break;default:He={x:y.x,y:y.y}}var St=V?Yq(V):null;if(St!=null){var et=St==="y"?"height":"width";switch(te){case HT:He[St]=He[St]-(y[et]/2-A[et]/2);break;case kR:He[St]=He[St]+(y[et]/2-A[et]/2);break}}return He}function AR(S,y){y===void 0&&(y={});var A=y,N=A.placement,V=N===void 0?S.placement:N,te=A.strategy,de=te===void 0?S.strategy:te,ve=A.boundary,He=ve===void 0?bY:ve,St=A.rootBoundary,et=St===void 0?pX:St,ft=A.elementContext,Bn=ft===void 0?xR:ft,wn=A.altBoundary,ct=wn===void 0?!1:wn,Xe=A.padding,nt=Xe===void 0?0:Xe,Pt=wX(typeof nt!="number"?nt:CX(nt,DR)),yo=Bn===xR?yY:xR,ae=S.rects.popper,Ft=S.elements[ct?yo:Bn],Lo=JY($2(Ft)?Ft:Ft.contextElement||W0(S.elements.popper),He,et,de),hn=VT(S.elements.reference),D=SX({reference:hn,element:ae,strategy:"absolute",placement:V}),pn=Lq(Object.assign({},ae,D)),En=Bn===xR?pn:hn,_n={top:Lo.top-En.top+Pt.top,bottom:En.bottom-Lo.bottom+Pt.bottom,left:Lo.left-En.left+Pt.left,right:En.right-Lo.right+Pt.right},Ne=S.modifiersData.offset;if(Bn===xR&&Ne){var le=Ne[V];Object.keys(_n).forEach(function(Pn){var Gn=[nm,tm].indexOf(Pn)>=0?1:-1,Zt=[id,tm].indexOf(Pn)>=0?"y":"x";_n[Pn]+=le[Zt]*Gn})}return _n}function QY(S,y){y===void 0&&(y={});var A=y,N=A.placement,V=A.boundary,te=A.rootBoundary,de=A.padding,ve=A.flipVariations,He=A.allowedAutoPlacements,St=He===void 0?gX:He,et=UT(N),ft=et?ve?ZK:ZK.filter(function(ct){return UT(ct)===et}):DR,Bn=ft.filter(function(ct){return St.indexOf(ct)>=0});Bn.length===0&&(Bn=ft);var wn=Bn.reduce(function(ct,Xe){return ct[Xe]=AR(S,{placement:Xe,boundary:V,rootBoundary:te,padding:de})[qp(Xe)],ct},{});return Object.keys(wn).sort(function(ct,Xe){return wn[ct]-wn[Xe]})}function eJ(S){if(qp(S)===Gq)return[];var y=WF(S);return[GK(S),y,GK(y)]}function tJ(S){var y=S.state,A=S.options,N=S.name;if(!y.modifiersData[N]._skip){for(var V=A.mainAxis,te=V===void 0?!0:V,de=A.altAxis,ve=de===void 0?!0:de,He=A.fallbackPlacements,St=A.padding,et=A.boundary,ft=A.rootBoundary,Bn=A.altBoundary,wn=A.flipVariations,ct=wn===void 0?!0:wn,Xe=A.allowedAutoPlacements,nt=y.options.placement,Pt=qp(nt),yo=Pt===nt,ae=He||(yo||!ct?[WF(nt)]:eJ(nt)),Ft=[nt].concat(ae).reduce(function(qo,Fs){return qo.concat(qp(Fs)===Gq?QY(y,{placement:Fs,boundary:et,rootBoundary:ft,padding:St,flipVariations:ct,allowedAutoPlacements:Xe}):Fs)},[]),Lo=y.rects.reference,hn=y.rects.popper,D=new Map,pn=!0,En=Ft[0],_n=0;_n<Ft.length;_n++){var Ne=Ft[_n],le=qp(Ne),Pn=UT(Ne)===HT,Gn=[id,tm].indexOf(le)>=0,Zt=Gn?"width":"height",M=AR(y,{placement:Ne,boundary:et,rootBoundary:ft,altBoundary:Bn,padding:St}),ro=Gn?Pn?nm:ad:Pn?tm:id;Lo[Zt]>hn[Zt]&&(ro=WF(ro));var lt=WF(ro),po=[];if(te&&po.push(M[le]<=0),ve&&po.push(M[ro]<=0,M[lt]<=0),po.every(function(qo){return qo})){En=Ne,pn=!1;break}D.set(Ne,po)}if(pn)for(var un=ct?3:1,qe=function(Fs){var Ze=Ft.find(function(Tt){var W=D.get(Tt);if(W)return W.slice(0,Fs).every(function(mc){return mc})});if(Ze)return En=Ze,"break"},Uo=un;Uo>0;Uo--){var Tr=qe(Uo);if(Tr==="break")break}y.placement!==En&&(y.modifiersData[N]._skip=!0,y.placement=En,y.reset=!0)}}const nJ={name:"flip",enabled:!0,phase:"main",fn:tJ,requiresIfExists:["offset"],data:{_skip:!1}};function XK(S,y,A){return A===void 0&&(A={x:0,y:0}),{top:S.top-y.height-A.y,right:S.right-y.width+A.x,bottom:S.bottom-y.height+A.y,left:S.left-y.width-A.x}}function YK(S){return[id,nm,tm,ad].some(function(y){return S[y]>=0})}function oJ(S){var y=S.state,A=S.name,N=y.rects.reference,V=y.rects.popper,te=y.modifiersData.preventOverflow,de=AR(y,{elementContext:"reference"}),ve=AR(y,{altBoundary:!0}),He=XK(de,N),St=XK(ve,V,te),et=YK(He),ft=YK(St);y.modifiersData[A]={referenceClippingOffsets:He,popperEscapeOffsets:St,isReferenceHidden:et,hasPopperEscaped:ft},y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-reference-hidden":et,"data-popper-escaped":ft})}const sJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oJ};function rJ(S,y,A){var N=qp(S),V=[ad,id].indexOf(N)>=0?-1:1,te=typeof A=="function"?A(Object.assign({},y,{placement:S})):A,de=te[0],ve=te[1];return de=de||0,ve=(ve||0)*V,[ad,nm].indexOf(N)>=0?{x:ve,y:de}:{x:de,y:ve}}function iJ(S){var y=S.state,A=S.options,N=S.name,V=A.offset,te=V===void 0?[0,0]:V,de=gX.reduce(function(et,ft){return et[ft]=rJ(ft,y.rects,te),et},{}),ve=de[y.placement],He=ve.x,St=ve.y;y.modifiersData.popperOffsets!=null&&(y.modifiersData.popperOffsets.x+=He,y.modifiersData.popperOffsets.y+=St),y.modifiersData[N]=de}const aJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:iJ};function cJ(S){var y=S.state,A=S.name;y.modifiersData[A]=SX({reference:y.rects.reference,element:y.rects.popper,strategy:"absolute",placement:y.placement})}const lJ={name:"popperOffsets",enabled:!0,phase:"read",fn:cJ,data:{}};function uJ(S){return S==="x"?"y":"x"}function dJ(S){var y=S.state,A=S.options,N=S.name,V=A.mainAxis,te=V===void 0?!0:V,de=A.altAxis,ve=de===void 0?!1:de,He=A.boundary,St=A.rootBoundary,et=A.altBoundary,ft=A.padding,Bn=A.tether,wn=Bn===void 0?!0:Bn,ct=A.tetherOffset,Xe=ct===void 0?0:ct,nt=AR(y,{boundary:He,rootBoundary:St,padding:ft,altBoundary:et}),Pt=qp(y.placement),yo=UT(y.placement),ae=!yo,Ft=Yq(Pt),Lo=uJ(Ft),hn=y.modifiersData.popperOffsets,D=y.rects.reference,pn=y.rects.popper,En=typeof Xe=="function"?Xe(Object.assign({},y.rects,{placement:y.placement})):Xe,_n=typeof En=="number"?{mainAxis:En,altAxis:En}:Object.assign({mainAxis:0,altAxis:0},En),Ne=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,le={x:0,y:0};if(hn){if(te){var Pn,Gn=Ft==="y"?id:ad,Zt=Ft==="y"?tm:nm,M=Ft==="y"?"height":"width",ro=hn[Ft],lt=ro+nt[Gn],po=ro-nt[Zt],un=wn?-pn[M]/2:0,qe=yo===HT?D[M]:pn[M],Uo=yo===HT?-pn[M]:-D[M],Tr=y.elements.arrow,qo=wn&&Tr?Xq(Tr):{width:0,height:0},Fs=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:yX(),Ze=Fs[Gn],Tt=Fs[Zt],W=ER(0,D[M],qo[M]),mc=ae?D[M]/2-un-W-Ze-_n.mainAxis:qe-W-Ze-_n.mainAxis,ao=ae?-D[M]/2+un+W+Tt+_n.mainAxis:Uo+W+Tt+_n.mainAxis,As=y.elements.arrow&&RR(y.elements.arrow),ko=As?Ft==="y"?As.clientTop||0:As.clientLeft||0:0,cd=(Pn=Ne==null?void 0:Ne[Ft])!=null?Pn:0,gn=ro+mc-cd-ko,Go=ro+ao-cd,mn=ER(wn?JF(lt,gn):lt,ro,wn?L2(po,Go):po);hn[Ft]=mn,le[Ft]=mn-ro}if(ve){var Ae,li=Ft==="x"?id:ad,Nr=Ft==="x"?tm:nm,Ut=hn[Lo],Ga=Lo==="y"?"height":"width",wo=Ut+nt[li],Ka=Ut-nt[Nr],Ko=[id,ad].indexOf(Pt)!==-1,ln=(Ae=Ne==null?void 0:Ne[Lo])!=null?Ae:0,Br=Ko?wo:Ut-D[Ga]-pn[Ga]-ln+_n.altAxis,Ri=Ko?Ut+D[Ga]+pn[Ga]-ln-_n.altAxis:Ka,hr=wn&&Ko?BY(Br,Ut,Ri):ER(wn?Br:wo,Ut,wn?Ri:Ka);hn[Lo]=hr,le[Lo]=hr-Ut}y.modifiersData[N]=le}}const fJ={name:"preventOverflow",enabled:!0,phase:"main",fn:dJ,requiresIfExists:["offset"]};function mJ(S){return{scrollLeft:S.scrollLeft,scrollTop:S.scrollTop}}function hJ(S){return S===sf(S)||!Qf(S)?Jq(S):mJ(S)}function pJ(S){var y=S.getBoundingClientRect(),A=zT(y.width)/S.offsetWidth||1,N=zT(y.height)/S.offsetHeight||1;return A!==1||N!==1}function gJ(S,y,A){A===void 0&&(A=!1);var N=Qf(y),V=Qf(y)&&pJ(y),te=W0(y),de=VT(S,V,A),ve={scrollLeft:0,scrollTop:0},He={x:0,y:0};return(N||!N&&!A)&&((Gp(y)!=="body"||eG(te))&&(ve=hJ(y)),Qf(y)?(He=VT(y,!0),He.x+=y.clientLeft,He.y+=y.clientTop):te&&(He.x=Qq(te))),{x:de.left+ve.scrollLeft-He.x,y:de.top+ve.scrollTop-He.y,width:de.width,height:de.height}}function vJ(S){var y=new Map,A=new Set,N=[];S.forEach(function(te){y.set(te.name,te)});function V(te){A.add(te.name);var de=[].concat(te.requires||[],te.requiresIfExists||[]);de.forEach(function(ve){if(!A.has(ve)){var He=y.get(ve);He&&V(He)}}),N.push(te)}return S.forEach(function(te){A.has(te.name)||V(te)}),N}function bJ(S){var y=vJ(S);return OY.reduce(function(A,N){return A.concat(y.filter(function(V){return V.phase===N}))},[])}function yJ(S){var y;return function(){return y||(y=new Promise(function(A){Promise.resolve().then(function(){y=void 0,A(S())})})),y}}function wJ(S){var y=S.reduce(function(A,N){var V=A[N.name];return A[N.name]=V?Object.assign({},V,N,{options:Object.assign({},V.options,N.options),data:Object.assign({},V.data,N.data)}):N,A},{});return Object.keys(y).map(function(A){return y[A]})}var JK={placement:"bottom",modifiers:[],strategy:"absolute"};function QK(){for(var S=arguments.length,y=new Array(S),A=0;A<S;A++)y[A]=arguments[A];return!y.some(function(N){return!(N&&typeof N.getBoundingClientRect=="function")})}function CJ(S){S===void 0&&(S={});var y=S,A=y.defaultModifiers,N=A===void 0?[]:A,V=y.defaultOptions,te=V===void 0?JK:V;return function(ve,He,St){St===void 0&&(St=te);var et={placement:"bottom",orderedModifiers:[],options:Object.assign({},JK,te),modifiersData:{},elements:{reference:ve,popper:He},attributes:{},styles:{}},ft=[],Bn=!1,wn={state:et,setOptions:function(Pt){var yo=typeof Pt=="function"?Pt(et.options):Pt;Xe(),et.options=Object.assign({},te,et.options,yo),et.scrollParents={reference:$2(ve)?_R(ve):ve.contextElement?_R(ve.contextElement):[],popper:_R(He)};var ae=bJ(wJ([].concat(N,et.options.modifiers)));return et.orderedModifiers=ae.filter(function(Ft){return Ft.enabled}),ct(),wn.update()},forceUpdate:function(){if(!Bn){var Pt=et.elements,yo=Pt.reference,ae=Pt.popper;if(QK(yo,ae)){et.rects={reference:gJ(yo,RR(ae),et.options.strategy==="fixed"),popper:Xq(ae)},et.reset=!1,et.placement=et.options.placement,et.orderedModifiers.forEach(function(_n){return et.modifiersData[_n.name]=Object.assign({},_n.data)});for(var Ft=0;Ft<et.orderedModifiers.length;Ft++){if(et.reset===!0){et.reset=!1,Ft=-1;continue}var Lo=et.orderedModifiers[Ft],hn=Lo.fn,D=Lo.options,pn=D===void 0?{}:D,En=Lo.name;typeof hn=="function"&&(et=hn({state:et,options:pn,name:En,instance:wn})||et)}}}},update:yJ(function(){return new Promise(function(nt){wn.forceUpdate(),nt(et)})}),destroy:function(){Xe(),Bn=!0}};if(!QK(ve,He))return wn;wn.setOptions(St).then(function(nt){!Bn&&St.onFirstUpdate&&St.onFirstUpdate(nt)});function ct(){et.orderedModifiers.forEach(function(nt){var Pt=nt.name,yo=nt.options,ae=yo===void 0?{}:yo,Ft=nt.effect;if(typeof Ft=="function"){var Lo=Ft({state:et,name:Pt,instance:wn,options:ae}),hn=function(){};ft.push(Lo||hn)}})}function Xe(){ft.forEach(function(nt){return nt()}),ft=[]}return wn}}var xJ=[ZY,lJ,UY,MY,aJ,nJ,fJ,FY,sJ],tG=CJ({defaultModifiers:xJ}),H0=function(){return H0=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},H0.apply(this,arguments)},HF=function(S,y,A){if(A||arguments.length===2)for(var N=0,V=y.length,te;N<V;N++)(te||!(N in y))&&(te||(te=Array.prototype.slice.call(y,0,N)),te[N]=y[N]);return S.concat(te||Array.prototype.slice.call(y))},z0={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},SJ={id:null,override:!0},EX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=z0),V===void 0&&(V=SJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=A,this._options=H0(H0({},z0),N),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Dropdown",this,this._instanceId,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},S.prototype.destroy=function(){var y=this,A=this._getTriggerEvents();this._options.triggerType==="click"&&A.showEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._clickHandler)}),this._options.triggerType==="hover"&&(A.showEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._hoverShowTriggerElHandler),y._targetEl.removeEventListener(N,y._hoverShowTargetElHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._hoverHideHandler),y._targetEl.removeEventListener(N,y._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},S.prototype.removeInstance=function(){is.removeInstance("Dropdown",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,A=this._getTriggerEvents();this._clickHandler=function(){y.toggle()},this._options.triggerType==="click"&&A.showEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._clickHandler)}),this._hoverShowTriggerElHandler=function(N){N.type==="click"?y.toggle():setTimeout(function(){y.show()},y._options.delay)},this._hoverShowTargetElHandler=function(){y.show()},this._hoverHideHandler=function(){setTimeout(function(){y._targetEl.matches(":hover")||y.hide()},y._options.delay)},this._options.triggerType==="hover"&&(A.showEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._hoverShowTriggerElHandler),y._targetEl.addEventListener(N,y._hoverShowTargetElHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._hoverHideHandler),y._targetEl.addEventListener(N,y._hoverHideHandler)}))},S.prototype._createPopperInstance=function(){return tG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(A){y._handleClickOutside(A,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,A){var N=y.target,V=this._options.ignoreClickOutsideClass,te=!1;if(V){var de=document.querySelectorAll(".".concat(V));de.forEach(function(ve){if(ve.contains(N)){te=!0;return}})}N!==A&&!A.contains(N)&&!this._triggerEl.contains(N)&&!te&&this.isVisible()&&this.hide()},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},S.prototype.isVisible=function(){return this._visible},S.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(y){return H0(H0({},y),{modifiers:HF(HF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(y){return H0(H0({},y),{modifiers:HF(HF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function nG(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(S){var y=S.getAttribute("data-dropdown-toggle"),A=document.getElementById(y);if(A){var N=S.getAttribute("data-dropdown-placement"),V=S.getAttribute("data-dropdown-offset-skidding"),te=S.getAttribute("data-dropdown-offset-distance"),de=S.getAttribute("data-dropdown-trigger"),ve=S.getAttribute("data-dropdown-delay"),He=S.getAttribute("data-dropdown-ignore-click-outside-class");new EX(A,S,{placement:N||z0.placement,triggerType:de||z0.triggerType,offsetSkidding:V?parseInt(V):z0.offsetSkidding,offsetDistance:te?parseInt(te):z0.offsetDistance,delay:ve?parseInt(ve):z0.delay,ignoreClickOutsideClass:He||z0.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(y,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=EX,window.initDropdowns=nG);var QF=function(){return QF=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},QF.apply(this,arguments)},e6={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},EJ={id:null,override:!0},_X=function(){function S(y,A,N){y===void 0&&(y=null),A===void 0&&(A=e6),N===void 0&&(N=EJ),this._eventListenerInstances=[],this._instanceId=N.id?N.id:y.id,this._targetEl=y,this._options=QF(QF({},e6),A),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),is.addInstance("Modal",this,this._instanceId,N.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(A){y._targetEl.classList.add(A)}),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Modal",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._createBackdrop=function(){var y;if(this._isHidden){var A=document.createElement("div");A.setAttribute("modal-backdrop",""),(y=A.classList).add.apply(y,this._options.backdropClasses.split(" ")),document.querySelector("body").append(A),this._backdropEl=A}},S.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},S.prototype._setupModalCloseEventListeners=function(){var y=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(A){y._handleOutsideClick(A.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(A){A.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._handleOutsideClick=function(y){(y===this._targetEl||y===this._backdropEl&&this.isVisible())&&this.hide()},S.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},S.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},S.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},S.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},S.prototype.isVisible=function(){return!this._isHidden},S.prototype.isHidden=function(){return this._isHidden},S.prototype.addEventListenerInstance=function(y,A,N){this._eventListenerInstances.push({element:y,type:A,handler:N})},S.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(y){y.element.removeEventListener(y.type,y.handler)}),this._eventListenerInstances=[]},S.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function oG(){document.querySelectorAll("[data-modal-target]").forEach(function(S){var y=S.getAttribute("data-modal-target"),A=document.getElementById(y);if(A){var N=A.getAttribute("data-modal-placement"),V=A.getAttribute("data-modal-backdrop");new _X(A,{placement:N||e6.placement,backdrop:V||e6.backdrop})}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(S){var y=S.getAttribute("data-modal-toggle"),A=document.getElementById(y);if(A){var N=is.getInstance("Modal",y);if(N){var V=function(){N.toggle()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(S){var y=S.getAttribute("data-modal-show"),A=document.getElementById(y);if(A){var N=is.getInstance("Modal",y);if(N){var V=function(){N.show()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(S){var y=S.getAttribute("data-modal-hide"),A=document.getElementById(y);if(A){var N=is.getInstance("Modal",y);if(N){var V=function(){N.hide()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Modal with id ".concat(y," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(y," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=_X,window.initModals=oG);var t6=function(){return t6=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},t6.apply(this,arguments)},I2={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},_J={id:null,override:!0},TX=function(){function S(y,A,N){y===void 0&&(y=null),A===void 0&&(A=I2),N===void 0&&(N=_J),this._eventListenerInstances=[],this._instanceId=N.id?N.id:y.id,this._targetEl=y,this._options=t6(t6({},I2),A),this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Drawer",this,this._instanceId,N.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(A){y._targetEl.classList.add(A)}),this._handleEscapeKey=function(A){A.key==="Escape"&&y.isVisible()&&y.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},S.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("Drawer",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){var y=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(A){y._targetEl.classList.remove(A)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(A){y._targetEl.classList.add(A)})):(this._getPlacementClasses(this._options.placement).active.map(function(A){y._targetEl.classList.remove(A)}),this._getPlacementClasses(this._options.placement).inactive.map(function(A){y._targetEl.classList.add(A)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},S.prototype.show=function(){var y=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(A){y._targetEl.classList.add(A)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(A){y._targetEl.classList.remove(A)})):(this._getPlacementClasses(this._options.placement).active.map(function(A){y._targetEl.classList.add(A)}),this._getPlacementClasses(this._options.placement).inactive.map(function(A){y._targetEl.classList.remove(A)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},S.prototype._createBackdrop=function(){var y,A=this;if(!this._visible){var N=document.createElement("div");N.setAttribute("drawer-backdrop",""),(y=N.classList).add.apply(y,this._options.backdropClasses.split(" ")),document.querySelector("body").append(N),N.addEventListener("click",function(){A.hide()})}},S.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},S.prototype._getPlacementClasses=function(y){switch(y){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},S.prototype.isHidden=function(){return!this._visible},S.prototype.isVisible=function(){return this._visible},S.prototype.addEventListenerInstance=function(y,A,N){this._eventListenerInstances.push({element:y,type:A,handler:N})},S.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(y){y.element.removeEventListener(y.type,y.handler)}),this._eventListenerInstances=[]},S.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function sG(){document.querySelectorAll("[data-drawer-target]").forEach(function(S){var y=S.getAttribute("data-drawer-target"),A=document.getElementById(y);if(A){var N=S.getAttribute("data-drawer-placement"),V=S.getAttribute("data-drawer-body-scrolling"),te=S.getAttribute("data-drawer-backdrop"),de=S.getAttribute("data-drawer-edge"),ve=S.getAttribute("data-drawer-edge-offset");new TX(A,{placement:N||I2.placement,bodyScrolling:V?V==="true":I2.bodyScrolling,backdrop:te?te==="true":I2.backdrop,edge:de?de==="true":I2.edge,edgeOffset:ve||I2.edgeOffset})}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(S){var y=S.getAttribute("data-drawer-toggle"),A=document.getElementById(y);if(A){var N=is.getInstance("Drawer",y);if(N){var V=function(){N.toggle()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(S){var y=S.getAttribute("data-drawer-dismiss")?S.getAttribute("data-drawer-dismiss"):S.getAttribute("data-drawer-hide"),A=document.getElementById(y);if(A){var N=is.getInstance("Drawer",y);if(N){var V=function(){N.hide()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(S){var y=S.getAttribute("data-drawer-show"),A=document.getElementById(y);if(A){var N=is.getInstance("Drawer",y);if(N){var V=function(){N.show()};S.addEventListener("click",V),N.addEventListenerInstance(S,"click",V)}else console.error("Drawer with id ".concat(y," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(y," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=TX,window.initDrawers=sG);var n6=function(){return n6=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},n6.apply(this,arguments)},o6={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},TJ={id:null,override:!0},kX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=[]),N===void 0&&(N=o6),V===void 0&&(V=TJ),this._instanceId=V.id?V.id:y.id,this._tabsEl=y,this._items=A,this._activeTab=N?this.getTab(N.defaultTabId):null,this._options=n6(n6({},o6),N),this._initialized=!1,this.init(),is.addInstance("Tabs",this,this._tabsEl.id,!0),is.addInstance("Tabs",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(A){A.triggerEl.addEventListener("click",function(N){N.preventDefault(),y.show(A.id)})}))},S.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},S.prototype.removeInstance=function(){this.destroy(),is.removeInstance("Tabs",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getActiveTab=function(){return this._activeTab},S.prototype.setActiveTab=function(y){this._activeTab=y},S.prototype.getTab=function(y){return this._items.filter(function(A){return A.id===y})[0]},S.prototype.show=function(y,A){var N,V,te=this;A===void 0&&(A=!1);var de=this.getTab(y);de===this._activeTab&&!A||(this._items.map(function(ve){var He,St;ve!==de&&((He=ve.triggerEl.classList).remove.apply(He,te._options.activeClasses.split(" ")),(St=ve.triggerEl.classList).add.apply(St,te._options.inactiveClasses.split(" ")),ve.targetEl.classList.add("hidden"),ve.triggerEl.setAttribute("aria-selected","false"))}),(N=de.triggerEl.classList).add.apply(N,this._options.activeClasses.split(" ")),(V=de.triggerEl.classList).remove.apply(V,this._options.inactiveClasses.split(" ")),de.triggerEl.setAttribute("aria-selected","true"),de.targetEl.classList.remove("hidden"),this.setActiveTab(de),this._options.onShow(this,de))},S.prototype.updateOnShow=function(y){this._options.onShow=y},S}();function rG(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(S){var y=[],A=S.getAttribute("data-tabs-active-classes"),N=S.getAttribute("data-tabs-inactive-classes"),V=null;S.querySelectorAll('[role="tab"]').forEach(function(te){var de=te.getAttribute("aria-selected")==="true",ve={id:te.getAttribute("data-tabs-target"),triggerEl:te,targetEl:document.querySelector(te.getAttribute("data-tabs-target"))};y.push(ve),de&&(V=ve.id)}),new kX(S,y,{defaultTabId:V,activeClasses:A||o6.activeClasses,inactiveClasses:N||o6.inactiveClasses})})}typeof window<"u"&&(window.Tabs=kX,window.initTabs=rG);var V0=function(){return V0=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},V0.apply(this,arguments)},zF=function(S,y,A){if(A||arguments.length===2)for(var N=0,V=y.length,te;N<V;N++)(te||!(N in y))&&(te||(te=Array.prototype.slice.call(y,0,N)),te[N]=y[N]);return S.concat(te||Array.prototype.slice.call(y))},s6={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},kJ={id:null,override:!0},AX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=s6),V===void 0&&(V=kJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=A,this._options=V0(V0({},s6),N),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Tooltip",this,this._instanceId,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},S.prototype.destroy=function(){var y=this;if(this._initialized){var A=this._getTriggerEvents();A.showEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._showHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},S.prototype.removeInstance=function(){is.removeInstance("Tooltip",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,A=this._getTriggerEvents();this._showHandler=function(){y.show()},this._hideHandler=function(){y.hide()},A.showEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._showHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._hideHandler)})},S.prototype._createPopperInstance=function(){return tG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype._setupKeydownListener=function(){var y=this;this._keydownEventListener=function(A){A.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(A){y._handleClickOutside(A,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,A){var N=y.target;N!==A&&!A.contains(N)&&!this._triggerEl.contains(N)&&this.isVisible()&&this.hide()},S.prototype.isVisible=function(){return this._visible},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},S.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(y){return V0(V0({},y),{modifiers:zF(zF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(y){return V0(V0({},y),{modifiers:zF(zF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function iG(){document.querySelectorAll("[data-tooltip-target]").forEach(function(S){var y=S.getAttribute("data-tooltip-target"),A=document.getElementById(y);if(A){var N=S.getAttribute("data-tooltip-trigger"),V=S.getAttribute("data-tooltip-placement");new AX(A,S,{placement:V||s6.placement,triggerType:N||s6.triggerType})}else console.error('The tooltip element with id "'.concat(y,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=AX,window.initTooltips=iG);var U0=function(){return U0=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},U0.apply(this,arguments)},VF=function(S,y,A){if(A||arguments.length===2)for(var N=0,V=y.length,te;N<V;N++)(te||!(N in y))&&(te||(te=Array.prototype.slice.call(y,0,N)),te[N]=y[N]);return S.concat(te||Array.prototype.slice.call(y))},TR={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},AJ={id:null,override:!0},OX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=TR),V===void 0&&(V=AJ),this._instanceId=V.id?V.id:y.id,this._targetEl=y,this._triggerEl=A,this._options=U0(U0({},TR),N),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Popover",this,V.id?V.id:this._targetEl.id,V.override)}return S.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},S.prototype.destroy=function(){var y=this;if(this._initialized){var A=this._getTriggerEvents();A.showEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._showHandler),y._targetEl.removeEventListener(N,y._showHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._hideHandler),y._targetEl.removeEventListener(N,y._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},S.prototype.removeInstance=function(){is.removeInstance("Popover",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype._setupEventListeners=function(){var y=this,A=this._getTriggerEvents();this._showHandler=function(){y.show()},this._hideHandler=function(){setTimeout(function(){y._targetEl.matches(":hover")||y.hide()},100)},A.showEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._showHandler),y._targetEl.addEventListener(N,y._showHandler)}),A.hideEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._hideHandler),y._targetEl.addEventListener(N,y._hideHandler)})},S.prototype._createPopperInstance=function(){return tG(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},S.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype._setupKeydownListener=function(){var y=this;this._keydownEventListener=function(A){A.key==="Escape"&&y.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},S.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},S.prototype._setupClickOutsideListener=function(){var y=this;this._clickOutsideEventListener=function(A){y._handleClickOutside(A,y._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},S.prototype._handleClickOutside=function(y,A){var N=y.target;N!==A&&!A.contains(N)&&!this._triggerEl.contains(N)&&this.isVisible()&&this.hide()},S.prototype.isVisible=function(){return this._visible},S.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},S.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(y){return U0(U0({},y),{modifiers:VF(VF([],y.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},S.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(y){return U0(U0({},y),{modifiers:VF(VF([],y.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function aG(){document.querySelectorAll("[data-popover-target]").forEach(function(S){var y=S.getAttribute("data-popover-target"),A=document.getElementById(y);if(A){var N=S.getAttribute("data-popover-trigger"),V=S.getAttribute("data-popover-placement"),te=S.getAttribute("data-popover-offset");new OX(A,S,{placement:V||TR.placement,offset:te?parseInt(te):TR.offset,triggerType:N||TR.triggerType})}else console.error('The popover element with id "'.concat(y,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=OX,window.initPopovers=aG);var r6=function(){return r6=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},r6.apply(this,arguments)},$q={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},OJ={id:null,override:!0},DX=function(){function S(y,A,N,V,te){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=null),V===void 0&&(V=$q),te===void 0&&(te=OJ),this._instanceId=te.id?te.id:N.id,this._parentEl=y,this._triggerEl=A,this._targetEl=N,this._options=r6(r6({},$q),V),this._visible=!1,this._initialized=!1,this.init(),is.addInstance("Dial",this,this._instanceId,te.override)}return S.prototype.init=function(){var y=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var A=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){y.show()},A.showEvents.forEach(function(N){y._triggerEl.addEventListener(N,y._showEventHandler),y._targetEl.addEventListener(N,y._showEventHandler)}),this._hideEventHandler=function(){y._parentEl.matches(":hover")||y.hide()},A.hideEvents.forEach(function(N){y._parentEl.addEventListener(N,y._hideEventHandler)}),this._initialized=!0}},S.prototype.destroy=function(){var y=this;if(this._initialized){var A=this._getTriggerEventTypes(this._options.triggerType);A.showEvents.forEach(function(N){y._triggerEl.removeEventListener(N,y._showEventHandler),y._targetEl.removeEventListener(N,y._showEventHandler)}),A.hideEvents.forEach(function(N){y._parentEl.removeEventListener(N,y._hideEventHandler)}),this._initialized=!1}},S.prototype.removeInstance=function(){is.removeInstance("Dial",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},S.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},S.prototype.toggle=function(){this._visible?this.hide():this.show()},S.prototype.isHidden=function(){return!this._visible},S.prototype.isVisible=function(){return this._visible},S.prototype._getTriggerEventTypes=function(y){switch(y){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},S.prototype.updateOnShow=function(y){this._options.onShow=y},S.prototype.updateOnHide=function(y){this._options.onHide=y},S.prototype.updateOnToggle=function(y){this._options.onToggle=y},S}();function cG(){document.querySelectorAll("[data-dial-init]").forEach(function(S){var y=S.querySelector("[data-dial-toggle]");if(y){var A=y.getAttribute("data-dial-toggle"),N=document.getElementById(A);if(N){var V=y.getAttribute("data-dial-trigger");new DX(S,y,N,{triggerType:V||$q.triggerType})}else console.error("Dial with id ".concat(A," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(S.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=DX,window.initDials=cG);var i6=function(){return i6=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},i6.apply(this,arguments)},eX={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},DJ={id:null,override:!0},RX=function(){function S(y,A,N,V,te){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=null),V===void 0&&(V=eX),te===void 0&&(te=DJ),this._instanceId=te.id?te.id:y.id,this._targetEl=y,this._incrementEl=A,this._decrementEl=N,this._options=i6(i6({},eX),V),this._initialized=!1,this.init(),is.addInstance("InputCounter",this,this._instanceId,te.override)}return S.prototype.init=function(){var y=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(A){{var N=A.target;/^\d*$/.test(N.value)||(N.value=N.value.replace(/[^\d]/g,"")),y._options.maxValue!==null&&parseInt(N.value)>y._options.maxValue&&(N.value=y._options.maxValue.toString()),y._options.minValue!==null&&parseInt(N.value)<y._options.minValue&&(N.value=y._options.minValue.toString())}},this._incrementClickHandler=function(){y.increment()},this._decrementClickHandler=function(){y.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("InputCounter",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},S.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},S.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},S.prototype.updateOnIncrement=function(y){this._options.onIncrement=y},S.prototype.updateOnDecrement=function(y){this._options.onDecrement=y},S}();function lG(){document.querySelectorAll("[data-input-counter]").forEach(function(S){var y=S.id,A=document.querySelector('[data-input-counter-increment="'+y+'"]'),N=document.querySelector('[data-input-counter-decrement="'+y+'"]'),V=S.getAttribute("data-input-counter-min"),te=S.getAttribute("data-input-counter-max");S?is.instanceExists("InputCounter",S.getAttribute("id"))||new RX(S,A||null,N||null,{minValue:V?parseInt(V):null,maxValue:te?parseInt(te):null}):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=RX,window.initInputCounters=lG);var a6=function(){return a6=Object.assign||function(S){for(var y,A=1,N=arguments.length;A<N;A++){y=arguments[A];for(var V in y)Object.prototype.hasOwnProperty.call(y,V)&&(S[V]=y[V])}return S},a6.apply(this,arguments)},c6={htmlEntities:!1,contentType:"input",onCopy:function(){}},RJ={id:null,override:!0},MX=function(){function S(y,A,N,V){y===void 0&&(y=null),A===void 0&&(A=null),N===void 0&&(N=c6),V===void 0&&(V=RJ),this._instanceId=V.id?V.id:A.id,this._triggerEl=y,this._targetEl=A,this._options=a6(a6({},c6),N),this._initialized=!1,this.init(),is.addInstance("CopyClipboard",this,this._instanceId,V.override)}return S.prototype.init=function(){var y=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){y.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},S.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},S.prototype.removeInstance=function(){is.removeInstance("CopyClipboard",this._instanceId)},S.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},S.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},S.prototype.copy=function(){var y=this.getTargetValue();this._options.htmlEntities&&(y=this.decodeHTML(y));var A=document.createElement("textarea");return A.value=y,document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),this._options.onCopy(this),y},S.prototype.decodeHTML=function(y){var A=document.createElement("textarea");return A.innerHTML=y,A.textContent},S.prototype.updateOnCopyCallback=function(y){this._options.onCopy=y},S}();function uG(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(S){var y=S.getAttribute("data-copy-to-clipboard-target"),A=document.getElementById(y),N=S.getAttribute("data-copy-to-clipboard-content-type"),V=S.getAttribute("data-copy-to-clipboard-html-entities");A?is.instanceExists("CopyClipboard",A.getAttribute("id"))||new MX(S,A,{htmlEntities:V&&V==="true"?!0:c6.htmlEntities,contentType:N||c6.contentType}):console.error('The target element with id "'.concat(y,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=MX,window.initClipboards=uG);function MJ(){Wq(),Zq(),jq(),qq(),nG(),oG(),sG(),rG(),iG(),aG(),cG(),lG(),uG()}typeof window<"u"&&(window.initFlowbite=MJ);var PJ=new fY("load",[Wq,Zq,jq,qq,nG,oG,sG,rG,iG,aG,cG,lG,uG]);PJ.init();function PX(S,y){return function(){return S.apply(y,arguments)}}const{toString:NJ}=Object.prototype,{getPrototypeOf:dG}=Object,d6=(S=>y=>{const A=NJ.call(y);return S[A]||(S[A]=A.slice(8,-1).toLowerCase())})(Object.create(null)),Kp=S=>(S=S.toLowerCase(),y=>d6(y)===S),f6=S=>y=>typeof y===S,{isArray:ZT}=Array,OR=f6("undefined");function BJ(S){return S!==null&&!OR(S)&&S.constructor!==null&&!OR(S.constructor)&&em(S.constructor.isBuffer)&&S.constructor.isBuffer(S)}const NX=Kp("ArrayBuffer");function IJ(S){let y;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?y=ArrayBuffer.isView(S):y=S&&S.buffer&&NX(S.buffer),y}const LJ=f6("string"),em=f6("function"),BX=f6("number"),m6=S=>S!==null&&typeof S=="object",$J=S=>S===!0||S===!1,ZF=S=>{if(d6(S)!=="object")return!1;const y=dG(S);return(y===null||y===Object.prototype||Object.getPrototypeOf(y)===null)&&!(Symbol.toStringTag in S)&&!(Symbol.iterator in S)},FJ=Kp("Date"),HJ=Kp("File"),zJ=Kp("Blob"),VJ=Kp("FileList"),UJ=S=>m6(S)&&em(S.pipe),WJ=S=>{let y;return S&&(typeof FormData=="function"&&S instanceof FormData||em(S.append)&&((y=d6(S))==="formdata"||y==="object"&&em(S.toString)&&S.toString()==="[object FormData]"))},ZJ=Kp("URLSearchParams"),jJ=S=>S.trim?S.trim():S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function MR(S,y,{allOwnKeys:A=!1}={}){if(S===null||typeof S>"u")return;let N,V;if(typeof S!="object"&&(S=[S]),ZT(S))for(N=0,V=S.length;N<V;N++)y.call(null,S[N],N,S);else{const te=A?Object.getOwnPropertyNames(S):Object.keys(S),de=te.length;let ve;for(N=0;N<de;N++)ve=te[N],y.call(null,S[ve],ve,S)}}function IX(S,y){y=y.toLowerCase();const A=Object.keys(S);let N=A.length,V;for(;N-- >0;)if(V=A[N],y===V.toLowerCase())return V;return null}const LX=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$X=S=>!OR(S)&&S!==LX;function Fq(){const{caseless:S}=$X(this)&&this||{},y={},A=(N,V)=>{const te=S&&IX(y,V)||V;ZF(y[te])&&ZF(N)?y[te]=Fq(y[te],N):ZF(N)?y[te]=Fq({},N):ZT(N)?y[te]=N.slice():y[te]=N};for(let N=0,V=arguments.length;N<V;N++)arguments[N]&&MR(arguments[N],A);return y}const qJ=(S,y,A,{allOwnKeys:N}={})=>(MR(y,(V,te)=>{A&&em(V)?S[te]=PX(V,A):S[te]=V},{allOwnKeys:N}),S),GJ=S=>(S.charCodeAt(0)===65279&&(S=S.slice(1)),S),KJ=(S,y,A,N)=>{S.prototype=Object.create(y.prototype,N),S.prototype.constructor=S,Object.defineProperty(S,"super",{value:y.prototype}),A&&Object.assign(S.prototype,A)},XJ=(S,y,A,N)=>{let V,te,de;const ve={};if(y=y||{},S==null)return y;do{for(V=Object.getOwnPropertyNames(S),te=V.length;te-- >0;)de=V[te],(!N||N(de,S,y))&&!ve[de]&&(y[de]=S[de],ve[de]=!0);S=A!==!1&&dG(S)}while(S&&(!A||A(S,y))&&S!==Object.prototype);return y},YJ=(S,y,A)=>{S=String(S),(A===void 0||A>S.length)&&(A=S.length),A-=y.length;const N=S.indexOf(y,A);return N!==-1&&N===A},JJ=S=>{if(!S)return null;if(ZT(S))return S;let y=S.length;if(!BX(y))return null;const A=new Array(y);for(;y-- >0;)A[y]=S[y];return A},QJ=(S=>y=>S&&y instanceof S)(typeof Uint8Array<"u"&&dG(Uint8Array)),eQ=(S,y)=>{const N=(S&&S[Symbol.iterator]).call(S);let V;for(;(V=N.next())&&!V.done;){const te=V.value;y.call(S,te[0],te[1])}},tQ=(S,y)=>{let A;const N=[];for(;(A=S.exec(y))!==null;)N.push(A);return N},nQ=Kp("HTMLFormElement"),oQ=S=>S.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(A,N,V){return N.toUpperCase()+V}),tX=(({hasOwnProperty:S})=>(y,A)=>S.call(y,A))(Object.prototype),sQ=Kp("RegExp"),FX=(S,y)=>{const A=Object.getOwnPropertyDescriptors(S),N={};MR(A,(V,te)=>{let de;(de=y(V,te,S))!==!1&&(N[te]=de||V)}),Object.defineProperties(S,N)},rQ=S=>{FX(S,(y,A)=>{if(em(S)&&["arguments","caller","callee"].indexOf(A)!==-1)return!1;const N=S[A];if(em(N)){if(y.enumerable=!1,"writable"in y){y.writable=!1;return}y.set||(y.set=()=>{throw Error("Can not rewrite read-only method '"+A+"'")})}})},iQ=(S,y)=>{const A={},N=V=>{V.forEach(te=>{A[te]=!0})};return ZT(S)?N(S):N(String(S).split(y)),A},aQ=()=>{},cQ=(S,y)=>(S=+S,Number.isFinite(S)?S:y),Rq="abcdefghijklmnopqrstuvwxyz",nX="0123456789",HX={DIGIT:nX,ALPHA:Rq,ALPHA_DIGIT:Rq+Rq.toUpperCase()+nX},lQ=(S=16,y=HX.ALPHA_DIGIT)=>{let A="";const{length:N}=y;for(;S--;)A+=y[Math.random()*N|0];return A};function uQ(S){return!!(S&&em(S.append)&&S[Symbol.toStringTag]==="FormData"&&S[Symbol.iterator])}const dQ=S=>{const y=new Array(10),A=(N,V)=>{if(m6(N)){if(y.indexOf(N)>=0)return;if(!("toJSON"in N)){y[V]=N;const te=ZT(N)?[]:{};return MR(N,(de,ve)=>{const He=A(de,V+1);!OR(He)&&(te[ve]=He)}),y[V]=void 0,te}}return N};return A(S,0)},fQ=Kp("AsyncFunction"),mQ=S=>S&&(m6(S)||em(S))&&em(S.then)&&em(S.catch),xt={isArray:ZT,isArrayBuffer:NX,isBuffer:BJ,isFormData:WJ,isArrayBufferView:IJ,isString:LJ,isNumber:BX,isBoolean:$J,isObject:m6,isPlainObject:ZF,isUndefined:OR,isDate:FJ,isFile:HJ,isBlob:zJ,isRegExp:sQ,isFunction:em,isStream:UJ,isURLSearchParams:ZJ,isTypedArray:QJ,isFileList:VJ,forEach:MR,merge:Fq,extend:qJ,trim:jJ,stripBOM:GJ,inherits:KJ,toFlatObject:XJ,kindOf:d6,kindOfTest:Kp,endsWith:YJ,toArray:JJ,forEachEntry:eQ,matchAll:tQ,isHTMLForm:nQ,hasOwnProperty:tX,hasOwnProp:tX,reduceDescriptors:FX,freezeMethods:rQ,toObjectSet:iQ,toCamelCase:oQ,noop:aQ,toFiniteNumber:cQ,findKey:IX,global:LX,isContextDefined:$X,ALPHABET:HX,generateString:lQ,isSpecCompliantForm:uQ,toJSONObject:dQ,isAsyncFn:fQ,isThenable:mQ};function ks(S,y,A,N,V){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=S,this.name="AxiosError",y&&(this.code=y),A&&(this.config=A),N&&(this.request=N),V&&(this.response=V)}xt.inherits(ks,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zX=ks.prototype,VX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(S=>{VX[S]={value:S}});Object.defineProperties(ks,VX);Object.defineProperty(zX,"isAxiosError",{value:!0});ks.from=(S,y,A,N,V,te)=>{const de=Object.create(zX);return xt.toFlatObject(S,de,function(He){return He!==Error.prototype},ve=>ve!=="isAxiosError"),ks.call(de,S.message,y,A,N,V),de.cause=S,de.name=S.name,te&&Object.assign(de,te),de};const hQ=null;function Hq(S){return xt.isPlainObject(S)||xt.isArray(S)}function UX(S){return xt.endsWith(S,"[]")?S.slice(0,-2):S}function oX(S,y,A){return S?S.concat(y).map(function(V,te){return V=UX(V),!A&&te?"["+V+"]":V}).join(A?".":""):y}function pQ(S){return xt.isArray(S)&&!S.some(Hq)}const gQ=xt.toFlatObject(xt,{},null,function(y){return/^is[A-Z]/.test(y)});function h6(S,y,A){if(!xt.isObject(S))throw new TypeError("target must be an object");y=y||new FormData,A=xt.toFlatObject(A,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Xe,nt){return!xt.isUndefined(nt[Xe])});const N=A.metaTokens,V=A.visitor||et,te=A.dots,de=A.indexes,He=(A.Blob||typeof Blob<"u"&&Blob)&&xt.isSpecCompliantForm(y);if(!xt.isFunction(V))throw new TypeError("visitor must be a function");function St(ct){if(ct===null)return"";if(xt.isDate(ct))return ct.toISOString();if(!He&&xt.isBlob(ct))throw new ks("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(ct)||xt.isTypedArray(ct)?He&&typeof Blob=="function"?new Blob([ct]):Buffer.from(ct):ct}function et(ct,Xe,nt){let Pt=ct;if(ct&&!nt&&typeof ct=="object"){if(xt.endsWith(Xe,"{}"))Xe=N?Xe:Xe.slice(0,-2),ct=JSON.stringify(ct);else if(xt.isArray(ct)&&pQ(ct)||(xt.isFileList(ct)||xt.endsWith(Xe,"[]"))&&(Pt=xt.toArray(ct)))return Xe=UX(Xe),Pt.forEach(function(ae,Ft){!(xt.isUndefined(ae)||ae===null)&&y.append(de===!0?oX([Xe],Ft,te):de===null?Xe:Xe+"[]",St(ae))}),!1}return Hq(ct)?!0:(y.append(oX(nt,Xe,te),St(ct)),!1)}const ft=[],Bn=Object.assign(gQ,{defaultVisitor:et,convertValue:St,isVisitable:Hq});function wn(ct,Xe){if(!xt.isUndefined(ct)){if(ft.indexOf(ct)!==-1)throw Error("Circular reference detected in "+Xe.join("."));ft.push(ct),xt.forEach(ct,function(Pt,yo){(!(xt.isUndefined(Pt)||Pt===null)&&V.call(y,Pt,xt.isString(yo)?yo.trim():yo,Xe,Bn))===!0&&wn(Pt,Xe?Xe.concat(yo):[yo])}),ft.pop()}}if(!xt.isObject(S))throw new TypeError("data must be an object");return wn(S),y}function sX(S){const y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(S).replace(/[!'()~]|%20|%00/g,function(N){return y[N]})}function fG(S,y){this._pairs=[],S&&h6(S,this,y)}const WX=fG.prototype;WX.append=function(y,A){this._pairs.push([y,A])};WX.toString=function(y){const A=y?function(N){return y.call(this,N,sX)}:sX;return this._pairs.map(function(V){return A(V[0])+"="+A(V[1])},"").join("&")};function vQ(S){return encodeURIComponent(S).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZX(S,y,A){if(!y)return S;const N=A&&A.encode||vQ,V=A&&A.serialize;let te;if(V?te=V(y,A):te=xt.isURLSearchParams(y)?y.toString():new fG(y,A).toString(N),te){const de=S.indexOf("#");de!==-1&&(S=S.slice(0,de)),S+=(S.indexOf("?")===-1?"?":"&")+te}return S}class rX{constructor(){this.handlers=[]}use(y,A,N){return this.handlers.push({fulfilled:y,rejected:A,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(y){this.handlers[y]&&(this.handlers[y]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(y){xt.forEach(this.handlers,function(N){N!==null&&y(N)})}}const jX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bQ=typeof URLSearchParams<"u"?URLSearchParams:fG,yQ=typeof FormData<"u"?FormData:null,wQ=typeof Blob<"u"?Blob:null,CQ={isBrowser:!0,classes:{URLSearchParams:bQ,FormData:yQ,Blob:wQ},protocols:["http","https","file","blob","url","data"]},qX=typeof window<"u"&&typeof document<"u",xQ=(S=>qX&&["ReactNative","NativeScript","NS"].indexOf(S)<0)(typeof navigator<"u"&&navigator.product),SQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qX,hasStandardBrowserEnv:xQ,hasStandardBrowserWebWorkerEnv:SQ},Symbol.toStringTag,{value:"Module"})),jp={...EQ,...CQ};function _Q(S,y){return h6(S,new jp.classes.URLSearchParams,Object.assign({visitor:function(A,N,V,te){return jp.isNode&&xt.isBuffer(A)?(this.append(N,A.toString("base64")),!1):te.defaultVisitor.apply(this,arguments)}},y))}function TQ(S){return xt.matchAll(/\w+|\[(\w*)]/g,S).map(y=>y[0]==="[]"?"":y[1]||y[0])}function kQ(S){const y={},A=Object.keys(S);let N;const V=A.length;let te;for(N=0;N<V;N++)te=A[N],y[te]=S[te];return y}function GX(S){function y(A,N,V,te){let de=A[te++];if(de==="__proto__")return!0;const ve=Number.isFinite(+de),He=te>=A.length;return de=!de&&xt.isArray(V)?V.length:de,He?(xt.hasOwnProp(V,de)?V[de]=[V[de],N]:V[de]=N,!ve):((!V[de]||!xt.isObject(V[de]))&&(V[de]=[]),y(A,N,V[de],te)&&xt.isArray(V[de])&&(V[de]=kQ(V[de])),!ve)}if(xt.isFormData(S)&&xt.isFunction(S.entries)){const A={};return xt.forEachEntry(S,(N,V)=>{y(TQ(N),V,A,0)}),A}return null}function AQ(S,y,A){if(xt.isString(S))try{return(y||JSON.parse)(S),xt.trim(S)}catch(N){if(N.name!=="SyntaxError")throw N}return(A||JSON.stringify)(S)}const mG={transitional:jX,adapter:["xhr","http"],transformRequest:[function(y,A){const N=A.getContentType()||"",V=N.indexOf("application/json")>-1,te=xt.isObject(y);if(te&&xt.isHTMLForm(y)&&(y=new FormData(y)),xt.isFormData(y))return V?JSON.stringify(GX(y)):y;if(xt.isArrayBuffer(y)||xt.isBuffer(y)||xt.isStream(y)||xt.isFile(y)||xt.isBlob(y))return y;if(xt.isArrayBufferView(y))return y.buffer;if(xt.isURLSearchParams(y))return A.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),y.toString();let ve;if(te){if(N.indexOf("application/x-www-form-urlencoded")>-1)return _Q(y,this.formSerializer).toString();if((ve=xt.isFileList(y))||N.indexOf("multipart/form-data")>-1){const He=this.env&&this.env.FormData;return h6(ve?{"files[]":y}:y,He&&new He,this.formSerializer)}}return te||V?(A.setContentType("application/json",!1),AQ(y)):y}],transformResponse:[function(y){const A=this.transitional||mG.transitional,N=A&&A.forcedJSONParsing,V=this.responseType==="json";if(y&&xt.isString(y)&&(N&&!this.responseType||V)){const de=!(A&&A.silentJSONParsing)&&V;try{return JSON.parse(y)}catch(ve){if(de)throw ve.name==="SyntaxError"?ks.from(ve,ks.ERR_BAD_RESPONSE,this,null,this.response):ve}}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jp.classes.FormData,Blob:jp.classes.Blob},validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xt.forEach(["delete","get","head","post","put","patch"],S=>{mG.headers[S]={}});const hG=mG,OQ=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DQ=S=>{const y={};let A,N,V;return S&&S.split(`
`).forEach(function(de){V=de.indexOf(":"),A=de.substring(0,V).trim().toLowerCase(),N=de.substring(V+1).trim(),!(!A||y[A]&&OQ[A])&&(A==="set-cookie"?y[A]?y[A].push(N):y[A]=[N]:y[A]=y[A]?y[A]+", "+N:N)}),y},iX=Symbol("internals");function SR(S){return S&&String(S).trim().toLowerCase()}function jF(S){return S===!1||S==null?S:xt.isArray(S)?S.map(jF):String(S)}function RQ(S){const y=Object.create(null),A=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=A.exec(S);)y[N[1]]=N[2];return y}const MQ=S=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(S.trim());function Mq(S,y,A,N,V){if(xt.isFunction(N))return N.call(this,y,A);if(V&&(y=A),!!xt.isString(y)){if(xt.isString(N))return y.indexOf(N)!==-1;if(xt.isRegExp(N))return N.test(y)}}function PQ(S){return S.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(y,A,N)=>A.toUpperCase()+N)}function NQ(S,y){const A=xt.toCamelCase(" "+y);["get","set","has"].forEach(N=>{Object.defineProperty(S,N+A,{value:function(V,te,de){return this[N].call(this,y,V,te,de)},configurable:!0})})}class p6{constructor(y){y&&this.set(y)}set(y,A,N){const V=this;function te(ve,He,St){const et=SR(He);if(!et)throw new Error("header name must be a non-empty string");const ft=xt.findKey(V,et);(!ft||V[ft]===void 0||St===!0||St===void 0&&V[ft]!==!1)&&(V[ft||He]=jF(ve))}const de=(ve,He)=>xt.forEach(ve,(St,et)=>te(St,et,He));return xt.isPlainObject(y)||y instanceof this.constructor?de(y,A):xt.isString(y)&&(y=y.trim())&&!MQ(y)?de(DQ(y),A):y!=null&&te(A,y,N),this}get(y,A){if(y=SR(y),y){const N=xt.findKey(this,y);if(N){const V=this[N];if(!A)return V;if(A===!0)return RQ(V);if(xt.isFunction(A))return A.call(this,V,N);if(xt.isRegExp(A))return A.exec(V);throw new TypeError("parser must be boolean|regexp|function")}}}has(y,A){if(y=SR(y),y){const N=xt.findKey(this,y);return!!(N&&this[N]!==void 0&&(!A||Mq(this,this[N],N,A)))}return!1}delete(y,A){const N=this;let V=!1;function te(de){if(de=SR(de),de){const ve=xt.findKey(N,de);ve&&(!A||Mq(N,N[ve],ve,A))&&(delete N[ve],V=!0)}}return xt.isArray(y)?y.forEach(te):te(y),V}clear(y){const A=Object.keys(this);let N=A.length,V=!1;for(;N--;){const te=A[N];(!y||Mq(this,this[te],te,y,!0))&&(delete this[te],V=!0)}return V}normalize(y){const A=this,N={};return xt.forEach(this,(V,te)=>{const de=xt.findKey(N,te);if(de){A[de]=jF(V),delete A[te];return}const ve=y?PQ(te):String(te).trim();ve!==te&&delete A[te],A[ve]=jF(V),N[ve]=!0}),this}concat(...y){return this.constructor.concat(this,...y)}toJSON(y){const A=Object.create(null);return xt.forEach(this,(N,V)=>{N!=null&&N!==!1&&(A[V]=y&&xt.isArray(N)?N.join(", "):N)}),A}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([y,A])=>y+": "+A).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(y){return y instanceof this?y:new this(y)}static concat(y,...A){const N=new this(y);return A.forEach(V=>N.set(V)),N}static accessor(y){const N=(this[iX]=this[iX]={accessors:{}}).accessors,V=this.prototype;function te(de){const ve=SR(de);N[ve]||(NQ(V,de),N[ve]=!0)}return xt.isArray(y)?y.forEach(te):te(y),this}}p6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xt.reduceDescriptors(p6.prototype,({value:S},y)=>{let A=y[0].toUpperCase()+y.slice(1);return{get:()=>S,set(N){this[A]=N}}});xt.freezeMethods(p6);const iv=p6;function Pq(S,y){const A=this||hG,N=y||A,V=iv.from(N.headers);let te=N.data;return xt.forEach(S,function(ve){te=ve.call(A,te,V.normalize(),y?y.status:void 0)}),V.normalize(),te}function KX(S){return!!(S&&S.__CANCEL__)}function PR(S,y,A){ks.call(this,S??"canceled",ks.ERR_CANCELED,y,A),this.name="CanceledError"}xt.inherits(PR,ks,{__CANCEL__:!0});function BQ(S,y,A){const N=A.config.validateStatus;!A.status||!N||N(A.status)?S(A):y(new ks("Request failed with status code "+A.status,[ks.ERR_BAD_REQUEST,ks.ERR_BAD_RESPONSE][Math.floor(A.status/100)-4],A.config,A.request,A))}const IQ=jp.hasStandardBrowserEnv?{write(S,y,A,N,V,te){const de=[S+"="+encodeURIComponent(y)];xt.isNumber(A)&&de.push("expires="+new Date(A).toGMTString()),xt.isString(N)&&de.push("path="+N),xt.isString(V)&&de.push("domain="+V),te===!0&&de.push("secure"),document.cookie=de.join("; ")},read(S){const y=document.cookie.match(new RegExp("(^|;\\s*)("+S+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove(S){this.write(S,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LQ(S){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(S)}function $Q(S,y){return y?S.replace(/\/?\/$/,"")+"/"+y.replace(/^\/+/,""):S}function XX(S,y){return S&&!LQ(y)?$Q(S,y):y}const FQ=jp.hasStandardBrowserEnv?function(){const y=/(msie|trident)/i.test(navigator.userAgent),A=document.createElement("a");let N;function V(te){let de=te;return y&&(A.setAttribute("href",de),de=A.href),A.setAttribute("href",de),{href:A.href,protocol:A.protocol?A.protocol.replace(/:$/,""):"",host:A.host,search:A.search?A.search.replace(/^\?/,""):"",hash:A.hash?A.hash.replace(/^#/,""):"",hostname:A.hostname,port:A.port,pathname:A.pathname.charAt(0)==="/"?A.pathname:"/"+A.pathname}}return N=V(window.location.href),function(de){const ve=xt.isString(de)?V(de):de;return ve.protocol===N.protocol&&ve.host===N.host}}():function(){return function(){return!0}}();function HQ(S){const y=/^([-+\w]{1,25})(:?\/\/|:)/.exec(S);return y&&y[1]||""}function zQ(S,y){S=S||10;const A=new Array(S),N=new Array(S);let V=0,te=0,de;return y=y!==void 0?y:1e3,function(He){const St=Date.now(),et=N[te];de||(de=St),A[V]=He,N[V]=St;let ft=te,Bn=0;for(;ft!==V;)Bn+=A[ft++],ft=ft%S;if(V=(V+1)%S,V===te&&(te=(te+1)%S),St-de<y)return;const wn=et&&St-et;return wn?Math.round(Bn*1e3/wn):void 0}}function aX(S,y){let A=0;const N=zQ(50,250);return V=>{const te=V.loaded,de=V.lengthComputable?V.total:void 0,ve=te-A,He=N(ve),St=te<=de;A=te;const et={loaded:te,total:de,progress:de?te/de:void 0,bytes:ve,rate:He||void 0,estimated:He&&de&&St?(de-te)/He:void 0,event:V};et[y?"download":"upload"]=!0,S(et)}}const VQ=typeof XMLHttpRequest<"u",UQ=VQ&&function(S){return new Promise(function(A,N){let V=S.data;const te=iv.from(S.headers).normalize();let{responseType:de,withXSRFToken:ve}=S,He;function St(){S.cancelToken&&S.cancelToken.unsubscribe(He),S.signal&&S.signal.removeEventListener("abort",He)}let et;if(xt.isFormData(V)){if(jp.hasStandardBrowserEnv||jp.hasStandardBrowserWebWorkerEnv)te.setContentType(!1);else if((et=te.getContentType())!==!1){const[Xe,...nt]=et?et.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];te.setContentType([Xe||"multipart/form-data",...nt].join("; "))}}let ft=new XMLHttpRequest;if(S.auth){const Xe=S.auth.username||"",nt=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";te.set("Authorization","Basic "+btoa(Xe+":"+nt))}const Bn=XX(S.baseURL,S.url);ft.open(S.method.toUpperCase(),ZX(Bn,S.params,S.paramsSerializer),!0),ft.timeout=S.timeout;function wn(){if(!ft)return;const Xe=iv.from("getAllResponseHeaders"in ft&&ft.getAllResponseHeaders()),Pt={data:!de||de==="text"||de==="json"?ft.responseText:ft.response,status:ft.status,statusText:ft.statusText,headers:Xe,config:S,request:ft};BQ(function(ae){A(ae),St()},function(ae){N(ae),St()},Pt),ft=null}if("onloadend"in ft?ft.onloadend=wn:ft.onreadystatechange=function(){!ft||ft.readyState!==4||ft.status===0&&!(ft.responseURL&&ft.responseURL.indexOf("file:")===0)||setTimeout(wn)},ft.onabort=function(){ft&&(N(new ks("Request aborted",ks.ECONNABORTED,S,ft)),ft=null)},ft.onerror=function(){N(new ks("Network Error",ks.ERR_NETWORK,S,ft)),ft=null},ft.ontimeout=function(){let nt=S.timeout?"timeout of "+S.timeout+"ms exceeded":"timeout exceeded";const Pt=S.transitional||jX;S.timeoutErrorMessage&&(nt=S.timeoutErrorMessage),N(new ks(nt,Pt.clarifyTimeoutError?ks.ETIMEDOUT:ks.ECONNABORTED,S,ft)),ft=null},jp.hasStandardBrowserEnv&&(ve&&xt.isFunction(ve)&&(ve=ve(S)),ve||ve!==!1&&FQ(Bn))){const Xe=S.xsrfHeaderName&&S.xsrfCookieName&&IQ.read(S.xsrfCookieName);Xe&&te.set(S.xsrfHeaderName,Xe)}V===void 0&&te.setContentType(null),"setRequestHeader"in ft&&xt.forEach(te.toJSON(),function(nt,Pt){ft.setRequestHeader(Pt,nt)}),xt.isUndefined(S.withCredentials)||(ft.withCredentials=!!S.withCredentials),de&&de!=="json"&&(ft.responseType=S.responseType),typeof S.onDownloadProgress=="function"&&ft.addEventListener("progress",aX(S.onDownloadProgress,!0)),typeof S.onUploadProgress=="function"&&ft.upload&&ft.upload.addEventListener("progress",aX(S.onUploadProgress)),(S.cancelToken||S.signal)&&(He=Xe=>{ft&&(N(!Xe||Xe.type?new PR(null,S,ft):Xe),ft.abort(),ft=null)},S.cancelToken&&S.cancelToken.subscribe(He),S.signal&&(S.signal.aborted?He():S.signal.addEventListener("abort",He)));const ct=HQ(Bn);if(ct&&jp.protocols.indexOf(ct)===-1){N(new ks("Unsupported protocol "+ct+":",ks.ERR_BAD_REQUEST,S));return}ft.send(V||null)})},zq={http:hQ,xhr:UQ};xt.forEach(zq,(S,y)=>{if(S){try{Object.defineProperty(S,"name",{value:y})}catch{}Object.defineProperty(S,"adapterName",{value:y})}});const cX=S=>`- ${S}`,WQ=S=>xt.isFunction(S)||S===null||S===!1,YX={getAdapter:S=>{S=xt.isArray(S)?S:[S];const{length:y}=S;let A,N;const V={};for(let te=0;te<y;te++){A=S[te];let de;if(N=A,!WQ(A)&&(N=zq[(de=String(A)).toLowerCase()],N===void 0))throw new ks(`Unknown adapter '${de}'`);if(N)break;V[de||"#"+te]=N}if(!N){const te=Object.entries(V).map(([ve,He])=>`adapter ${ve} `+(He===!1?"is not supported by the environment":"is not available in the build"));let de=y?te.length>1?`since :
`+te.map(cX).join(`
`):" "+cX(te[0]):"as no adapter specified";throw new ks("There is no suitable adapter to dispatch the request "+de,"ERR_NOT_SUPPORT")}return N},adapters:zq};function Nq(S){if(S.cancelToken&&S.cancelToken.throwIfRequested(),S.signal&&S.signal.aborted)throw new PR(null,S)}function lX(S){return Nq(S),S.headers=iv.from(S.headers),S.data=Pq.call(S,S.transformRequest),["post","put","patch"].indexOf(S.method)!==-1&&S.headers.setContentType("application/x-www-form-urlencoded",!1),YX.getAdapter(S.adapter||hG.adapter)(S).then(function(N){return Nq(S),N.data=Pq.call(S,S.transformResponse,N),N.headers=iv.from(N.headers),N},function(N){return KX(N)||(Nq(S),N&&N.response&&(N.response.data=Pq.call(S,S.transformResponse,N.response),N.response.headers=iv.from(N.response.headers))),Promise.reject(N)})}const uX=S=>S instanceof iv?{...S}:S;function WT(S,y){y=y||{};const A={};function N(St,et,ft){return xt.isPlainObject(St)&&xt.isPlainObject(et)?xt.merge.call({caseless:ft},St,et):xt.isPlainObject(et)?xt.merge({},et):xt.isArray(et)?et.slice():et}function V(St,et,ft){if(xt.isUndefined(et)){if(!xt.isUndefined(St))return N(void 0,St,ft)}else return N(St,et,ft)}function te(St,et){if(!xt.isUndefined(et))return N(void 0,et)}function de(St,et){if(xt.isUndefined(et)){if(!xt.isUndefined(St))return N(void 0,St)}else return N(void 0,et)}function ve(St,et,ft){if(ft in y)return N(St,et);if(ft in S)return N(void 0,St)}const He={url:te,method:te,data:te,baseURL:de,transformRequest:de,transformResponse:de,paramsSerializer:de,timeout:de,timeoutMessage:de,withCredentials:de,withXSRFToken:de,adapter:de,responseType:de,xsrfCookieName:de,xsrfHeaderName:de,onUploadProgress:de,onDownloadProgress:de,decompress:de,maxContentLength:de,maxBodyLength:de,beforeRedirect:de,transport:de,httpAgent:de,httpsAgent:de,cancelToken:de,socketPath:de,responseEncoding:de,validateStatus:ve,headers:(St,et)=>V(uX(St),uX(et),!0)};return xt.forEach(Object.keys(Object.assign({},S,y)),function(et){const ft=He[et]||V,Bn=ft(S[et],y[et],et);xt.isUndefined(Bn)&&ft!==ve||(A[et]=Bn)}),A}const JX="1.6.8",pG={};["object","boolean","number","function","string","symbol"].forEach((S,y)=>{pG[S]=function(N){return typeof N===S||"a"+(y<1?"n ":" ")+S}});const dX={};pG.transitional=function(y,A,N){function V(te,de){return"[Axios v"+JX+"] Transitional option '"+te+"'"+de+(N?". "+N:"")}return(te,de,ve)=>{if(y===!1)throw new ks(V(de," has been removed"+(A?" in "+A:"")),ks.ERR_DEPRECATED);return A&&!dX[de]&&(dX[de]=!0,console.warn(V(de," has been deprecated since v"+A+" and will be removed in the near future"))),y?y(te,de,ve):!0}};function ZQ(S,y,A){if(typeof S!="object")throw new ks("options must be an object",ks.ERR_BAD_OPTION_VALUE);const N=Object.keys(S);let V=N.length;for(;V-- >0;){const te=N[V],de=y[te];if(de){const ve=S[te],He=ve===void 0||de(ve,te,S);if(He!==!0)throw new ks("option "+te+" must be "+He,ks.ERR_BAD_OPTION_VALUE);continue}if(A!==!0)throw new ks("Unknown option "+te,ks.ERR_BAD_OPTION)}}const Vq={assertOptions:ZQ,validators:pG},F0=Vq.validators;class l6{constructor(y){this.defaults=y,this.interceptors={request:new rX,response:new rX}}async request(y,A){try{return await this._request(y,A)}catch(N){if(N instanceof Error){let V;Error.captureStackTrace?Error.captureStackTrace(V={}):V=new Error;const te=V.stack?V.stack.replace(/^.+\n/,""):"";N.stack?te&&!String(N.stack).endsWith(te.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+te):N.stack=te}throw N}}_request(y,A){typeof y=="string"?(A=A||{},A.url=y):A=y||{},A=WT(this.defaults,A);const{transitional:N,paramsSerializer:V,headers:te}=A;N!==void 0&&Vq.assertOptions(N,{silentJSONParsing:F0.transitional(F0.boolean),forcedJSONParsing:F0.transitional(F0.boolean),clarifyTimeoutError:F0.transitional(F0.boolean)},!1),V!=null&&(xt.isFunction(V)?A.paramsSerializer={serialize:V}:Vq.assertOptions(V,{encode:F0.function,serialize:F0.function},!0)),A.method=(A.method||this.defaults.method||"get").toLowerCase();let de=te&&xt.merge(te.common,te[A.method]);te&&xt.forEach(["delete","get","head","post","put","patch","common"],ct=>{delete te[ct]}),A.headers=iv.concat(de,te);const ve=[];let He=!0;this.interceptors.request.forEach(function(Xe){typeof Xe.runWhen=="function"&&Xe.runWhen(A)===!1||(He=He&&Xe.synchronous,ve.unshift(Xe.fulfilled,Xe.rejected))});const St=[];this.interceptors.response.forEach(function(Xe){St.push(Xe.fulfilled,Xe.rejected)});let et,ft=0,Bn;if(!He){const ct=[lX.bind(this),void 0];for(ct.unshift.apply(ct,ve),ct.push.apply(ct,St),Bn=ct.length,et=Promise.resolve(A);ft<Bn;)et=et.then(ct[ft++],ct[ft++]);return et}Bn=ve.length;let wn=A;for(ft=0;ft<Bn;){const ct=ve[ft++],Xe=ve[ft++];try{wn=ct(wn)}catch(nt){Xe.call(this,nt);break}}try{et=lX.call(this,wn)}catch(ct){return Promise.reject(ct)}for(ft=0,Bn=St.length;ft<Bn;)et=et.then(St[ft++],St[ft++]);return et}getUri(y){y=WT(this.defaults,y);const A=XX(y.baseURL,y.url);return ZX(A,y.params,y.paramsSerializer)}}xt.forEach(["delete","get","head","options"],function(y){l6.prototype[y]=function(A,N){return this.request(WT(N||{},{method:y,url:A,data:(N||{}).data}))}});xt.forEach(["post","put","patch"],function(y){function A(N){return function(te,de,ve){return this.request(WT(ve||{},{method:y,headers:N?{"Content-Type":"multipart/form-data"}:{},url:te,data:de}))}}l6.prototype[y]=A(),l6.prototype[y+"Form"]=A(!0)});const qF=l6;class gG{constructor(y){if(typeof y!="function")throw new TypeError("executor must be a function.");let A;this.promise=new Promise(function(te){A=te});const N=this;this.promise.then(V=>{if(!N._listeners)return;let te=N._listeners.length;for(;te-- >0;)N._listeners[te](V);N._listeners=null}),this.promise.then=V=>{let te;const de=new Promise(ve=>{N.subscribe(ve),te=ve}).then(V);return de.cancel=function(){N.unsubscribe(te)},de},y(function(te,de,ve){N.reason||(N.reason=new PR(te,de,ve),A(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(y){if(this.reason){y(this.reason);return}this._listeners?this._listeners.push(y):this._listeners=[y]}unsubscribe(y){if(!this._listeners)return;const A=this._listeners.indexOf(y);A!==-1&&this._listeners.splice(A,1)}static source(){let y;return{token:new gG(function(V){y=V}),cancel:y}}}const jQ=gG;function qQ(S){return function(A){return S.apply(null,A)}}function GQ(S){return xt.isObject(S)&&S.isAxiosError===!0}const Uq={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uq).forEach(([S,y])=>{Uq[y]=S});const KQ=Uq;function QX(S){const y=new qF(S),A=PX(qF.prototype.request,y);return xt.extend(A,qF.prototype,y,{allOwnKeys:!0}),xt.extend(A,y,null,{allOwnKeys:!0}),A.create=function(V){return QX(WT(S,V))},A}const Ma=QX(hG);Ma.Axios=qF;Ma.CanceledError=PR;Ma.CancelToken=jQ;Ma.isCancel=KX;Ma.VERSION=JX;Ma.toFormData=h6;Ma.AxiosError=ks;Ma.Cancel=Ma.CanceledError;Ma.all=function(y){return Promise.all(y)};Ma.spread=qQ;Ma.isAxiosError=GQ;Ma.mergeConfig=WT;Ma.AxiosHeaders=iv;Ma.formToJSON=S=>GX(xt.isHTMLForm(S)?new FormData(S):S);Ma.getAdapter=YX.getAdapter;Ma.HttpStatusCode=KQ;Ma.default=Ma;const XQ=Ma;window.axios=XQ;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var YQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JQ(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var QQ={exports:{}};(function(S){(function(){var y=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},A=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},N=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},V=function(e,n){return te(function(o,r){return e.eq(n(o),n(r))})},te=function(e){return{eq:e}},de=te(function(e,n){return e===n}),ve=de,He=function(e){return te(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e.eq(n[a],o[a]))return!1;return!0})},St=function(e,n){return V(He(e),function(o){return N(o,n)})},et=function(e){return te(function(n,o){var r=Object.keys(n),a=Object.keys(o);if(!St(ve).eq(r,a))return!1;for(var u=r.length,m=0;m<u;m++){var v=r[m];if(!e.eq(n[v],o[v]))return!1}return!0})},ft=te(function(e,n){if(e===n)return!0;var o=y(e),r=y(n);return o!==r?!1:A(o)?e===n:o==="array"?He(ft).eq(e,n):o==="object"?et(ft).eq(e,n):!1});const Bn=Object.getPrototypeOf,wn=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},ct=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&wn(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},Xe=e=>n=>ct(n)===e,nt=e=>n=>typeof n===e,Pt=e=>n=>e===n,yo=(e,n)=>Ft(e)&&wn(e,n,(o,r)=>Bn(o)===r),ae=Xe("string"),Ft=Xe("object"),Lo=e=>yo(e,Object),hn=Xe("array"),D=Pt(null),pn=nt("boolean"),En=Pt(void 0),_n=e=>e==null,Ne=e=>!_n(e),le=nt("function"),Pn=nt("number"),Gn=(e,n)=>{if(hn(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Zt=()=>{},M=(e,n)=>(...o)=>e(n.apply(null,o)),ro=(e,n)=>o=>e(n(o)),lt=e=>()=>e,po=e=>e,un=(e,n)=>e===n;function qe(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Uo=e=>n=>!e(n),Tr=e=>()=>{throw new Error(e)},qo=e=>e(),Fs=e=>{e()},Ze=lt(!1),Tt=lt(!0);class W{constructor(n,o){this.tag=n,this.value=o}static some(n){return new W(!0,n)}static none(){return W.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?W.some(n(this.value)):W.none()}bind(n){return this.tag?n(this.value):W.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:W.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ne(n)?W.some(n):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const mc=Array.prototype.slice,ao=Array.prototype.indexOf,As=Array.prototype.push,ko=(e,n)=>ao.call(e,n),cd=(e,n)=>{const o=ko(e,n);return o===-1?W.none():W.some(o)},gn=(e,n)=>ko(e,n)>-1,Go=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return!0}return!1},mn=(e,n)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const u=e[a];r[a]=n(u,a)}return r},Ae=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];n(a,o)}},li=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Nr=(e,n)=>{const o=[],r=[];for(let a=0,u=e.length;a<u;a++){const m=e[a];(n(m,a)?o:r).push(m)}return{pass:o,fail:r}},Ut=(e,n)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const u=e[r];n(u,r)&&o.push(u)}return o},Ga=(e,n,o)=>(li(e,(r,a)=>{o=n(o,r,a)}),o),wo=(e,n,o)=>(Ae(e,(r,a)=>{o=n(o,r,a)}),o),Ka=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++){const u=e[r];if(n(u,r))return W.some(u);if(o(u,r))break}return W.none()},Ko=(e,n)=>Ka(e,n,Ze),ln=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return W.some(o)}return W.none()},Br=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!hn(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);As.apply(n,e[o])}return n},Ri=(e,n)=>Br(mn(e,n)),hr=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(n(a,o)!==!0)return!1}return!0},xs=e=>{const n=mc.call(e,0);return n.reverse(),n},om=(e,n)=>Ut(e,o=>!gn(n,o)),ar=(e,n)=>{const o={};for(let r=0,a=e.length;r<a;r++){const u=e[r];o[String(u)]=n(u,r)}return o},os=(e,n)=>{const o=mc.call(e,0);return o.sort(n),o},ma=(e,n)=>n>=0&&n<e.length?W.some(e[n]):W.none(),Gs=e=>ma(e,0),ha=e=>ma(e,e.length-1),Xi=le(Array.from)?Array.from:e=>mc.call(e),Hc=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return W.none()},rf=(e,n)=>{const o=[],r=le(n)?a=>Go(o,u=>n(u,a)):a=>gn(o,a);for(let a=0,u=e.length;a<u;a++){const m=e[a];r(m)||o.push(m)}return o},ui=Object.keys,Xp=Object.hasOwnProperty,wt=(e,n)=>{const o=ui(e);for(let r=0,a=o.length;r<a;r++){const u=o[r],m=e[u];n(m,u)}},io=(e,n)=>pa(e,(o,r)=>({k:r,v:n(o,r)})),pa=(e,n)=>{const o={};return wt(e,(r,a)=>{const u=n(r,a);o[u.k]=u.v}),o},Yi=e=>(n,o)=>{e[o]=n},Ji=(e,n,o,r)=>{wt(e,(a,u)=>{(n(a,u)?o:r)(a,u)})},Ir=(e,n)=>{const o={},r={};return Ji(e,n,Yi(o),Yi(r)),{t:o,f:r}},ss=(e,n)=>{const o={};return Ji(e,n,Yi(o),Zt),o},lu=(e,n)=>{const o=[];return wt(e,(r,a)=>{o.push(n(r,a))}),o},ld=e=>lu(e,po),Xo=(e,n)=>en(e,n)?W.from(e[n]):W.none(),en=(e,n)=>Xp.call(e,n),Lr=(e,n)=>en(e,n)&&e[n]!==void 0&&e[n]!==null,Tl=(e,n,o=ft)=>et(o).eq(e,n),ud=e=>{const n={};return Ae(e,o=>{n[o]={}}),ui(n)},Yp=e=>e.length!==void 0,Mi=Array.isArray,di=e=>{if(Mi(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Ks=(e,n,o)=>{if(!e)return!1;if(o=o||e,Yp(e)){for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(en(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},zc=(e,n)=>{const o=[];return Ks(e,(r,a)=>{o.push(n(r,a,e))}),o},vh=(e,n)=>{const o=[];return Ks(e,(r,a)=>{(!n||n(r,a,e))&&o.push(r)}),o},Vc=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},ga=(e,n,o,r)=>{let a=En(o)?e[0]:o;for(let u=0;u<e.length;u++)a=n.call(r,a,e[u],u);return a},Wo=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e))return r;return-1},Pa=e=>e[e.length-1],Xa=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Jp=(e,n,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!a,m=e.isiOS()||e.isAndroid(),v=m||r("(pointer:coarse)"),C=a||!u&&m&&r("(min-device-width:768px)"),k=u||m&&!C,L=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,$=!k&&!C&&!L;return{isiPad:lt(a),isiPhone:lt(u),isTablet:lt(C),isPhone:lt(k),isTouch:lt(v),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:lt(L),isDesktop:lt($)}},bh=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Uc=(e,n)=>{const o=bh(e,n);if(!o)return{major:0,minor:0};const r=a=>Number(n.replace(o,"$"+a));return Pi(r(1),r(2))},jT=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?be():Uc(e,o)},be=()=>Pi(0,0),Pi=(e,n)=>({major:e,minor:n}),dd={nu:Pi,detect:jT,unknown:be},Qp=(e,n)=>Hc(n.brands,o=>{const r=o.brand.toLowerCase();return Ko(e,a=>{var u;return r===((u=a.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(a=>({current:a.name,version:dd.nu(parseInt(o.version,10),0)}))}),yh=(e,n)=>{const o=String(n).toLowerCase();return Ko(e,r=>r.search(o))},as=(e,n)=>yh(e,n).map(o=>{const r=dd.detect(o.versionRegexes,n);return{current:o.name,version:r}}),sm=(e,n)=>yh(e,n).map(o=>{const r=dd.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Z0=(e,n)=>e.substring(n),rm=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,fd=(e,n)=>Rs(e,n)?Z0(e,n.length):e,$r=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return a!==-1?En(r)?!0:a+n.length<=r:!1},Rs=(e,n)=>rm(e,n,0),Wc=(e,n)=>rm(e,n,e.length-n.length),Hs=e=>n=>n.replace(e,""),Ya=Hs(/^\s+|\s+$/g),uu=Hs(/^\s+/g),af=Hs(/\s+$/g),$o=e=>e.length>0,Ni=e=>!$o(e),cv=(e,n)=>n<=0?"":new Array(n+1).join(e),Zc=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?W.none():W.some(o)},kl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Bi=e=>n=>$r(n,e),Ms=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$r(e,"edge/")&&$r(e,"chrome")&&$r(e,"safari")&&$r(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kl],search:e=>$r(e,"chrome")&&!$r(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$r(e,"msie")||$r(e,"trident")},{name:"Opera",versionRegexes:[kl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Bi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Bi("firefox")},{name:"Safari",versionRegexes:[kl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($r(e,"safari")||$r(e,"mobile/"))&&$r(e,"applewebkit")}],hc=[{name:"Windows",search:Bi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$r(e,"iphone")||$r(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Bi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Bi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Bi("linux"),versionRegexes:[]},{name:"Solaris",search:Bi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Bi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Bi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],wh={browsers:lt(Ms),oses:lt(hc)},uo="Edge",Na="Chromium",va="IE",zs="Opera",jc="Firefox",Al="Safari",Ja=()=>pc({current:void 0,version:dd.unknown()}),pc=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isEdge:r(uo),isChromium:r(Na),isIE:r(va),isOpera:r(zs),isFirefox:r(jc),isSafari:r(Al)}},Qa={unknown:Ja,nu:pc,edge:lt(uo),chromium:lt(Na),ie:lt(va),opera:lt(zs),firefox:lt(jc),safari:lt(Al)},Ch="Windows",xh="iOS",eg="Android",gc="Linux",Ol="macOS",Sh="Solaris",Eh="FreeBSD",im="ChromeOS",tg=()=>am({current:void 0,version:dd.unknown()}),am=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isWindows:r(Ch),isiOS:r(xh),isAndroid:r(eg),isMacOS:r(Ol),isLinux:r(gc),isSolaris:r(Sh),isFreeBSD:r(Eh),isChromeOS:r(im)}},lv={unknown:tg,nu:am,windows:lt(Ch),ios:lt(xh),android:lt(eg),linux:lt(gc),macos:lt(Ol),solaris:lt(Sh),freebsd:lt(Eh),chromeos:lt(im)},ec={detect:(e,n,o)=>{const r=wh.browsers(),a=wh.oses(),u=n.bind(C=>Qp(r,C)).orThunk(()=>as(r,e)).fold(Qa.unknown,Qa.nu),m=sm(a,e).fold(lv.unknown,lv.nu),v=Jp(m,u,e,o);return{browser:u,os:m,deviceType:v}}},j0=e=>window.matchMedia(e).matches;let ng=Xa(()=>ec.detect(navigator.userAgent,W.from(navigator.userAgentData),j0));const tc=()=>ng(),og=navigator.userAgent,cm=tc(),cr=cm.browser,Xr=cm.os,du=cm.deviceType,_h=og.indexOf("Windows Phone")!==-1,Et={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:cr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!cr.isIE(),windowsPhone:_h,browser:{current:cr.current,version:cr.version,isChromium:cr.isChromium,isEdge:cr.isEdge,isFirefox:cr.isFirefox,isIE:cr.isIE,isOpera:cr.isOpera,isSafari:cr.isSafari},os:{current:Xr.current,version:Xr.version,isAndroid:Xr.isAndroid,isChromeOS:Xr.isChromeOS,isFreeBSD:Xr.isFreeBSD,isiOS:Xr.isiOS,isLinux:Xr.isLinux,isMacOS:Xr.isMacOS,isSolaris:Xr.isSolaris,isWindows:Xr.isWindows},deviceType:{isDesktop:du.isDesktop,isiPad:du.isiPad,isiPhone:du.isiPhone,isPhone:du.isPhone,isTablet:du.isTablet,isTouch:du.isTouch,isWebView:du.isWebView}},uv=/^\s*|\s*$/g,Ss=e=>_n(e)?"":(""+e).replace(uv,""),Xs=(e,n)=>n?n==="array"&&Mi(e)?!0:typeof e===n:e!==void 0,Th=(e,n,o={})=>{const r=ae(e)?e.split(n||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},bs=en,q0=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const a in r)if(en(r,a)){const u=r[a];u!==void 0&&(e[a]=u)}}return e},lm=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Ks(e,(a,u)=>n.call(r,a,u,o)===!1?!1:(lm(a,n,o,r),!0)))},O={trim:Ss,isArray:Mi,is:Xs,toArray:di,makeMap:Th,each:Ks,map:zc,grep:vh,inArray:Vc,hasOwn:bs,extend:q0,walk:lm,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>hn(e)?e:e===""?[]:zc(e.split(n||","),Ss),_addCacheSuffix:e=>{const n=Et.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},I=(e,n,o=un)=>e.exists(r=>o(r,n)),q=(e,n,o=un)=>J(e,n,o).getOr(e.isNone()&&n.isNone()),Z=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},J=(e,n,o)=>e.isSome()&&n.isSome()?W.some(o(e.getOrDie(),n.getOrDie())):W.none(),ge=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?W.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):W.none(),se=(e,n)=>e?W.some(n):W.none(),_e=typeof window<"u"?window:Function("return this;")(),Ue=(e,n)=>{let o=n??_e;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},st=(e,n)=>{const o=e.split(".");return Ue(o,n)},Pe=(e,n)=>st(e,n),At=(e,n)=>{const o=Pe(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Qn=Object.getPrototypeOf,Fo=e=>At("HTMLElement",e),vn=e=>{const n=st("ownerDocument.defaultView",e);return Ft(e)&&(Fo(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Qn(e).constructor.name))},fi=8,Do=9,Ys=11,Fr=1,Co=3,Un=e=>e.dom.nodeName.toLowerCase(),to=e=>e.dom.nodeType,hs=e=>n=>to(n)===e,qc=e=>to(e)===fi||Un(e)==="#comment",ba=e=>lr(e)&&vn(e.dom),lr=hs(Fr),Ho=hs(Co),ya=hs(Do),wa=hs(Ys),Ba=e=>n=>lr(n)&&Un(n)===e,yi=(e,n,o)=>{if(ae(o)||pn(o)||Pn(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},zo=(e,n,o)=>{yi(e.dom,n,o)},wi=(e,n)=>{const o=e.dom;wt(n,(r,a)=>{yi(o,a,r)})},cs=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},vc=(e,n)=>W.from(cs(e,n)),md=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},pr=(e,n)=>{e.dom.removeAttribute(n)},go=e=>{const n=e.dom.attributes;return n==null||n.length===0},Dl=e=>wo(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ca=(e,n)=>{const o=cs(e,n);return o===void 0||o===""?[]:o.split(" ")},Gc=(e,n,o)=>{const a=Ca(e,n).concat([o]);return zo(e,n,a.join(" ")),!0},kh=(e,n,o)=>{const r=Ut(Ca(e,n),a=>a!==o);return r.length>0?zo(e,n,r.join(" ")):pr(e,n),!1},cf=e=>e.dom.classList!==void 0,dm=e=>Ca(e,"class"),xa=(e,n)=>Gc(e,"class",n),hd=(e,n)=>kh(e,"class",n),gr=(e,n)=>gn(dm(e),n)?hd(e,n):xa(e,n),fu=(e,n)=>{cf(e)?e.dom.classList.add(n):xa(e,n)},mu=e=>{(cf(e)?e.dom.classList:dm(e)).length===0&&pr(e,"class")},Kc=(e,n)=>{cf(e)?e.dom.classList.remove(n):hd(e,n),mu(e)},fm=(e,n)=>{const o=cf(e)?e.dom.classList.toggle(n):gr(e,n);return mu(e),o},pd=(e,n)=>cf(e)&&e.dom.classList.contains(n),dv=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return hu(r.childNodes[0])},Rl=(e,n)=>{const r=(n||document).createElement(e);return hu(r)},Ah=(e,n)=>{const r=(n||document).createTextNode(e);return hu(r)},hu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},re={fromHtml:dv,fromTag:Rl,fromText:Ah,fromDom:hu,fromPoint:(e,n,o)=>W.from(e.dom.elementFromPoint(n,o)).map(hu)},Oh=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let a=n(e);do a=a.bind(r);while(a.isSome());return o},ie=(e,n)=>{const o=e.dom;if(o.nodeType!==Fr)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},we=e=>e.nodeType!==Fr&&e.nodeType!==Do&&e.nodeType!==Ys||e.childElementCount===0,Ve=(e,n)=>{const o=n===void 0?document:n.dom;return we(o)?[]:mn(o.querySelectorAll(e),re.fromDom)},Ge=(e,n)=>{const o=n===void 0?document:n.dom;return we(o)?W.none():W.from(o.querySelector(e)).map(re.fromDom)},Fe=(e,n)=>e.dom===n.dom,Lt=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},jt=e=>re.fromDom(e.dom.ownerDocument),nn=e=>ya(e)?e:jt(e),dn=e=>re.fromDom(nn(e).dom.documentElement),ho=e=>re.fromDom(nn(e).dom.defaultView),Dn=e=>W.from(e.dom.parentNode).map(re.fromDom),Kn=e=>W.from(e.dom.parentElement).map(re.fromDom),xo=(e,n)=>{const o=le(n)?n:Ze;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=re.fromDom(u);if(a.push(m),o(m)===!0)break;r=u}return a},zn=e=>{const n=o=>Ut(o,r=>!Fe(e,r));return Dn(e).map(Es).map(n).getOr([])},Oo=e=>W.from(e.dom.previousSibling).map(re.fromDom),Yr=e=>W.from(e.dom.nextSibling).map(re.fromDom),mi=e=>xs(Oh(e,Oo)),Js=e=>Oh(e,Yr),Es=e=>mn(e.dom.childNodes,re.fromDom),Ia=(e,n)=>{const o=e.dom.childNodes;return W.from(o[n]).map(re.fromDom)},Hr=e=>Ia(e,0),Xc=e=>Ia(e,e.dom.childNodes.length-1),Qi=e=>e.dom.childNodes.length,fv=e=>e.dom.hasChildNodes(),F2=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return re.fromDom(n)},sg=e=>wa(e)&&Ne(e.dom.host),rg=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode),mv=lt(rg),gd=rg?e=>re.fromDom(e.dom.getRootNode()):nn,hv=e=>sg(e)?e:F2(nn(e)),qT=e=>sg(e)?e:re.fromDom(nn(e).dom.body),g6=e=>{const n=gd(e);return sg(n)?W.some(n):W.none()},GT=e=>re.fromDom(e.dom.host),pv=e=>{if(mv()&&Ne(e.target)){const n=re.fromDom(e.target);if(lr(n)&&KT(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Gs(o)}}return W.from(e.target)},KT=e=>Ne(e.dom.shadowRoot),mm=e=>{const n=Ho(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return g6(re.fromDom(n)).fold(()=>o.body.contains(n),ro(mm,GT))};var vr=(e,n,o,r,a)=>e(o,r)?W.some(o):le(a)&&a(o)?W.none():n(o,r,a);const Ps=(e,n,o)=>{let r=e.dom;const a=le(o)?o:Ze;for(;r.parentNode;){r=r.parentNode;const u=re.fromDom(r);if(n(u))return W.some(u);if(a(u))break}return W.none()},Ii=(e,n,o)=>vr((a,u)=>u(a),Ps,e,n,o),K0=(e,n)=>{const o=e.dom;return o.parentNode?XT(re.fromDom(o.parentNode),r=>!Fe(e,r)&&n(r)):W.none()},XT=(e,n)=>{const o=a=>n(re.fromDom(a));return Ko(e.dom.childNodes,o).map(re.fromDom)},Li=(e,n)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const u=re.fromDom(r.childNodes[a]);if(n(u))return W.some(u);const m=o(r.childNodes[a]);if(m.isSome())return m}return W.none()};return o(e.dom)},ig=(e,n,o)=>Ps(e,r=>ie(r,n),o),ag=(e,n)=>Ge(n,e),lf=(e,n,o)=>vr((a,u)=>ie(a,u),ig,e,n,o),uf=e=>lf(e,"[contenteditable]"),An=(e,n=!1)=>mm(e)?e.dom.isContentEditable:uf(e).fold(lt(n),o=>La(o)==="true"),La=e=>e.dom.contentEditable,hm=e=>e.style!==void 0&&le(e.style.getPropertyValue),gv=(e,n,o)=>{if(!ae(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);hm(e)&&e.style.setProperty(n,o)},H2=(e,n)=>{hm(e)&&e.style.removeProperty(n)},Dh=(e,n,o)=>{const r=e.dom;gv(r,n,o)},cg=(e,n)=>{const o=e.dom;wt(n,(r,a)=>{gv(o,a,r)})},pu=(e,n)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(n);return a===""&&!mm(e)?nc(o,n):a},nc=(e,n)=>hm(e)?e.style.getPropertyValue(n):"",$i=(e,n)=>{const o=e.dom,r=nc(o,n);return W.from(r).filter(a=>a.length>0)},bc=e=>{const n={},o=e.dom;if(hm(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);n[a]=o.style[a]}return n},hi=(e,n)=>{const o=e.dom;H2(o,n),I(vc(e,"style").map(Ya),"")&&pr(e,"style")},Qs=e=>e.dom.offsetWidth,Ci=(e,n)=>{Dn(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},vd=(e,n)=>{Yr(e).fold(()=>{Dn(e).each(a=>{ur(a,n)})},r=>{Ci(r,n)})},Ml=(e,n)=>{Hr(e).fold(()=>{ur(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},ur=(e,n)=>{e.dom.appendChild(n.dom)},z2=(e,n)=>{Ci(e,n),ur(n,e)},V2=(e,n)=>{Ae(n,(o,r)=>{const a=r===0?e:n[r-1];vd(a,o)})},Yo=(e,n)=>{Ae(n,o=>{ur(e,o)})},pm=e=>{e.dom.textContent="",Ae(Es(e),n=>{vo(n)})},vo=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},gu=e=>{const n=Es(e);n.length>0&&V2(e,n),vo(e)},X0=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Es(re.fromDom(r))},vv=e=>mn(e,re.fromDom),Y0=e=>e.dom.innerHTML,J0=(e,n)=>{const r=jt(e).dom,a=re.fromDom(r.createDocumentFragment()),u=X0(n,r);Yo(a,u),pm(e),ur(e,a)},no=e=>{const n=re.fromTag("div"),o=re.fromDom(e.dom.cloneNode(!0));return ur(n,o),Y0(n)},bv=(e,n,o,r,a,u,m)=>({target:e,x:n,y:o,stop:r,prevent:a,kill:u,raw:m}),YT=e=>{const n=re.fromDom(pv(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=M(r,o);return bv(n,e.clientX,e.clientY,o,r,a,e)},JT=(e,n)=>o=>{e(o)&&n(YT(o))},U2=(e,n,o,r,a)=>{const u=JT(o,r);return e.dom.addEventListener(n,u,a),{unbind:qe(QT,e,n,u,a)}},yv=(e,n,o,r)=>U2(e,n,o,r,!1),QT=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},gm=(e,n)=>({left:e,top:n,translate:(r,a)=>gm(e+r,n+a)}),vu=gm,W2=e=>{const n=e.getBoundingClientRect();return vu(n.left,n.top)},wv=(e,n)=>e!==void 0?e:n!==void 0?n:0,Z2=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,a=n.documentElement;if(o===e.dom)return vu(o.offsetLeft,o.offsetTop);const u=wv(r==null?void 0:r.pageYOffset,a.scrollTop),m=wv(r==null?void 0:r.pageXOffset,a.scrollLeft),v=wv(a.clientTop,o.clientTop),C=wv(a.clientLeft,o.clientLeft);return Pl(e).translate(m-C,u-v)},Pl=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?vu(r.offsetLeft,r.offsetTop):mm(e)?W2(n):vu(0,0)},df=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return vu(o,r)},Rh=(e,n,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,n)},Mh=(e,n)=>{tc().browser.isSafari()&&le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},j2=e=>{const n=e===void 0?window:e;return tc().browser.isFirefox()?W.none():W.from(n.visualViewport)},Q0=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),ey=e=>{const n=e===void 0?window:e,o=n.document,r=df(re.fromDom(o));return j2(n).fold(()=>{const a=n.document.documentElement,u=a.clientWidth,m=a.clientHeight;return Q0(r.left,r.top,u,m)},a=>Q0(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},q2=(e,n)=>Ut(Es(e),n),ty=(e,n)=>{let o=[];return Ae(Es(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(ty(r,n))}),o},pi=(e,n)=>Ve(n,e),ny=(e,n,o)=>Ps(e,n,o).isSome(),Sa=(e,n)=>K0(e,n).isSome(),sn=(e,n)=>Li(e,n).isSome();class Ns{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,a){if(n){if(!a&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const a=n.parentNode;if(a&&a!==this.rootNode)return a}}}const bd="\uFEFF",Jr="",Ph=e=>e===bd,G2=e=>e.replace(/\uFEFF/g,""),bu=/^[ \t\r\n]*$/,Nl=e=>bu.test(e),vm=e=>{for(const n of e)if(!Ph(n))return!1;return!0},Qr=e=>" \f	\v".indexOf(e)!==-1,Nh=e=>e===`
`||e==="\r",oy=(e,n)=>n<e.length&&n>=0?Nh(e[n]):!1,sy=(e,n=4,o=!0,r=!0)=>{const a=cv(" ",n),u=e.replace(/\t/g,a);return wo(u,(v,C)=>Qr(C)||C===Jr?v.pcIsSpace||v.str===""&&o||v.str.length===u.length-1&&r||oy(u,v.str.length+1)?{pcIsSpace:!1,str:v.str+Jr}:{pcIsSpace:!0,str:v.str+" "}:{pcIsSpace:Nh(C),str:v.str+C},{pcIsSpace:!1,str:""}).str},ff=e=>n=>!!n&&n.nodeType===e,Cv=e=>!!e&&!Object.getPrototypeOf(e),It=ff(1),yd=e=>It(e)&&ba(re.fromDom(e)),Bh=e=>It(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",bm=e=>{const n=e.toLowerCase();return o=>Ne(o)&&o.nodeName.toLowerCase()===n},Yc=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return gn(n,r)}return!1}},ls=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(It(r)){const a=r.ownerDocument.defaultView;if(a)for(let u=0;u<o.length;u++){const m=a.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},Bl=e=>n=>It(n)&&n.hasAttribute(e),zr=e=>It(e)&&e.hasAttribute("data-mce-bogus"),Ih=e=>It(e)&&e.getAttribute("data-mce-bogus")==="all",br=e=>It(e)&&e.tagName==="TABLE",ry=e=>n=>!!(yd(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Vr=Yc(["textarea","input"]),Ke=ff(3),mf=ff(4),je=ff(7),ei=ff(8),Lh=ff(9),er=ff(11),Jo=bm("br"),iy=bm("img"),kr=ry("true"),ps=ry("false"),Jc=Yc(["td","th"]),K2=Yc(["td","th","caption"]),Ar=Yc(["video","audio","object","embed"]),bo=bm("li"),Qc=bm("details"),lg=bm("summary"),xi={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},X2=(e,n,o)=>{const r=re.fromDom(n),a=re.fromDom(e),u=o.getWhitespaceElements();return ny(a,v=>en(u,Un(v)),qe(Fe,r))},hf=e=>It(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Y2=(e,n)=>It(e)&&en(n.getNonEmptyElements(),e.nodeName),Ea=Bl("data-mce-bookmark"),ay=e=>Kn(re.fromDom(e)).exists(n=>!An(n)),xe=(e,n,o)=>Nl(e.data)&&!X2(e,n,o),yc=(e,n,o,r)=>Ke(e)&&!xe(e,n,o)&&(!r.includeZwsp||!vm(e.data)),ug=(e,n,o,r)=>le(r.isContent)&&r.isContent(n)||Y2(n,e)||Ea(n)||hf(n)||yc(n,o,e,r)||ps(n)||kr(n)&&ay(n),Si=(e,n,o)=>{const r={...xi,...o};if(r.checkRootAsContent&&ug(e,n,n,r))return!1;let a=n.firstChild,u=0;if(!a)return!0;const m=new Ns(a,n);do{if(r.skipBogus&&It(a)){const v=a.getAttribute("data-mce-bogus");if(v){a=m.next(v==="all");continue}}if(ei(a)){a=m.next(!0);continue}if(Jo(a)){u++,a=m.next();continue}if(ug(e,a,n,r))return!1;a=m.next()}while(a);return u<=1},Bs=(e,n,o)=>Si(e,n.dom,{checkRootAsContent:!0,...o}),Ei=(e,n,o)=>ug(e,n,n,{includeZwsp:xi.includeZwsp,...o}),_s=e=>e.toLowerCase()==="svg",$h=e=>_s(e.nodeName),wd=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",xv=["svg"],Xt=()=>{let e=[];const n=()=>e[e.length-1];return{track:u=>{$h(u)&&e.push(u);let m=n();return m&&!m.contains(u)&&(e.pop(),m=n()),wd(m)},current:()=>wd(n()),reset:()=>{e=[]}}},cy="data-mce-block",Il=e=>Ut(ui(e),n=>!/[A-Z]/.test(n)),pf=e=>mn(Il(e),n=>`${n}:`+mn(xv,o=>`not(${o} ${n})`).join(":")).join(","),J2=(e,n)=>Ne(n.querySelector(e))?(n.setAttribute(cy,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(cy),!1),Q2=(e,n)=>{const o=pf(e.getTransparentElements()),r=pf(e.getBlockElements());return Ut(n.querySelectorAll(o),a=>J2(r,a))},ex=(e,n,o)=>{var r;const a=o?"lastChild":"firstChild";for(let u=n[a];u;u=u[a])if(Si(e,u,{checkRootAsContent:!0})){(r=u.parentNode)===null||r===void 0||r.removeChild(u);return}},ek=(e,n,o)=>{const r=document.createRange(),a=n.parentNode;if(a){r.setStartBefore(n),r.setEndBefore(o);const u=r.extractContents();ex(e,u,!0),r.setStartAfter(o),r.setEndAfter(n);const m=r.extractContents();ex(e,m,!1),Si(e,u,{checkRootAsContent:!0})||a.insertBefore(u,n),Si(e,o,{checkRootAsContent:!0})||a.insertBefore(o,n),Si(e,m,{checkRootAsContent:!0})||a.insertBefore(m,n),a.removeChild(n)}},ym=(e,n,o)=>{const r=e.getBlockElements(),a=re.fromDom(n),u=v=>Un(v)in r,m=v=>Fe(v,a);Ae(vv(o),v=>{Ps(v,u,m).each(C=>{const k=q2(v,L=>u(L)&&!e.isValidChild(Un(C),Un(L)));if(k.length>0){const L=Kn(C);Ae(k,$=>{Ps($,u,m).each(H=>{ek(e,H.dom,$.dom)})}),L.each($=>Q2(e,$.dom))}})})},Fh=(e,n,o)=>{Ae([...o,...gf(e,n)?[n]:[]],r=>Ae(pi(re.fromDom(r),r.nodeName.toLowerCase()),a=>{vf(e,a.dom)&&gu(a)}))},ly=(e,n)=>{const o=Q2(e,n);ym(e,n,o),Fh(e,n,o)},tk=(e,n)=>{if(wm(e,n)){const o=pf(e.getBlockElements());J2(o,n)}},NR=(e,n,o)=>{const r=u=>Fe(u,re.fromDom(n)),a=xo(re.fromDom(o),r);ma(a,a.length-2).filter(lr).fold(()=>ly(e,n),u=>ly(e,u.dom))},Hh=e=>e.hasAttribute(cy),zh=(e,n)=>en(e.getTransparentElements(),n),wm=(e,n)=>It(n)&&zh(e,n.nodeName),gf=(e,n)=>wm(e,n)&&Hh(n),vf=(e,n)=>wm(e,n)&&!Hh(n),bf=(e,n)=>n.type===1&&zh(e,n.name)&&ae(n.attr(cy)),nk=tc().browser,tx=e=>Ko(e,lr),nx=e=>nk.isFirefox()&&Un(e)==="table"?tx(Es(e)).filter(n=>Un(n)==="caption").bind(n=>tx(Js(n)).map(o=>{const r=o.dom.offsetTop,a=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=a?-u:0})).getOr(0):0,uy=(e,n)=>e.children&&gn(e.children,n),ti=(e,n,o)=>{let r=0,a=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&pu(re.fromDom(e),"position")==="static"){const v=n.getBoundingClientRect();return r=v.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=v.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:a}}let m=n;for(;m&&m!==o&&m.nodeType&&!uy(m,o);){const v=m;r+=v.offsetLeft||0,a+=v.offsetTop||0,m=v.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!uy(m,o);)r-=m.scrollLeft||0,a-=m.scrollTop||0,m=m.parentNode;a+=nx(re.fromDom(n))}return{x:r,y:a}},yu=(e,n={})=>{let o=0;const r={},a=re.fromDom(e),u=nn(a),m=fe=>{n.referrerPolicy=fe},v=fe=>{n.contentCssCors=fe},C=fe=>{ur(hv(a),fe)},k=fe=>{const he=hv(a);ag(he,"#"+fe).each(vo)},L=fe=>Xo(r,fe).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),$=fe=>new Promise((he,pe)=>{let Ee;const Be=O._addCacheSuffix(fe),it=L(Be);r[Be]=it,it.count++;const Ct=(yt,zt)=>{Ae(yt,Fs),it.status=zt,it.passed=[],it.failed=[],Ee&&(Ee.onload=null,Ee.onerror=null,Ee=null)},Qe=()=>Ct(it.passed,2),Me=()=>Ct(it.failed,3);if(he&&it.passed.push(he),pe&&it.failed.push(pe),it.status===1)return;if(it.status===2){Qe();return}if(it.status===3){Me();return}it.status=1;const Le=re.fromTag("link",u.dom);wi(Le,{rel:"stylesheet",type:"text/css",id:it.id}),n.contentCssCors&&zo(Le,"crossOrigin","anonymous"),n.referrerPolicy&&zo(Le,"referrerpolicy",n.referrerPolicy),Ee=Le.dom,Ee.onload=Qe,Ee.onerror=Me,C(Le),zo(Le,"href",Be)}),H=(fe,he)=>{const pe=L(fe);r[fe]=pe,pe.count++;const Ee=re.fromTag("style",u.dom);wi(Ee,{rel:"stylesheet",type:"text/css",id:pe.id}),Ee.dom.innerHTML=he,C(Ee)},K=fe=>Promise.allSettled(mn(fe,pe=>$(pe).then(lt(pe)))).then(pe=>{const Ee=Nr(pe,Be=>Be.status==="fulfilled");return Ee.fail.length>0?Promise.reject(mn(Ee.fail,Be=>Be.reason)):mn(Ee.pass,Be=>Be.value)}),ee=fe=>{const he=O._addCacheSuffix(fe);Xo(r,he).each(pe=>{--pe.count===0&&(delete r[he],k(pe.id))})};return{load:$,loadRawCss:H,loadAll:K,unload:ee,unloadRawCss:fe=>{Xo(r,fe).each(he=>{--he.count===0&&(delete r[fe],k(he.id))})},unloadAll:fe=>{Ae(fe,he=>{ee(he)})},_setReferrerPolicy:m,_setContentCssCors:v}},wu=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=gd(o).dom;return W.from(e.get(u)).getOrThunk(()=>{const m=yu(u,r);return e.set(u,m),m})}}})(),Ev=e=>e.nodeName.toLowerCase()==="span",_a=(e,n)=>Ne(e)&&(Ei(n,e)||n.isInline(e.nodeName.toLowerCase())),dg=(e,n,o)=>{const r=new Ns(e,n).prev(!1),a=new Ns(e,n).next(!1),u=En(r)||_a(r,o),m=En(a)||_a(a,o);return u&&m},fg=e=>Ev(e)&&e.getAttribute("data-mce-type")==="bookmark",dy=(e,n,o)=>Ke(e)&&e.data.length>0&&dg(e,n,o),Cu=e=>It(e)?e.childNodes.length>0:!1,el=e=>er(e)||Lh(e),Vh=(e,n,o,r)=>{var a;const u=r||n;if(It(n)&&fg(n))return n;const m=n.childNodes;for(let v=m.length-1;v>=0;v--)Vh(e,m[v],o,u);if(It(n)){const v=n.childNodes;v.length===1&&fg(v[0])&&((a=n.parentNode)===null||a===void 0||a.insertBefore(v[0],n))}return!el(n)&&!Ei(o,n)&&!Cu(n)&&!dy(n,u,o)&&e.remove(n),n},tl=O.makeMap,_v=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nl=/[<>&\"\']/g,yf=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ox={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Ll={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ok={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},sk=e=>{const n=re.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Is=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let a=0;a<r.length;a+=2){const u=String.fromCharCode(parseInt(r[a],n));if(!Ll[u]){const m="&"+r[a+1]+";";o[u]=m,o[m]=u}}return o}else return},fy=Is("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Su=(e,n)=>e.replace(n?_v:xu,o=>Ll[o]||o),Cm=e=>(""+e).replace(nl,n=>Ll[n]||n),mg=(e,n)=>e.replace(n?_v:xu,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Ll[o]||"&#"+o.charCodeAt(0)+";"),Eu=(e,n,o)=>{const r=o||fy;return e.replace(n?_v:xu,a=>Ll[a]||r[a]||a)},ea={encodeRaw:Su,encodeAllRaw:Cm,encodeNumeric:mg,encodeNamed:Eu,getEncodeFunc:(e,n)=>{const o=Is(n)||fy,r=(m,v)=>m.replace(v?_v:xu,C=>Ll[C]!==void 0?Ll[C]:o[C]!==void 0?o[C]:C.length>1?"&#"+((C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320)+65536)+";":"&#"+C.charCodeAt(0)+";"),a=(m,v)=>Eu(m,v,o),u=tl(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?a:Eu:u.numeric?mg:Su},decode:e=>e.replace(yf,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):ox[o]||String.fromCharCode(o)):ok[n]||fy[n]||sk(n))},Or=(e,n)=>(e=O.trim(e),e?e.split(n||" "):[]),hg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Tv=e=>Ft(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",kv=e=>{const n=o=>hn(o)?mn(o,n):Tv(o)?new RegExp(o.source,o.flags):Ft(o)?io(o,n):o;return n(e)},rk=e=>{const n=/^(~)?(.+)$/;return Ri(Or(e,","),o=>{const r=n.exec(o);if(r){const u=r[1]==="~"?"span":"div",m=r[2];return[{cloneName:u,name:m}]}else return[]})},sx=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Av=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},Sm=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=Av(e),a=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:a(n),phrasingContent:a(o),flowContent:a(r)})},Fa={html4:Xa(()=>Sm("html4")),html5:Xa(()=>Sm("html5")),"html5-strict":Xa(()=>Sm("html5-strict"))},$l=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=Fa[e]();return n==="blocks"?W.some(o):n==="phrasing"?W.some(r):n==="flow"?W.some(a):W.none()},_u=e=>{const n=sx(e),{phrasingContent:o,flowContent:r}=Av(e),a={},u=(C,k,L)=>{a[C]={attributes:ar(k,lt({})),attributesOrder:k,children:ar(L,lt({}))}},m=(C,k="",L="")=>{const $=Or(L),H=Or(C);let K=H.length;const ee=[...n,...Or(k)];for(;K--;)u(H[K],ee.slice(),$)},v=(C,k)=>{const L=Or(C),$=Or(k);let H=L.length;for(;H--;){const K=a[L[H]];for(let ee=0,Y=$.length;ee<Y;ee++)K.attributes[$[ee]]={},K.attributesOrder.push($[ee])}};return e!=="html5-strict"&&(Ae(Or("acronym applet basefont big font strike tt"),L=>{m(L,"",o)}),Ae(Or("center dir isindex noframes"),L=>{m(L,"",r)})),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),m("dd div","",r),m("address dt caption","",e==="html4"?o:r),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),m("blockquote","cite",r),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",r),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?o:r),m("q","cite",o),m("ins del","cite datetime",r),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",r),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),m("param","name value"),m("map","name",[r,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",r),m("th","colspan rowspan headers scope abbr",r),m("form","accept-charset action autocomplete enctype method name novalidate target",r),m("fieldset","disabled form name",[r,"legend"].join(" ")),m("label","form for",o),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[r,"li"].join(" ")),m("noscript","",r),e!=="html4"&&(m("wbr"),m("ruby","",[o,"rt rp"].join(" ")),m("figcaption","",r),m("mark rt rp bdi","",o),m("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),m("canvas","width height",r),m("data","value",o),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[o,"option"].join(" ")),m("article section nav aside main header footer","",r),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[r,"figcaption"].join(" ")),m("time","datetime",o),m("dialog","open",r),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",o),m("progress","value max",o),m("meter","value min max low high optimum",o),m("details","open",[r,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(v("script","language xml:space"),v("style","xml:space"),v("object","declare classid code codebase codetype archive standby align border hspace vspace"),v("embed","align name hspace vspace"),v("param","valuetype type"),v("a","charset name rev shape coords"),v("br","clear"),v("applet","codebase archive code object alt name width height align hspace vspace"),v("img","name longdesc align border hspace vspace"),v("iframe","longdesc frameborder marginwidth marginheight scrolling align"),v("font basefont","size color face"),v("input","usemap align"),v("select"),v("textarea"),v("h1 h2 h3 h4 h5 h6 div p legend caption","align"),v("ul","type compact"),v("li","type"),v("ol dl menu dir","compact"),v("pre","width xml:space"),v("hr","align noshade size width"),v("isindex","prompt"),v("table","summary width frame rules cellspacing cellpadding align bgcolor"),v("col","width align char charoff valign"),v("colgroup","width align char charoff valign"),v("thead","align char charoff valign"),v("tr","align char charoff valign bgcolor"),v("th","axis align char charoff valign nowrap bgcolor width height"),v("form","accept"),v("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),v("tfoot","align char charoff valign"),v("tbody","align char charoff valign"),v("area","nohref"),v("body","background bgcolor text link vlink alink")),e!=="html4"&&(v("input button select textarea","autofocus"),v("input textarea","placeholder"),v("a","download"),v("link script img","crossorigin"),v("img","loading"),v("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&Ae([a.video,a.audio],C=>{delete C.children.audio,delete C.children.video}),Ae(Or("a form meter progress dfn"),C=>{a[C]&&delete a[C].children[C]}),delete a.caption.children.table,delete a.script,a},Em=e=>e==="-"?"remove":"add",ol=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return W.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Uh=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ri(Or(e,","),o=>{const r=n.exec(o);if(r){const a=r[1],u=a?Em(a):"replace",m=r[2],v=Ri(Or(r[3],"|"),C=>ol(C).toArray());return[{operation:u,name:m,validChildren:v}]}else return[]})},my=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:u}=n;return Ae(Or(e,"|"),m=>{const v=o.exec(m);if(v){const C={},k=v[1],L=v[2].replace(/[\\:]:/g,":"),$=v[3],H=v[4];if(k==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(L),C.required=!0),k==="-"){delete a[L],u.splice(O.inArray(u,L),1);return}if($&&($==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:L,value:H}),C.defaultValue=H):$==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:L,value:H}),C.forcedValue=H):$==="<"&&(C.validValues=O.makeMap(H,"?"))),r.test(L)){const K=C;n.attributePatterns=n.attributePatterns||[],K.pattern=hg(L),n.attributePatterns.push(K)}else a[L]||u.push(L),a[L]=C}})},hy=(e,n)=>{wt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},py=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ri(Or(n,","),r=>{const a=o.exec(r);if(a){const u=a[1],m=a[2],v=a[3],C=a[4],k=a[5],L={attributes:{},attributesOrder:[]};if(e.each($=>hy($,L)),u==="#"?L.paddEmpty=!0:u==="-"&&(L.removeEmpty=!0),C==="!"&&(L.removeEmptyAttrs=!0),k&&my(k,L),v&&(L.outputName=m),m==="@")if(e.isNone())e=W.some(L);else return[];return[v?{name:m,element:L,aliasName:v}:{name:m,element:L}]}else return[]})},Wh={},_m=O.makeMap,Mn=O.each,Gt=O.extend,Tu=O.explode,Ov=(e,n={})=>{const o=_m(e," ",_m(e.toUpperCase()," "));return Gt(o,n)},Dv=e=>Ov("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),gy=(e,n)=>{if(e){const o={};return ae(e)&&(e={"*":e}),Mn(e,(r,a)=>{o[a]=o[a.toUpperCase()]=n==="map"?_m(r,/[, ]/):Tu(r,/[, ]/)}),o}else return},Cd=(e={})=>{var n;const o={},r={};let a=[];const u={},m={},v=(Wt,Jn,ws)=>{const $s=e[Wt];if($s)return _m($s,/[, ]/,_m($s.toUpperCase(),/[, ]/));{let mr=Wh[Wt];return mr||(mr=Ov(Jn,ws),Wh[Wt]=mr),mr}},C=(n=e.schema)!==null&&n!==void 0?n:"html5",k=_u(C);e.verify_html===!1&&(e.valid_elements="*[*]");const L=gy(e.valid_styles),$=gy(e.invalid_styles,"map"),H=gy(e.valid_classes,"map"),K=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Y=v("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),fe="td th iframe video audio object script code",he=v("non_empty_elements",fe+" pre svg textarea summary",Y),pe=v("move_caret_before_on_enter_elements",fe+" table",Y),Ee="h1 h2 h3 h4 h5 h6",Be=v("text_block_elements",Ee+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),it=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Be),Ct=v("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Qe=v("transparent_elements","a ins del canvas map"),Me=v("wrap_block_elements","pre "+Ee);Mn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Wt=>{m[Wt]=new RegExp("</"+Wt+"[^>]*>","gi")});const Le=Wt=>{const Jn=W.from(o["@"]),ws=/[*?+]/;Ae(py(Jn,Wt??""),({name:$s,element:mr,aliasName:ai})=>{if(ai&&(o[ai]=mr),ws.test($s)){const js=mr;js.pattern=hg($s),a.push(js)}else o[$s]=mr})},yt=Wt=>{a=[],Ae(ui(o),Jn=>{delete o[Jn]}),Le(Wt)},zt=(Wt,Jn)=>{var ws,$s;delete Wh.text_block_elements,delete Wh.block_elements;const mr=Jn.extends?!$c(Jn.extends):!1,ai=Jn.extends;if(r[Wt]=ai?r[ai]:{},u[Wt]=ai??Wt,he[Wt.toUpperCase()]={},he[Wt]={},mr||(it[Wt.toUpperCase()]={},it[Wt]={}),ai&&!o[Wt]&&o[ai]){const js=kv(o[ai]);delete js.removeEmptyAttrs,delete js.removeEmpty,o[Wt]=js}else o[Wt]={attributesOrder:[],attributes:{}};if(hn(Jn.attributes)){const js=ua=>{ir.attributesOrder.push(ua),ir.attributes[ua]={}},ir=(ws=o[Wt])!==null&&ws!==void 0?ws:{};delete ir.attributesDefault,delete ir.attributesForced,delete ir.attributePatterns,delete ir.attributesRequired,ir.attributesOrder=[],ir.attributes={},Ae(Jn.attributes,ua=>{const iu=sx(C);ol(ua).each(({preset:nd,name:od})=>{nd?od==="global"&&Ae(iu,js):js(od)})}),o[Wt]=ir}if(pn(Jn.padEmpty)){const js=($s=o[Wt])!==null&&$s!==void 0?$s:{};js.paddEmpty=Jn.padEmpty,o[Wt]=js}if(hn(Jn.children)){const js={},ir=iu=>{js[iu]={}},ua=iu=>{$l(C,iu).each(nd=>{Ae(nd,ir)})};Ae(Jn.children,iu=>{ol(iu).each(({preset:nd,name:od})=>{nd?ua(od):ir(od)})}),r[Wt]=js}ai&&wt(r,(js,ir)=>{js[ai]&&(r[ir]=js=Gt({},r[ir]),js[Wt]=js[ai])})},Rn=Wt=>{Ae(rk(Wt??""),({name:Jn,cloneName:ws})=>{zt(Jn,{extends:ws})})},Wn=Wt=>{Ft(Wt)?wt(Wt,(Jn,ws)=>zt(ws,Jn)):ae(Wt)&&Rn(Wt)},_o=Wt=>{Ae(Uh(Wt??""),({operation:Jn,name:ws,validChildren:$s})=>{const mr=Jn==="replace"?{"#comment":{}}:r[ws],ai=ir=>{Jn==="remove"?delete mr[ir]:mr[ir]={}},js=ir=>{$l(C,ir).each(ua=>{Ae(ua,ai)})};Ae($s,({preset:ir,name:ua})=>{ir?js(ua):ai(ua)}),r[ws]=mr})},No=Wt=>{const Jn=o[Wt];if(Jn)return Jn;let ws=a.length;for(;ws--;){const $s=a[ws];if($s.pattern.test(Wt))return $s}},rs=()=>{e.valid_elements?(yt(e.valid_elements),Mn(k,(Wt,Jn)=>{r[Jn]=Wt.children})):(Mn(k,(Wt,Jn)=>{o[Jn]={attributes:Wt.attributes,attributesOrder:Wt.attributesOrder},r[Jn]=Wt.children}),Mn(Or("strong/b em/i"),Wt=>{const Jn=Or(Wt,"/");o[Jn[1]].outputName=Jn[0]}),Mn(Ct,(Wt,Jn)=>{o[Jn]&&(e.padd_empty_block_inline_children&&(o[Jn].paddInEmptyBlock=!0),o[Jn].removeEmpty=!0)}),Mn(Or("ol ul blockquote a table tbody"),Wt=>{o[Wt]&&(o[Wt].removeEmpty=!0)}),Mn(Or("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Wt=>{o[Wt]&&(o[Wt].paddEmpty=!0)}),Mn(Or("span"),Wt=>{o[Wt].removeEmptyAttrs=!0})),delete o.svg,Wn(e.custom_elements),_o(e.valid_children),Le(e.extended_valid_elements),_o("+ol[ul|ol],+ul[ul|ol]"),Mn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Wt,Jn)=>{o[Jn]&&(o[Jn].parentsRequired=Or(Wt))}),e.invalid_elements&&Mn(Tu(e.invalid_elements),Wt=>{o[Wt]&&delete o[Wt]}),No("span")||Le("span[!data-mce-type|*]")},Oi=lt(L),Bo=lt($),gt=lt(H),Ht=lt(ne),Zn=lt(it),bt=lt(Be),Qt=lt(Ct),Fn=lt(Object.seal(Y)),_t=lt(ee),In=lt(he),Ln=lt(pe),Sr=lt(K),To=lt(Qe),Er=lt(Me),xl=lt(Object.seal(m)),ef=(Wt,Jn)=>{const ws=r[Wt.toLowerCase()];return!!(ws&&ws[Jn.toLowerCase()])},la=(Wt,Jn)=>{const ws=No(Wt);if(ws)if(Jn){if(ws.attributes[Jn])return!0;const $s=ws.attributePatterns;if($s){let mr=$s.length;for(;mr--;)if($s[mr].pattern.test(Jn))return!0}}else return!0;return!1},$c=Wt=>en(Zn(),Wt),su=Wt=>!Rs(Wt,"#")&&la(Wt)&&!$c(Wt),Fc=Wt=>en(Er(),Wt)||su(Wt),ru=lt(u);return rs(),{type:C,children:r,elements:o,getValidStyles:Oi,getValidClasses:gt,getBlockElements:Zn,getInvalidStyles:Bo,getVoidElements:Fn,getTextBlockElements:bt,getTextInlineElements:Qt,getBoolAttrs:Ht,getElementRule:No,getSelfClosingElements:_t,getNonEmptyElements:In,getMoveCaretBeforeOnEnterElements:Ln,getWhitespaceElements:Sr,getTransparentElements:To,getSpecialElements:xl,isValidChild:ef,isValid:la,isBlock:$c,isInline:su,isWrapper:Fc,getCustomElements:ru,addValidElements:Le,setValidElements:yt,addCustomElements:Wn,addValidChildren:_o}},Qo=e=>({value:rx(e)}),rx=e=>fd(e,"#").toUpperCase(),vy=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},by=e=>{const n=vy(e.red)+vy(e.green)+vy(e.blue);return Qo(n)},Ie=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,yy=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ix=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Tm=(e,n,o,r)=>{const a=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),v=parseFloat(r);return ix(a,u,m,v)},ax=e=>{if(e==="transparent")return W.some(ix(0,0,0,0));const n=Ie.exec(e);if(n!==null)return W.some(Tm(n[1],n[2],n[3],"1"));const o=yy.exec(e);return o!==null?W.some(Tm(o[1],o[2],o[3],o[4])):W.none()},xd=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,km=e=>ax(e).map(by).map(n=>"#"+n.value).getOr(e),sl=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,u=/rgba *\(/i,m={};let v,C;const k=bd;n&&(v=n.getValidStyles(),C=n.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let H=0;H<L.length;H++)m[L[H]]=k+H,m[k+H]=L[H];const $={parse:H=>{const K={};let ee=!1;const Y=e.url_converter,ne=e.url_converter_scope||$,fe=(Me,Le,yt)=>{const zt=K[Me+"-top"+Le];if(!zt)return;const Rn=K[Me+"-right"+Le];if(!Rn)return;const Wn=K[Me+"-bottom"+Le];if(!Wn)return;const _o=K[Me+"-left"+Le];if(!_o)return;const No=[zt,Rn,Wn,_o];let rs=No.length-1;for(;rs--&&No[rs]===No[rs+1];);rs>-1&&yt||(K[Me+Le]=rs===-1?No[0]:No.join(" "),delete K[Me+"-top"+Le],delete K[Me+"-right"+Le],delete K[Me+"-bottom"+Le],delete K[Me+"-left"+Le])},he=Me=>{const Le=K[Me];if(!Le)return;const yt=Le.indexOf(",")>-1?[Le]:Le.split(" ");let zt=yt.length;for(;zt--;)if(yt[zt]!==yt[0])return!1;return K[Me]=yt[0],!0},pe=(Me,Le,yt,zt)=>{he(Le)&&he(yt)&&he(zt)&&(K[Me]=K[Le]+" "+K[yt]+" "+K[zt],delete K[Le],delete K[yt],delete K[zt])},Ee=Me=>(ee=!0,m[Me]),Be=(Me,Le)=>(ee&&(Me=Me.replace(/\uFEFF[0-9]/g,yt=>m[yt])),Le||(Me=Me.replace(/\\([\'\";:])/g,"$1")),Me),it=Me=>String.fromCharCode(parseInt(Me.slice(1),16)),Ct=Me=>Me.replace(/\\[0-9a-f]+/gi,it),Qe=(Me,Le,yt,zt,Rn,Wn)=>{if(Rn=Rn||Wn,Rn)return Rn=Be(Rn),"'"+Rn.replace(/\'/g,"\\'")+"'";if(Le=Be(Le||yt||zt||""),!e.allow_script_urls){const _o=Le.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(_o)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(_o))return""}return Y&&(Le=Y.call(ne,Le,"style")),"url('"+Le.replace(/\'/g,"\\'")+"')"};if(H){H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,Ee).replace(/\"[^\"]+\"|\'[^\']+\'/g,Le=>Le.replace(/[;:]/g,Ee));let Me;for(;Me=r.exec(H);){r.lastIndex=Me.index+Me[0].length;let Le=Me[1].replace(a,"").toLowerCase(),yt=Me[2].replace(a,"");if(Le&&yt){if(Le=Ct(Le),yt=Ct(yt),Le.indexOf(k)!==-1||Le.indexOf('"')!==-1||!e.allow_script_urls&&(Le==="behavior"||/expression\s*\(|\/\*|\*\//.test(yt)))continue;Le==="font-weight"&&yt==="700"?yt="bold":(Le==="color"||Le==="background-color")&&(yt=yt.toLowerCase()),u.test(yt)||ax(yt).each(zt=>{yt=km(xd(zt)).toLowerCase()}),yt=yt.replace(o,Qe),K[Le]=ee?Be(yt,!0):yt}}fe("border","",!0),fe("border","-width"),fe("border","-color"),fe("border","-style"),fe("padding",""),fe("margin",""),pe("border","border-width","border-style","border-color"),K.border==="medium none"&&delete K.border,K["border-image"]==="none"&&delete K["border-image"]}return K},serialize:(H,K)=>{let ee="";const Y=(fe,he)=>{const pe=he[fe];if(pe)for(let Ee=0,Be=pe.length;Ee<Be;Ee++){const it=pe[Ee],Ct=H[it];Ct&&(ee+=(ee.length>0?" ":"")+it+": "+Ct+";")}},ne=(fe,he)=>{if(!C||!he)return!0;let pe=C["*"];return pe&&pe[fe]?!1:(pe=C[he],!(pe&&pe[fe]))};return K&&v?(Y("*",v),Y(K,v)):wt(H,(fe,he)=>{fe&&ne(he,K)&&(ee+=(ee.length>0?" ":"")+he+": "+fe+";")}),ee}};return $},ik={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Zh=e=>e instanceof Event||le(e.initEvent),gs=e=>e.isDefaultPrevented===Tt||e.isDefaultPrevented===Ze,ku=e=>_n(e.preventDefault)||Zh(e),cx=(e,n)=>{const o=n??{};for(const r in e)en(ik,r)||(o[r]=e[r]);return Ne(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ne(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Ne(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Fl=(e,n,o,r)=>{var a;const u=cx(n,r);return u.type=e,_n(u.target)&&(u.target=(a=u.srcElement)!==null&&a!==void 0?a:o),ku(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=Tt,le(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=Tt,le(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=Tt,u.stopPropagation()},gs(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?Tt:Ze,u.isPropagationStopped=u.cancelBubble===!0?Tt:Ze,u.isImmediatePropagationStopped=Ze)),u},ak="mce-data-",wy=/^(?:mouse|contextmenu)|click/,Sd=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},jh=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},lx=e=>Ne(e)&&wy.test(e.type),Am=(e,n)=>{const o=Fl(e.type,e,document,n);if(lx(e)&&En(e.pageX)&&!En(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o},Rv=(e,n,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){n(a);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{jh(e,"DOMContentLoaded",m),jh(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(a)),e=null};u()?m():Sd(e,"DOMContentLoaded",m),o.domLoaded||Sd(e,"load",m)};class Ed{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ak+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,a){const u=this;let m;const v=window,C=H=>{u.executeHandlers(Am(H||v.event),k)};if(!n||Ke(n)||ei(n))return r;let k;n[u.expando]?k=n[u.expando]:(k=u.count++,n[u.expando]=k,u.events[k]={}),a=a||n;const L=o.split(" ");let $=L.length;for(;$--;){let H=L[$],K=C,ee=!1,Y=!1;if(H==="DOMContentLoaded"&&(H="ready"),u.domLoaded&&H==="ready"&&n.readyState==="complete"){r.call(a,Am({type:H}));continue}!u.hasFocusIn&&(H==="focusin"||H==="focusout")&&(ee=!0,Y=H==="focusin"?"focus":"blur",K=ne=>{const fe=Am(ne||v.event);fe.type=fe.type==="focus"?"focusin":"focusout",u.executeHandlers(fe,k)}),m=u.events[k][H],m?H==="ready"&&u.domLoaded?r(Am({type:H})):m.push({func:r,scope:a}):(u.events[k][H]=m=[{func:r,scope:a}],m.fakeName=Y,m.capture=ee,m.nativeHandler=K,H==="ready"?Rv(n,K,u):Sd(n,Y||H,K,ee))}return n=m=null,r}unbind(n,o,r){if(!n||Ke(n)||ei(n))return this;const a=n[this.expando];if(a){let u=this.events[a];if(o){const m=o.split(" ");let v=m.length;for(;v--;){const C=m[v],k=u[C];if(k){if(r){let L=k.length;for(;L--;)if(k[L].func===r){const $=k.nativeHandler,H=k.fakeName,K=k.capture,ee=k.slice(0,L).concat(k.slice(L+1));ee.nativeHandler=$,ee.fakeName=H,ee.capture=K,u[C]=ee}}(!r||k.length===0)&&(delete u[C],jh(n,k.fakeName||C,k.nativeHandler,k.capture))}}}else wt(u,(m,v)=>{jh(n,m.fakeName||v,m.nativeHandler,m.capture)}),u={};for(const m in u)if(en(u,m))return this;delete this.events[a];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Ke(n)||ei(n))return this;const a=Am({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(a,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!a.isPropagationStopped());return this}clean(n){if(!n||Ke(n)||ei(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],a=r&&r[n.type];if(a)for(let u=0,m=a.length;u<m;u++){const v=a[u];if(v&&v.func.call(v.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Ed.Event=new Ed;const Au=O.each,ux=O.grep,Cy="data-mce-style",ck=O.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Om=(e,n,o)=>{_n(o)||o===""?pr(e,n):zo(e,n,o)},Nt=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Dm=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const u=a.nodeType;n&&Ke(a)&&(u===r||!a.data.length)||(o++,r=u)}return o},dx=(e,n)=>{const o=cs(n,"style"),r=e.serialize(e.parse(o),Un(n));Om(n,Cy,r)},lk=(e,n)=>Pn(e)?en(ck,n)?e+"":e+"px":e,qh=(e,n,o)=>{const r=Nt(n);_n(o)||o===""?hi(e,r):Dh(e,r,lk(o,r))},uk=(e,n,o)=>{const r=n.keep_values,a={set:(m,v,C)=>{const k=re.fromDom(m);le(n.url_converter)&&Ne(v)&&(v=n.url_converter.call(n.url_converter_scope||o(),String(v),C,m));const L="data-mce-"+C;Om(k,L,v),Om(k,C,v)},get:(m,v)=>{const C=re.fromDom(m);return cs(C,"data-mce-"+v)||cs(C,v)}},u={style:{set:(m,v)=>{const C=re.fromDom(m);r&&Om(C,Cy,v),pr(C,"style"),ae(v)&&cg(C,e.parse(v))},get:m=>{const v=re.fromDom(m),C=cs(v,Cy)||cs(v,"style");return e.serialize(e.parse(C),Un(v))}}};return r&&(u.href=u.src=a),u},Zo=(e,n={})=>{const o={},r=window,a={};let u=0;const m=!0,v=!0,C=wu.forElement(re.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),k=[],L=n.schema?n.schema:Cd({}),$=sl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),H=n.ownEvents?new Ed:Ed.Event,K=L.getBlockElements(),ee=Te=>ae(Te)?en(K,Te):It(Te)&&(en(K,Te.nodeName)||gf(L,Te)),Y=Te=>Te&&e&&ae(Te)?e.getElementById(Te):Te,ne=Te=>{const ke=Y(Te);return Ne(ke)?re.fromDom(ke):null},fe=(Te,ke,mt="")=>{let ot;const an=ne(Te);if(Ne(an)&&lr(an)){const jn=M2[ke];jn&&jn.get?ot=jn.get(an.dom,ke):ot=cs(an,ke)}return Ne(ot)?ot:mt},he=Te=>{const ke=Y(Te);return _n(ke)?[]:ke.attributes},pe=(Te,ke,mt)=>{Ht(Te,ot=>{if(It(ot)){const an=re.fromDom(ot),jn=mt===""?null:mt,Cs=cs(an,ke),au=M2[ke];au&&au.set?au.set(an.dom,jn,ke):Om(an,ke,jn),Cs!==jn&&n.onSetAttrib&&n.onSetAttrib({attrElm:an.dom,attrName:ke,attrValue:jn})}})},Ee=(Te,ke)=>Te.cloneNode(ke),Be=()=>n.root_element||e.body,it=Te=>{const ke=ey(Te);return{x:ke.x,y:ke.y,w:ke.width,h:ke.height}},Ct=(Te,ke)=>ti(e.body,Y(Te),ke),Qe=(Te,ke,mt)=>{Ht(Te,ot=>{const an=re.fromDom(ot);qh(an,ke,mt),n.update_styles&&dx($,an)})},Me=(Te,ke)=>{Ht(Te,mt=>{const ot=re.fromDom(mt);wt(ke,(an,jn)=>{qh(ot,jn,an)}),n.update_styles&&dx($,ot)})},Le=(Te,ke,mt)=>{const ot=Y(Te);if(!(_n(ot)||!yd(ot)&&!Bh(ot)))return mt?pu(re.fromDom(ot),Nt(ke)):(ke=ke.replace(/-(\D)/g,(an,jn)=>jn.toUpperCase()),ke==="float"&&(ke="cssFloat"),ot.style?ot.style[ke]:void 0)},yt=Te=>{const ke=Y(Te);if(!ke)return{w:0,h:0};let mt=Le(ke,"width"),ot=Le(ke,"height");return(!mt||mt.indexOf("px")===-1)&&(mt="0"),(!ot||ot.indexOf("px")===-1)&&(ot="0"),{w:parseInt(mt,10)||ke.offsetWidth||ke.clientWidth,h:parseInt(ot,10)||ke.offsetHeight||ke.clientHeight}},zt=Te=>{const ke=Y(Te),mt=Ct(ke),ot=yt(ke);return{x:mt.x,y:mt.y,w:ot.w,h:ot.h}},Rn=(Te,ke)=>{if(!Te)return!1;const mt=hn(Te)?Te:[Te];return Go(mt,ot=>ie(re.fromDom(ot),ke))},Wn=(Te,ke,mt,ot)=>{const an=[];let jn=Y(Te);ot=ot===void 0;const Cs=mt||(Be().nodeName!=="BODY"?Be().parentNode:null);if(ae(ke))if(ke==="*")ke=It;else{const au=ke;ke=MT=>Rn(MT,au)}for(;jn&&!(jn===Cs||_n(jn.nodeType)||Lh(jn)||er(jn));){if(!ke||ke(jn))if(ot)an.push(jn);else return[jn];jn=jn.parentNode}return ot?an:null},_o=(Te,ke,mt)=>{const ot=Wn(Te,ke,mt,!1);return ot&&ot.length>0?ot[0]:null},No=(Te,ke,mt)=>{let ot=ke;if(Te){ae(ke)&&(ot=an=>Rn(an,ke));for(let an=Te[mt];an;an=an[mt])if(le(ot)&&ot(an))return an}return null},rs=(Te,ke)=>No(Te,ke,"nextSibling"),Oi=(Te,ke)=>No(Te,ke,"previousSibling"),Bo=Te=>le(Te.querySelectorAll),gt=(Te,ke)=>{var mt,ot;const an=(ot=(mt=Y(ke))!==null&&mt!==void 0?mt:n.root_element)!==null&&ot!==void 0?ot:e;return Bo(an)?Xi(an.querySelectorAll(Te)):[]},Ht=function(Te,ke,mt){const ot=mt??this;if(hn(Te)){const an=[];return Au(Te,(jn,Cs)=>{const au=Y(jn);au&&an.push(ke.call(ot,au,Cs))}),an}else{const an=Y(Te);return an?ke.call(ot,an):!1}},Zn=(Te,ke)=>{Ht(Te,mt=>{wt(ke,(ot,an)=>{pe(mt,an,ot)})})},bt=(Te,ke)=>{Ht(Te,mt=>{const ot=re.fromDom(mt);J0(ot,ke)})},Qt=(Te,ke,mt,ot,an)=>Ht(Te,jn=>{const Cs=ae(ke)?e.createElement(ke):ke;return Ne(mt)&&Zn(Cs,mt),ot&&(!ae(ot)&&ot.nodeType?Cs.appendChild(ot):ae(ot)&&bt(Cs,ot)),an?Cs:jn.appendChild(Cs)}),Fn=(Te,ke,mt)=>Qt(e.createElement(Te),Te,ke,mt,!0),_t=ea.decode,In=ea.encodeAllRaw,Ln=(Te,ke,mt="")=>{let ot="<"+Te;for(const an in ke)Lr(ke,an)&&(ot+=" "+an+'="'+In(ke[an])+'"');return Ni(mt)&&en(L.getVoidElements(),Te)?ot+" />":ot+">"+mt+"</"+Te+">"},Sr=Te=>{const ke=e.createElement("div"),mt=e.createDocumentFragment();mt.appendChild(ke),Te&&(ke.innerHTML=Te);let ot;for(;ot=ke.firstChild;)mt.appendChild(ot);return mt.removeChild(ke),mt},To=(Te,ke)=>Ht(Te,mt=>{const ot=re.fromDom(mt);return ke&&Ae(Es(ot),an=>{Ho(an)&&an.dom.length===0?vo(an):Ci(ot,an)}),vo(ot),ot.dom}),Er=Te=>Ht(Te,ke=>{const mt=ke.attributes;for(let ot=mt.length-1;ot>=0;ot--)ke.removeAttributeNode(mt.item(ot))}),xl=Te=>$.parse(Te),ef=(Te,ke)=>$.serialize(Te,ke),la=Te=>{if(nf!==Zo.DOM&&e===document){if(o[Te])return;o[Te]=!0}let ke=e.getElementById("mceDefaultStyles");if(!ke){ke=e.createElement("style"),ke.id="mceDefaultStyles",ke.type="text/css";const mt=e.head;mt.firstChild?mt.insertBefore(ke,mt.firstChild):mt.appendChild(ke)}ke.styleSheet?ke.styleSheet.cssText+=Te:ke.appendChild(e.createTextNode(Te))},$c=Te=>{Te||(Te=""),Ae(Te.split(","),ke=>{a[ke]=!0,C.load(ke).catch(Zt)})},su=(Te,ke,mt)=>{Ht(Te,ot=>{if(It(ot)){const an=re.fromDom(ot),jn=ke.split(" ");Ae(jn,Cs=>{Ne(mt)?(mt?fu:Kc)(an,Cs):fm(an,Cs)})}})},Fc=(Te,ke)=>{su(Te,ke,!0)},ru=(Te,ke)=>{su(Te,ke,!1)},Wt=(Te,ke)=>{const mt=ne(Te),ot=ke.split(" ");return Ne(mt)&&hr(ot,an=>pd(mt,an))},Jn=Te=>{Ht(Te,ke=>hi(re.fromDom(ke),"display"))},ws=Te=>{Ht(Te,ke=>Dh(re.fromDom(ke),"display","none"))},$s=Te=>{const ke=ne(Te);return Ne(ke)&&I($i(ke,"display"),"none")},mr=Te=>(Te||"mce_")+u++,ai=Te=>{const ke=ne(Te);return Ne(ke)?It(ke.dom)?ke.dom.outerHTML:no(ke):""},js=(Te,ke)=>{Ht(Te,mt=>{It(mt)&&(mt.outerHTML=ke)})},ir=(Te,ke)=>{const mt=Y(ke);return Ht(Te,ot=>{const an=mt==null?void 0:mt.parentNode,jn=mt==null?void 0:mt.nextSibling;return an&&(jn?an.insertBefore(ot,jn):an.appendChild(ot)),ot})},ua=(Te,ke,mt)=>Ht(ke,ot=>{var an;const jn=hn(ke)?Te.cloneNode(!0):Te;return mt&&Au(ux(ot.childNodes),Cs=>{jn.appendChild(Cs)}),(an=ot.parentNode)===null||an===void 0||an.replaceChild(jn,ot),ot}),iu=(Te,ke)=>{if(Te.nodeName!==ke.toUpperCase()){const mt=Fn(ke);return Au(he(Te),ot=>{pe(mt,ot.nodeName,fe(Te,ot.nodeName))}),ua(mt,Te,!0),mt}else return Te},nd=(Te,ke)=>{let mt=Te;for(;mt;){let ot=ke;for(;ot&&mt!==ot;)ot=ot.parentNode;if(mt===ot)break;mt=mt.parentNode}return!mt&&Te.ownerDocument?Te.ownerDocument.documentElement:mt},od=(Te,ke,mt)=>Lo(ke)?Si(L,Te,{...mt,isContent:an=>{const jn=an.nodeName.toLowerCase();return!!ke[jn]}}):Si(L,Te,mt),Sl=()=>e.createRange(),gh=(Te,ke,mt)=>{let ot=Sl(),an,jn;if(Te&&ke&&Te.parentNode&&ke.parentNode){const Cs=Te.parentNode;return ot.setStart(Cs,Dm(Te)),ot.setEnd(ke.parentNode,Dm(ke)),an=ot.extractContents(),ot=Sl(),ot.setStart(ke.parentNode,Dm(ke)+1),ot.setEnd(Cs,Dm(Te)+1),jn=ot.extractContents(),Cs.insertBefore(Vh(nf,an,L),Te),mt?Cs.insertBefore(mt,Te):Cs.insertBefore(ke,Te),Cs.insertBefore(Vh(nf,jn,L),Te),To(Te),mt||ke}else return},ev=(Te,ke,mt,ot)=>{if(hn(Te)){let an=Te.length;const jn=[];for(;an--;)jn[an]=ev(Te[an],ke,mt,ot);return jn}else return n.collect&&(Te===e||Te===r)&&k.push([Te,ke,mt,ot]),H.bind(Te,ke,mt,ot||nf)},tv=(Te,ke,mt)=>{if(hn(Te)){let ot=Te.length;const an=[];for(;ot--;)an[ot]=tv(Te[ot],ke,mt);return an}else{if(k.length>0&&(Te===e||Te===r)){let ot=k.length;for(;ot--;){const[an,jn,Cs]=k[ot];Te===an&&(!ke||ke===jn)&&(!mt||mt===Cs)&&H.unbind(an,jn,Cs)}}return H.unbind(Te,ke,mt)}},R2=(Te,ke,mt)=>H.dispatch(Te,ke,mt),tf=(Te,ke,mt)=>H.dispatch(Te,ke,mt),nv=Te=>{if(Te&&yd(Te)){const ke=Te.getAttribute("data-mce-contenteditable");return ke&&ke!=="inherit"?ke:Te.contentEditable!=="inherit"?Te.contentEditable:null}else return null},nf={doc:e,settings:n,win:r,files:a,stdMode:m,boxModel:v,styleSheetLoader:C,boundEvents:k,styles:$,schema:L,events:H,isBlock:ee,root:null,clone:Ee,getRoot:Be,getViewPort:it,getRect:zt,getSize:yt,getParent:_o,getParents:Wn,get:Y,getNext:rs,getPrev:Oi,select:gt,is:Rn,add:Qt,create:Fn,createHTML:Ln,createFragment:Sr,remove:To,setStyle:Qe,getStyle:Le,setStyles:Me,removeAllAttribs:Er,setAttrib:pe,setAttribs:Zn,getAttrib:fe,getPos:Ct,parseStyle:xl,serializeStyle:ef,addStyle:la,loadCSS:$c,addClass:Fc,removeClass:ru,hasClass:Wt,toggleClass:su,show:Jn,hide:ws,isHidden:$s,uniqueId:mr,setHTML:bt,getOuterHTML:ai,setOuterHTML:js,decode:_t,encode:In,insertAfter:ir,replace:ua,rename:iu,findCommonAncestor:nd,run:Ht,getAttribs:he,isEmpty:od,createRng:Sl,nodeIndex:Dm,split:gh,bind:ev,unbind:tv,fire:tf,dispatch:R2,getContentEditable:nv,getContentEditableParent:Te=>{const ke=Be();let mt=null;for(let ot=Te;ot&&ot!==ke&&(mt=nv(ot),mt===null);ot=ot.parentNode);return mt},isEditable:Te=>{if(Ne(Te)){const ke=It(Te)?Te:Te.parentElement;return Ne(ke)&&yd(ke)&&An(re.fromDom(ke))}else return!1},destroy:()=>{if(k.length>0){let Te=k.length;for(;Te--;){const[ke,mt,ot]=k[Te];H.unbind(ke,mt,ot)}}wt(a,(Te,ke)=>{C.unload(ke),delete a[ke]})},isChildOf:(Te,ke)=>Te===ke||ke.contains(Te),dumpRng:Te=>"startContainer: "+Te.startContainer.nodeName+", startOffset: "+Te.startOffset+", endContainer: "+Te.endContainer.nodeName+", endOffset: "+Te.endOffset},M2=uk($,n,lt(nf));return nf};Zo.DOM=Zo(document),Zo.nodeIndex=Dm;const Rm=Zo.DOM,Gh=0,xy=1,Mm=2,fx=3;class Ha{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const a=Rm;let u;const m=()=>{a.remove(k),u&&(u.onerror=u.onload=u=null)},v=()=>{m(),o()},C=()=>{m(),r("Failed to load script: "+n)},k=a.uniqueId();u=document.createElement("script"),u.id=k,u.type="text/javascript",u.src=O._addCacheSuffix(n),this.settings.referrerPolicy&&a.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=v,u.onerror=C,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Mm}markDone(n){this.states[n]=Mm}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Gh),new Promise((a,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:a,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(C,k)=>{Xo(o.scriptLoadedCallbacks,k).each(L=>{Ae(L,$=>$[C](k))}),delete o.scriptLoadedCallbacks[k]},a=C=>{const k=Ut(C,L=>L.status==="rejected");return k.length>0?Promise.reject(Ri(k,({reason:L})=>hn(L)?L:[L])):Promise.resolve()},u=C=>Promise.allSettled(mn(C,k=>o.states[k]===Mm?(r("resolve",k),Promise.resolve()):o.states[k]===fx?(r("reject",k),Promise.reject(k)):(o.states[k]=xy,o.loadScript(k).then(()=>{o.states[k]=Mm,r("resolve",k);const L=o.queue;return L.length>0?(o.queue=[],u(L).then(a)):Promise.resolve()},()=>(o.states[k]=fx,r("reject",k),Promise.reject(k)))))),m=C=>(o.loading=!0,u(C).then(k=>{o.loading=!1;const L=o.queueLoadedCallbacks.shift();return W.from(L).each(Fs),a(k)})),v=ud(n);return o.loading?new Promise((C,k)=>{o.queueLoadedCallbacks.push(()=>{m(v).then(C,k)})}):m(v)}}Ha.ScriptLoader=new Ha;const tr=e=>{let n=e;return{get:()=>n,set:a=>{n=a}}},Sy=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},dk=e=>Ft(e)&&en(e,"raw"),Mv=e=>hn(e)&&e.length>1,Pm={},Ey=tr("en"),pg=()=>Xo(Pm,Ey.get()),Dr={getData:()=>io(Pm,e=>({...e})),setCode:e=>{e&&Ey.set(e)},getCode:()=>Ey.get(),add:(e,n)=>{let o=Pm[e];o||(Pm[e]=o={});const r=mn(ui(n),a=>a.toLowerCase());wt(n,(a,u)=>{const m=u.toLowerCase();m!==u&&Sy(r,m)?(en(n,m)||(o[m]=a),o[u]=a):o[m]=a})},translate:e=>{const n=pg().getOr({}),o=m=>le(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,a=m=>{const v=o(m);return en(n,v)?o(n[v]):Xo(n,v.toLowerCase()).map(o).getOr(v)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(dk(e))return o(e.raw);if(Mv(e)){const m=e.slice(1),v=a(e[0]).replace(/\{([0-9]+)\}/g,(C,k)=>en(m,k)?o(m[k]):C);return u(v)}return u(a(e))},isRtl:()=>pg().bind(e=>Xo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>en(Pm,e)},Fi=()=>{const e=[],n={},o={},r=[],a=(Y,ne)=>{const fe=Ut(r,he=>he.name===Y&&he.state===ne);Ae(fe,he=>he.resolve())},u=Y=>en(n,Y),m=Y=>en(o,Y),v=Y=>{if(o[Y])return o[Y].instance},C=(Y,ne)=>{const fe=Dr.getCode(),he=","+(ne||"")+",";!fe||ne&&he.indexOf(","+fe+",")===-1||Ha.ScriptLoader.add(n[Y]+"/langs/"+fe+".js")},k=(Y,ne)=>{Fi.languageLoad!==!1&&(u(Y)?C(Y,ne):ee(Y,"loaded").then(()=>C(Y,ne)))},L=(Y,ne)=>(e.push(ne),o[Y]={instance:ne},a(Y,"added"),ne),$=Y=>{delete n[Y],delete o[Y]},H=(Y,ne)=>ae(ne)?ae(Y)?{prefix:"",resource:ne,suffix:""}:{prefix:Y.prefix,resource:ne,suffix:Y.suffix}:ne,K=(Y,ne)=>{if(n[Y])return Promise.resolve();let fe=ae(ne)?ne:ne.prefix+ne.resource+ne.suffix;fe.indexOf("/")!==0&&fe.indexOf("://")===-1&&(fe=Fi.baseURL+"/"+fe),n[Y]=fe.substring(0,fe.lastIndexOf("/"));const he=()=>(a(Y,"loaded"),Promise.resolve());return o[Y]?he():Ha.ScriptLoader.add(fe).then(he)},ee=(Y,ne="added")=>ne==="added"&&m(Y)||ne==="loaded"&&u(Y)?Promise.resolve():new Promise(fe=>{r.push({name:Y,state:ne,resolve:fe})});return{items:e,urls:n,lookup:o,get:v,requireLangPack:k,add:L,remove:$,createUrl:H,load:K,waitFor:ee}};Fi.languageLoad=!0,Fi.baseURL="",Fi.PluginManager=Fi(),Fi.ThemeManager=Fi(),Fi.ModelManager=Fi();const mx=e=>{const n=tr(W.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:v=>{o(),n.set(W.some(v))}}},fk=e=>{const n=tr(W.none()),o=()=>n.get().each(v=>clearInterval(v));return{clear:()=>{o(),n.set(W.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:v=>{o(),n.set(W.some(setInterval(v,e)))}}},wf=()=>{const e=mx(Zt);return{...e,on:o=>e.get().each(o)}},Pv=(e,n)=>{let o=null;return{cancel:()=>{D(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{D(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},_y=(e,n)=>{let o=null;const r=()=>{D(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},Kh=(e,n,o)=>ig(e,n,o).isSome(),Xh=lt("mce-annotation"),Cf=lt("data-mce-annotation"),_d=lt("data-mce-annotation-uid"),vg=lt("data-mce-annotation-active"),Yh=lt("data-mce-annotation-classes"),Nm=lt("data-mce-annotation-attrs"),bg=e=>n=>Fe(n,e),yg=(e,n)=>{const o=e.selection.getRng(),r=re.fromDom(o.startContainer),a=re.fromDom(e.getBody()),u=n.fold(()=>"."+Xh(),C=>`[${Cf()}="${C}"]`),m=Ia(r,o.startOffset).getOr(r);return lf(m,u,bg(a)).bind(C=>vc(C,`${_d()}`).bind(k=>vc(C,`${Cf()}`).map(L=>{const $=Ty(e,k);return{uid:k,name:L,elements:$}})))},Du=e=>lr(e)&&pd(e,Xh()),hx=(e,n)=>md(e,"data-mce-bogus")||Kh(e,'[data-mce-bogus="all"]',bg(n)),Ty=(e,n)=>{const o=re.fromDom(e.getBody()),r=pi(o,`[${_d()}="${n}"]`);return Ut(r,a=>!hx(a,o))},Nv=(e,n)=>{const o=re.fromDom(e.getBody()),r=pi(o,`[${Cf()}="${n}"]`),a={};return Ae(r,u=>{if(!hx(u,o)){const m=cs(u,_d()),v=Xo(a,m).getOr([]);a[m]=v.concat([u])}}),a},mk=(e,n)=>{const o=tr({}),r=()=>({listeners:[],previous:wf()}),a=($,H)=>{u($,K=>(H(K),K))},u=($,H)=>{const K=o.get(),ee=Xo(K,$).getOrThunk(r),Y=H(ee);K[$]=Y,o.set(K)},m=($,H,K)=>{a($,ee=>{Ae(ee.listeners,Y=>Y(!0,$,{uid:H,nodes:mn(K,ne=>ne.dom)}))})},v=$=>{a($,H=>{Ae(H.listeners,K=>K(!1,$))})},C=($,H)=>{Ae(Ty(e,$),K=>{H?zo(K,vg(),"true"):pr(K,vg())})},k=_y(()=>{const $=os(n.getNames());Ae($,H=>{u(H,K=>{const ee=K.previous.get();return yg(e,W.some(H)).fold(()=>{ee.each(Y=>{v(H),K.previous.clear(),C(Y,!1)})},({uid:Y,name:ne,elements:fe})=>{I(ee,Y)||(ee.each(he=>C(he,!1)),m(ne,Y,fe),K.previous.set(Y),C(Y,!0))}),{previous:K.previous,listeners:K.listeners}})})},30);return e.on("remove",()=>{k.cancel()}),e.on("NodeChange",()=>{k.throttle()}),{addListener:($,H)=>{u($,K=>({previous:K.previous,listeners:K.listeners.concat([H])}))}}},hk=(e,n)=>{const o=Cf(),r=u=>W.from(u.attr(o)).bind(n.lookup),a=u=>{var m,v;u.attr(_d(),null),u.attr(Cf(),null),u.attr(vg(),null);const C=W.from(u.attr(Nm())).map(H=>H.split(",")).getOr([]),k=W.from(u.attr(Yh())).map(H=>H.split(",")).getOr([]);Ae(C,H=>u.attr(H,null));const L=(v=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&v!==void 0?v:[],$=om(L,[Xh()].concat(k));u.attr("class",$.length>0?$.join(" "):null),u.attr(Yh(),null),u.attr(Nm(),null)};e.serializer.addTempAttr(vg()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(v=>{v.persistent===!1&&(m.name==="span"?m.unwrap():a(m))})})},wg=()=>{const e={};return{register:(a,u)=>{e[a]={name:a,settings:u}},lookup:a=>Xo(e,a).map(u=>u.settings),getNames:()=>ui(e)}};let Bv=0;const Jh=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return Bv++,e+"_"+r+Bv+String(o)},Bm=(e,n)=>{Ae(n,o=>{fu(e,o)})},Iv=(e,n)=>{Ae(n,o=>{Kc(e,o)})},px=(e,n)=>re.fromDom(e.dom.cloneNode(n)),Im=e=>px(e,!1),Qh=e=>px(e,!0),Ts=(e,n)=>{const o=re.fromTag(n),r=Dl(e);return wi(o,r),o},ky=(e,n)=>{const o=Ts(e,n);vd(e,o);const r=Es(e);return Yo(o,r),vo(e),o},Os=(e,n,o=Ze)=>{const r=new Ns(e,n),a=u=>{let m;do m=r[u]();while(m&&!Ke(m)&&!o(m));return W.from(m).filter(Ke)};return{current:()=>W.from(r.current()).filter(Ke),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Lm=(e,n)=>{const o=n||(m=>e.isBlock(m)||Jo(m)||ps(m)),r=(m,v,C,k)=>{if(Ke(m)){const L=k(m,v,m.data);if(L!==-1)return W.some({container:m,offset:L})}return C().bind(L=>r(L.container,L.offset,C,k))};return{backwards:(m,v,C,k)=>{const L=Os(m,k??e.getRoot(),o);return r(m,v,()=>L.prev().map($=>({container:$,offset:$.length})),C).getOrNull()},forwards:(m,v,C,k)=>{const L=Os(m,k??e.getRoot(),o);return r(m,v,()=>L.next().map($=>({container:$,offset:0})),C).getOrNull()}}},Td=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?W.from(u.dom.nodeValue):W.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(Ho,"text"),Va=e=>Td.get(e),gx=e=>Td.getOption(e),pk=(e,n)=>Td.set(e,n),gk=["td","th"],ep=["thead","tbody","tfoot"],kd=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ru=["li","dd","dt"],Ay=["ul","ol","dl"],Lv=["pre","script","textarea","style"],nr=e=>{let n;return o=>(n=n||ar(e,Tt),en(n,Un(o)))},vx=e=>Un(e)==="table",Ad=e=>lr(e)&&Un(e)==="br",bx=nr(kd),$v=nr(Ay),Cc=nr(Ru),Od=nr(ep),Cg=nr(gk),xg=nr(Lv),vk=e=>{const n=[];let o=e.dom;for(;o;)n.push(re.fromDom(o)),o=o.lastChild;return n},bk=e=>{const n=pi(e,"br"),o=Ut(vk(e).slice(-1),Ad);n.length===o.length&&Ae(o,vo)},Sg=()=>{const e=re.fromTag("br");return zo(e,"data-mce-bogus","1"),e},Dd=e=>{pm(e),ur(e,Sg())},yk=(e,n)=>{Xc(e).each(o=>{Oo(o).each(r=>{n.isBlock(Un(e))&&Ad(o)&&n.isBlock(Un(r))&&vo(o)})})},Ur=bd,Fv=Ph,Ua=G2,yx=e=>e.insertContent(Ur,{preserve_zwsp:!0}),Vs=It,Mu=Ke,tp=e=>(Mu(e)&&(e=e.parentNode),Vs(e)&&e.hasAttribute("data-mce-caret")),Rd=e=>Mu(e)&&Fv(e.data),Ta=e=>tp(e)||Rd(e),Wr=e=>e.firstChild!==e.lastChild||!Jo(e.firstChild),xc=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ur),u=e.parentNode;if(n){const m=e.previousSibling;if(Mu(m)){if(Ta(m))return m;if(Eg(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(a,e)}else{const m=e.nextSibling;if(Mu(m)){if(Ta(m))return m;if(Vv(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(a,e.nextSibling):u==null||u.appendChild(a)}return a},Hv=e=>{const n=e.container();return Ke(n)?n.data.charAt(e.offset())===Ur||e.isAtStart()&&Rd(n.previousSibling):!1},zv=e=>{const n=e.container();return Ke(n)?n.data.charAt(e.offset()-1)===Ur||e.isAtEnd()&&Rd(n.nextSibling):!1},np=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Sg().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},Vv=e=>Mu(e)&&e.data[0]===Ur,Eg=e=>Mu(e)&&e.data[e.data.length-1]===Ur,wk=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];zr(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},_g=e=>e&&e.hasAttribute("data-mce-caret")?(wk(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wx=e=>tp(e.startContainer),oc=Math.round,xf=e=>e?{left:oc(e.left),top:oc(e.top),bottom:oc(e.bottom),right:oc(e.right),width:oc(e.width),height:oc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Uv=(e,n)=>(e=xf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),us=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Hl=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Pu=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Hl(n.top-e.bottom,e,n)},Tg=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Hl(n.bottom-e.top,e,n),Cx=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Ck=e=>wo(e,(n,o)=>n.fold(()=>W.some(o),r=>{const a=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),v=Math.max(o.bottom,r.bottom);return W.some({top:u,right:m,bottom:v,left:a,width:m-a,height:v-u})}),W.none()),Sf=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-a)*(o-a))},Oy=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),op=(e,n,o)=>Math.min(Math.max(e,n),o),sp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Md=(e,n)=>{if(It(e)&&e.hasChildNodes()){const o=e.childNodes,r=op(n,0,o.length-1);return o[r]}else return e},xk=(e,n)=>{if(!(n<0&&It(e)&&e.hasChildNodes()))return Md(e,n)},Sk=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Dy=e=>ae(e)&&e.charCodeAt(0)>=768&&Sk.test(e),Ry=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},Wv=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},xx=kr,My=ps,Py=Jo,Sx=Ke,$R=Yc(["script","style","textarea"]),Ef=Yc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ny=Yc(["table"]),il=Ta,sc=e=>il(e)?!1:Sx(e)?!$R(e.parentNode):Ef(e)||Py(e)||Ny(e)||ta(e),oo=e=>It(e)&&e.getAttribute("unselectable")==="true",ta=e=>!oo(e)&&My(e),$m=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(ta(o))return!1;if(xx(o))return!0}return!0},By=e=>ta(e)?!wo(Xi(e.getElementsByTagName("*")),(n,o)=>n||xx(o),!1):!1,ds=e=>Ef(e)||By(e),Iy=(e,n)=>sc(e)&&$m(e,n),Ly=It,Zr=sc,Nu=ls("display","block table"),Ex=ls("float","left right"),kg=Wv(Ly,Zr,Uo(Ex)),Ek=Uo(ls("white-space","pre pre-line pre-wrap")),Sc=Ke,rp=Jo,Ag=Zo.nodeIndex,Fm=xk,Zv=e=>e?e.createRange():Zo.DOM.createRng(),jv=e=>ae(e)&&/[\r\n\t ]/.test(e),$y=e=>!!e.setStart&&!!e.setEnd,Og=e=>{const n=e.startContainer,o=e.startOffset;if(jv(e.toString())&&Ek(n.parentNode)&&Ke(n)){const r=n.data;if(jv(r[o-1])||jv(r[o+1]))return!0}return!1},Dg=e=>{const n=e.ownerDocument,o=Zv(n),r=n.createTextNode(Jr),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=xf(o.getBoundingClientRect());return a.removeChild(r),u},Ls=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(n===o&&Ke(o)&&r===0&&a===1){const u=e.cloneRange();return u.setEndAfter(o),Us(u)}else return null},_x=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Us=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=xf(r[0]):o=xf(e.getBoundingClientRect()),!$y(e)&&rp(e)&&_x(o)?Dg(e):_x(o)&&$y(e)&&(n=Ls(e))!==null&&n!==void 0?n:o},Hm=(e,n)=>{const o=Uv(e,n);return o.width=1,o.right=o.left+1,o},_f=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&us(m,n[n.length-1])||n.push(m))},r=(m,v)=>{const C=Zv(m.ownerDocument);if(v<m.data.length){if(Dy(m.data[v]))return;if(Dy(m.data[v-1])&&(C.setStart(m,v),C.setEnd(m,v+1),!Og(C))){o(Hm(Us(C),!1));return}}v>0&&(C.setStart(m,v-1),C.setEnd(m,v),Og(C)||o(Hm(Us(C),!1))),v<m.data.length&&(C.setStart(m,v),C.setEnd(m,v+1),Og(C)||o(Hm(Us(C),!0)))},a=e.container(),u=e.offset();if(Sc(a))return r(a,u),n;if(Ly(a))if(e.isAtEnd()){const m=Fm(a,u);Sc(m)&&r(m,m.data.length),kg(m)&&!rp(m)&&o(Hm(Us(m),!1))}else{const m=Fm(a,u);if(Sc(m)&&r(m,0),kg(m)&&e.isAtEnd())return o(Hm(Us(m),!1)),n;const v=Fm(e.container(),e.offset()-1);kg(v)&&!rp(v)&&(Nu(v)||Nu(m)||!kg(m))&&o(Hm(Us(v),!1)),kg(m)&&o(Hm(Us(m),!0))}return n},Re=(e,n,o)=>{const r=()=>(Sc(e),n===0),a=()=>Sc(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const L=Zv(e.ownerDocument);return L.setStart(e,n),L.setEnd(e,n),L},m=()=>(o||(o=_f(Re(e,n))),o),v=()=>m().length>0,C=L=>L&&e===L.container()&&n===L.offset(),k=L=>Fm(e,L?n-1:n);return{container:lt(e),offset:lt(n),toRange:u,getClientRects:m,isVisible:v,isAtStart:r,isAtEnd:a,isEqual:C,getNode:k}};Re.fromRangeStart=e=>Re(e.startContainer,e.startOffset),Re.fromRangeEnd=e=>Re(e.endContainer,e.endOffset),Re.after=e=>Re(e.parentNode,Ag(e)+1),Re.before=e=>Re(e.parentNode,Ag(e)),Re.isAbove=(e,n)=>J(Gs(n.getClientRects()),ha(e.getClientRects()),Pu).getOr(!1),Re.isBelow=(e,n)=>J(ha(n.getClientRects()),Gs(e.getClientRects()),Tg).getOr(!1),Re.isAtStart=e=>e?e.isAtStart():!1,Re.isAtEnd=e=>e?e.isAtEnd():!1,Re.isTextPosition=e=>e?Ke(e.container()):!1,Re.isElementPosition=e=>!Re.isTextPosition(e);const zm=(e,n)=>{Ke(n)&&n.data.length===0&&e.remove(n)},Tx=(e,n,o)=>{n.insertNode(o),zm(e,o.previousSibling),zm(e,o.nextSibling)},Fy=(e,n,o)=>{const r=W.from(o.firstChild),a=W.from(o.lastChild);n.insertNode(o),r.each(u=>zm(e,u.previousSibling)),a.each(u=>zm(e,u.nextSibling))},Rg=(e,n,o)=>{er(o)?Fy(e,n,o):Tx(e,n,o)},Ec=Ke,Hy=zr,Mg=Zo.nodeIndex,dr=e=>{const n=e.parentNode;return Hy(n)?dr(n):n},or=e=>e?ga(e.childNodes,(n,o)=>(Hy(o)&&o.nodeName!=="BR"?n=n.concat(or(o)):n.push(o),n),[]):[],es=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ec(o);)n+=o.data.length;return n},yr=e=>n=>e===n,jr=e=>{let n,o;n=or(dr(e)),o=Wo(n,yr(e),e),n=n.slice(0,o+1);const r=ga(n,(a,u,m)=>(Ec(u)&&Ec(n[m-1])&&a++,a),0);return n=vh(n,Yc([e.nodeName])),o=Wo(n,yr(e),e),o-r},Ws=e=>(Ec(e)?"text()":e.nodeName.toLowerCase())+"["+jr(e)+"]",zy=(e,n,o)=>{const r=[];for(let a=n.parentNode;a&&a!==e&&!(o&&o(a));a=a.parentNode)r.push(a);return r},qv=(e,n)=>{let o=[],r=n.container(),a=n.offset(),u;if(Ec(r))u=es(r,a);else{const v=r.childNodes;a>=v.length?(u="after",a=v.length-1):u="before",r=v[a]}o.push(Ws(r));let m=zy(e,r);return m=vh(m,Uo(zr)),o=o.concat(zc(m,v=>Ws(v))),o.reverse().join("/")+","+u},kx=(e,n,o)=>{let r=or(e);return r=vh(r,(a,u)=>!Ec(a)||!Ec(r[u-1])),r=vh(r,Yc([n])),r[o]},Ax=(e,n)=>{let o=e,r=0;for(;Ec(o);){const a=o.data.length;if(n>=r&&n<=r+a){e=o,n=n-r;break}if(!Ec(o.nextSibling)){e=o,n=a;break}r+=a,o=o.nextSibling}return Ec(e)&&n>e.data.length&&(n=e.data.length),Re(e,n)},Vy=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",u=ga(r,(m,v)=>{const C=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(v);return C?(C[1]==="text()"&&(C[1]="#text"),kx(m,C[1],parseInt(C[2],10))):null},e);if(!u)return null;if(!Ec(u)&&u.parentNode){let m;return a==="after"?m=Mg(u)+1:m=Mg(u),Re(u.parentNode,m)}return Ax(u,parseInt(a,10))},Pg=ps,Ng=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let a=n.previousSibling;a&&Ke(a);a=a.previousSibling)r+=e(a.data).length;return r},Gv=(e,n,o,r,a)=>{const u=a?r.startContainer:r.endContainer;let m=a?r.startOffset:r.endOffset;const v=[],C=e.getRoot();if(Ke(u))v.push(o?Ng(n,u,m):m);else{let k=0;const L=u.childNodes;m>=L.length&&L.length&&(k=1,m=Math.max(0,L.length-1)),v.push(e.nodeIndex(L[m],o)+k)}for(let k=u;k&&k!==C;k=k.parentNode)v.push(e.nodeIndex(k,o));return v},_k=(e,n,o,r)=>{const a=n.dom,u=Gv(a,e,o,r,!0),m=n.isForward(),v=wx(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:m,...v};{const C=Gv(a,e,o,r,!1);return{start:u,end:C,forward:m,...v}}},Ox=(e,n,o)=>{let r=0;return O.each(e.select(n),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},Dx=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(It(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(n?r:r-1,a.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Rx=e=>(Dx(e,!0),Dx(e,!1),e),Mx=(e,n)=>{if(It(e)&&(e=Md(e,n),Pg(e)))return e;if(Ta(e)){Ke(e)&&tp(e)&&(e=e.parentNode);let o=e.previousSibling;if(Pg(o)||(o=e.nextSibling,Pg(o)))return o}},Uy=e=>Mx(e.startContainer,e.startOffset)||Mx(e.endContainer,e.endOffset),Px=(e,n,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||Pg(r)){const m=r.nodeName;return{name:m,index:Ox(o.dom,m,r)}}const u=Uy(a);if(u){const m=u.tagName;return{name:m,index:Ox(o.dom,m,u)}}return _k(e,o,n,a)},Kv=e=>{const n=e.getRng();return{start:qv(e.dom.getRoot(),Re.fromRangeStart(n)),end:qv(e.dom.getRoot(),Re.fromRangeEnd(n)),forward:e.isForward()}},Tk=e=>({rng:e.getRng(),forward:e.isForward()}),Nx=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Wy=(e,n)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),v=m.nodeName,C=e.isForward();if(v==="IMG")return{name:v,index:Ox(o,v,m)};const k=Rx(r.cloneRange());if(!u){k.collapse(!1);const $=Nx(o,a+"_end",n);Rg(o,k,$)}r=Rx(r),r.collapse(!0);const L=Nx(o,a+"_start",n);return Rg(o,r,L),e.moveToBookmark({id:a,keep:!0,forward:C}),{id:a,forward:C}},at=(e,n,o=!1)=>n===2?Px(Ua,o,e):n===3?Kv(e):n?Tk(e):Wy(e,!1),Zy=qe(Px,po,!0),qr=e=>{const n=u=>u(e),o=lt(e),r=()=>a,a={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:Tt,isError:Ze,map:u=>Hi.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>W.some(e)};return a},Bx=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:Ze,isError:Tt,map:n,mapError:r=>Hi.error(r(e)),bind:n,exists:Ze,forall:Tt,getOr:po,or:po,getOrThunk:qo,orThunk:qo,getOrDie:Tr(String(e)),each:Zt,toOptional:W.none};return o},Hi={value:qr,error:Bx,fromOption:(e,n)=>e.fold(()=>Bx(n),qr)},Bu={generate:e=>{if(!hn(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return Ae(e,(r,a)=>{const u=ui(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],v=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!hn(v))throw new Error("case arguments must be an array");n.push(m),o[m]=(...C)=>{const k=C.length;if(k!==v.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+v.length+" ("+v+"), got "+k);return{fold:(...$)=>{if($.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+$.length);return $[a].apply(null,C)},match:$=>{const H=ui($);if(n.length!==H.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+H.join(","));if(!hr(n,ee=>gn(H,ee)))throw new Error("Not all branches were specified when using match. Specified: "+H.join(", ")+`
Required: `+n.join(", "));return $[m].apply(null,C)},log:$=>{console.log($,{constructors:n,constructor:m,params:C})}}}}),o}};Bu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ix=e=>{const n=[],o=[];return Ae(e,r=>{r.fold(a=>{n.push(a)},a=>{o.push(a)})}),{errors:n,values:o}},_c=e=>e.type==="inline-command"||e.type==="inline-format",Xv=e=>e.type==="block-command"||e.type==="block-format",ip=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,al=e=>{var n;const o=a=>Hi.error({message:a,pattern:e}),r=(a,u,m)=>{if(e.format!==void 0){let v;if(hn(e.format)){if(!hr(e.format,ae))return o(a+" pattern has non-string items in the `format` array");v=e.format}else if(ae(e.format))v=[e.format];else return o(a+" pattern has non-string `format` parameter");return Hi.value(u(v))}else return e.cmd!==void 0?ae(e.cmd)?Hi.value(m(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!Ft(e))return o("Raw pattern is not an object");if(!ae(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ae(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,u=e.end;return u.length===0&&(u=a,a=""),r("Inline",m=>({type:"inline-format",start:a,end:u,format:m}),(m,v)=>({type:"inline-command",start:a,end:u,cmd:m,value:v}))}else{if(e.replacement!==void 0)return ae(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Hi.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:a}),(u,m)=>({type:"block-command",start:e.start,cmd:u,value:m,trigger:a}))}}},ni=e=>Ut(e,Xv),Yv=e=>Ut(e,_c),cl=(e,n)=>({inlinePatterns:Yv(e),blockPatterns:ni(e),dynamicPatternsLookup:n}),qy=(e,n)=>({...e,blockPatterns:Ut(e.blockPatterns,o=>ip(o,n))}),Gy=e=>{const n=Ix(mn(e,al));return Ae(n.errors,o=>console.error(o.message,o.pattern)),n.values},Ky=e=>n=>{const o=e(n);return Gy(o)},Jv=tc().deviceType,Lx=Jv.isTouch(),Xy=Zo.DOM,kk=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return wo(n,(o,r)=>{const a=r.split("="),u=a[0],m=a.length>1?a[1]:u;return o[Ya(u)]=Ya(m),o},{})},Yy=e=>yo(e,RegExp),Dt=e=>n=>n.options.get(e),Qv=e=>ae(e)||Ft(e),$x=(e,n="")=>o=>{const r=ae(o);if(r)if(o.indexOf("=")!==-1){const a=kk(o);return{value:Xo(a,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Ak=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:$x(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:$x(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ae(o)&&$o(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=gn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>pn(o)?{valid:!0,value:o}:ae(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ae(o)||Gn(o,ae);return r?ae(o)?{value:mn(o.split(","),Ya),valid:r}:hn(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Wm(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ae(o)||Gn(o,ae);return r?{value:hn(o)?o:mn(o.split(","),Ya),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=pn(o)||ae(o);return r?o===!1||Jv.isiPhone()||Jv.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Lx}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ae(o)||le(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ae(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Qv}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Qv}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Qv}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Qv}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ae(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Gn(o,Ft)||o===!1?{value:Gy(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>le(o)?{value:Ky(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Gn(o,Yy)?{value:o,valid:!0}:Yy(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=gn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=gn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Dr.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Xy.getAttrib(e.getElement(),"placeholder")})})},Ok=Dt("iframe_attrs"),Jy=Dt("doctype"),Fx=Dt("document_base_url"),Hx=Dt("body_id"),Dk=Dt("body_class"),Bg=Dt("content_security_policy"),Rk=Dt("br_in_pre"),zi=Dt("forced_root_block"),Ig=Dt("forced_root_block_attrs"),zx=Dt("newline_behavior"),Vx=Dt("br_newline_selector"),Pd=Dt("no_newline_selector"),Mk=Dt("keep_styles"),ap=Dt("end_container_on_empty_block"),ts=Dt("automatic_uploads"),Qy=Dt("images_reuse_filename"),gi=Dt("images_replace_blob_uris"),wr=Dt("icons"),Ux=Dt("icons_url"),ew=Dt("images_upload_url"),eb=Dt("images_upload_base_path"),Wx=Dt("images_upload_credentials"),Zx=Dt("images_upload_handler"),Pk=Dt("content_css_cors"),tw=Dt("referrer_policy"),jx=Dt("language"),Nk=Dt("language_url"),cp=Dt("indent_use_margin"),qx=Dt("indentation"),FR=Dt("content_css"),Vm=Dt("content_style"),Gx=Dt("font_css"),Bk=Dt("directionality"),Ik=Dt("inline_boundaries_selector"),Kx=Dt("object_resizing"),nw=Dt("resize_img_proportional"),ow=Dt("placeholder"),Um=Dt("event_root"),Xx=Dt("service_message"),lp=Dt("theme"),Lk=Dt("theme_url"),sw=Dt("model"),ll=Dt("model_url"),Tf=Dt("inline_boundaries"),tb=Dt("formats"),Lg=Dt("preview_styles"),Yx=Dt("format_empty_lines"),Iu=Dt("format_noneditable_selector"),nb=Dt("custom_ui_selector"),Wm=Dt("inline"),ul=Dt("hidden_input"),up=Dt("submit_patch"),$k=Dt("add_form_submit_trigger"),Jx=Dt("add_unload_trigger"),Fk=Dt("custom_undo_redo_levels"),Hk=Dt("disable_nodechange"),rw=Dt("readonly"),zk=Dt("editable_root"),Qx=Dt("content_css_cors"),$g=Dt("plugins"),eS=Dt("external_plugins"),tS=Dt("block_unsupported_drop"),Vk=Dt("visual"),Uk=Dt("visual_table_class"),nS=Dt("visual_anchor_class"),oS=Dt("iframe_aria_text"),iw=Dt("setup"),sS=Dt("init_instance_callback"),Wk=Dt("urlconverter_callback"),Zk=Dt("auto_focus"),ob=Dt("browser_spellcheck"),rS=Dt("protect"),iS=Dt("paste_block_drop"),Nd=Dt("paste_data_images"),sb=Dt("paste_preprocess"),aw=Dt("paste_postprocess"),aS=Dt("newdocument_content"),cS=Dt("paste_webkit_styles"),lS=Dt("paste_remove_styles_if_webkit"),jk=Dt("paste_merge_formats"),uS=Dt("smart_paste"),Fg=Dt("paste_as_text"),qk=Dt("paste_tab_spaces"),cw=Dt("allow_html_data_urls"),Gk=Dt("text_patterns"),Kk=Dt("text_patterns_lookup"),dS=Dt("noneditable_class"),lw=Dt("editable_class"),Xk=Dt("noneditable_regexp"),Hg=Dt("preserve_cdata"),Yk=Dt("highlight_on_focus"),fS=Dt("xss_sanitization"),mS=Dt("init_content_sync"),Vi=e=>e.options.isSet("text_patterns_lookup"),Jk=e=>O.explode(e.options.get("font_size_style_values")),dp=e=>O.explode(e.options.get("font_size_classes")),Qk=e=>e.options.get("encoding")==="xml",fp=e=>O.explode(e.options.get("images_file_types")),hS=Dt("table_tab_navigation"),eA=Dt("details_initial_state"),tA=Dt("details_serialized_state"),uw=Dt("sandbox_iframes"),mp=e=>e.options.get("sandbox_iframes_exclusions"),pS=Dt("convert_unsafe_embeds"),na=Dt("license_key"),zg=Dt("api_key"),gS=It,vS=Ke,dw=e=>{const n=e.parentNode;n&&n.removeChild(e)},fw=e=>{const n=Ua(e);return{count:e.length-n.length,text:n}},rb=e=>{let n;for(;(n=e.data.lastIndexOf(Ur))!==-1;)e.deleteData(n,1)},bS=(e,n)=>(jm(e),n),Vg=(e,n)=>{const o=fw(e.data.substr(0,n.offset())),r=fw(e.data.substr(n.offset()));return(o.text+r.text).length>0?(rb(e),Re(e,n.offset()-o.count)):n},v6=(e,n)=>{const o=n.container(),r=cd(Xi(o.childNodes),e).map(a=>a<n.offset()?Re(o,n.offset()-1):n).getOr(n);return jm(e),r},yS=(e,n)=>vS(e)&&n.container()===e?Vg(e,n):bS(e,n),wS=(e,n)=>n.container()===e.parentNode?v6(e,n):bS(e,n),Zm=(e,n)=>Re.isTextPosition(n)?yS(e,n):wS(e,n),jm=e=>{gS(e)&&Ta(e)&&(Wr(e)?e.removeAttribute("data-mce-caret"):dw(e)),vS(e)&&(rb(e),e.data.length===0&&dw(e))},mw=ps,hw=Ar,ib=Jc,CS="*[contentEditable=false],video,audio,embed,object",qm=(e,n,o)=>{const r=Uv(n.getBoundingClientRect(),o);let a,u;if(e.tagName==="BODY"){const v=e.ownerDocument.documentElement;a=e.scrollLeft||v.scrollLeft,u=e.scrollTop||v.scrollTop}else{const v=e.getBoundingClientRect();a=e.scrollLeft-v.left,u=e.scrollTop-v.top}r.left+=a,r.right+=a,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},kf=e=>{var n,o;const r=pi(re.fromDom(e),CS);for(let a=0;a<r.length;a++){const u=r[a].dom;let m=u.previousSibling;if(Eg(m)){const v=m.data;v.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(v.length-1,1)}m=u.nextSibling,Vv(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},xS=(e,n,o,r)=>{const a=wf();let u,m;const v=zi(e),C=e.dom,k=(Y,ne)=>{let fe;if(L(),ib(ne))return null;if(o(ne)){const he=np(v,ne,Y),pe=qm(n,ne,Y);C.setStyle(he,"top",pe.top),C.setStyle(he,"caret-color","transparent"),m=he;const Ee=C.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});C.setStyles(Ee,{...pe}),C.add(n,Ee),a.set({caret:Ee,element:ne,before:Y}),Y&&C.addClass(Ee,"mce-visual-caret-before"),$(),fe=ne.ownerDocument.createRange(),fe.setStart(he,0),fe.setEnd(he,0)}else return m=xc(ne,Y),fe=ne.ownerDocument.createRange(),Ug(m.nextSibling)?(fe.setStart(m,0),fe.setEnd(m,0)):(fe.setStart(m,1),fe.setEnd(m,1)),fe;return fe},L=()=>{kf(n),m&&(jm(m),m=null),a.on(Y=>{C.remove(Y.caret),a.clear()}),u&&(clearInterval(u),u=void 0)},$=()=>{u=setInterval(()=>{a.on(Y=>{r()?C.toggleClass(Y.caret,"mce-visual-caret-hidden"):C.addClass(Y.caret,"mce-visual-caret-hidden")})},500)};return{show:k,hide:L,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(Y=>{const ne=qm(n,Y.element,Y.before);C.setStyles(Y.caret,{...ne})})},destroy:()=>clearInterval(u)}},ab=()=>Et.browser.isFirefox(),Ug=e=>mw(e)||hw(e),Wg=e=>(Ug(e)||br(e)&&ab())&&Kn(re.fromDom(e)).exists(An),pw=kr,hp=ps,SS=Ar,gw=ls("display","block table table-cell table-caption list-item"),cb=Ta,vw=tp,nA=It,ES=Ke,_S=sc,Bd=e=>e>0,Af=e=>e<0,Zg=(e,n)=>{let o;for(;o=e(n);)if(!vw(o))return o;return null},jg=(e,n,o,r,a)=>{const u=new Ns(e,r),m=hp(e)||vw(e);let v;if(Af(n)){if(m&&(v=Zg(u.prev.bind(u),!0),o(v)))return v;for(;v=Zg(u.prev.bind(u),a);)if(o(v))return v}if(Bd(n)){if(m&&(v=Zg(u.next.bind(u),!0),o(v)))return v;for(;v=Zg(u.next.bind(u),a);)if(o(v))return v}return null},oA=(e,n)=>{const o=a=>pw(a.dom),r=a=>a.dom===n;return Ps(re.fromDom(e),o,r).map(a=>a.dom).getOr(n)},Of=(e,n)=>{for(;e&&e!==n;){if(gw(e))return e;e=e.parentNode}return null},Tc=(e,n,o)=>Of(e.container(),o)===Of(n.container(),o),lb=(e,n)=>{if(!n)return W.none();const o=n.container(),r=n.offset();return nA(o)?W.from(o.childNodes[r+e]):W.none()},sA=(e,n)=>{var o;const a=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},b6=(e,n,o)=>Of(n,e)===Of(o,e),rA=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==n;){let u=a[r];if(u&&cb(u)&&(u=u[r]),hp(u)||SS(u)){if(b6(n,u,a))return u;break}if(_S(u))break;a=a.parentNode}return null},Id=qe(sA,!0),qg=qe(sA,!1),oi=(e,n,o)=>{let r;const a=qe(rA,!0,n),u=qe(rA,!1,n),m=o.startContainer,v=o.startOffset;if(tp(m)){const C=ES(m)?m.parentNode:m,k=C.getAttribute("data-mce-caret");if(k==="before"&&(r=C.nextSibling,Wg(r)))return Id(r);if(k==="after"&&(r=C.previousSibling,Wg(r)))return qg(r)}if(!o.collapsed)return o;if(Ke(m)){if(cb(m)){if(e===1){if(r=u(m),r)return Id(r);if(r=a(m),r)return qg(r)}if(e===-1){if(r=a(m),r)return qg(r);if(r=u(m),r)return Id(r)}return o}if(Eg(m)&&v>=m.data.length-1)return e===1&&(r=u(m),r)?Id(r):o;if(Vv(m)&&v<=1)return e===-1&&(r=a(m),r)?qg(r):o;if(v===m.data.length)return r=u(m),r?Id(r):o;if(v===0)return r=a(m),r?qg(r):o}return o},ub=(e,n)=>lb(e?0:-1,n).filter(hp),zl=(e,n,o)=>{const r=oi(e,n,o);return e===-1?Re.fromRangeStart(r):Re.fromRangeEnd(r)},Lu=e=>W.from(e.getNode()).map(re.fromDom),TS=e=>W.from(e.getNode(!0)).map(re.fromDom),Gg=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Kg=(e,n)=>{const o=Tc(e,n);return!o&&Jo(e.getNode())?!0:o};var si;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(si||(si={}));const iA=ps,kc=Ke,Vl=It,Xg=Jo,Gm=sc,$u=ds,Yg=Iy,pp=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},gp=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,db=(e,n)=>{if(Bd(e)){if(Gm(n.previousSibling)&&!kc(n.previousSibling))return Re.before(n);if(kc(n))return Re(n,0)}if(Af(e)){if(Gm(n.nextSibling)&&!kc(n.nextSibling))return Re.after(n);if(kc(n))return Re(n,n.data.length)}return Af(e)?Xg(n)?Re.before(n):Re.after(n):Re.before(n)},kS=(e,n)=>{const o=n.nextSibling;return o&&Gm(o)?kc(o)?Re(o,0):Re.before(o):Fu(si.Forwards,Re.after(n),e)},Fu=(e,n,o)=>{let r,a,u,m;if(!Vl(o)||!n)return null;if(n.isEqual(Re.after(o))&&o.lastChild){if(m=Re.after(o.lastChild),Af(e)&&Gm(o.lastChild)&&Vl(o.lastChild))return Xg(o.lastChild)?Re.before(o.lastChild):m}else m=n;const v=m.container();let C=m.offset();if(kc(v)){if(Af(e)&&C>0)return Re(v,--C);if(Bd(e)&&C<v.length)return Re(v,++C);r=v}else{if(Af(e)&&C>0&&(a=gp(v,C-1),Gm(a)))return!$u(a)&&(u=jg(a,e,Yg,a),u)?kc(u)?Re(u,u.data.length):Re.after(u):kc(a)?Re(a,a.data.length):Re.before(a);if(Bd(e)&&C<v.childNodes.length&&(a=gp(v,C),Gm(a)))return Xg(a)?kS(o,a):!$u(a)&&(u=jg(a,e,Yg,a),u)?kc(u)?Re(u,0):Re.before(u):kc(a)?Re(a,0):Re.after(a);r=a||m.getNode()}if(r&&(Bd(e)&&m.isAtEnd()||Af(e)&&m.isAtStart())&&(r=jg(r,e,Tt,o,!0),Yg(r,o)))return db(e,r);a=r&&jg(r,e,Yg,o);const k=Pa(Ut(pp(v,o),iA));return k&&(!a||!k.contains(a))?(Bd(e)?m=Re.after(k):m=Re.before(k),m):a?db(e,a):null},Ul=e=>({next:n=>Fu(si.Forwards,n,e),prev:n=>Fu(si.Backwards,n,e)}),Hu=(e,n,o)=>{const r=e?Re.before(o):Re.after(o);return Ac(e,n,r)},aA=e=>Jo(e)?Re.before(e):Re.after(e),fb=e=>Re.isTextPosition(e)?e.offset()===0:sc(e.getNode()),bw=e=>{if(Re.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return sc(e.getNode(!0))},cA=(e,n)=>!Re.isTextPosition(e)&&!Re.isTextPosition(n)&&e.getNode()===n.getNode(!0),lA=e=>!Re.isTextPosition(e)&&Jo(e.getNode()),uA=(e,n,o)=>e?!cA(n,o)&&!lA(n)&&bw(n)&&fb(o):!cA(o,n)&&fb(n)&&bw(o),Ac=(e,n,o)=>{const r=Ul(n);return W.from(e?r.next(o):r.prev(o))},Km=(e,n,o)=>Ac(e,n,o).bind(r=>Tc(o,r,n)&&uA(e,o,r)?Ac(e,n,r):W.some(r)),mb=(e,n,o,r)=>Km(e,n,o).bind(a=>r(a)?mb(e,n,a,r):W.some(a)),Xm=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Ke(o)?W.some(Re(o,e?0:o.data.length)):o?sc(o)?W.some(e?Re.before(o):aA(o)):Hu(e,n,o):W.none()},oa=qe(Ac,!0),ka=qe(Ac,!1),Ui=qe(Xm,!0),dl=qe(Xm,!1),hb="_mce_caret",rc=e=>It(e)&&e.id===hb,$n=(e,n)=>{let o=n;for(;o&&o!==e;){if(rc(o))return o;o=o.parentNode}return null},Df=e=>ae(e.start),vp=e=>en(e,"rng"),yw=e=>en(e,"id"),ww=e=>en(e,"name"),Jg=e=>O.isArray(e.start),pb=e=>!ww(e)&&pn(e.forward)?e.forward:!0,gb=(e,n)=>(It(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),vb=(e,n)=>{const o=W.from(Vy(e.getRoot(),n.start)),r=W.from(Vy(e.getRoot(),n.end));return J(o,r,(a,u)=>{const m=e.createRng();return m.setStart(a.container(),a.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:pb(n)}})},bb=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ur);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},HR=e=>!e.hasChildNodes(),Cw=(e,n)=>dl(e).fold(Ze,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),AS=(e,n,o)=>HR(n)&&$n(e,n)?(bb(n,o),!0):!1,OS=(e,n,o,r)=>{const a=o[n?"start":"end"],u=e.getRoot();if(a){let m=u,v=a[0];for(let C=a.length-1;m&&C>=1;C--){const k=m.childNodes;if(AS(u,m,r))return!0;if(a[C]>k.length-1)return AS(u,m,r)?!0:Cw(m,r);m=k[a[C]]}Ke(m)&&(v=Math.min(a[0],m.data.length)),It(m)&&(v=Math.min(a[0],m.childNodes.length)),n?r.setStart(m,v):r.setEnd(m,v)}return!0},DS=e=>Ke(e)&&e.data.length>0,xw=(e,n,o)=>{const r=e.get(o.id+"_"+n),a=r==null?void 0:r.parentNode,u=o.keep;if(r&&a){let m,v;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,v=1):DS(r.nextSibling)?(m=r.nextSibling,v=0):DS(r.previousSibling)?(m=r.previousSibling,v=r.previousSibling.data.length):(m=a,v=e.nodeIndex(r)+1):(m=a,v=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,v=1):DS(r.previousSibling)?(m=r.previousSibling,v=r.previousSibling.data.length):(m=a,v=e.nodeIndex(r)):(m=a,v=e.nodeIndex(r)),!u){const C=r.previousSibling,k=r.nextSibling;O.each(O.grep(r.childNodes),$=>{Ke($)&&($.data=$.data.replace(/\uFEFF/g,""))});let L;for(;L=e.get(o.id+"_"+n);)e.remove(L,!0);if(Ke(k)&&Ke(C)&&!Et.browser.isOpera()){const $=C.data.length;C.appendData(k.data),e.remove(k),m=C,v=$}}return W.some(Re(m,v))}else return W.none()},Sw=(e,n)=>{const o=e.createRng();return OS(e,!0,n,o)&&OS(e,!1,n,o)?W.some({range:o,forward:pb(n)}):W.none()},bp=(e,n)=>{const o=xw(e,"start",n),r=xw(e,"end",n);return J(o,r.or(o),(a,u)=>{const m=e.createRng();return m.setStart(gb(e,a.container()),a.offset()),m.setEnd(gb(e,u.container()),u.offset()),{range:m,forward:pb(n)}})},yb=(e,n)=>W.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),Ew=(e,n)=>{const o=e.dom;if(n){if(Jg(n))return Sw(o,n);if(Df(n))return vb(o,n);if(yw(n))return bp(o,n);if(ww(n))return yb(o,n);if(vp(n))return W.some({range:n.rng,forward:pb(n)})}return W.none()},yp=(e,n,o)=>at(e,n,o),RS=(e,n)=>{Ew(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Oc=e=>It(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",wb=(e=>n=>e===n)(Jr),Ld=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_w=e=>!Ld(e)&&!wb(e)&&!Ph(e),Tw=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},dA=e=>Ri(e,n=>{const o=sp(n);return o?[re.fromDom(o)]:[]}),fA=e=>Tw(e).length>1,mA=e=>Ut(dA(e),Cg),hA=e=>pi(e,"td[data-mce-selected],th[data-mce-selected]"),MS=(e,n)=>{const o=hA(n);return o.length>0?o:mA(e)},Wl=e=>MS(Tw(e.selection.getSel()),re.fromDom(e.getBody())),Qg=(e,n)=>ig(e,"table",n),pA=e=>{const n=e.startContainer,o=e.startOffset;return Ke(n)?o===0?W.some(re.fromDom(n)):W.none():W.from(n.childNodes[o]).map(re.fromDom)},kt=e=>{const n=e.endContainer,o=e.endOffset;return Ke(n)?o===n.data.length?W.some(re.fromDom(n)):W.none():W.from(n.childNodes[o-1]).map(re.fromDom)},Rr=e=>Hr(e).fold(lt([e]),n=>[e].concat(Rr(n))),$d=e=>Xc(e).fold(lt([e]),n=>Un(n)==="br"?Oo(n).map(o=>[e].concat($d(o))).getOr([]):[e].concat($d(n))),Mr=(e,n)=>J(pA(n),kt(n),(o,r)=>{const a=Ko(Rr(e),qe(Fe,o)),u=Ko($d(e),qe(Fe,r));return a.isSome()&&u.isSome()}).getOr(!1),ic=(e,n,o,r)=>{const a=o,u=new Ns(o,a),m=ss(e.schema.getMoveCaretBeforeOnEnterElements(),(C,k)=>!gn(["td","th","table"],k.toLowerCase()));let v=o;do{if(Ke(v)&&O.trim(v.data).length!==0){r?n.setStart(v,0):n.setEnd(v,v.data.length);return}if(m[v.nodeName]){r?n.setStartBefore(v):v.nodeName==="BR"?n.setEndBefore(v):n.setEndAfter(v);return}}while(v=r?u.next():u.prev());a.nodeName==="BODY"&&(r?n.setStart(a,0):n.setEnd(a,a.childNodes.length))},e1=e=>{const n=e.selection.getSel();return Ne(n)&&n.rangeCount>0},wp=(e,n)=>{const o=Wl(e);o.length>0?Ae(o,r=>{const a=r.dom,u=e.dom.createRng();u.setStartBefore(a),u.setEndAfter(a),n(u,!0)}):n(e.selection.getRng(),!1)},Ym=(e,n,o)=>{const r=Wy(e,n);o(r),e.moveToBookmark(r)},Cp=e=>Pn(e==null?void 0:e.nodeType),t1=e=>It(e)&&!Oc(e)&&!rc(e)&&!zr(e),PS=(e,n)=>{if(t1(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},kw=(e,n,o)=>{const{selection:r,dom:a}=e,u=r.getNode(),m=ps(u);Ym(r,!0,()=>{n()}),m&&ps(u)&&a.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&NS(a,r)},NS=(e,n)=>{var o,r;const a=n.getRng(),{startContainer:u,startOffset:m}=a,v=n.getNode();if(!PS(e,v)&&It(u)){const C=u.childNodes,k=e.getRoot();let L;if(m<C.length){const $=C[m];L=new Ns($,(o=e.getParent($,e.isBlock))!==null&&o!==void 0?o:k)}else{const $=C[C.length-1];L=new Ns($,(r=e.getParent($,e.isBlock))!==null&&r!==void 0?r:k),L.next(!0)}for(let $=L.current();$;$=L.next()){if(e.getContentEditable($)==="false")return;if(Ke($)&&!o1($)){a.setStart($,0),n.setRng(a);return}}}},Aw=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(It(e)||!o1(e))return e}},n1=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||gf(e,n),xp=(e,n,o)=>e.schema.isValidChild(n,o),o1=(e,n=!1)=>{if(Ne(e)&&Ke(e)){const o=n?e.data.replace(/ /g,""):e.data;return Nl(o)}else return!1},Cb=e=>Ne(e)&&Ke(e)&&e.length===0,s1=(e,n)=>{const o="[data-mce-cef-wrappable]",r=Iu(e),a=Ni(r)?o:`${o},${r}`;return ie(re.fromDom(n),a)},xb=(e,n)=>{const o=e.dom;return t1(n)&&o.getContentEditable(n)==="false"&&s1(e,n)&&o.select('[contenteditable="true"]',n).length===0},Zl=(e,n)=>le(e)?e(n):(Ne(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),r1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),i1=(e,n)=>{if(_n(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=km(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},fl=(e,n,o)=>{const r=e.getStyle(n,o);return i1(r,o)},a1=(e,n)=>{let o;return e.getParent(n,r=>It(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},c1=(e,n,o)=>e.getParents(n,o,e.getRoot()),l1=(e,n,o)=>{const r=e.formatter.get(n);return Ne(r)&&Go(r,o)},gA=(e,n)=>l1(e,n,r=>{const a=u=>le(u)||u.length>1&&u.charAt(0)==="%";return Go(["styles","attributes"],u=>Xo(r,u).exists(m=>{const v=hn(m)?m:ld(m);return Go(v,a)}))}),vA=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=u=>ss(u,(m,v)=>Go(r,C=>C===v));return l1(e,n,u=>{const m=a(u);return l1(e,o,v=>{const C=a(v);return Tl(m,C)})})},Dc=e=>Lr(e,"block"),BS=e=>Dc(e)&&e.wrapper===!0,bA=e=>Dc(e)&&e.wrapper!==!0,_i=e=>Lr(e,"selector"),Ao=e=>Lr(e,"inline"),ml=e=>_i(e)&&Ao(e)&&I(Xo(e,"mixed"),!0),Za=e=>_i(e)&&e.expand!==!1&&!Ao(e),hl=e=>{const n=[];let o=e;for(;o;){if(Ke(o)&&o.data!==Ur||o.childNodes.length>1)return[];It(o)&&n.push(o),o=o.firstChild}return n},Sb=e=>hl(e).length>0,Ow=e=>rc(e.dom)&&Sb(e.dom),zu=Oc,IS=c1,Eb=o1,yA=n1,LS=e=>Jo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,$S=(e,n)=>{let o=n;for(;o;){if(It(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Dw=(e,n,o,r)=>{const a=n.data;if(e){for(let u=o;u>0;u--)if(r(a.charAt(u-1)))return u}else for(let u=o;u<a.length;u++)if(r(a.charAt(u)))return u;return-1},Rw=(e,n,o)=>Dw(e,n,o,r=>wb(r)||Ld(r)),Mw=(e,n,o)=>Dw(e,n,o,_w),Ro=(e,n,o,r,a,u)=>{let m;const v=e.getParent(o,e.isBlock)||n,C=(L,$,H)=>{const K=Lm(e),ee=a?K.backwards:K.forwards;return W.from(ee(L,$,(Y,ne)=>zu(Y.parentNode)?-1:(m=Y,H(a,Y,ne)),v))};return C(o,r,Rw).bind(L=>u?C(L.container,L.offset+(a?-1:0),Mw):W.some(L)).orThunk(()=>m?W.some({container:m,offset:a?0:m.length}):W.none())},Fd=(e,n,o,r,a)=>{const u=r[a];Ke(r)&&Ni(r.data)&&u&&(r=u);const m=IS(e,r);for(let v=0;v<m.length;v++)for(let C=0;C<n.length;C++){const k=n[C];if(!(Ne(k.collapsed)&&k.collapsed!==o.collapsed)&&_i(k)&&e.is(m[v],k.selector))return m[v]}return r},Pw=(e,n,o,r)=>{var a;let u=o;const m=e.getRoot(),v=n[0];if(Dc(v)&&(u=v.wrapper?null:e.getParent(o,v.block,m)),!u){const C=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:m;u=e.getParent(Ke(o)?o.parentNode:o,k=>k!==m&&yA(e.schema,k),C)}if(u&&Dc(v)&&v.wrapper&&(u=IS(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!r1(u,"br")););return u||o},Nw=(e,n,o,r)=>{const a=o.parentNode;return Ne(o[r])?!1:a===n||_n(a)||e.isBlock(a)?!0:Nw(e,n,a,r)},u1=(e,n,o,r,a)=>{let u=o;const m=a?"previousSibling":"nextSibling",v=e.getRoot();if(Ke(o)&&!Eb(o)&&(a?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let C=u[m];C;C=C[m]){const k=Ke(C)&&!Nw(e,v,C,m);if(!zu(C)&&!LS(C)&&!Eb(C,k))return u}if(u===v||u.parentNode===v){o=u;break}u=u.parentNode}return o},_b=e=>zu(e.parentNode)||zu(e),Rf=(e,n,o,r=!1)=>{let{startContainer:a,startOffset:u,endContainer:m,endOffset:v}=n;const C=o[0];return It(a)&&a.hasChildNodes()&&(a=Md(a,u),Ke(a)&&(u=0)),It(m)&&m.hasChildNodes()&&(m=Md(m,n.collapsed?v:v-1),Ke(m)&&(v=m.data.length)),a=$S(e,a),m=$S(e,m),_b(a)&&(a=zu(a)?a:a.parentNode,n.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Ke(a)&&(u=n.collapsed?a.length:0)),_b(m)&&(m=zu(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,Ke(m)&&(v=n.collapsed?0:m.length)),n.collapsed&&(Ro(e,e.getRoot(),a,u,!0,r).each(({container:$,offset:H})=>{a=$,u=H}),Ro(e,e.getRoot(),m,v,!1,r).each(({container:$,offset:H})=>{m=$,v=H})),(Ao(C)||C.block_expand)&&((!Ao(C)||!Ke(a)||u===0)&&(a=u1(e,o,a,u,!0)),(!Ao(C)||!Ke(m)||v===m.data.length)&&(m=u1(e,o,m,v,!1))),Za(C)&&(a=Fd(e,o,n,a,"previousSibling"),m=Fd(e,o,n,m,"nextSibling")),(Dc(C)||_i(C))&&(a=Pw(e,o,a,"previousSibling"),m=Pw(e,o,m,"nextSibling"),Dc(C)&&(e.isBlock(a)||(a=u1(e,o,a,u,!0),Ke(a)&&(u=0)),e.isBlock(m)||(m=u1(e,o,m,v,!1),Ke(m)&&(v=m.data.length)))),It(a)&&a.parentNode&&(u=e.nodeIndex(a),a=a.parentNode),It(m)&&m.parentNode&&(v=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:a,startOffset:u,endContainer:m,endOffset:v}},Mf=(e,n,o)=>{var r;const a=n.startOffset,u=Md(n.startContainer,a),m=n.endOffset,v=Md(n.endContainer,m-1),C=ne=>{const fe=ne[0];Ke(fe)&&fe===u&&a>=fe.data.length&&ne.splice(0,1);const he=ne[ne.length-1];return m===0&&ne.length>0&&he===v&&Ke(he)&&ne.splice(ne.length-1,1),ne},k=(ne,fe,he)=>{const pe=[];for(;ne&&ne!==he;ne=ne[fe])pe.push(ne);return pe},L=(ne,fe)=>e.getParent(ne,he=>he.parentNode===fe,fe),$=(ne,fe,he)=>{const pe=he?"nextSibling":"previousSibling";for(let Ee=ne,Be=Ee.parentNode;Ee&&Ee!==fe;Ee=Be){Be=Ee.parentNode;const it=k(Ee===ne?Ee:Ee[pe],pe);it.length&&(he||it.reverse(),o(C(it)))}};if(u===v)return o(C([u]));const H=(r=e.findCommonAncestor(u,v))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,v))return $(u,H,!0);if(e.isChildOf(v,u))return $(v,H);const K=L(u,H)||u,ee=L(v,H)||v;$(u,K,!0);const Y=k(K===u?K:K.nextSibling,"nextSibling",ee===v?ee.nextSibling:ee);Y.length&&o(C(Y)),$(v,ee)},wA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],CA=e=>Ho(e)&&Va(e)===Ur,FS=(e,n,o,r)=>Dn(n).fold(()=>"skipping",a=>r==="br"||CA(n)?"valid":Du(n)?"existing":rc(n.dom)?"caret":Go(wA,u=>ie(n,u))?"valid-block":!xp(e,o,r)||!xp(e,Un(a),o)?"invalid-child":"valid"),xA=(e,n)=>{const o=Rf(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Tb=(e,n,o,r,a,u)=>{const{uid:m=n,...v}=o;fu(e,Xh()),zo(e,`${_d()}`,m),zo(e,`${Cf()}`,r);const{attributes:C={},classes:k=[]}=a(m,v);if(wi(e,C),Bm(e,k),u){k.length>0&&zo(e,`${Yh()}`,k.join(","));const L=ui(C);L.length>0&&zo(e,`${Nm()}`,L.join(","))}},Sp=e=>{Kc(e,Xh()),pr(e,`${_d()}`),pr(e,`${Cf()}`),pr(e,`${vg()}`);const n=vc(e,`${Nm()}`).map(r=>r.split(",")).getOr([]),o=vc(e,`${Yh()}`).map(r=>r.split(",")).getOr([]);Ae(n,r=>pr(e,r)),Iv(e,o),pr(e,`${Yh()}`),pr(e,`${Nm()}`)},Jm=(e,n,o,r,a)=>{const u=re.fromTag("span",e);return Tb(u,n,o,r,a,!1),u},Bw=(e,n,o,r,a,u)=>{const m=[],v=Jm(e.getDoc(),o,u,r,a),C=wf(),k=()=>{C.clear()},L=()=>C.get().getOrThunk(()=>{const ee=Im(v);return m.push(ee),C.set(ee),ee}),$=ee=>{Ae(ee,H)},H=ee=>{switch(FS(e,ee,"span",Un(ee))){case"invalid-child":{k();const ne=Es(ee);$(ne),k();break}case"valid-block":{k(),Tb(ee,o,u,r,a,!0);break}case"valid":{const ne=L();z2(ee,ne);break}}},K=ee=>{const Y=mn(ee,re.fromDom);$(Y)};return Mf(e.dom,n,ee=>{k(),K(ee)}),m},SA=(e,n,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,u=a.getRng(),m=Wl(e).length>0,v=Jh("mce-annotation");if(u.collapsed&&!m&&xA(e,u),a.getRng().collapsed&&!m){const C=Jm(e.getDoc(),v,r,n,o.decorate);J0(C,Jr),a.getRng().insertNode(C.dom),a.select(C.dom)}else Ym(a,!1,()=>{wp(e,C=>{Bw(e,C,v,n,o.decorate,r)})})})},Rc=e=>{const n=wg();hk(e,n);const o=mk(e,n),r=Ba("span"),a=u=>{Ae(u,m=>{r(m)?gu(m):Sp(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(v=>{SA(e,u,v,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{yg(e,W.some(u)).each(({elements:m})=>{const v=e.selection.getBookmark();a(m),e.selection.moveToBookmark(v)})},removeAll:u=>{const m=e.selection.getBookmark();wt(Nv(e,u),(v,C)=>{a(v)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=Nv(e,u);return io(m,v=>mn(v,C=>C.dom))}}},Cr=e=>({getBookmark:qe(yp,e),moveToBookmark:qe(RS,e)});Cr.isBookmarkNode=Oc;const Ti=(e,n,o)=>o.collapsed?!1:Go(o.getClientRects(),r=>Cx(r,e,n)),Vu=(e,n)=>e.dispatch("PreProcess",n),VR=(e,n)=>e.dispatch("PostProcess",n),EA=e=>{e.dispatch("remove")},_A=e=>{e.dispatch("detach")},Xn=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},TA=(e,n,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:a})},HS=(e,n,o,r,a)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:a})},Iw=e=>{e.dispatch("PreInit")},kA=e=>{e.dispatch("PostRender")},Lw=e=>{e.dispatch("Init")},AA=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},zS=(e,n,o)=>{e.dispatch(n,o)},VS=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},US=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},$w=(e,n)=>e.dispatch("BeforeSetContent",n),kb=(e,n)=>e.dispatch("SetContent",n),WS=(e,n)=>e.dispatch("BeforeGetContent",n),ZS=(e,n)=>e.dispatch("GetContent",n),UR=(e,n)=>{e.dispatch("AutocompleterStart",n)},OA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},jS=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},WR=e=>{e.dispatch("AutocompleterEnd")},ZR=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),fn=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),qS=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),DA=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Rt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Rt.metaKeyPressed(e),metaKeyPressed:e=>Et.os.isMacOS()||Et.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Uu="data-mce-selected",Ab="table,img,figure.image,hr,video,span.mce-preview-object,details",GS=Math.abs,Ob=Math.round,Fw={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Hw=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Db=(e,n)=>{const o=n.dom,r=n.getDoc(),a=document,u=n.getBody();let m,v,C,k,L,$,H,K,ee,Y,ne,fe,he,pe,Ee,Be,it;const Ct=_t=>Ne(_t)&&(iy(_t)||o.is(_t,"figure.image")),Qe=_t=>Ar(_t)||o.hasClass(_t,"mce-preview-object"),Me=(_t,In)=>{if(Hw(_t)){const Ln=_t.touches[0];return Ct(_t.target)&&!Ti(Ln.clientX,Ln.clientY,In)}else return Ct(_t.target)&&!Ti(_t.clientX,_t.clientY,In)},Le=_t=>{const In=_t.target;Me(_t,n.selection.getRng())&&!_t.isDefaultPrevented()&&n.selection.select(In)},yt=_t=>o.hasClass(_t,"mce-preview-object")&&Ne(_t.firstElementChild)?[_t,_t.firstElementChild]:o.is(_t,"figure.image")?[_t.querySelector("img")]:[_t],zt=_t=>{const In=Kx(n);return!In||_t.getAttribute("data-mce-resize")==="false"||_t===n.getBody()?!1:o.hasClass(_t,"mce-preview-object")&&Ne(_t.firstElementChild)?ie(re.fromDom(_t.firstElementChild),In):ie(re.fromDom(_t),In)},Rn=(_t,In)=>{if(Qe(In))return _t.create("img",{src:Et.transparentSrc});if(br(In)){const Sr=Rs(k.name,"n")?Gs:ha,To=In.cloneNode(!0);return Sr(_t.select("tr",To)).each(Er=>{const xl=_t.select("td,th",Er);_t.setStyle(Er,"height",null),Ae(xl,ef=>_t.setStyle(ef,"height",null))}),To}else return In.cloneNode(!0)},Wn=(_t,In,Ln)=>{if(Ne(Ln)){const Sr=yt(_t);Ae(Sr,To=>{To.style[In]||!n.schema.isValid(To.nodeName.toLowerCase(),In)?o.setStyle(To,In,Ln):o.setAttrib(To,In,""+Ln)})}},_o=(_t,In,Ln)=>{Wn(_t,"width",In),Wn(_t,"height",Ln)},No=_t=>{let In,Ln,Sr,To,Er;In=_t.screenX-$,Ln=_t.screenY-H,pe=In*k[2]+Y,Ee=Ln*k[3]+ne,pe=pe<5?5:pe,Ee=Ee<5?5:Ee,(Ct(m)||Qe(m))&&nw(n)!==!1?Sr=!Rt.modifierPressed(_t):Sr=Rt.modifierPressed(_t),Sr&&(GS(In)>GS(Ln)?(Ee=Ob(pe*fe),pe=Ob(Ee/fe)):(pe=Ob(Ee/fe),Ee=Ob(pe*fe))),_o(v,pe,Ee),To=k.startPos.x+In,Er=k.startPos.y+Ln,To=To>0?To:0,Er=Er>0?Er:0,o.setStyles(C,{left:To,top:Er,display:"block"}),C.innerHTML=pe+" &times; "+Ee,k[2]<0&&v.clientWidth<=pe&&o.setStyle(v,"left",K+(Y-pe)),k[3]<0&&v.clientHeight<=Ee&&o.setStyle(v,"top",ee+(ne-Ee)),In=u.scrollWidth-Be,Ln=u.scrollHeight-it,In+Ln!==0&&o.setStyles(C,{left:To-In,top:Er-Ln}),he||(TA(n,m,Y,ne,"corner-"+k.name),he=!0)},rs=()=>{const _t=he;he=!1,_t&&(Wn(m,"width",pe),Wn(m,"height",Ee)),o.unbind(r,"mousemove",No),o.unbind(r,"mouseup",rs),a!==r&&(o.unbind(a,"mousemove",No),o.unbind(a,"mouseup",rs)),o.remove(v),o.remove(C),o.remove(L),Oi(m),_t&&(HS(n,m,pe,Ee,"corner-"+k.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},Oi=_t=>{bt();const In=o.getPos(_t,u),Ln=In.x,Sr=In.y,To=_t.getBoundingClientRect(),Er=To.width||To.right-To.left,xl=To.height||To.bottom-To.top;m!==_t&&(gt(),m=_t,pe=Ee=0);const ef=n.dispatch("ObjectSelected",{target:_t});zt(_t)&&!ef.isDefaultPrevented()?wt(Fw,(la,$c)=>{const su=ru=>{const Wt=yt(m)[0];$=ru.screenX,H=ru.screenY,Y=Wt.clientWidth,ne=Wt.clientHeight,fe=ne/Y,k=la,k.name=$c,k.startPos={x:Er*la[0]+Ln,y:xl*la[1]+Sr},Be=u.scrollWidth,it=u.scrollHeight,L=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(L,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),v=Rn(o,m),o.addClass(v,"mce-clonedresizable"),o.setAttrib(v,"data-mce-bogus","all"),v.contentEditable="false",o.setStyles(v,{left:Ln,top:Sr,margin:0}),_o(v,Er,xl),v.removeAttribute(Uu),u.appendChild(v),o.bind(r,"mousemove",No),o.bind(r,"mouseup",rs),a!==r&&(o.bind(a,"mousemove",No),o.bind(a,"mouseup",rs)),C=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Y+" &times; "+ne)};let Fc=o.get("mceResizeHandle"+$c);Fc&&o.remove(Fc),Fc=o.add(u,"div",{id:"mceResizeHandle"+$c,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+$c+"-resize; margin:0; padding:0"}),o.bind(Fc,"mousedown",ru=>{ru.stopImmediatePropagation(),ru.preventDefault(),su(ru)}),la.elm=Fc,o.setStyles(Fc,{left:Er*la[0]+Ln-Fc.offsetWidth/2,top:xl*la[1]+Sr-Fc.offsetHeight/2})}):gt(!1)},Bo=Pv(Oi,0),gt=(_t=!0)=>{Bo.cancel(),bt(),m&&_t&&m.removeAttribute(Uu),wt(Fw,(In,Ln)=>{const Sr=o.get("mceResizeHandle"+Ln);Sr&&(o.unbind(Sr),o.remove(Sr))})},Ht=(_t,In)=>o.isChildOf(_t,In),Zn=_t=>{if(he||n.removed||n.composing)return;const In=_t.type==="mousedown"?_t.target:e.getNode(),Ln=lf(re.fromDom(In),Ab).map(To=>To.dom).filter(To=>o.isEditable(To.parentElement)||To.nodeName==="IMG"&&o.isEditable(To)).getOrUndefined(),Sr=Ne(Ln)?o.getAttrib(Ln,Uu,"1"):"1";if(Ae(o.select(`img[${Uu}],hr[${Uu}]`),To=>{To.removeAttribute(Uu)}),Ne(Ln)&&Ht(Ln,u)&&n.hasFocus()){Qt();const To=e.getStart(!0);if(Ht(To,Ln)&&Ht(e.getEnd(!0),Ln)){o.setAttrib(Ln,Uu,Sr),Bo.throttle(Ln);return}}gt()},bt=()=>{wt(Fw,_t=>{_t.elm&&(o.unbind(_t.elm),delete _t.elm)})},Qt=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Qt(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Zn),n.on("keyup compositionend",_t=>{m&&m.nodeName==="TABLE"&&Zn(_t)}),n.on("hide blur",gt),n.on("contextmenu longpress",Le,!0)}),n.on("remove",bt),{isResizable:zt,showResizeRect:Oi,hideResizeRect:gt,updateResizeRect:Zn,destroy:()=>{Bo.cancel(),m=v=L=null}}},KS=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},zw=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Rb=(e,n,o)=>{const r=e.document.createRange();return KS(r,n),zw(r,o),r},Mb=(e,n,o,r,a)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,a),u},d1=Bu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pb=(e,n,o)=>n(re.fromDom(o.startContainer),o.startOffset,re.fromDom(o.endContainer),o.endOffset),Vw=(e,n)=>n.match({domRange:o=>({ltr:lt(o),rtl:W.none}),relative:(o,r)=>({ltr:Xa(()=>Rb(e,o,r)),rtl:Xa(()=>W.some(Rb(e,r,o)))}),exact:(o,r,a,u)=>({ltr:Xa(()=>Mb(e,o,r,a,u)),rtl:Xa(()=>W.some(Mb(e,a,u,o,r)))})}),RA=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(a=>a.collapsed===!1).map(a=>d1.rtl(re.fromDom(a.endContainer),a.endOffset,re.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>Pb(e,d1.ltr,o)):Pb(e,d1.ltr,o)},MA=(e,n)=>{const o=Vw(e,n);return RA(e,o)};d1.ltr,d1.rtl;const Nb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},Wu=(e,n,o)=>{var r,a;return W.from((a=(r=e.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return W.none();const m=e.dom.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),W.some(m)})},Zu=(e,n,o)=>{var r,a;return W.from((a=(r=e.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(r,n,o))},Bb=document.caretPositionFromPoint?Wu:document.caretRangeFromPoint?Zu:W.none,ja=(e,n,o)=>{const r=re.fromDom(e.document);return Bb(r,n,o).map(a=>Nb.create(re.fromDom(a.startContainer),a.startOffset,re.fromDom(a.endContainer),a.endOffset))},Ep=Bu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),f1=(e,n,o,r)=>e.fold(n,o,r),Ib=e=>e.fold(po,po,po),m1=Ep.before,PA=Ep.on,jR=Ep.after,Pf={before:m1,on:PA,after:jR,cata:f1,getStart:Ib},Uw=Bu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Yn=e=>Uw.exact(e.start,e.soffset,e.finish,e.foffset),jl=e=>e.match({domRange:n=>re.fromDom(n.startContainer),relative:(n,o)=>Pf.getStart(n),exact:(n,o,r,a)=>n}),Qm=Uw.domRange,NA=Uw.relative,_p=Uw.exact,eo=e=>{const n=jl(e);return ho(n)},BA=Nb.create,eh={domRange:Qm,relative:NA,exact:_p,exactFromRange:Yn,getWin:eo,range:BA},Tp=(e,n)=>{const o=Un(e);return o==="input"?Pf.after(e):gn(["br","img"],o)?n===0?Pf.before(e):Pf.after(e):Pf.on(e,n)},IA=(e,n)=>{const o=e.fold(Pf.before,Tp,Pf.after),r=n.fold(Pf.before,Tp,Pf.after);return eh.relative(o,r)},th=(e,n,o,r)=>{const a=Tp(e,n),u=Tp(o,r);return eh.relative(a,u)},nh=e=>e.match({domRange:n=>{const o=re.fromDom(n.startContainer),r=re.fromDom(n.endContainer);return th(o,n.startOffset,r,n.endOffset)},relative:IA,exact:th}),Lb=(e,n)=>{const r=(n||document).createDocumentFragment();return Ae(e,a=>{r.appendChild(a.dom)}),re.fromDom(r)},LA=e=>{const n=eh.getWin(e).dom,o=(a,u,m,v)=>Mb(n,a,u,m,v),r=nh(e);return MA(n,r).match({ltr:o,rtl:o})},l=(e,n,o)=>ja(e,n,o),f=(e,n,o)=>{const r=ho(re.fromDom(o));return l(r.dom,e,n).map(a=>{const u=o.createRange();return u.setStart(a.start.dom,a.soffset),u.setEnd(a.finish.dom,a.foffset),u}).getOrUndefined()},g=(e,n)=>Ne(e)&&Ne(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,w=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},T=(e,n,o)=>w(e,n,o)!==null,P=(e,n,o)=>T(e,n,r=>r.nodeName===o),z=(e,n)=>Ta(e)&&!T(e,n,rc),G=(e,n,o)=>{const r=n.parentNode;if(r){const a=new Ns(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=a[o?"prev":"next"]();)if(Jo(u))return!0}return!1},Q=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},ce=(e,n)=>{let o=n;for(;o&&o!==e;){if(ps(o))return!0;o=o.parentNode}return!1},Ce=(e,n,o,r,a)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),v=a.parentNode;let C,k;if(!v)return W.none();const L=e.getParent(v,e.isBlock)||u;if(r&&Jo(a)&&n&&e.isEmpty(L))return W.some(Re(v,e.nodeIndex(a)));const $=new Ns(a,L);for(;k=$[r?"prev":"next"]();){if(e.getContentEditableParent(k)==="false"||z(k,u))return W.none();if(Ke(k)&&k.data.length>0)return P(k,u,"A")?W.none():W.some(Re(k,r?k.data.length:0));if(e.isBlock(k)||m[k.nodeName.toLowerCase()])return W.none();C=k}return ei(C)?W.none():o&&C?W.some(Re(C,0)):W.none()},tt=(e,n,o,r)=>{const a=e.getRoot();let u,m=!1,v=o?r.startContainer:r.endContainer,C=o?r.startOffset:r.endOffset;const k=It(v)&&C===v.childNodes.length,L=e.schema.getNonEmptyElements();let $=o;if(Ta(v))return W.none();if(It(v)&&C>v.childNodes.length-1&&($=!1),Lh(v)&&(v=a,C=0),v===a){if($&&(u=v.childNodes[C>0?C-1:0],u&&(Ta(u)||L[u.nodeName]||br(u))))return W.none();if(v.hasChildNodes()){if(C=Math.min(!$&&C>0?C-1:C,v.childNodes.length-1),v=v.childNodes[C],C=Ke(v)&&k?v.data.length:0,!n&&v===a.lastChild&&br(v)||ce(a,v)||Ta(v)||Qc(v))return W.none();if(v.hasChildNodes()&&!br(v)){u=v;const H=new Ns(v,a);do{if(ps(u)||Ta(u)){m=!1;break}if(Ke(u)&&u.data.length>0){C=$?0:u.data.length,v=u,m=!0;break}if(L[u.nodeName.toLowerCase()]&&!K2(u)){C=e.nodeIndex(u),v=u.parentNode,$||C++,m=!0;break}}while(u=$?H.next():H.prev())}}}return n&&(Ke(v)&&C===0&&Ce(e,k,n,!0,v).each(H=>{v=H.container(),C=H.offset(),m=!0}),It(v)&&(u=v.childNodes[C],u||(u=v.childNodes[C-1]),u&&Jo(u)&&!Q(u,"A")&&!G(e,u,!1)&&!G(e,u,!0)&&Ce(e,k,n,!0,u).each(H=>{v=H.container(),C=H.offset(),m=!0}))),$&&!n&&Ke(v)&&C===v.data.length&&Ce(e,k,n,!1,v).each(H=>{v=H.container(),C=H.offset(),m=!0}),m&&v?W.some(Re(v,C)):W.none()},vt=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),a=Re.fromRangeStart(n);return tt(e,o,!0,r).each(u=>{(!o||!Re.isAbove(a,u))&&r.setStart(u.container(),u.offset())}),o||tt(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),g(n,r)?W.none():W.some(r)},ht=(e,n)=>e.splitText(n),rt=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(n===r&&Ke(n)){if(o>0&&o<n.data.length)if(r=ht(n,o),n=r.previousSibling,a>o){a=a-o;const u=ht(r,a).previousSibling;n=r=u,a=u.data.length,o=0}else a=0}else if(Ke(n)&&o>0&&o<n.data.length&&(n=ht(n,o),o=0),Ke(r)&&a>0&&a<r.data.length){const u=ht(r,a).previousSibling;r=u,a=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:a}},Ot=e=>({walk:(u,m)=>Mf(e,u,m),split:rt,expand:(u,m={type:"word"})=>{if(m.type==="word"){const v=Rf(e,u,[{inline:"span"}]),C=e.createRng();return C.setStart(v.startContainer,v.startOffset),C.setEnd(v.endContainer,v.endOffset),C}return u},normalize:u=>vt(e,u).fold(Ze,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});Ot.compareRanges=g,Ot.getCaretRangeFromPoint=f,Ot.getSelectedNode=sp,Ot.getNode=Md;const ut=((e,n)=>{const o=(v,C)=>{if(!Pn(C)&&!C.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+C);const k=v.dom;hm(k)&&(k.style[e]=C+"px")},r=v=>{const C=n(v);if(C<=0||C===null){const k=pu(v,e);return parseFloat(k)||0}return C},a=r,u=(v,C)=>wo(C,(k,L)=>{const $=pu(v,L),H=$===void 0?0:parseInt($,10);return isNaN(H)?k:k+H},0);return{set:o,get:r,getOuter:a,aggregate:u,max:(v,C,k)=>{const L=u(v,k);return C>L?C-L:0}}})("height",e=>{const n=e.dom;return mm(e)?n.getBoundingClientRect().height:n.offsetHeight}),Yt=e=>ut.get(e),rn=()=>re.fromDom(document),co=(e,n)=>e.view(n).fold(lt([]),r=>{const a=e.owner(r),u=co(e,a);return[r].concat(u)}),vs=(e,n)=>{const o=n.owner(e);return co(n,o)};var Mc=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?W.none():W.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(re.fromDom)},owner:e=>nn(e)});const Nf=e=>{const n=rn(),o=df(n),r=vs(e,Mc),a=Pl(e),u=Ga(r,(m,v)=>{const C=Pl(v);return{left:m.left+C.left,top:m.top+C.top}},{left:0,top:0});return vu(u.left+a.left+o.left,u.top+a.top+o.top)},oh=e=>Un(e)==="textarea",$b=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Vo=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},sa=(e,n)=>{const o=Es(e);if(o.length===0||oh(e))return{element:e,offset:n};if(n<o.length&&!oh(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return oh(r)?{element:e,offset:n}:Un(r)==="img"?{element:r,offset:1}:Ho(r)?{element:r,offset:Va(r).length}:{element:r,offset:Es(r).length}}},Wi=(e,n)=>{const o=Z2(e),r=Yt(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},pl=(e,n)=>{const o=sa(e,n),r=re.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ur+"</span>");return Ci(o.element,r),Wi(r,()=>vo(r))},Pc=e=>Wi(re.fromDom(e),Zt),sh=(e,n,o,r)=>{ql(e,(a,u)=>Ww(e,n,o,r),o)},Zi=(e,n,o,r,a)=>{const u={elm:r.element.dom,alignToTop:a};if($b(e,u))return;const m=df(n).top;o(e,n,m,r,a),Vo(e,u)},Ww=(e,n,o,r)=>{const a=re.fromDom(e.getBody()),u=re.fromDom(e.getDoc());Qs(a);const m=pl(re.fromDom(o.startContainer),o.startOffset);Zi(e,u,n,m,r),m.cleanup()},Hd=(e,n,o,r)=>{const a=re.fromDom(e.getDoc());Zi(e,a,o,Pc(n),r)},ql=(e,n,o)=>{const r=o.startContainer,a=o.startOffset,u=o.endContainer,m=o.endOffset;n(re.fromDom(r),re.fromDom(u));const v=e.dom.createRng();v.setStart(r,a),v.setEnd(u,m),e.selection.setRng(o)},ri=(e,n,o,r,a)=>{const u=n.pos;if(r)Rh(u.left,u.top,a);else{const m=u.top-o+n.height;Rh(-e.getBody().getBoundingClientRect().left,m,a)}},Zw=(e,n,o,r,a,u)=>{const m=r+o,v=a.pos.top,C=a.bottom,k=C-v>=r;v<o?ri(e,a,r,u!==!1,n):v>m?ri(e,a,r,k?u!==!1:u===!0,n):C>m&&!k&&ri(e,a,r,u===!0,n)},jw=(e,n,o,r,a)=>{const u=ho(n).dom.innerHeight;Zw(e,n,o,u,r,a)},XS=(e,n,o,r,a)=>{const u=ho(n).dom.innerHeight;Zw(e,n,o,u,r,a);const m=Nf(r.element),v=ey(window);m.top<v.y?Mh(r.element,a!==!1):m.top>v.bottom&&Mh(r.element,a===!0)},$A=(e,n,o)=>sh(e,jw,n,o),FA=(e,n,o)=>Hd(e,n,jw,o),qw=(e,n,o)=>sh(e,XS,n,o),HA=(e,n,o)=>Hd(e,n,XS,o),kp=(e,n,o)=>{(e.inline?FA:HA)(e,n,o)},Fb=(e,n,o)=>{(e.inline?$A:qw)(e,n,o)},Gw=(e,n=!1)=>e.dom.focus({preventScroll:n}),qR=e=>{const n=gd(e).dom;return e.dom===n.activeElement},zA=(e=rn())=>W.from(e.dom.activeElement).map(re.fromDom),VA=e=>zA(gd(e)).filter(n=>e.dom.contains(n.dom)),GR=(e,n)=>{const o=Ho(n)?Va(n).length:Es(n).length+1;return e>o?o:e<0?0:e},KR=e=>eh.range(e.start,GR(e.soffset,e.start),e.finish,GR(e.foffset,e.finish)),UA=(e,n)=>!Cv(n.dom)&&(Lt(e,n)||Fe(e,n)),WA=e=>n=>UA(e,n.start)&&UA(e,n.finish),y6=e=>e.inline||Et.browser.isFirefox(),w6=e=>eh.range(re.fromDom(e.startContainer),e.startOffset,re.fromDom(e.endContainer),e.endOffset),C6=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?W.none():W.from(n.getRangeAt(0))).map(w6)},x6=e=>{const n=ho(e);return C6(n.dom).filter(WA(e))},YS=(e,n)=>W.from(n).filter(WA(e)).map(KR),XR=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),W.some(n)}catch{return W.none()}},Kw=e=>{const n=y6(e)?x6(re.fromDom(e.getBody())):W.none();e.bookmark=n.isSome()?n:e.bookmark},JS=e=>(e.bookmark?e.bookmark:W.none()).bind(o=>YS(re.fromDom(e.getBody()),o)).bind(XR),YR=e=>{JS(e).each(n=>e.selection.setRng(n))},JR={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},S6=(e,n)=>(Pn(n)||(n=0),setTimeout(e,n)),E6=(e,n)=>(Pn(n)||(n=0),setInterval(e,n)),Gl={setEditorTimeout:(e,n,o)=>S6(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=E6(()=>{e.removed?clearInterval(r):n()},o);return r}},_6=e=>e.type==="nodechange"&&e.selectionChange,T6=(e,n)=>{const o=()=>{n.throttle()};Zo.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Zo.DOM.unbind(document,"mouseup",o)})},k6=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},A6=(e,n)=>{k6(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{_6(o)||Kw(e)})},O6=e=>{const n=Pv(()=>{Kw(e)},0);e.on("init",()=>{e.inline&&T6(e,n),A6(e,n)}),e.on("remove",()=>{n.cancel()})};let Hb;const ZA=Zo.DOM,QS=e=>It(e)&&JR.isEditorUIElement(e),eE=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Xw=(e,n)=>{const o=nb(e);return ZA.getParent(n,a=>QS(a)||(o?e.dom.is(a,o):!1))!==null},jA=e=>{try{const n=gd(re.fromDom(e.getElement()));return zA(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},D6=(e,n)=>{const o=n.editor;O6(o);const r=(a,u)=>{if(Yk(a)&&a.inline!==!0){const m=re.fromDom(a.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;eE(jA(o))&&r(o,fu),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{Gl.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!eE(jA(o))||a!==o)&&r(o,Kc),!Xw(o,jA(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Hb||(Hb=a=>{const u=e.activeEditor;u&&pv(a).each(m=>{const v=m;v.ownerDocument===document&&v!==document.body&&!Xw(u,v)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},ZA.bind(document,"focusin",Hb))},R6=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Hb&&(ZA.unbind(document,"focusin",Hb),Hb=null)},M6=e=>{e.on("AddEditor",qe(D6,e)),e.on("RemoveEditor",qe(R6,e))},P6=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),N6=e=>e.collapsed?W.from(Md(e.startContainer,e.startOffset)).map(re.fromDom):W.none(),QR=(e,n)=>N6(n).bind(o=>Od(o)?W.some(o):Lt(e,o)?W.none():W.some(e)),eM=(e,n)=>{QR(re.fromDom(e.getBody()),n).bind(o=>Ui(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},tE=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},tM=e=>qR(e)||VA(e).isSome(),B6=e=>Ne(e.iframeElement)&&qR(re.fromDom(e.iframeElement)),I6=e=>{const n=e.getBody();return n&&tM(re.fromDom(n))},L6=e=>{const n=gd(re.fromDom(e.getElement()));return zA(n).filter(o=>!eE(o.dom)&&Xw(e,o.dom)).isSome()},h1=e=>e.inline?I6(e):B6(e),nM=e=>h1(e)||L6(e),$6=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Ne(e.bookmark)&&!h1(e)&&JS(e).each(u=>{e.selection.setRng(u),r=u});const a=P6(e,n.getNode());if(a&&e.dom.isChildOf(a,o)){tE(a),eM(e,r),qA(e);return}e.inline||(Et.browser.isOpera()||tE(o),e.getWin().focus()),(Et.browser.isFirefox()||e.inline)&&(tE(o),eM(e,r)),qA(e)},qA=e=>e.editorManager.setActive(e),F6=(e,n)=>{e.removed||(n?qA(e):$6(e))},oM=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),sM=(e,n,o,r,a)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return W.from(u).map(re.fromDom).map(v=>!r||!n.collapsed?Ia(v,a(v,m)).getOr(v):v).bind(v=>lr(v)?W.some(v):Dn(v).filter(lr)).map(v=>v.dom).getOr(e)},rM=(e,n,o=!1)=>sM(e,n,!0,o,(r,a)=>Math.min(Qi(r),a)),iM=(e,n,o=!1)=>sM(e,n,!1,o,(r,a)=>a>0?a-1:a),aM=(e,n)=>{const o=e;for(;e&&Ke(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},H6=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const a=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-a<2&&o.hasChildNodes()&&(m=o.childNodes[a]),Ke(o)&&Ke(r)&&(o.length===a?o=aM(o.nextSibling,!0):o=o.parentNode,u===0?r=aM(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const v=Ke(m)?m.parentNode:m;return yd(v)?v:e},z6=(e,n,o,r)=>{const a=[],u=e.getRoot(),m=e.getParent(o||rM(u,n,n.collapsed),e.isBlock),v=e.getParent(r||iM(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&a.push(m),m&&v&&m!==v){let C;const k=new Ns(m,u);for(;(C=k.next())&&C!==v;)e.isBlock(C)&&a.push(C)}return v&&m!==v&&v!==u&&a.push(v),a},V6=(e,n,o)=>W.from(n).bind(r=>W.from(r.parentNode).map(a=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(a,u),m.setEnd(a,u+1),o&&(ic(e,m,r,!0),ic(e,m,r,!1)),m})),GA=(e,n)=>mn(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),U6={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},nE=(e,n,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[a];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[a],u)return u}},Jt=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Nl(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},KA=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Aa{static create(n,o){const r=new Aa(n,U6[n]||1);return o&&wt(o,(a,u)=>{r.attr(u,a)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ae(n))return Ne(n)&&wt(n,(u,m)=>{r.attr(m,u)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(n in a.map){delete a.map[n];let u=a.length;for(;u--;)if(a[u].name===n)return a.splice(u,1),r}return r}if(n in a.map){let u=a.length;for(;u--;)if(a[u].name===n){a[u].value=o;break}}else a.push({name:n,value:o});return a.map[n]=o,r}return a.map[n]}}clone(){const n=this,o=new Aa(n.name,n.type),r=n.attributes;if(r){const a=[];a.map={};for(let u=0,m=r.length;u<m;u++){const v=r[u];v.name!=="id"&&(a[a.length]={name:v.name,value:v.value},a.map[v.name]=v.value)}o.attributes=a}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,a=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===n?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===a.lastChild?a.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=a,n}getAll(n){const o=this,r=[];for(let a=o.firstChild;a;a=nE(a,o))a.name===n&&r.push(a);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let a=n.firstChild;a;a=nE(a,n))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var a;const u=this;let m=u.firstChild;if(KA(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||KA(m))return!1}if(m.type===8||m.type===3&&!Jt(m)||m.type===3&&m.parent&&o[m.parent.name]&&Nl((a=m.value)!==null&&a!==void 0?a:"")||r&&r(m))return!1}while(m=nE(m,u));return!0}walk(n){return nE(this,null,n)}}const W6=O.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),oE=e=>ae(e.nodeValue)&&e.nodeValue.includes(Ur),cM=e=>`${e.length===0?"":`${mn(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,Z6=(e,n)=>n.querySelectorAll(cM(e)),lM=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>oE(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),uM=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(oE(n)){const o=n.parentNode;return o&&en(W6,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),j6=e=>lM(e).nextNode()!==null,sE=e=>uM(e).nextNode()!==null,dM=(e,n)=>n.querySelector(cM(e))!==null,bG=(e,n)=>{Ae(Z6(e,n),o=>{const r=re.fromDom(o);cs(r,"data-mce-bogus")==="all"?vo(r):Ae(e,a=>{md(r,a)&&pr(r,a)})})},fM=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},Tn=M(fM,lM),q6=M(fM,uM),On=(e,n)=>{const o=[{condition:qe(dM,n),action:qe(bG,n)},{condition:j6,action:Tn},{condition:sE,action:q6}];let r=e,a=!1;return Ae(o,({condition:u,action:m})=>{u(r)&&(a||(r=e.cloneNode(!0),a=!0),m(r))}),r},XA=e=>{const n=pi(e,"[data-mce-bogus]");Ae(n,o=>{cs(o,"data-mce-bogus")==="all"?vo(o):Ad(o)?(Ci(o,re.fromText(bd)),vo(o)):gu(o)})},G6=e=>{const n=pi(e,"input");Ae(n,o=>{pr(o,"name")})},yG=(e,n)=>{const o=zi(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},K6=(e,n)=>{const o=e.getDoc(),r=gd(re.fromDom(e.getBody())),a=re.fromTag("div",o);zo(a,"data-mce-bogus","all"),cg(a,{position:"fixed",left:"-9999999px",top:"0"}),J0(a,n.innerHTML),XA(a),G6(a);const u=qT(r);ur(u,a);const m=Ua(a.dom.innerText);return vo(a),m},wG=(e,n,o)=>{let r;return n.format==="raw"?r=O.trim(Ua(On(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=K6(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=yG(e,e.serializer.serialize(o,n)),n.format!=="text"&&!xg(re.fromDom(o))&&ae(r)?O.trim(r):r},CG=(e,n)=>W.from(e.getBody()).fold(lt(n.format==="tree"?new Aa("body",11):""),o=>wG(e,n,o)),mM=O.makeMap,hM=e=>{const n=[];e=e||{};const o=e.indent,r=mM(e.indent_before||""),a=mM(e.indent_after||""),u=ea.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(v,C,k)=>{if(o&&r[v]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}if(n.push("<",v),C)for(let L=0,$=C.length;L<$;L++){const H=C[L];n.push(" ",H.name,'="',u(H.value,!0),'"')}if(!k||m?n[n.length]=">":n[n.length]=" />",k&&o&&a[v]&&n.length>0){const L=n[n.length-1];L.length>0&&L!==`
`&&n.push(`
`)}},end:v=>{let C;n.push("</",v,">"),o&&a[v]&&n.length>0&&(C=n[n.length-1],C.length>0&&C!==`
`&&n.push(`
`))},text:(v,C)=>{v.length>0&&(n[n.length]=C?v:u(v))},cdata:v=>{n.push("<![CDATA[",v,"]]>")},comment:v=>{n.push("<!--",v,"-->")},pi:(v,C)=>{C?n.push("<?",v," ",u(C),"?>"):n.push("<?",v,"?>"),o&&n.push(`
`)},doctype:v=>{n.push("<!DOCTYPE",v,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},tn=(e={},n=Cd())=>{const o=hM(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const u=e.validate,m={3:C=>{var k;o.text((k=C.value)!==null&&k!==void 0?k:"",C.raw)},8:C=>{var k;o.comment((k=C.value)!==null&&k!==void 0?k:"")},7:C=>{o.pi(C.name,C.value)},10:C=>{var k;o.doctype((k=C.value)!==null&&k!==void 0?k:"")},4:C=>{var k;o.cdata((k=C.value)!==null&&k!==void 0?k:"")},11:C=>{let k=C;if(k=k.firstChild)do v(k);while(k=k.next)}};o.reset();const v=C=>{var k;const L=m[C.type];if(L)L(C);else{const $=C.name,H=$ in n.getVoidElements();let K=C.attributes;if(u&&K&&K.length>1){const ee=[];ee.map={};const Y=n.getElementRule(C.name);if(Y){for(let ne=0,fe=Y.attributesOrder.length;ne<fe;ne++){const he=Y.attributesOrder[ne];if(he in K.map){const pe=K.map[he];ee.map[he]=pe,ee.push({name:he,value:pe})}}for(let ne=0,fe=K.length;ne<fe;ne++){const he=K[ne].name;if(!(he in ee.map)){const pe=K.map[he];ee.map[he]=pe,ee.push({name:he,value:pe})}}K=ee}}if(o.start($,K,H),_s($))ae(C.value)&&o.text(C.value,!0),o.end($);else if(!H){let ee=C.firstChild;if(ee){($==="pre"||$==="textarea")&&ee.type===3&&((k=ee.value)===null||k===void 0?void 0:k[0])===`
`&&o.text(`
`,!0);do v(ee);while(ee=ee.next)}o.end($)}}};return a.type===1&&!e.inner?v(a):a.type===3?m[3](a):m[11](a),o.getContent()}}},pM=new Set;Ae(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{pM.add(n)});const gM=["font","text-decoration","text-emphasis"],YA=(e,n)=>ui(e.parseStyle(e.getAttrib(n,"style"))),Yw=e=>pM.has(e),vM=(e,n)=>hr(YA(e,n),o=>!Yw(o)),X6=e=>Ut(e,n=>Go(gM,o=>Rs(n,o))),Y6=(e,n,o)=>{const r=YA(e,n),a=YA(e,o),u=m=>{var v,C;const k=(v=e.getStyle(n,m))!==null&&v!==void 0?v:"",L=(C=e.getStyle(o,m))!==null&&C!==void 0?C:"";return $o(k)&&$o(L)&&k!==L};return Go(r,m=>{const v=C=>Go(C,k=>k===m);if(!v(a)&&v(gM)){const C=X6(a);return Go(C,u)}else return u(m)})},bM=(e,n,o)=>W.from(o.container()).filter(Ke).exists(r=>{const a=e?0:-1;return n(r.data.charAt(o.offset()+a))}),rE=qe(bM,!0,Ld),JA=qe(bM,!1,Ld),xG=e=>{const n=e.container();return Ke(n)&&(n.data.length===0||Fv(n.data)&&Cr.isBookmarkNode(n.parentNode))},p1=(e,n)=>o=>lb(e?0:-1,o).filter(n).isSome(),yM=e=>iy(e)&&pu(re.fromDom(e),"display")==="block",wM=e=>ps(e)&&!Ih(e),J6=p1(!0,yM),Q6=p1(!1,yM),zb=p1(!0,Ar),Jw=p1(!1,Ar),Nn=p1(!0,br),QA=p1(!1,br),zd=p1(!0,wM),rh=p1(!1,wM),CM=e=>e.slice(0,-1),xM=(e,n,o)=>Lt(n,e)?CM(xo(e,r=>o(r)||Fe(r,n))):[],eO=(e,n)=>xM(e,n,Ze),Bf=(e,n)=>[e].concat(eO(e,n)),tO=(e,n,o)=>mb(e,n,o,xG),SM=e=>n=>e.isBlock(Un(n)),EM=(e,n,o)=>Ko(Bf(re.fromDom(n.container()),e),SM(o)),_M=(e,n,o,r)=>tO(e,n.dom,o).forall(a=>EM(n,o,r).fold(()=>!Tc(a,o,n.dom),u=>!Tc(a,o,n.dom)&&Lt(u,re.fromDom(a.container())))),TM=(e,n,o,r)=>EM(n,o,r).fold(()=>tO(e,n.dom,o).forall(a=>!Tc(a,o,n.dom)),a=>tO(e,a.dom,o).isNone()),nO=qe(TM,!1),kM=qe(TM,!0),eH=qe(_M,!1),tH=qe(_M,!0),nH=e=>Lu(e).exists(Ad),Vb=(e,n,o,r)=>{const a=Ut(Bf(re.fromDom(o.container()),n),m=>r.isBlock(Un(m))),u=Gs(a).getOr(n);return Ac(e,u.dom,o).filter(nH)},Qw=(e,n,o)=>Lu(n).exists(Ad)||Vb(!0,e,n,o).isSome(),oO=(e,n,o)=>TS(n).exists(Ad)||Vb(!1,e,n,o).isSome(),oH=qe(Vb,!1),sH=qe(Vb,!0),AM=e=>Re.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),OM=(e,n,o)=>{const r=Ut(Bf(re.fromDom(n.container()),e),a=>o.isBlock(Un(a)));return Gs(r).getOr(e)},DM=(e,n,o)=>AM(n)?JA(n):JA(n)||ka(OM(e,n,o).dom,n).exists(JA),RM=(e,n,o)=>AM(n)?rE(n):rE(n)||oa(OM(e,n,o).dom,n).exists(rE),rH=e=>gn(["pre","pre-wrap"],e),iE=e=>Lu(e).bind(n=>Ii(n,lr)).exists(n=>rH(pu(n,"white-space"))),iH=(e,n)=>ka(e.dom,n).isNone(),aH=(e,n)=>oa(e.dom,n).isNone(),g1=(e,n,o)=>iH(e,n)||aH(e,n)||nO(e,n,o)||kM(e,n,o)||oO(e,n,o)||Qw(e,n,o),cH=e=>Ne(e)&&ps(e)&&gw(e),sO=(e,n)=>o=>cH(new Ns(o,e)[n]()),lH=(e,n)=>{const o=oa(e.dom,n).getOr(n),r=sO(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},uH=(e,n)=>{const o=ka(e.dom,n).getOr(n),r=sO(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},rO=(e,n,o)=>iE(n)?!1:g1(e,n,o)||DM(e,n,o)||RM(e,n,o),Ub=(e,n,o)=>iE(n)?!1:nO(e,n,o)||eH(e,n,o)||oO(e,n,o)||DM(e,n,o)||uH(e,n),MM=e=>{const n=e.container(),o=e.offset();return Ke(n)&&o<n.data.length?Re(n,o+1):e},Wb=(e,n,o)=>iE(n)?!1:kM(e,n,o)||tH(e,n,o)||Qw(e,n,o)||RM(e,n,o)||lH(e,n),ra=(e,n,o)=>Ub(e,n,o)||Wb(e,MM(n),o),PM=(e,n)=>wb(e.charAt(n)),NM=(e,n)=>Ld(e.charAt(n)),dH=e=>{const n=e.container();return Ke(n)&&$r(n.data,Jr)},fH=e=>{const n=e.split("");return mn(n,(o,r)=>wb(o)&&r>0&&r<n.length-1&&_w(n[r-1])&&_w(n[r+1])?" ":o).join("")},BM=(e,n,o,r)=>{const a=n.data,u=Re(n,0);return!o&&PM(a,0)&&!ra(e,u,r)?(n.data=" "+a.slice(1),!0):o&&NM(a,0)&&Ub(e,u,r)?(n.data=Jr+a.slice(1),!0):!1},v1=e=>{const n=e.data,o=fH(n);return o!==n?(e.data=o,!0):!1},IM=(e,n,o,r)=>{const a=n.data,u=Re(n,a.length-1);return!o&&PM(a,a.length-1)&&!ra(e,u,r)?(n.data=a.slice(0,-1)+" ",!0):o&&NM(a,a.length-1)&&Wb(e,u,r)?(n.data=a.slice(0,-1)+Jr,!0):!1},mH=(e,n,o)=>{const r=n.container();if(!Ke(r))return W.none();if(dH(n)){const a=BM(e,r,!1,o)||v1(r)||IM(e,r,!1,o);return se(a,n)}else if(ra(e,n,o)){const a=BM(e,r,!0,o)||IM(e,r,!0,o);return se(a,n)}else return W.none()},Ds=e=>{const n=re.fromDom(e.getBody());e.selection.isCollapsed()&&mH(n,Re.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},eC=(e,n,o,r)=>{if(o===0)return;const a=re.fromDom(e),u=Ps(a,k=>r.isBlock(Un(k))).getOr(a),m=e.data.slice(n,n+o),v=n+o>=e.data.length&&Wb(u,Re(e,e.data.length),r),C=n===0&&Ub(u,Re(e,0),r);e.replaceData(n,o,sy(m,4,C,v))},iO=(e,n,o)=>{const r=e.data.slice(n),a=r.length-uu(r).length;eC(e,n,a,o)},ii=(e,n,o)=>{const r=e.data.slice(0,n),a=r.length-af(r).length;eC(e,n-a,a,o)},aO=(e,n,o,r,a=!0)=>{const u=af(e.data).length,m=a?e:n,v=a?n:e;return a?m.appendData(v.data):m.insertData(0,v.data),vo(re.fromDom(v)),r&&iO(m,u,o),m},hH=(e,n)=>{const o=e.container(),r=e.offset();return!Re.isTextPosition(e)&&o===n.parentNode&&r>Re.before(n).offset()},ih=(e,n)=>hH(n,e)?Re(n.container(),n.offset()-1):n,So=e=>Ke(e)?Re(e,0):Re.before(e),LM=e=>Ke(e)?Re(e,e.data.length):Re.after(e),cO=e=>sc(e.previousSibling)?W.some(LM(e.previousSibling)):e.previousSibling?dl(e.previousSibling):W.none(),$M=e=>sc(e.nextSibling)?W.some(So(e.nextSibling)):e.nextSibling?Ui(e.nextSibling):W.none(),pH=(e,n)=>W.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ka(e,Re.before(o))).orThunk(()=>oa(e,Re.after(n))),gH=(e,n)=>oa(e,Re.after(n)).orThunk(()=>ka(e,Re.before(n))),Nc=(e,n)=>cO(n).orThunk(()=>$M(n)).orThunk(()=>pH(e,n)),Vd=(e,n)=>$M(n).orThunk(()=>cO(n)).orThunk(()=>gH(e,n)),vH=(e,n,o)=>e?Vd(n,o):Nc(n,o),lO=(e,n,o)=>vH(e,n,o).map(qe(ih,o)),aE=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},bH=e=>n=>n.dom===e,yH=(e,n)=>n&&en(e.schema.getBlockElements(),Un(n)),tC=(e,n,o)=>{if(Bs(e,n)){const r=re.fromHtml('<br data-mce-bogus="1">');return o?Ae(Es(n),a=>{Ow(a)||vo(a)}):pm(n),ur(n,r),W.some(Re.before(r.dom))}else return W.none()},cE=(e,n,o,r)=>{const a=Oo(e).filter(Ho),u=Yr(e).filter(Ho);return vo(e),ge(a,u,n,(m,v,C)=>{const k=m.dom,L=v.dom,$=k.data.length;return aO(k,L,o,r),C.container()===L?Re(k,$):C}).orThunk(()=>(r&&(a.each(m=>ii(m.dom,m.dom.length,o)),u.each(m=>iO(m.dom,0,o))),n))},uO=(e,n)=>en(e.schema.getTextInlineElements(),Un(n)),b1=(e,n,o,r=!0,a=!1)=>{const u=lO(n,e.getBody(),o.dom),m=Ps(o,qe(yH,e),bH(e.getBody())),v=cE(o,u,e.schema,uO(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(C=>tC(e.schema,C,a)).fold(()=>{r&&aE(e,n,v)},C=>{r&&aE(e,n,W.some(C))})},Ud=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wH=e=>Ud.test(e),y1=(e,n)=>ie(re.fromDom(n),Ik(e))&&!gf(e.schema,n)&&e.dom.isEditable(n),gl=e=>{var n;return Zo.DOM.getStyle(e,"direction",!0)==="rtl"||wH((n=e.textContent)!==null&&n!==void 0?n:"")},nC=(e,n,o)=>Ut(Zo.DOM.getParents(o.container(),"*",n),e),ia=(e,n,o)=>{const r=nC(e,n,o);return W.from(r[r.length-1])},CH=(e,n,o)=>{const r=Of(n,e),a=Of(o,e);return Ne(r)&&r===a},Mo=e=>Hv(e)||zv(e),Oa=(e,n)=>{const o=n.container(),r=n.offset();return e?Rd(o)?Ke(o.nextSibling)?Re(o.nextSibling,0):Re.after(o):Hv(n)?Re(o,r+1):n:Rd(o)?Ke(o.previousSibling)?Re(o.previousSibling,o.previousSibling.data.length):Re.before(o):zv(n)?Re(o,r-1):n},oC=qe(Oa,!0),dO=qe(Oa,!1),lE=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},fO=e=>{e.execCommand("delete")},mO=e=>lE(e,"Delete"),hO=e=>lE(e,"ForwardDelete"),xH=e=>n=>I(Dn(n),e,Fe),FM=e=>bx(e)||Cc(e),sC=(e,n)=>Lt(e,n)?Ii(n,FM,xH(e)):W.none(),rC=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},pO=(e,n,o)=>J(Ui(o),dl(o),(r,a)=>{const u=Oa(!0,r),m=Oa(!1,a),v=Oa(!1,n);return e?oa(o,v).exists(C=>C.isEqual(m)&&n.isEqual(u)):ka(o,v).exists(C=>C.isEqual(u)&&n.isEqual(m))}).getOr(!0),iC=e=>(qc(e)?Oo(e):Xc(e)).bind(iC).orThunk(()=>W.some(e)),HM=(e,n,o,r=!0)=>{var a;n.deleteContents();const u=iC(o).getOr(o),m=re.fromDom((a=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(m.dom===e.getBody()?rC(e,r):Bs(e.schema,m,{checkRootAsContent:!1})&&(Dd(m),r&&e.selection.setCursorLocation(m.dom,0)),!Fe(o,m)){const v=I(Dn(m),o)?[]:zn(m);Ae(v.concat(Es(o)),C=>{!Fe(C,m)&&!Lt(C,m)&&Bs(e.schema,C)&&vo(C)})}},SH=e=>n=>Fe(e,n),gO=e=>pi(e,"td,th"),zM=(e,n)=>Qg(re.fromDom(e),n),EH=e=>J(e.startTable,e.endTable,(n,o)=>{const r=sn(n,u=>Fe(u,o)),a=sn(o,u=>Fe(u,n));return!r&&!a?e:{...e,startTable:r?W.none():e.startTable,endTable:a?W.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),VM=e=>EH(e),_H=(e,n)=>{const o=zM(e.startContainer,n),r=zM(e.endContainer,n),a=o.isSome(),u=r.isSome(),m=J(o,r,Fe).getOr(!1);return VM({startTable:o,endTable:r,isStartInTable:a,isEndInTable:u,isSameTable:m,isMultiTable:!m&&a&&u})},vO=(e,n)=>({start:e,end:n}),UM=(e,n,o)=>({rng:e,table:n,cells:o}),Zb=Bu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),uE=(e,n)=>lf(re.fromDom(e),"td,th",n),WM=e=>!Fe(e.start,e.end),bO=(e,n)=>Qg(e.start,n).bind(o=>Qg(e.end,n).bind(r=>se(Fe(o,r),o))),TH=(e,n)=>!WM(e)&&bO(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ZM=(e,n)=>{const o=uE(e.startContainer,n),r=uE(e.endContainer,n);return J(o,r,vO)},vl=e=>n=>Qg(n,e).bind(o=>ha(gO(o)).map(r=>vO(n,r))),kH=e=>n=>Qg(n,e).bind(o=>Gs(gO(o)).map(r=>vO(r,n))),dE=e=>n=>bO(n,e).map(o=>UM(n,o,gO(o))),fE=(e,n,o,r)=>{if(o.collapsed||!e.forall(WM))return W.none();if(n.isSameTable){const a=e.bind(dE(r));return W.some({start:a,end:a})}else{const a=uE(o.startContainer,r),u=uE(o.endContainer,r),m=a.bind(vl(r)).bind(dE(r)),v=u.bind(kH(r)).bind(dE(r));return W.some({start:m,end:v})}},mE=(e,n)=>ln(e,o=>Fe(o,n)),hE=e=>J(mE(e.cells,e.rng.start),mE(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),jM=(e,n,o)=>e.exists(r=>TH(r,o)&&Mr(r.start,n)),qM=(e,n)=>{const{startTable:o,endTable:r}=n,a=e.cloneRange();return o.each(u=>a.setStartAfter(u.dom)),r.each(u=>a.setEndBefore(u.dom)),a},AH=(e,n,o,r)=>fE(e,n,o,r).bind(({start:a,end:u})=>a.or(u)).bind(a=>{const{isSameTable:u}=n,m=hE(a).getOr([]);if(u&&a.cells.length===m.length)return W.some(Zb.fullTable(a.table));if(m.length>0){if(u)return W.some(Zb.partialTable(m,W.none()));{const v=qM(o,n);return W.some(Zb.partialTable(m,W.some({...n,rng:v})))}}else return W.none()}),yO=(e,n,o,r)=>fE(e,n,o,r).bind(({start:a,end:u})=>{const m=a.bind(hE).getOr([]),v=u.bind(hE).getOr([]);if(m.length>0&&v.length>0){const C=qM(o,n);return W.some(Zb.multiTable(m,v,C))}else return W.none()}),GM=(e,n)=>{const o=SH(e),r=ZM(n,o),a=_H(n,o);return jM(r,n,o)?r.map(u=>Zb.singleCellTable(n,u.start)):a.isMultiTable?yO(r,a,n,o):AH(r,a,n,o)},Kl=e=>Ae(e,n=>{pr(n,"contenteditable"),Dd(n)}),OH=(e,n)=>W.from(e.dom.getParent(n,e.dom.isBlock)).map(re.fromDom),DH=(e,n,o)=>{o.each(r=>{n?vo(r):(Dd(r),e.selection.setCursorLocation(r.dom,0))})},KM=(e,n,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(n.dom.lastChild)):(a.setStartBefore(n.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),wO(e,a,n,!1).each(u=>u())},pE=e=>{const n=Wl(e),o=re.fromDom(e.selection.getNode());Jc(o.dom)&&Bs(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Go(n,r=>Fe(r,o))&&zo(o,"data-mce-selected","1")},XM=(e,n,o)=>W.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:u,isStartInTable:m})=>{const v=OH(e,m?u.endContainer:u.startContainer);u.deleteContents(),DH(e,m,v.filter(qe(Bs,e.schema)));const C=m?n[0]:n[n.length-1];return KM(e,C,r,m),Bs(e.schema,C)?W.none():W.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);Kl(a),pE(e)}),jb=(e,n,o,r)=>W.some(()=>{const a=e.selection.getRng(),u=n[0],m=o[o.length-1];KM(e,u,a,!0),KM(e,m,a,!1);const v=Bs(e.schema,u)?n:n.slice(1),C=Bs(e.schema,m)?o:o.slice(0,-1);Kl(v.concat(C)),r.deleteContents(),pE(e)}),wO=(e,n,o,r=!0)=>W.some(()=>{HM(e,n,o,r)}),qb=(e,n)=>W.some(()=>b1(e,!1,n)),Xl=(e,n,o)=>GM(n,o).bind(r=>r.fold(qe(wO,e),qe(qb,e),qe(XM,e),qe(jb,e))),aC=(e,n)=>Gb(e,n),jo=(e,n,o,r)=>gE(n,r).fold(()=>Xl(e,n,o),a=>aC(e,a)),cC=(e,n,o)=>{const r=re.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?XM(e,o,W.none()):jo(e,r,a,n)},CO=(e,n)=>Ko(Bf(n,e),Cg),gE=(e,n)=>Ko(Bf(n,e),Ba("caption")),xO=(e,n,o,r,a)=>Km(o,e.getBody(),a).bind(u=>CO(n,re.fromDom(u.getNode())).bind(m=>Fe(m,r)?W.none():W.some(Zt))),Gb=(e,n)=>W.some(()=>{Dd(n),e.selection.setCursorLocation(n.dom,0)}),SO=(e,n,o,r)=>Ui(e.dom).bind(a=>dl(e.dom).map(u=>n?o.isEqual(a)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(a))).getOr(!0),EO=(e,n)=>Gb(e,n),vE=(e,n,o)=>gE(e,re.fromDom(o.getNode())).fold(()=>W.some(Zt),r=>se(!Fe(r,n),Zt)),_O=(e,n,o,r,a)=>Km(o,e.getBody(),a).fold(()=>W.some(Zt),u=>SO(r,o,a,u)?EO(e,r):vE(n,r,u)),YM=(e,n,o,r)=>{const a=Re.fromRangeStart(e.selection.getRng());return CO(o,r).bind(u=>Bs(e.schema,u,{checkRootAsContent:!1})?Gb(e,u):xO(e,o,n,u,a))},JM=(e,n,o,r)=>{const a=Re.fromRangeStart(e.selection.getRng());return Bs(e.schema,r)?Gb(e,r):_O(e,o,n,r,a)},TO=(e,n)=>e?Nn(n):QA(n),QM=(e,n)=>{const o=Re.fromRangeStart(e.selection.getRng());return TO(n,o)||Ac(n,e.getBody(),o).exists(r=>TO(n,r))},eP=(e,n,o)=>{const r=re.fromDom(e.getBody());return gE(r,o).fold(()=>YM(e,n,r,o).orThunk(()=>se(QM(e,n),Zt)),a=>JM(e,n,r,a))},Ap=(e,n)=>{const o=re.fromDom(e.selection.getStart(!0)),r=Wl(e);return e.selection.isCollapsed()&&r.length===0?eP(e,n,o):cC(e,o,r)},Op=(e,n)=>{let o=n;for(;o&&o!==e;){if(kr(o)||ps(o))return o;o=o.parentNode}return null},kO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],RH=O.each,AO=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const v=k=>{const L={};return RH(n.getAttribs(k),$=>{const H=$.nodeName.toLowerCase();H!=="style"&&!a(H)&&(L[H]=n.getAttrib(k,H))}),L},C=(k,L)=>{for(const $ in k)if(en(k,$)){const H=L[$];if(En(H)||k[$]!==H)return!1;delete L[$]}for(const $ in L)if(en(L,$))return!1;return!0};return It(u)&&It(m)&&(!C(v(u),v(m))||!C(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!Oc(u)&&!Oc(m)},a=u=>Go(kO,m=>Rs(u,m))||o.has(u);return{compare:r,isAttributeInternal:a}},OO=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),tP=e=>e.name==="summary",nP=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},lC=(e,n,o,r)=>{const a=o.name;for(let u=0,m=e.length;u<m;u++){const v=e[u];if(v.name===a){const C=r.nodes[a];C?C.nodes.push(o):r.nodes[a]={filter:v,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const v=n[u],C=v.name;if(C in o.attributes.map){const k=r.attributes[C];k?k.nodes.push(o):r.attributes[C]={filter:v,nodes:[o]}}}},oP=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&nP(o,a=>{lC(e,n,a,r)}),r},DO=(e,n)=>{const o=(r,a)=>{wt(r,u=>{const m=Xi(u.nodes);Ae(u.filter.callbacks,v=>{for(let C=m.length-1;C>=0;C--){const k=m[C];(!(a?k.attr(u.filter.name)!==void 0:k.name===u.filter.name)||_n(k.parent))&&m.splice(C,1)}m.length>0&&v(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},RO=(e,n,o,r={})=>{const a=oP(e,n,o);DO(a,r)},bE=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new Aa("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new Aa("#text",3)).value=Jr},sP=e=>{var n;return MO(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Jr},MO=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ne(o)&&o===e.lastChild&&o.name===n},rP=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Kb=(e,n,o,r)=>r.isEmpty(n,o,a=>rP(e,a)),iP=(e,n)=>Ne(e)&&(n(e)||e.name==="br"),aP=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return W.from(n)},uC=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!n.isValidChild(o.name,a.name)&&uC(a,n,o);e.unwrap()}},yE=(e,n,o,r=Zt)=>{const a=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),v=O.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),C=new Set,k=L=>L!==o&&!v[L.name];for(let L=0;L<e.length;L++){const $=e[L];let H,K,ee;if(!$.parent||C.has($))continue;if(a[$.name]&&$.parent.name==="li"){let ne=$.next;for(;ne&&a[ne.name];){ne.name="li",C.add(ne),$.parent.insert(ne,$.parent);ne=ne.next}$.unwrap();continue}const Y=[$];for(H=$.parent;H&&!n.isValidChild(H.name,$.name)&&k(H);H=H.parent)Y.push(H);if(H&&Y.length>1)if(wE(n,$,H))uC($,n);else{Y.reverse(),K=Y[0].clone(),r(K);let ne=K;for(let fe=0;fe<Y.length-1;fe++){n.isValidChild(ne.name,Y[fe].name)&&fe>0?(ee=Y[fe].clone(),r(ee),ne.append(ee)):ee=ne;for(let he=Y[fe].firstChild;he&&he!==Y[fe+1];){const pe=he.next;ee.append(he),he=pe}ne=ee}Kb(n,u,m,K)?H.insert($,Y[0],!0):(H.insert(K,Y[0],!0),H.insert($,K)),H=Y[0],(Kb(n,u,m,H)||MO(H,"br"))&&H.empty().remove()}else if($.parent){if($.name==="li"){let ne=$.prev;if(ne&&(ne.name==="ul"||ne.name==="ol")){ne.append($);continue}if(ne=$.next,ne&&(ne.name==="ul"||ne.name==="ol")&&ne.firstChild){ne.insert($,ne.firstChild,!0);continue}const fe=new Aa("ul",1);r(fe),$.wrap(fe);continue}if(n.isValidChild($.parent.name,"div")&&n.isValidChild("div",$.name)){const ne=new Aa("div",1);r(ne),$.wrap(ne)}else uC($,n)}}},cP=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},wE=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&cP(o,"a")?!0:tP(o)&&OO(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,lP=(e,n,o,r)=>{const a=document.createRange();return a.setStart(e,n),a.setEnd(o,r),a},uP=e=>{const n=Re.fromRangeStart(e),o=Re.fromRangeEnd(e),r=e.commonAncestorContainer;return Ac(!1,r,o).map(a=>!Tc(n,o,r)&&Tc(n,a,r)?lP(n.container(),n.offset(),a.container(),a.offset()):e).getOr(e)},CE=e=>e.collapsed?e:uP(e),PO=e=>Ne(e.firstChild)&&e.firstChild===e.lastChild,xE=e=>e.name==="br"||e.value===Jr,SE=(e,n)=>e.getBlockElements()[n.name]&&PO(n)&&xE(n.firstChild),EE=(e,n)=>{const o=e.getNonEmptyElements();return Ne(n)&&(n.isEmpty(o)||SE(e,n))},dP=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),EE(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},_E=e=>{var n,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},NO=(e,n,o)=>{const r=n.serialize(o),a=e.createFragment(r);return _E(a)},dC=e=>{var n;return Ut((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},BO=e=>e.data===Jr||Jo(e),fP=e=>Ne(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&BO(e.firstChild),Xb=e=>!e.firstChild||fP(e),IO=e=>e.length>0&&Xb(e[e.length-1])?e.slice(0,-1):e,fC=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},mC=(e,n)=>!!fC(e,n),Dp=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},mP=(e,n)=>{const o=Re.before(e),a=Ul(n).next(o);return a?a.toRange():null},hP=(e,n)=>{const o=Re.after(e),a=Ul(n).prev(o);return a?a.toRange():null},SG=(e,n,o,r)=>{const a=Dp(e,r),u=e.parentNode;return u&&(u.insertBefore(a[0],e),O.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(a[1],e),u.removeChild(e)),hP(n[n.length-1],o)},MH=(e,n,o)=>{const r=e.parentNode;return r&&O.each(n,a=>{r.insertBefore(a,e)}),mP(e,o)},LO=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),hP(n[0],o)),Wd=(e,n,o,r)=>{const a=NO(n,e,r),u=fC(n,o.startContainer),m=IO(dC(a.firstChild)),v=1,C=2,k=n.getRoot(),L=$=>{const H=Re.fromRangeStart(o),K=Ul(n.getRoot()),ee=$===v?K.prev(H):K.next(H),Y=ee==null?void 0:ee.getNode();return Y?fC(n,Y)!==u:!0};return u?L(v)?MH(u,m,k):L(C)?LO(u,m,k,n):SG(u,m,k,o):null},$O=["pre"],TE=(e,n,o,r)=>{var a;const u=n.firstChild,m=n.lastChild,v=m.attr("data-mce-type")==="bookmark"?m.prev:m,C=u===v,k=gn($O,u.name);if(C&&k){const L=u.attr("contenteditable")!=="false",$=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===u.name,H=W.from(Op(r,o)).forall(kr);return L&&$&&H}else return!1},hC=Jc,PH=(e,n,o)=>{if(Ne(o)){const r=e.getParent(n.endContainer,hC);return o===r&&Mr(re.fromDom(o),n)}else return!1},pP=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const a=o.firstChild,u=o.lastChild;!a||a===u&&a.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},NH=(e,n,o)=>{W.from(e.getParent(n,"td,th")).map(re.fromDom).each(r=>yk(r,o))},gP=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const a=e.getBody(),u=AO(e);O.each(r.select("*[data-mce-fragment]"),m=>{if(Ne(o[m.nodeName.toLowerCase()])&&vM(r,m)){for(let C=m.parentElement;Ne(C)&&C!==a&&!Y6(r,m,C);C=C.parentElement)if(u.compare(C,m)){r.remove(m,!0);break}}})}},FO=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},BH=e=>{O.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},vP=e=>!!e.getAttribute("data-mce-fragment"),IH=(e,n)=>Ne(n)&&!e.schema.getVoidElements()[n.nodeName],w1=(e,n)=>{var o,r,a;let u;const m=e.dom,v=e.selection;if(!n)return;v.scrollIntoView(n);const C=Op(e.getBody(),n);if(C&&m.getContentEditable(C)==="false"){m.remove(n),v.select(C);return}let k=m.createRng();const L=n.previousSibling;if(Ke(L)){k.setStart(L,(r=(o=L.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const K=n.nextSibling;Ke(K)&&(L.appendData(K.data),(a=K.parentNode)===null||a===void 0||a.removeChild(K))}else k.setStartBefore(n),k.setEndBefore(n);const $=K=>{let ee=Re.fromRangeStart(K);return ee=Ul(e.getBody()).next(ee),ee==null?void 0:ee.toRange()},H=m.getParent(n,m.isBlock);if(m.remove(n),H&&m.isEmpty(H)){const K=hC(H);pm(re.fromDom(H)),k.setStart(H,0),k.setEnd(H,0),!K&&!vP(H)&&(u=$(k))?(k=u,m.remove(H)):m.add(H,m.create("br",K?{}:{"data-mce-bogus":"1"}))}v.setRng(k)},bP=e=>{const n=e.dom,o=CE(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,hC);PH(n,o,r)?wO(e,o,re.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ke(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},LH=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return W.some(n);return W.none()},yP=(e,n,o)=>{var r;return Go(o.children(),OO)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},$H=(e,n,o)=>{var r,a;const u=e.selection,m=e.dom,v=e.parser,C=o.merge,k=tn({validate:!0},e.schema),L='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Ua(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,L);let $=u.getRng();const H=$.startContainer,K=e.getBody();H===K&&u.isCollapsed()&&m.isBlock(K.firstChild)&&IH(e,K.firstChild)&&m.isEmpty(K.firstChild)&&($=m.createRng(),$.setStart(K.firstChild,0),$.setEnd(K.firstChild,0),u.setRng($)),u.isCollapsed()||bP(e);const ee=u.getNode(),Y={context:ee.nodeName.toLowerCase(),data:o.data,insert:!0},ne=v.parse(n,Y);if(o.paste===!0&&dP(e.schema,ne)&&mC(m,ee))return $=Wd(k,m,u.getRng(),ne),$&&u.setRng($),n;o.paste===!0&&TE(m,ne,ee,e.getBody())&&((r=ne.firstChild)===null||r===void 0||r.unwrap()),FO(ne);let fe=ne.lastChild;if(fe&&fe.attr("id")==="mce_marker"){const he=fe;for(fe=fe.prev;fe;fe=fe.walk(!0))if(fe.type===3||!m.isBlock(fe.name)){fe.parent&&e.schema.isValidChild(fe.parent.name,"span")&&fe.parent.insert(he,fe,fe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ee),!Y.invalid&&!yP(m,ee,ne))n=k.serialize(ne),pP(e,n,ee);else{e.selection.setContent(L);let he=u.getNode(),pe;const Ee=e.getBody();for(Lh(he)?he=pe=Ee:pe=he;pe&&pe!==Ee;)he=pe,pe=pe.parentNode;n=he===Ee?Ee.innerHTML:m.getOuterHTML(he);const Be=v.parse(n),it=LH(Be),Ct=it.bind(aP).getOr(Be);it.each(yt=>yt.replace(ne));const Qe=ne.children(),Me=(a=ne.parent)!==null&&a!==void 0?a:Be;ne.unwrap();const Le=Ut(Qe,yt=>wE(e.schema,yt,Me));yE(Le,e.schema,Ct),RO(v.getNodeFilters(),v.getAttributeFilters(),Be),n=k.serialize(Be),he===Ee?m.setHTML(Ee,n):m.setOuterHTML(he,n)}return gP(e,C),w1(e,m.get("mce_marker")),BH(e.getBody()),NH(m,u.getStart(),e.schema),NR(e.schema,e.getBody(),u.getStart()),n},kE=e=>e instanceof Aa,FH=e=>{h1(e)&&Ui(e.getBody()).each(n=>{const o=n.getNode(),r=br(o)?Ui(o).getOr(n):n;e.selection.setRng(r.toRange())})},HO=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&FH(e)},HH=(e,n,o,r)=>{if(o=Ua(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+a+"</li>");const u=zi(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=a,o=e.dom.createHTML(u,Ig(e),o)):o||(o=a),HO(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=tn({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=xg(re.fromDom(n))?o:O.trim(o);return HO(e,a,r.no_selection),{content:a,html:a}}},wP=(e,n,o,r)=>{RO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=tn({validate:!1},e.schema).serialize(o),u=Ua(xg(re.fromDom(n))?a:O.trim(a));return HO(e,u,r.no_selection),{content:o,html:u}},zH=(e,n,o)=>W.from(e.getBody()).map(r=>kE(n)?wP(e,r,n,o):HH(e,r,n,o)).getOr({content:n,html:kE(o.content)?"":o.content}),AE=e=>le(e)?e:Ze,C1=(e,n,o)=>{let r=e.dom;const a=AE(o);for(;r.parentNode;){r=r.parentNode;const u=re.fromDom(r),m=n(u);if(m.isSome())return m;if(a(u))break}return W.none()},zO=(e,n,o)=>{const r=n(e),a=AE(o);return r.orThunk(()=>a(e)?W.none():C1(e,n,a))},VO=r1,pC=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const u=r[a];if(_i(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},OE=(e,n,o,r,a)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,v=>pC(e,v,o)?!0:v.parentNode===u||!!Zd(e,v,o,r,!0));return!!Zd(e,m,o,r,a)},gC=(e,n,o)=>Ao(o)&&VO(n,o.inline)||Dc(o)&&VO(n,o.block)?!0:_i(o)?It(n)&&e.is(n,o.selector):!1,CP=(e,n,o,r,a,u)=>{const m=o[r],v=r==="attributes";if(le(o.onmatch))return o.onmatch(n,o,r);if(m){if(Yp(m)){for(let C=0;C<m.length;C++)if(v?e.getAttrib(n,m[C]):fl(e,n,m[C]))return!0}else for(const C in m)if(en(m,C)){const k=v?e.getAttrib(n,C):fl(e,n,C),L=Zl(m[C],u),$=_n(k)||Ni(k);if($&&_n(L))continue;if(a&&$&&!o.exact||(!a||o.exact)&&!VO(k,i1(L,C)))return!1}}return!0},Zd=(e,n,o,r,a)=>{const u=e.formatter.get(o),m=e.dom;if(u&&It(n))for(let v=0;v<u.length;v++){const C=u[v];if(gC(e.dom,n,C)&&CP(m,n,C,"attributes",a,r)&&CP(m,n,C,"styles",a,r)){const k=C.classes;if(k){for(let L=0;L<k.length;L++)if(!e.dom.hasClass(n,Zl(k[L],r)))return}return C}}},UO=(e,n,o,r,a)=>{if(r)return OE(e,r,n,o,a);if(r=e.selection.getNode(),OE(e,r,n,o,a))return!0;const u=e.selection.getStart();return!!(u!==r&&OE(e,u,n,o,a))},x1=(e,n,o)=>{const r=[],a={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let v=0;v<n.length;v++){const C=n[v];!a[C]&&Zd(e,m,C,o)&&(a[C]=!0,r.push(C))}},e.dom.getRoot()),r},xP=(e,n)=>{const o=a=>Fe(a,re.fromDom(e.getBody())),r=(a,u)=>Zd(e,a.dom,u)?W.some(u):W.none();return W.from(e.selection.getStart(!0)).bind(a=>zO(re.fromDom(a),u=>Hc(n,m=>r(u,m)),o)).getOrNull()},SP=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),u=c1(r,a);for(let m=o.length-1;m>=0;m--){const v=o[m];if(!_i(v))return!0;for(let C=u.length-1;C>=0;C--)if(r.is(u[C],v.selector))return!0}}return!1},EP=(e,n,o)=>wo(o,(r,a)=>{const u=gA(e,a);return e.formatter.matchNode(n,a,{},u)?r.concat([a]):r},[]),Rp=Ur,_P=(e,n)=>e.importNode(n,!0),TP=e=>{if(e){const n=new Ns(e,e);for(let o=n.current();o;o=n.next())if(Ke(o))return o}return null},DE=e=>{const n=re.fromTag("span");return wi(n,{id:hb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ur(n,re.fromText(Rp)),n},VH=e=>{const n=TP(e);return n&&n.data.charAt(0)===Rp&&n.deleteData(0,1),n},WO=(e,n,o)=>{const r=e.dom,a=e.selection;if(Sb(n))b1(e,!1,re.fromDom(n),o,!0);else{const u=a.getRng(),m=r.getParent(n,r.isBlock),v=u.startContainer,C=u.startOffset,k=u.endContainer,L=u.endOffset,$=VH(n);r.remove(n,!0),v===$&&C>0&&u.setStart($,C-1),k===$&&L>0&&u.setEnd($,L-1),m&&r.isEmpty(m)&&Dd(re.fromDom(m)),a.setRng(u)}},Yb=(e,n,o)=>{const r=e.dom,a=e.selection;if(n)WO(e,n,o);else if(n=$n(e.getBody(),a.getStart()),!n)for(;n=r.get(hb);)WO(e,n,o)},kP=(e,n,o)=>{var r,a;const u=e.dom,m=u.getParent(o,qe(n1,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(bk(re.fromDom(o)),u.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):u.insertAfter(n,o))},RE=(e,n)=>(e.appendChild(n),n),AP=(e,n)=>{var o;const r=Ga(e,(u,m)=>RE(u,m.cloneNode(!1)),n),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return RE(r,a.createTextNode(Rp))},UH=(e,n,o,r,a,u)=>{const m=e.formatter,v=e.dom,C=Ut(ui(m.get()),$=>$!==r&&!$r($,"removeformat")),k=EP(e,o,C);if(Ut(k,$=>!vA(e,$,r)).length>0){const $=o.cloneNode(!1);return v.add(n,$),m.remove(r,a,$,u),v.remove($),W.some($)}else return W.none()},OP=(e,n,o)=>{let r;const a=e.selection,u=e.formatter.get(n);if(!u)return;const m=a.getRng();let v=m.startOffset;const k=m.startContainer.nodeValue;r=$n(e.getBody(),a.getStart());const L=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(k&&v>0&&v<k.length&&L.test(k.charAt(v))&&L.test(k.charAt(v-1))){const $=a.getBookmark();m.collapse(!0);let H=Rf(e.dom,m,u);H=rt(H),e.formatter.apply(n,o,H),a.moveToBookmark($)}else{let $=r?TP(r):null;(!r||($==null?void 0:$.data)!==Rp)&&(r=_P(e.getDoc(),DE(!0).dom),$=r.firstChild,m.insertNode(r),v=1),e.formatter.apply(n,o,r),a.setCursorLocation($,v)}},ZO=(e,n,o,r)=>{const a=e.dom,u=e.selection;let m=!1;const v=e.formatter.get(n);if(!v)return;const C=u.getRng(),k=C.startContainer,L=C.startOffset;let $=k;Ke(k)&&(L!==k.data.length&&(m=!0),$=$.parentNode);const H=[];let K;for(;$;){if(Zd(e,$,n,o,r)){K=$;break}$.nextSibling&&(m=!0),H.push($),$=$.parentNode}if(K)if(m){const ee=u.getBookmark();C.collapse(!0);let Y=Rf(a,C,v,!0);Y=rt(Y),e.formatter.remove(n,o,Y,r),u.moveToBookmark(ee)}else{const ee=$n(e.getBody(),K),Y=Ne(ee)?a.getParents(K.parentNode,Tt,ee):[],ne=DE(!1).dom;kP(e,ne,ee??K);const fe=UH(e,ne,K,n,o,r),he=AP([...H,...fe.toArray(),...Y],ne);ee&&WO(e,ee,Ne(ee)),u.setCursorLocation(he,1),a.isEmpty(K)&&a.remove(K)}},DP=(e,n,o)=>{const r=e.selection,a=e.getBody();Yb(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Rp&&Yb(e,$n(a,r.getStart()),!0),(n===37||n===39)&&Yb(e,$n(a,r.getStart()),!0)},WH=e=>Ke(e)&&Wc(e.data,Jr),ZH=e=>{e.on("mouseup keydown",n=>{DP(e,n.keyCode,WH(e.selection.getRng().endContainer))})},RP=e=>{const n=DE(!1),o=AP(e,n.dom);return{caretContainer:n,caretPosition:Re(o,0)}},vC=(e,n)=>{const{caretContainer:o,caretPosition:r}=RP(n);return Ci(re.fromDom(e),o),vo(re.fromDom(e)),r},ah=(e,n)=>{const{caretContainer:o,caretPosition:r}=RP(n);return e.insertNode(o.dom),r},MP=(e,n)=>{if(rc(n.dom))return!1;const o=e.schema.getTextInlineElements();return en(o,Un(n))&&!rc(n.dom)&&!zr(n.dom)},S1={},sr=Yc(["pre"]),jO=(e,n)=>{S1[e]||(S1[e]=[]),S1[e].push(n)},qO=(e,n)=>{en(S1,e)&&Ae(S1[e],o=>{o(n)})};jO("pre",e=>{const n=e.selection.getRng(),o=a=>u=>{const m=u.previousSibling;return sr(m)&&gn(a,m)},r=(a,u)=>{const m=re.fromDom(u),v=nn(m).dom;vo(m),Yo(re.fromDom(a),[re.fromTag("br",v),re.fromTag("br",v),...Es(m)])};if(!n.collapsed){const a=e.selection.getSelectedBlocks(),u=Ut(Ut(a,sr),o(a));Ae(u,m=>{r(m.previousSibling,m)})}});const If=["fontWeight","fontStyle","color","fontSize","fontFamily"],PP=e=>Ft(e.styles)&&Go(ui(e.styles),n=>gn(If,n)),NP=e=>Ko(e,n=>Ao(n)&&n.inline==="span"&&PP(n)),Jb=(e,n)=>{const o=e.get(n);return hn(o)?NP(o):W.none()},BP=(e,n)=>ka(n,Re.fromRangeStart(e)).isNone(),IP=(e,n)=>oa(n,Re.fromRangeEnd(e)).exists(o=>!Jo(o.getNode())||oa(n,o).isSome())===!1,E1=e=>n=>bo(n)&&e.isEditable(n),jH=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return BP(o,n[0])&&IP(o,n[0])?n:[];{const r=Gs(n).filter(m=>BP(o,m)).toArray(),a=ha(n).filter(m=>IP(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(a)}},_1=e=>Ut(jH(e),E1(e.dom)),LP=e=>Ut(e.getSelectedBlocks(),E1(e.dom)),Lf=O.each,Bc=e=>It(e)&&!Oc(e)&&!rc(e)&&!zr(e),Qb=(e,n)=>{for(let o=e;o;o=o[n]){if(Ke(o)&&$o(o.data))return e;if(It(o)&&!Oc(o))return o}return e},ME=(e,n,o)=>{const r=AO(e),a=yd(n)&&e.dom.isEditable(n),u=yd(o)&&e.dom.isEditable(o);if(a&&u){const m=Qb(n,"previousSibling"),v=Qb(o,"nextSibling");if(r.compare(m,v)){for(let C=m.nextSibling;C&&C!==v;){const k=C;C=C.nextSibling,m.appendChild(k)}return e.dom.remove(v),O.each(O.grep(v.childNodes),C=>{m.appendChild(C)}),m}}return o},PE=(e,n,o,r)=>{var a;if(r&&n.merge_siblings!==!1){const u=(a=ME(e,Aw(r),r))!==null&&a!==void 0?a:r;ME(e,u,Aw(u,!0))}},qH=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";Lf(e.select(r,o),a=>{Bc(a)&&e.isEditable(a)&&Lf(n.styles,(u,m)=>{e.setStyle(a,m,"")})})}},e0=(e,n,o)=>{Lf(e.childNodes,r=>{Bc(r)&&(n(r)&&o(r),r.hasChildNodes()&&e0(r,n,o))})},GH=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Yl=(e,n)=>o=>!!(o&&fl(e,o,n)),bC=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),GH(e,r)},Mp=Bu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),GO=/^(src|href|style)$/,yC=O.each,$f=r1,KO=e=>/^(TR|TH|TD)$/.test(e.nodeName),$P=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),XO=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],a=n[o?"startOffset":"endOffset"];if(It(r)){const u=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>u?u:a]}return Ke(r)&&o&&a>=r.data.length&&(r=new Ns(r,e.getBody()).next()||r),Ke(r)&&!o&&a===0&&(r=new Ns(r,e.getBody()).prev()||r),r},FP=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return KO(e)&&r?e.nodeName==="TR"&&r[o]||r:e},YO=(e,n,o,r)=>{var a;const u=e.create(o,r);return(a=n.parentNode)===null||a===void 0||a.insertBefore(u,n),u.appendChild(n),u},HP=(e,n,o,r,a)=>{const u=re.fromDom(n),m=re.fromDom(e.create(r,a)),v=o?Js(u):mi(u);return Yo(m,v),o?(Ci(u,m),Ml(m,u)):(vd(u,m),ur(m,u)),m.dom},KH=(e,n)=>n.links&&e.nodeName==="A",t0=(e,n,o)=>{const r=n.parentNode;let a;const u=e.dom,m=zi(e);Dc(o)&&r===u.getRoot()&&(!o.list_block||!$f(n,o.list_block))&&Ae(Xi(n.childNodes),v=>{xp(e,m,v.nodeName.toLowerCase())?a?a.appendChild(v):(a=YO(u,v,m),u.setAttribs(a,Ig(e))):a=null}),!(ml(o)&&!$f(o.inline,n))&&u.remove(n,!0)},zP=(e,n,o)=>Pn(e)?{name:n,value:null}:{name:e,value:Zl(n,o)},JO=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},NE=(e,n,o,r,a)=>{let u=!1;yC(o.styles,(m,v)=>{const{name:C,value:k}=zP(v,m,r),L=i1(k,C);(o.remove_similar||D(k)||!It(a)||$f(fl(e,a,C),L))&&e.setStyle(n,C,""),u=!0}),u&&JO(e,n)},XH=(e,n,o)=>{n==="removeformat"?Ae(LP(e.selection),r=>{Ae(If,a=>e.dom.setStyle(r,a,"")),JO(e.dom,r)}):Jb(e.formatter,n).each(r=>{Ae(LP(e.selection),a=>NE(e.dom,a,r,o,null))})},QO=(e,n,o,r,a)=>{const u=e.dom,m=AO(e),v=e.schema;if(Ao(n)&&zh(v,n.inline)&&gf(v,r)&&r.parentElement===e.getBody())return t0(e,r,n),Mp.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!gC(u,r,n)&&!KH(r,n))return Mp.keep();const C=r,k=n.preserve_attributes;if(Ao(n)&&n.remove==="all"&&hn(k)){const L=Ut(u.getAttribs(C),$=>gn(k,$.name.toLowerCase()));if(u.removeAllAttribs(C),Ae(L,$=>u.setAttrib(C,$.name,$.value)),L.length>0)return Mp.rename("span")}if(n.remove!=="all"){NE(u,C,n,o,a),yC(n.attributes,($,H)=>{const{name:K,value:ee}=zP(H,$,o);if(n.remove_similar||D(ee)||!It(a)||$f(u.getAttrib(a,K),ee)){if(K==="class"){const Y=u.getAttrib(C,K);if(Y){let ne="";if(Ae(Y.split(/\s+/),fe=>{/mce\-\w+/.test(fe)&&(ne+=(ne?" ":"")+fe)}),ne){u.setAttrib(C,K,ne);return}}}if(GO.test(K)&&C.removeAttribute("data-mce-"+K),K==="style"&&Yc(["li"])(C)&&u.getStyle(C,"list-style-type")==="none"){C.removeAttribute(K),u.setStyle(C,"list-style-type","none");return}K==="class"&&C.removeAttribute("className"),C.removeAttribute(K)}}),yC(n.classes,$=>{$=Zl($,o),(!It(a)||u.hasClass(a,$))&&u.removeClass(C,$)});const L=u.getAttribs(C);for(let $=0;$<L.length;$++){const H=L[$].nodeName;if(!m.isAttributeInternal(H))return Mp.keep()}}return n.remove!=="none"?(t0(e,C,n),Mp.removed()):Mp.keep()},VP=(e,n,o,r,a)=>{let u;return n.parentNode&&Ae(c1(e.dom,n.parentNode).reverse(),m=>{if(!u&&It(m)&&m.id!=="_start"&&m.id!=="_end"){const v=Zd(e,m,o,r,a);v&&v.split!==!1&&(u=m)}}),u},YH=(e,n,o,r)=>QO(e,n,o,r,r).fold(lt(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),lt(null)),JH=(e,n,o,r,a,u,m,v)=>{var C,k;let L,$;const H=e.dom;if(o){const K=o.parentNode;for(let ee=r.parentNode;ee&&ee!==K;ee=ee.parentNode){let Y=H.clone(ee,!1);for(let ne=0;ne<n.length&&(Y=YH(e,n[ne],v,Y),Y!==null);ne++);Y&&(L&&Y.appendChild(L),$||($=Y),L=Y)}u&&(!m.mixed||!H.isBlock(o))&&(r=(C=H.split(o,r))!==null&&C!==void 0?C:r),L&&$&&((k=a.parentNode)===null||k===void 0||k.insertBefore(L,a),$.appendChild(a),Ao(m)&&PE(e,m,v,L))}return r},QH=(e,n,o,r,a)=>{const u=e.formatter.get(n),m=u[0],v=e.dom,C=e.selection,k=Y=>{const ne=VP(e,Y,n,o,a);return JH(e,u,ne,Y,Y,!0,m,o)},L=Y=>Oc(Y)&&It(Y)&&(Y.id==="_start"||Y.id==="_end"),$=Y=>Go(u,ne=>wC(e,ne,o,Y,Y)),H=Y=>{const ne=Xi(Y.childNodes),he=$(Y)||Go(u,Be=>gC(v,Y,Be)),pe=Y.parentNode;if(!he&&Ne(pe)&&Za(m)&&$(pe),m.deep&&ne.length)for(let Be=0;Be<ne.length;Be++)H(ne[Be]);Ae(["underline","line-through","overline"],Be=>{It(Y)&&e.dom.getStyle(Y,"text-decoration")===Be&&Y.parentNode&&a1(v,Y.parentNode)===Be&&wC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Be}},void 0,Y)})},K=Y=>{const ne=v.get(Y?"_start":"_end");if(ne){let fe=ne[Y?"firstChild":"lastChild"];return L(fe)&&(fe=fe[Y?"firstChild":"lastChild"]),Ke(fe)&&fe.data.length===0&&(fe=Y?ne.previousSibling||ne.nextSibling:ne.nextSibling||ne.previousSibling),v.remove(ne,!0),fe}else return null},ee=Y=>{let ne,fe,he=Rf(v,Y,u,Y.collapsed);if(m.split){if(he=rt(he),ne=XO(e,he,!0),fe=XO(e,he),ne!==fe){if(ne=FP(ne,!0),fe=FP(fe,!1),$P(v,ne,fe)){const Ee=W.from(ne.firstChild).getOr(ne);k(HP(v,Ee,!0,"span",{id:"_start","data-mce-type":"bookmark"})),K(!0);return}if($P(v,fe,ne)){const Ee=W.from(fe.lastChild).getOr(fe);k(HP(v,Ee,!1,"span",{id:"_end","data-mce-type":"bookmark"})),K(!1);return}ne=YO(v,ne,"span",{id:"_start","data-mce-type":"bookmark"}),fe=YO(v,fe,"span",{id:"_end","data-mce-type":"bookmark"});const pe=v.createRng();pe.setStartAfter(ne),pe.setEndBefore(fe),Mf(v,pe,Ee=>{Ae(Ee,Be=>{!Oc(Be)&&!Oc(Be.parentNode)&&k(Be)})}),k(ne),k(fe),ne=K(!0),fe=K()}else ne=fe=k(ne);he.startContainer=ne.parentNode?ne.parentNode:ne,he.startOffset=v.nodeIndex(ne),he.endContainer=fe.parentNode?fe.parentNode:fe,he.endOffset=v.nodeIndex(fe)+1}Mf(v,he,pe=>{Ae(pe,H)})};if(r){if(Cp(r)){const Y=v.createRng();Y.setStartBefore(r),Y.setEndAfter(r),ee(Y)}else ee(r);US(e,n,r,o);return}!C.isCollapsed()||!Ao(m)||Wl(e).length?(kw(e,()=>wp(e,ee),Y=>Ao(m)&&UO(e,n,o,Y)),e.nodeChanged()):ZO(e,n,o,a),XH(e,n,o),US(e,n,r,o)},UP=(e,n,o,r,a)=>{(r||e.selection.isEditable())&&QH(e,n,o,r,a)},wC=(e,n,o,r,a)=>QO(e,n,o,r,a).fold(Ze,u=>(e.dom.rename(r,u),!0),Tt),WP=O.each,e7=(e,n,o,r)=>{const a=u=>{if(yd(u)&&It(u.parentNode)&&e.isEditable(u)){const m=a1(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(O.walk(r,a,"childNodes"),a(r))},t7=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const a=Yl(e,"fontSize");e0(r,u=>a(u)&&e.isEditable(u),bC(e,"backgroundColor",Zl(n.styles.backgroundColor,o)))}},n7=(e,n,o,r)=>{if(Ao(n)&&(n.inline==="sub"||n.inline==="sup")){const a=Yl(e,"fontSize");e0(r,m=>a(m)&&e.isEditable(m),bC(e,"fontSize",""));const u=Ut(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},o7=(e,n,o,r)=>{WP(n,a=>{Ao(a)&&WP(e.dom.select(a.inline,r),u=>{Bc(u)&&wC(e,a,o,u,a.exact?u:null)}),qH(e.dom,a,r)})},s7=(e,n,o,r,a)=>{const u=a.parentNode;Zd(e,u,o,r)&&wC(e,n,r,a)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>Zd(e,m,o,r)?(wC(e,n,r,a),!0):!1)},BE=O.each,r7=(e,n,o,r)=>{if(Yx(e)&&Ao(n)&&o.parentNode){const a=Dv(e.schema),u=Sa(re.fromDom(o),m=>rc(m.dom));return Lr(a,r)&&Si(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},e4=(e,n,o,r)=>{if(BE(o.styles,(a,u)=>{e.setStyle(n,u,Zl(a,r))}),o.styles){const a=e.getAttrib(n,"style");a&&e.setAttrib(n,"data-mce-style",a)}},i7=(e,n,o,r)=>{const a=e.formatter.get(n),u=a[0],m=!r&&e.selection.isCollapsed(),v=e.dom,C=e.selection,k=(ee,Y=u)=>{le(Y.onformat)&&Y.onformat(ee,Y,o,r),e4(v,ee,Y,o),BE(Y.attributes,(ne,fe)=>{v.setAttrib(ee,fe,Zl(ne,o))}),BE(Y.classes,ne=>{const fe=Zl(ne,o);v.hasClass(ee,fe)||v.addClass(ee,fe)})},L=(ee,Y)=>{let ne=!1;return BE(ee,fe=>_i(fe)?v.getContentEditable(Y)==="false"&&!fe.ceFalseOverride||Ne(fe.collapsed)&&fe.collapsed!==m?!0:v.is(Y,fe.selector)&&!rc(Y)?(k(Y,fe),ne=!0,!1):!0:!1),ne},$=ee=>{if(ae(ee)){const Y=v.create(ee);return k(Y),Y}else return null},H=(ee,Y,ne)=>{const fe=[];let he=!0;const pe=u.inline||u.block,Ee=$(pe),Be=Qe=>BS(u)&&Zd(e,Qe,n,o),it=(Qe,Me,Le)=>{const yt=bA(u)&&n1(e.schema,Qe)&&xp(e,Me,pe);return Le&&yt},Ct=(Qe,Me,Le,yt)=>{const zt=Qe.nodeName.toLowerCase(),Rn=xp(e,pe,zt)&&xp(e,Me,pe),Wn=!ne&&Ke(Qe)&&Fv(Qe.data),_o=rc(Qe),No=!Ao(u)||!ee.isBlock(Qe);return(Le||yt)&&Rn&&!Wn&&!_o&&No};Mf(ee,Y,Qe=>{let Me;const Le=yt=>{let zt=!1,Rn=he,Wn=!1;const _o=yt.parentNode,No=_o.nodeName.toLowerCase(),rs=ee.getContentEditable(yt);Ne(rs)&&(Rn=he,he=rs==="true",zt=!0,Wn=xb(e,yt));const Oi=he&&!zt;if(Jo(yt)&&!r7(e,u,yt,No)){Me=null,Dc(u)&&ee.remove(yt);return}if(Be(yt)){Me=null;return}if(it(yt,No,Oi)){const Bo=ee.rename(yt,pe);k(Bo),fe.push(Bo),Me=null;return}if(_i(u)){let Bo=L(a,yt);if(!Bo&&Ne(_o)&&Za(u)&&(Bo=L(a,_o)),!Ao(u)||Bo){Me=null;return}}Ne(Ee)&&Ct(yt,No,Oi,Wn)?(Me||(Me=ee.clone(Ee,!1),_o.insertBefore(Me,yt),fe.push(Me)),Wn&&zt&&(he=Rn),Me.appendChild(yt)):(Me=null,Ae(Xi(yt.childNodes),Le),zt&&(he=Rn),Me=null)};Ae(Qe,Le)}),u.links===!0&&Ae(fe,Qe=>{const Me=Le=>{Le.nodeName==="A"&&k(Le,u),Ae(Xi(Le.childNodes),Me)};Me(Qe)}),Ae(fe,Qe=>{const Me=zt=>{let Rn=0;return Ae(zt.childNodes,Wn=>{!Cb(Wn)&&!Oc(Wn)&&Rn++}),Rn},Le=zt=>Ko(zt.childNodes,t1).filter(Wn=>ee.getContentEditable(Wn)!=="false"&&gC(ee,Wn,u)).map(Wn=>{const _o=ee.clone(Wn,!1);return k(_o),ee.replace(_o,zt,!0),ee.remove(Wn,!0),_o}).getOr(zt),yt=Me(Qe);if((fe.length>1||!ee.isBlock(Qe))&&yt===0){ee.remove(Qe,!0);return}(Ao(u)||Dc(u)&&u.wrapper)&&(!u.exact&&yt===1&&(Qe=Le(Qe)),o7(e,a,o,Qe),s7(e,u,n,o,Qe),t7(ee,u,o,Qe),e7(ee,u,o,Qe),n7(ee,u,o,Qe),PE(e,u,o,Qe))})},K=Cp(r)?r:C.getNode();if(v.getContentEditable(K)==="false"&&!xb(e,K)){r=K,L(a,r),VS(e,n,r,o);return}if(u){if(r)if(Cp(r)){if(!L(a,r)){const ee=v.createRng();ee.setStartBefore(r),ee.setEndAfter(r),H(v,Rf(v,ee,a),!0)}}else H(v,r,!0);else!m||!Ao(u)||Wl(e).length?(C.setRng(CE(C.getRng())),kw(e,()=>{wp(e,(ee,Y)=>{const ne=Y?ee:Rf(v,ee,a);H(v,ne,!1)})},Tt),e.nodeChanged()):OP(e,n,o),Jb(e.formatter,n).each(ee=>{Ae(_1(e.selection),Y=>e4(v,Y,ee,o))});qO(n,e)}VS(e,n,r,o)},T1=(e,n,o,r)=>{(r||e.selection.isEditable())&&i7(e,n,o,r)},ZP=e=>en(e,"vars"),a7=(e,n)=>{e.set({}),n.on("NodeChange",o=>{GP(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=W.from(o.node).map(a=>Cp(a)?a:a.startContainer).bind(a=>It(a)?W.some(a):W.from(a.parentElement)).getOrThunk(()=>jP(n));GP(n,r,e.get())})},jP=e=>e.selection.getStart(),qP=(e,n,o,r,a)=>Ka(n,v=>{const C=e.formatter.matchNode(v,o,a??{},r);return!En(C)},v=>pC(e,v,o)?!0:r?!1:Ne(e.formatter.matchNode(v,o,a,!0))),t4=(e,n)=>{const o=n??jP(e);return Ut(c1(e.dom,o),r=>It(r)&&!zr(r))},GP=(e,n,o)=>{const r=t4(e,n);wt(o,(a,u)=>{const m=v=>{const C=qP(e,r,u,v.similar,ZP(v)?v.vars:void 0),k=C.isSome();if(v.state.get()!==k){v.state.set(k);const L=C.getOr(n);ZP(v)?v.callback(k,{node:L,format:u,parents:r}):Ae(v.callbacks,$=>$(k,{node:L,format:u,parents:r}))}};Ae([a.withSimilar,a.withoutSimilar],m),Ae(a.withVars,m)})},c7=(e,n,o,r,a,u)=>{const m=n.get();Ae(o.split(","),v=>{const C=Xo(m,v).getOrThunk(()=>{const L={withSimilar:{state:tr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:tr(!1),similar:!1,callbacks:[]},withVars:[]};return m[v]=L,L}),k=()=>{const L=t4(e);return qP(e,L,v,a,u).isSome()};if(En(u)){const L=a?C.withSimilar:C.withoutSimilar;L.callbacks.push(r),L.callbacks.length===1&&L.state.set(k())}else C.withVars.push({state:tr(k()),similar:a,vars:u,callback:r})}),n.set(m)},l7=(e,n,o)=>{const r=e.get();Ae(n.split(","),a=>Xo(r,a).each(u=>{r[a]={withSimilar:{...u.withSimilar,callbacks:Ut(u.withSimilar.callbacks,m=>m!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:Ut(u.withoutSimilar.callbacks,m=>m!==o)},withVars:Ut(u.withVars,m=>m.callback!==o)}})),e.set(r)},u7=(e,n,o,r,a,u)=>(c7(e,n,o,r,a,u),{unbind:()=>l7(n,o,r)}),d7=(e,n,o,r)=>{const a=e.formatter.get(n);a&&(UO(e,n,o,r)&&(!("toggle"in a[0])||a[0].toggle)?UP(e,n,o,r):T1(e,n,o,r))},KP=O.explode,XP=()=>{const e={};return{addFilter:(a,u)=>{Ae(KP(a),m=>{en(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>ld(e),removeFilter:(a,u)=>{Ae(KP(a),m=>{if(en(e,m))if(Ne(u)){const v=e[m],C=Ut(v.callbacks,k=>k!==u);C.length>0?v.callbacks=C:delete e[m]}else delete e[m]})}}},f7=(e,n)=>{Ae(n,o=>{e.attr(o,null)})},m7=(e,n,o)=>{e.addNodeFilter("font",r=>{Ae(r,a=>{const u=n.parse(a.attr("style")),m=a.attr("color"),v=a.attr("face"),C=a.attr("size");m&&(u.color=m),v&&(u["font-family"]=v),C&&Zc(C).each(k=>{u["font-size"]=o[k-1]}),a.name="span",a.attr("style",n.serialize(u)),f7(a,["color","face","size"])})})},h7=(e,n,o)=>{e.addNodeFilter("strike",r=>{const a=n.type!=="html4";Ae(r,u=>{if(a)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},n4=(e,n,o)=>{var r;const a=sl();n.convert_fonts_to_spans&&m7(e,a,O.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),h7(e,o,a)},YP=(e,n,o)=>{n.inline_styles&&n4(e,n,o)},EG=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),CC=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},IE=e=>{const[n,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(a){const u=a[2]===";base64",m=u?CC(r):decodeURIComponent(r);return W.some({type:a[1],data:m,base64Encoded:u})}else return W.none()},n0=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return W.none()}const a=new Uint8Array(r.length);for(let u=0;u<a.length;u++)a[u]=r.charCodeAt(u);return W.some(new Blob([a],{type:e}))},xC=e=>new Promise((n,o)=>{IE(e).bind(({type:r,data:a,base64Encoded:u})=>n0(r,a,u)).fold(()=>o("Invalid data URI"),n)}),LE=e=>Rs(e,"blob:")?EG(e):Rs(e,"data:")?xC(e):Promise.reject("Unknown URI format"),SC=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let JP=0;const _G=e=>(e||"blobid")+JP++,QP=(e,n,o)=>IE(e).bind(({data:r,type:a,base64Encoded:u})=>{if(n&&!u)return W.none();{const m=u?r:btoa(r);return o(m,a)}}),p7=(e,n,o)=>{const r=e.create(_G(),n,o);return e.add(r),r},eN=(e,n,o=!1)=>QP(n,o,(r,a)=>W.from(e.getByData(r,a)).orThunk(()=>n0(a,r).map(u=>p7(e,u,r)))),g7=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Rs(n,"blob:")){const r=e.getByUri(n);return Ne(r)?Promise.resolve(r):LE(n).then(a=>SC(a).then(u=>QP(u,!1,m=>W.some(p7(e,a,m))).getOrThunk(o)))}else return Rs(n,"data:")?eN(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},TG=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,v7=e=>W.from(e.match(TG)).bind(n=>ma(n,1)).map(n=>Rs(n,"www.")?n.substring(4):n),Ai=(e,n)=>{W.from(e.attr("src")).bind(v7).forall(o=>!gn(n,o))&&e.attr("sandbox","")},o4=(e,n)=>Rs(e,`${n}/`),tN=e=>En(e)?"iframe":o4(e,"image")?"img":o4(e,"video")?"video":o4(e,"audio")?"audio":"iframe",b7=({type:e,src:n,width:o,height:r}={},a,u)=>{const m=tN(e),v=new Aa(m,1);return v.attr(m==="audio"?{src:n}:{src:n,width:o,height:r}),(m==="audio"||m==="video")&&v.attr("controls",""),m==="iframe"&&a&&Ai(v,u),v},$E=e=>Ne(e.attr("data-mce-bogus")),nN=e=>e.attr("src")===Et.transparentSrc||Ne(e.attr("data-mce-placeholder")),Gr=(e,n)=>{const{blob_cache:o}=n;if(o){const r=a=>{const u=a.attr("src");nN(a)||$E(a)||_n(u)||eN(o,u,!0).each(m=>{a.attr("src",m.blobUri())})};e.addAttributeFilter("src",a=>Ae(a,r))}},kG=(e,n)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",C=>{let k=C.length;const L=H=>H.split(" ").filter(ee=>ee.length>0).concat(["noopener"]).sort().join(" "),$=H=>{const K=H?O.trim(H):"";return/\b(noopener)\b/g.test(K)?K:L(K)};if(!n.allow_unsafe_link_target)for(;k--;){const H=C[k];H.name==="a"&&H.attr("target")==="_blank"&&H.attr("rel",$(H.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",C=>{let k=C.length,L,$,H,K;for(;k--;)if(K=C[k],K.name==="a"&&K.firstChild&&!K.attr("href"))for(H=K.parent,L=K.lastChild;L&&H;)$=L.prev,H.insert(L,K),L=$}),n.fix_list_elements&&e.addNodeFilter("ul,ol",C=>{let k=C.length,L,$;for(;k--;)if(L=C[k],$=L.parent,$&&($.name==="ul"||$.name==="ol"))if(L.prev&&L.prev.name==="li")L.prev.append(L);else{const H=new Aa("li",1);H.attr("style","list-style-type: none"),L.wrap(H)}});const u=a.getValidClasses();n.validate&&u&&e.addAttributeFilter("class",C=>{var k;let L=C.length;for(;L--;){const $=C[L],H=(k=$.attr("class"))!==null&&k!==void 0?k:"",K=O.explode(H," ");let ee="";for(let Y=0;Y<K.length;Y++){const ne=K[Y];let fe=!1,he=u["*"];he&&he[ne]&&(fe=!0),he=u[$.name],!fe&&he&&he[ne]&&(fe=!0),fe&&(ee&&(ee+=" "),ee+=ne)}ee.length||(ee=null),$.attr("class",ee)}}),Gr(e,n);const m=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,v=rf((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",C=>Ae(C,k=>{k.replace(b7({type:k.attr("type"),src:k.name==="object"?k.attr("data"):k.attr("src"),width:k.attr("width"),height:k.attr("height")},m,v))})),m&&e.addNodeFilter("iframe",C=>Ae(C,k=>Ai(k,v)))},{entries:y7,setPrototypeOf:w7,isFrozen:AG,getPrototypeOf:ju,getOwnPropertyDescriptor:FE}=Object;let{freeze:vi,seal:Da,create:C7}=Object,{apply:s4,construct:Pp}=typeof Reflect<"u"&&Reflect;s4||(s4=function(n,o,r){return n.apply(o,r)}),vi||(vi=function(n){return n}),Da||(Da=function(n){return n}),Pp||(Pp=function(n,o){return new n(...o)});const o0=qu(Array.prototype.forEach),s0=qu(Array.prototype.pop),k1=qu(Array.prototype.push),r0=qu(String.prototype.toLowerCase),HE=qu(String.prototype.toString),oN=qu(String.prototype.match),jd=qu(String.prototype.replace),x7=qu(String.prototype.indexOf),sN=qu(String.prototype.trim),Jl=qu(RegExp.prototype.test),EC=S7(TypeError);function qu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return s4(e,n,r)}}function S7(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Pp(e,o)}}function Po(e,n,o){var r;o=(r=o)!==null&&r!==void 0?r:r0,w7&&w7(e,null);let a=n.length;for(;a--;){let u=n[a];if(typeof u=="string"){const m=o(u);m!==u&&(AG(n)||(n[a]=m),u=m)}e[u]=!0}return e}function A1(e){const n=C7(null);for(const[o,r]of y7(e))n[o]=r;return n}function zE(e,n){for(;e!==null;){const r=FE(e,n);if(r){if(r.get)return qu(r.get);if(typeof r.value=="function")return qu(r.value)}e=ju(e)}function o(r){return console.warn("fallback value for",r),null}return o}const i0=vi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),VE=vi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),r4=vi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rN=vi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),i4=vi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),iN=vi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aN=vi(["#text"]),cN=vi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),UE=vi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),a4=vi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_C=vi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lN=Da(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uN=Da(/<%[\w\W]*|[\w\W]*%>/gm),dN=Da(/\${[\w\W]*}/gm),E7=Da(/^data-[\-\w.\u00B7-\uFFFF]/),_7=Da(/^aria-[\-\w]+$/),fN=Da(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),c4=Da(/^(?:\w+script|data):/i),TC=Da(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),l4=Da(/^html$/i);var u4=Object.freeze({__proto__:null,MUSTACHE_EXPR:lN,ERB_EXPR:uN,TMPLIT_EXPR:dN,DATA_ATTR:E7,ARIA_ATTR:_7,IS_ALLOWED_URI:fN,IS_SCRIPT_OR_DATA:c4,ATTR_WHITESPACE:TC,DOCTYPE_NAME:l4});const WE=()=>typeof window>"u"?null:window,T7=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function mN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WE();const n=Vn=>mN(Vn);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,r=o.currentScript;let{document:a}=e;const{DocumentFragment:u,HTMLTemplateElement:m,Node:v,Element:C,NodeFilter:k,NamedNodeMap:L=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:$,DOMParser:H,trustedTypes:K}=e,ee=C.prototype,Y=zE(ee,"cloneNode"),ne=zE(ee,"nextSibling"),fe=zE(ee,"childNodes"),he=zE(ee,"parentNode");if(typeof m=="function"){const Vn=a.createElement("template");Vn.content&&Vn.content.ownerDocument&&(a=Vn.content.ownerDocument)}let pe,Ee="";const{implementation:Be,createNodeIterator:it,createDocumentFragment:Ct,getElementsByTagName:Qe}=a,{importNode:Me}=o;let Le={};n.isSupported=typeof y7=="function"&&typeof he=="function"&&Be&&Be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:yt,ERB_EXPR:zt,TMPLIT_EXPR:Rn,DATA_ATTR:Wn,ARIA_ATTR:_o,IS_SCRIPT_OR_DATA:No,ATTR_WHITESPACE:rs}=u4;let{IS_ALLOWED_URI:Oi}=u4,Bo=null;const gt=Po({},[...i0,...VE,...r4,...i4,...aN]);let Ht=null;const Zn=Po({},[...cN,...UE,...a4,..._C]);let bt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qt=null,Fn=null,_t=!0,In=!0,Ln=!1,Sr=!0,To=!1,Er=!1,xl=!1,ef=!1,la=!1,$c=!1,su=!1,Fc=!0,ru=!1;const Wt="user-content-";let Jn=!0,ws=!1,$s={},mr=null;const ai=Po({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let js=null;const ir=Po({},["audio","video","img","source","image","track"]);let ua=null;const iu=Po({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nd="http://www.w3.org/1998/Math/MathML",od="http://www.w3.org/2000/svg",Sl="http://www.w3.org/1999/xhtml";let gh=Sl,ev=!1,tv=null;const R2=Po({},[nd,od,Sl],HE);let tf;const nv=["application/xhtml+xml","text/html"],gR="text/html";let Gi,Zp=null;const DT=a.createElement("form"),RT=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},nf=function(Oe){if(!(Zp&&Zp===Oe)){if((!Oe||typeof Oe!="object")&&(Oe={}),Oe=A1(Oe),tf=nv.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?tf=gR:tf=Oe.PARSER_MEDIA_TYPE,Gi=tf==="application/xhtml+xml"?HE:r0,Bo="ALLOWED_TAGS"in Oe?Po({},Oe.ALLOWED_TAGS,Gi):gt,Ht="ALLOWED_ATTR"in Oe?Po({},Oe.ALLOWED_ATTR,Gi):Zn,tv="ALLOWED_NAMESPACES"in Oe?Po({},Oe.ALLOWED_NAMESPACES,HE):R2,ua="ADD_URI_SAFE_ATTR"in Oe?Po(A1(iu),Oe.ADD_URI_SAFE_ATTR,Gi):iu,js="ADD_DATA_URI_TAGS"in Oe?Po(A1(ir),Oe.ADD_DATA_URI_TAGS,Gi):ir,mr="FORBID_CONTENTS"in Oe?Po({},Oe.FORBID_CONTENTS,Gi):ai,Qt="FORBID_TAGS"in Oe?Po({},Oe.FORBID_TAGS,Gi):{},Fn="FORBID_ATTR"in Oe?Po({},Oe.FORBID_ATTR,Gi):{},$s="USE_PROFILES"in Oe?Oe.USE_PROFILES:!1,_t=Oe.ALLOW_ARIA_ATTR!==!1,In=Oe.ALLOW_DATA_ATTR!==!1,Ln=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,Sr=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,To=Oe.SAFE_FOR_TEMPLATES||!1,Er=Oe.WHOLE_DOCUMENT||!1,la=Oe.RETURN_DOM||!1,$c=Oe.RETURN_DOM_FRAGMENT||!1,su=Oe.RETURN_TRUSTED_TYPE||!1,ef=Oe.FORCE_BODY||!1,Fc=Oe.SANITIZE_DOM!==!1,ru=Oe.SANITIZE_NAMED_PROPS||!1,Jn=Oe.KEEP_CONTENT!==!1,ws=Oe.IN_PLACE||!1,Oi=Oe.ALLOWED_URI_REGEXP||fN,gh=Oe.NAMESPACE||Sl,bt=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&RT(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&RT(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bt.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),To&&(In=!1),$c&&(la=!0),$s&&(Bo=Po({},[...aN]),Ht=[],$s.html===!0&&(Po(Bo,i0),Po(Ht,cN)),$s.svg===!0&&(Po(Bo,VE),Po(Ht,UE),Po(Ht,_C)),$s.svgFilters===!0&&(Po(Bo,r4),Po(Ht,UE),Po(Ht,_C)),$s.mathMl===!0&&(Po(Bo,i4),Po(Ht,a4),Po(Ht,_C))),Oe.ADD_TAGS&&(Bo===gt&&(Bo=A1(Bo)),Po(Bo,Oe.ADD_TAGS,Gi)),Oe.ADD_ATTR&&(Ht===Zn&&(Ht=A1(Ht)),Po(Ht,Oe.ADD_ATTR,Gi)),Oe.ADD_URI_SAFE_ATTR&&Po(ua,Oe.ADD_URI_SAFE_ATTR,Gi),Oe.FORBID_CONTENTS&&(mr===ai&&(mr=A1(mr)),Po(mr,Oe.FORBID_CONTENTS,Gi)),Jn&&(Bo["#text"]=!0),Er&&Po(Bo,["html","head","body"]),Bo.table&&(Po(Bo,["tbody"]),delete Qt.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw EC('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw EC('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pe=Oe.TRUSTED_TYPES_POLICY,Ee=pe.createHTML("")}else pe===void 0&&(pe=T7(K,r)),pe!==null&&typeof Ee=="string"&&(Ee=pe.createHTML(""));vi&&vi(Oe),Zp=Oe}},M2=Po({},["mi","mo","mn","ms","mtext"]),Te=Po({},["foreignobject","desc","title","annotation-xml"]),ke=Po({},["title","style","font","a","script"]),mt=Po({},VE);Po(mt,r4),Po(mt,rN);const ot=Po({},i4);Po(ot,iN);const an=function(Oe){let $t=he(Oe);(!$t||!$t.tagName)&&($t={namespaceURI:gh,tagName:"template"});const bn=r0(Oe.tagName),qs=r0($t.tagName);return tv[Oe.namespaceURI]?Oe.namespaceURI===od?$t.namespaceURI===Sl?bn==="svg":$t.namespaceURI===nd?bn==="svg"&&(qs==="annotation-xml"||M2[qs]):!!mt[bn]:Oe.namespaceURI===nd?$t.namespaceURI===Sl?bn==="math":$t.namespaceURI===od?bn==="math"&&Te[qs]:!!ot[bn]:Oe.namespaceURI===Sl?$t.namespaceURI===od&&!Te[qs]||$t.namespaceURI===nd&&!M2[qs]?!1:!ot[bn]&&(ke[bn]||!mt[bn]):!!(tf==="application/xhtml+xml"&&tv[Oe.namespaceURI]):!1},jn=function(Oe){k1(n.removed,{element:Oe});try{Oe.parentNode.removeChild(Oe)}catch{Oe.remove()}},Cs=function(Oe,$t){try{k1(n.removed,{attribute:$t.getAttributeNode(Oe),from:$t})}catch{k1(n.removed,{attribute:null,from:$t})}if($t.removeAttribute(Oe),Oe==="is"&&!Ht[Oe])if(la||$c)try{jn($t)}catch{}else try{$t.setAttribute(Oe,"")}catch{}},au=function(Oe){let $t,bn;if(ef)Oe="<remove></remove>"+Oe;else{const sd=oN(Oe,/^[\r\n\t ]+/);bn=sd&&sd[0]}tf==="application/xhtml+xml"&&gh===Sl&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const qs=pe?pe.createHTML(Oe):Oe;if(gh===Sl)try{$t=new H().parseFromString(qs,tf)}catch{}if(!$t||!$t.documentElement){$t=Be.createDocument(gh,"template",null);try{$t.documentElement.innerHTML=ev?Ee:qs}catch{}}const da=$t.body||$t.documentElement;return Oe&&bn&&da.insertBefore(a.createTextNode(bn),da.childNodes[0]||null),gh===Sl?Qe.call($t,Er?"html":"body")[0]:Er?$t.documentElement:da},MT=function(Oe){return it.call(Oe.ownerDocument||Oe,Oe,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT,null,!1)},RF=function(Oe){return Oe instanceof $&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof L)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function"||typeof Oe.hasChildNodes!="function")},PT=function(Oe){return typeof v=="object"?Oe instanceof v:Oe&&typeof Oe=="object"&&typeof Oe.nodeType=="number"&&typeof Oe.nodeName=="string"},Kf=function(Oe,$t,bn){Le[Oe]&&o0(Le[Oe],qs=>{qs.call(n,$t,bn,Zp)})},NT=function(Oe){let $t;if(Kf("beforeSanitizeElements",Oe,null),RF(Oe))return jn(Oe),!0;const bn=Gi(Oe.nodeName);if(Kf("uponSanitizeElement",Oe,{tagName:bn,allowedTags:Bo}),Oe.hasChildNodes()&&!PT(Oe.firstElementChild)&&(!PT(Oe.content)||!PT(Oe.content.firstElementChild))&&Jl(/<[/\w]/g,Oe.innerHTML)&&Jl(/<[/\w]/g,Oe.textContent))return jn(Oe),!0;if(!Bo[bn]||Qt[bn]){if(!Qt[bn]&&PF(bn)&&(bt.tagNameCheck instanceof RegExp&&Jl(bt.tagNameCheck,bn)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(bn)))return!1;if(Jn&&!mr[bn]){const qs=he(Oe)||Oe.parentNode,da=fe(Oe)||Oe.childNodes;if(da&&qs){const sd=da.length;for(let ci=sd-1;ci>=0;--ci)qs.insertBefore(Y(da[ci],!0),ne(Oe))}}return jn(Oe),!0}return Oe instanceof C&&!an(Oe)||(bn==="noscript"||bn==="noembed"||bn==="noframes")&&Jl(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(jn(Oe),!0):(To&&Oe.nodeType===3&&($t=Oe.textContent,$t=jd($t,yt," "),$t=jd($t,zt," "),$t=jd($t,Rn," "),Oe.textContent!==$t&&(k1(n.removed,{element:Oe.cloneNode()}),Oe.textContent=$t)),Kf("afterSanitizeElements",Oe,null),!1)},MF=function(Oe,$t,bn){if(Fc&&($t==="id"||$t==="name")&&(bn in a||bn in DT))return!1;if(!(In&&!Fn[$t]&&Jl(Wn,$t))){if(!(_t&&Jl(_o,$t))){if(!Ht[$t]||Fn[$t]){if(!(PF(Oe)&&(bt.tagNameCheck instanceof RegExp&&Jl(bt.tagNameCheck,Oe)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(Oe))&&(bt.attributeNameCheck instanceof RegExp&&Jl(bt.attributeNameCheck,$t)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck($t))||$t==="is"&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&Jl(bt.tagNameCheck,bn)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(bn))))return!1}else if(!ua[$t]){if(!Jl(Oi,jd(bn,rs,""))){if(!(($t==="src"||$t==="xlink:href"||$t==="href")&&Oe!=="script"&&x7(bn,"data:")===0&&js[Oe])){if(!(Ln&&!Jl(No,jd(bn,rs,"")))){if(bn)return!1}}}}}}return!0},PF=function(Oe){return Oe.indexOf("-")>0},vR=function(Oe){let $t,bn,qs,da;Kf("beforeSanitizeAttributes",Oe,null);const{attributes:sd}=Oe;if(!sd)return;const ci={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ht};for(da=sd.length;da--;){$t=sd[da];const{name:rd,namespaceURI:bR}=$t;bn=rd==="value"?$t.value:sN($t.value);const t=bn;if(qs=Gi(rd),ci.attrName=qs,ci.attrValue=bn,ci.keepAttr=!0,ci.forceKeepAttr=void 0,Kf("uponSanitizeAttribute",Oe,ci),bn=ci.attrValue,ci.forceKeepAttr)continue;if(!ci.keepAttr){Cs(rd,Oe);continue}if(!Sr&&Jl(/\/>/i,bn)){Cs(rd,Oe);continue}To&&(bn=jd(bn,yt," "),bn=jd(bn,zt," "),bn=jd(bn,Rn," "));const s=Gi(Oe.nodeName);if(!MF(s,qs,bn)){Cs(rd,Oe);continue}if(ru&&(qs==="id"||qs==="name")&&(Cs(rd,Oe),bn=Wt+bn),pe&&typeof K=="object"&&typeof K.getAttributeType=="function"&&!bR)switch(K.getAttributeType(s,qs)){case"TrustedHTML":{bn=pe.createHTML(bn);break}case"TrustedScriptURL":{bn=pe.createScriptURL(bn);break}}if(bn!==t)try{bR?Oe.setAttributeNS(bR,rd,bn):Oe.setAttribute(rd,bn)}catch{Cs(rd,Oe)}}Kf("afterSanitizeAttributes",Oe,null)},Sq=function Vn(Oe){let $t;const bn=MT(Oe);for(Kf("beforeSanitizeShadowDOM",Oe,null);$t=bn.nextNode();)Kf("uponSanitizeShadowNode",$t,null),!NT($t)&&($t.content instanceof u&&Vn($t.content),vR($t));Kf("afterSanitizeShadowDOM",Oe,null)};return n.sanitize=function(Vn){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$t,bn,qs,da;if(ev=!Vn,ev&&(Vn="<!-->"),typeof Vn!="string"&&!PT(Vn))if(typeof Vn.toString=="function"){if(Vn=Vn.toString(),typeof Vn!="string")throw EC("dirty is not a string, aborting")}else throw EC("toString is not a function");if(!n.isSupported)return Vn;if(xl||nf(Oe),n.removed=[],typeof Vn=="string"&&(ws=!1),ws){if(Vn.nodeName){const rd=Gi(Vn.nodeName);if(!Bo[rd]||Qt[rd])throw EC("root node is forbidden and cannot be sanitized in-place")}}else if(Vn instanceof v)$t=au("<!---->"),bn=$t.ownerDocument.importNode(Vn,!0),bn.nodeType===1&&bn.nodeName==="BODY"||bn.nodeName==="HTML"?$t=bn:$t.appendChild(bn);else{if(!la&&!To&&!Er&&Vn.indexOf("<")===-1)return pe&&su?pe.createHTML(Vn):Vn;if($t=au(Vn),!$t)return la?null:su?Ee:""}$t&&ef&&jn($t.firstChild);const sd=MT(ws?Vn:$t);for(;qs=sd.nextNode();)NT(qs)||(qs.content instanceof u&&Sq(qs.content),vR(qs));if(ws)return Vn;if(la){if($c)for(da=Ct.call($t.ownerDocument);$t.firstChild;)da.appendChild($t.firstChild);else da=$t;return(Ht.shadowroot||Ht.shadowrootmode)&&(da=Me.call(o,da,!0)),da}let ci=Er?$t.outerHTML:$t.innerHTML;return Er&&Bo["!doctype"]&&$t.ownerDocument&&$t.ownerDocument.doctype&&$t.ownerDocument.doctype.name&&Jl(l4,$t.ownerDocument.doctype.name)&&(ci="<!DOCTYPE "+$t.ownerDocument.doctype.name+`>
`+ci),To&&(ci=jd(ci,yt," "),ci=jd(ci,zt," "),ci=jd(ci,Rn," ")),pe&&su?pe.createHTML(ci):ci},n.setConfig=function(Vn){nf(Vn),xl=!0},n.clearConfig=function(){Zp=null,xl=!1},n.isValidAttribute=function(Vn,Oe,$t){Zp||nf({});const bn=Gi(Vn),qs=Gi(Oe);return MF(bn,qs,$t)},n.addHook=function(Vn,Oe){typeof Oe=="function"&&(Le[Vn]=Le[Vn]||[],k1(Le[Vn],Oe))},n.removeHook=function(Vn){if(Le[Vn])return s0(Le[Vn])},n.removeHooks=function(Vn){Le[Vn]&&(Le[Vn]=[])},n.removeAllHooks=function(){Le={}},n}var ch=mN();const ZE=O.each,hN=O.trim,kC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],pN={ftp:21,http:80,https:443,mailto:25},d4=["img","video"],gN=(e,n)=>Ne(e)?!e:Ne(n)?!gn(d4,n):!0,vN=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},bN=(e,n,o)=>{const r=vN(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?gN(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Gu{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const a=ea.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!bN(r,a,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=hN(n),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){a.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const v=r?r.path:new Gu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+a.toAbsPath(v,n);else{const C=/([^#?]*)([#?]?.*)/.exec(n);C&&(n=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(v,C[1])+C[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&ZE(kC,(v,C)=>{let k=m[C];k&&(k=k.replace(/\(mce_at\)/g,"@@")),a[v]=k}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),u&&(a.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Gu(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new Gu(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?pN[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,a="",u,m;const v=n.substring(0,n.lastIndexOf("/")).split("/"),C=o.split("/");if(v.length>=C.length){for(u=0,m=v.length;u<m;u++)if(u>=C.length||v[u]!==C[u]){r=u+1;break}}if(v.length<C.length){for(u=0,m=C.length;u<m;u++)if(u>=v.length||v[u]!==C[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=v.length-(r-1);u<m;u++)a+="../";for(u=r-1,m=C.length;u<m;u++)u!==r-1?a+="/"+C[u]:a+=C[u];return a}toAbsPath(n,o){let r=0;const a=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),v=[];ZE(u,$=>{$&&v.push($)});const C=[];for(let $=m.length-1;$>=0;$--)if(!(m[$].length===0||m[$]===".")){if(m[$]===".."){r++;continue}if(r>0){r--;continue}C.push(m[$])}const k=v.length-r;let L;return k<=0?L=xs(C).join("/"):L=v.slice(0,k).join("/")+"/"+xs(C).join("/"),L.indexOf("/")!==0&&(L="/"+L),a&&L.lastIndexOf("/")!==L.length-1&&(L+=a),L}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const k7=O.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),AC="data-mce-type";let yN=0;const f4=(e,n,o,r,a)=>{var u,m,v,C;const k=n.validate,L=o.getSpecialElements();e.nodeType===fi&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const $=(m=a==null?void 0:a.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Ne(a)&&(a.allowedTags[$]=!0);return}if(e.nodeType!==Fr||$==="body")return;const H=re.fromDom(e),K=md(H,AC),ee=cs(H,"data-mce-bogus");if(!K&&ae(ee)){ee==="all"?vo(H):gu(H);return}const Y=o.getElementRule($);if(k&&!Y){en(L,$)?vo(H):gu(H);return}else Ne(a)&&(a.allowedTags[$]=!0);if(k&&Y&&!K){if(Ae((v=Y.attributesForced)!==null&&v!==void 0?v:[],ne=>{zo(H,ne.name,ne.value==="{$uid}"?`mce_${yN++}`:ne.value)}),Ae((C=Y.attributesDefault)!==null&&C!==void 0?C:[],ne=>{md(H,ne.name)||zo(H,ne.name,ne.value==="{$uid}"?`mce_${yN++}`:ne.value)}),Y.attributesRequired&&!Go(Y.attributesRequired,ne=>md(H,ne))){gu(H);return}if(Y.removeEmptyAttrs&&go(H)){gu(H);return}Y.outputName&&Y.outputName!==$&&ky(H,Y.outputName)}},A7=(e,n,o,r,a)=>{const u=e.tagName.toLowerCase(),{attrName:m,attrValue:v}=a;a.keepAttr=wN(n,o,r,u,m,v),a.keepAttr?(a.allowedAttributes[m]=!0,xN(m,o)&&(a.attrValue=m),n.allow_svg_data_urls&&Rs(v,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):CN(e,m)&&(a.forceKeepAttr=!0)},wN=(e,n,o,r,a,u)=>o!=="html"&&!_s(r)?!0:!(a in k7&&bN(e,u,r))&&(!e.validate||n.isValid(r,a)||Rs(a,"data-")||Rs(a,"aria-")),CN=(e,n)=>e.hasAttribute(AC)&&(n==="id"||n==="class"||n==="style"),xN=(e,n)=>e in n.getBoolAttrs(),O7=(e,n,o,r)=>{const{attributes:a}=e;for(let u=a.length-1;u>=0;u--){const m=a[u],v=m.name,C=m.value;!wN(n,o,r,e.tagName.toLowerCase(),v,C)&&!CN(e,v)?e.removeAttribute(v):xN(v,o)&&e.setAttribute(v,v)}},D7=(e,n,o)=>{const r=ch();return r.addHook("uponSanitizeElement",(a,u)=>{f4(a,e,n,o.track(a),u)}),r.addHook("uponSanitizeAttribute",(a,u)=>{A7(a,e,n,o.current(),u)}),r},R7=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},M7=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};return ch().sanitize(e,o),e.innerHTML},P7=(e,n)=>{const o=Xt();if(e.sanitize){const r=D7(e,n,o);return{sanitizeHtmlElement:(u,m)=>{r.sanitize(u,R7(e,m)),r.removed=[],o.reset()},sanitizeNamespaceElement:M7}}else return{sanitizeHtmlElement:(u,m)=>{const v=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let C;for(;C=v.nextNode();){const k=o.track(C);f4(C,e,n,k),It(C)&&O7(C,e,n,k)}o.reset()},sanitizeNamespaceElement:Zt}},OC=O.makeMap,aa=O.extend,SN=(e,n,o,r)=>{const a=e.name,u=a in o&&a!=="title"&&a!=="textarea",m=n.childNodes;for(let v=0,C=m.length;v<C;v++){const k=m[v],L=new Aa(k.nodeName.toLowerCase(),k.nodeType);if(It(k)){const $=k.attributes;for(let H=0,K=$.length;H<K;H++){const ee=$[H];L.attr(ee.name,ee.value)}_s(L.name)&&(r(k),L.value=k.innerHTML)}else Ke(k)?(L.value=k.data,u&&(L.raw=!0)):(ei(k)||mf(k)||je(k))&&(L.value=k.data);_s(L.name)||SN(L,k,o,r),e.append(L)}},jE=(e,n,o)=>{const r=[];for(let a=e,u=a;a;u=a,a=a.walk()){const m=a;Ae(n,v=>v(m)),_n(m.parent)&&m!==e?a=u:r.push(m)}for(let a=r.length-1;a>=0;a--){const u=r[a];Ae(o,m=>m(u))}},O1=(e,n,o,r)=>{const a=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),v=aa(OC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),C=Dv(n),k=/[ \t\r\n]+/g,L=/^[ \t\r\n]+/,$=/[ \t\r\n]+$/,H=he=>{let pe=he.parent;for(;Ne(pe);){if(pe.name in m)return!0;pe=pe.parent}return!1},K=he=>{let pe=he;for(;Ne(pe);){if(pe.name in C)return Kb(n,u,m,pe);pe=pe.parent}return!1},ee=he=>he.name in v||bf(n,he)||_s(he.name)&&he.parent===e,Y=(he,pe)=>{const Ee=pe?he.prev:he.next;return Ne(Ee)||_n(he.parent)?!1:ee(he.parent)&&(he.parent!==e||r.isRootContent===!0)};return[he=>{var pe;if(he.type===3&&!H(he)){let Ee=(pe=he.value)!==null&&pe!==void 0?pe:"";Ee=Ee.replace(k," "),(iP(he.prev,ee)||Y(he,!0))&&(Ee=Ee.replace(L,"")),Ee.length===0?he.remove():he.value=Ee}},he=>{var pe;if(he.type===1){const Ee=n.getElementRule(he.name);if(a&&Ee){const Be=Kb(n,u,m,he);Ee.paddInEmptyBlock&&Be&&K(he)?bE(o,r,ee,he):Ee.removeEmpty&&Be?ee(he)?he.remove():he.unwrap():Ee.paddEmpty&&(Be||sP(he))&&bE(o,r,ee,he)}}else if(he.type===3&&!H(he)){let Ee=(pe=he.value)!==null&&pe!==void 0?pe:"";(he.next&&ee(he.next)||Y(he,!1))&&(Ee=Ee.replace($,"")),Ee.length===0?he.remove():he.value=Ee}}]},EN=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},ji=(e={},n=Cd())=>{const o=XP(),r=XP(),a={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=P7(a,n),v=(pe,Ee,Be="html")=>{const it=Be==="xhtml"?"application/xhtml+xml":"text/html",Ct=en(n.getSpecialElements(),Ee.toLowerCase()),Qe=Ct?`<${Ee}>${pe}</${Ee}>`:pe,Me=Be==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Qe}</body></html>`:`<body>${Qe}</body>`,Le=u.parseFromString(Me,it).body;return m.sanitizeHtmlElement(Le,it),Ct?Le.firstChild:Le},C=o.addFilter,k=o.getFilters,L=o.removeFilter,$=r.addFilter,H=r.getFilters,K=r.removeFilter,ee=(pe,Ee)=>{wE(n,pe)&&Ee.push(pe)},Y=(pe,Ee)=>{const Be=ae(Ee.attr(AC)),it=Ee.type===1&&!en(pe,Ee.name)&&!bf(n,Ee)&&!_s(Ee.name);return Ee.type===3||it&&!Be},ne=(pe,Ee)=>{const Be=aa(OC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),it=/^[ \t\r\n]+/,Ct=/[ \t\r\n]+$/;let Qe=pe.firstChild,Me=null;const Le=yt=>{var zt,Rn;yt&&(Qe=yt.firstChild,Qe&&Qe.type===3&&(Qe.value=(zt=Qe.value)===null||zt===void 0?void 0:zt.replace(it,"")),Qe=yt.lastChild,Qe&&Qe.type===3&&(Qe.value=(Rn=Qe.value)===null||Rn===void 0?void 0:Rn.replace(Ct,"")))};if(n.isValidChild(pe.name,Ee.toLowerCase())){for(;Qe;){const yt=Qe.next;Y(Be,Qe)?(Me||(Me=new Aa(Ee,1),Me.attr(a.forced_root_block_attrs),pe.insert(Me,Qe)),Me.append(Qe)):(Le(Me),Me=null),Qe=yt}Le(Me)}},he={schema:n,addAttributeFilter:$,getAttributeFilters:H,removeAttributeFilter:K,addNodeFilter:C,getNodeFilters:k,removeNodeFilter:L,parse:(pe,Ee={})=>{var Be;const it=a.validate,Ct=(Be=Ee.context)!==null&&Be!==void 0?Be:a.root_name,Qe=v(pe,Ct,Ee.format);ly(n,Qe);const Me=new Aa(Ct,11);SN(Me,Qe,n.getSpecialElements(),m.sanitizeNamespaceElement),Qe.innerHTML="";const[Le,yt]=O1(Me,n,a,Ee),zt=[],Rn=it?rs=>ee(rs,zt):Zt,Wn={nodes:{},attributes:{}},_o=rs=>lC(k(),H(),rs,Wn);if(jE(Me,[Le,_o],[yt,Rn]),zt.reverse(),it&&zt.length>0)if(Ee.context){const{pass:rs,fail:Oi}=Nr(zt,Bo=>Bo.parent===Me);yE(Oi,n,Me,_o),Ee.invalid=rs.length>0}else yE(zt,n,Me,_o);const No=EN(a,Ee);return No&&(Me.name==="body"||Ee.isRootContent)&&ne(Me,No),Ee.invalid||DO(Wn,Ee),Me}};return kG(he,a),YP(he,a,n),he},D1=e=>kE(e)?tn({validate:!1}).serialize(e):e,m4=(e,n,o)=>{const r=D1(e),a=n(r);if(a.isDefaultPrevented())return a;if(kE(e))if(a.content!==r){const u=ji({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:u}}else return{...a,content:e};else return a},_N=e=>({sanitize:fS(e),sandbox_iframes:uw(e),sandbox_iframes_exclusions:mp(e)}),h4=(e,n)=>{if(n.no_events)return Hi.value(n);{const o=WS(e,n);return o.isDefaultPrevented()?Hi.error(ZS(e,{content:"",...o}).content):Hi.value(o)}},TN=(e,n,o)=>o.no_events?n:m4(n,a=>ZS(e,{...o,content:a}),_N(e)).content,qE=(e,n)=>{if(n.no_events)return Hi.value(n);{const o=m4(n.content,r=>$w(e,{...n,content:r}),_N(e));return o.isDefaultPrevented()?(kb(e,o),Hi.error(void 0)):Hi.value(o)}},R1=(e,n,o)=>{o.no_events||kb(e,{...o,content:n})},DC=(e,n,o)=>({element:e,width:n,rows:o}),kN=(e,n)=>({element:e,cells:n}),AN=(e,n)=>({x:e,y:n}),ON=(e,n)=>vc(e,n).bind(Zc).getOr(1),p4=(e,n,o,r,a)=>{const u=ON(a,"rowspan"),m=ON(a,"colspan"),v=e.rows;for(let C=o;C<o+u;C++){v[C]||(v[C]=kN(Qh(r),[]));for(let k=n;k<n+m;k++){const L=v[C].cells;L[k]=C===o&&k===n?a:Im(a)}}},g4=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},N7=(e,n,o)=>{for(;g4(e,n,o);)n++;return n},DN=e=>wo(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),qd=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let u=0;u<a.length;u++)if(Fe(a[u],n))return W.some(AN(u,r))}return W.none()},GE=(e,n,o,r,a)=>{const u=[],m=e.rows;for(let v=o;v<=a;v++){const C=m[v].cells,k=n<r?C.slice(n,r+1):C.slice(r,n+1);u.push(kN(m[v].element,k))}return u},B7=(e,n,o)=>{const r=n.x,a=n.y,u=o.x,m=o.y,v=a<m?GE(e,r,a,u,m):GE(e,r,m,u,a);return DC(e.element,DN(v),v)},KE=(e,n)=>{const o=Im(e.element),r=re.fromTag("tbody");return Yo(r,n),ur(o,r),o},v4=e=>mn(e.rows,n=>{const o=mn(n.cells,a=>{const u=Qh(a);return pr(u,"colspan"),pr(u,"rowspan"),u}),r=Im(n.element);return Yo(r,o),r}),RN=e=>{const n=DC(Im(e),0,[]);return Ae(pi(e,"tr"),(o,r)=>{Ae(pi(o,"td,th"),(a,u)=>{p4(n,N7(n,u,r),r,o,a)})}),DC(n.element,DN(n.rows),n.rows)},MN=e=>KE(e,v4(e)),PN=(e,n,o)=>qd(e,n).bind(r=>qd(e,o).map(a=>B7(e,r,a))),I7=e=>Ko(e,n=>Un(n)==="ul"||Un(n)==="ol"),L7=(e,n)=>Ko(e,o=>Un(o)==="li"&&Mr(o,n)).fold(lt([]),o=>I7(e).map(r=>{const a=re.fromTag(Un(r)),u=ss(bc(r),(m,v)=>Rs(v,"list-style"));return cg(a,u),[re.fromTag("li"),a]}).getOr([])),$7=(e,n)=>{const o=wo(n,(r,a)=>(ur(a,r),a),e);return n.length>0?Lb([o]):o},F7=e=>Cc(e)?Dn(e).filter($v).fold(lt([]),n=>[e,n]):$v(e)?[e]:[],H7=(e,n,o)=>{const r=re.fromDom(n.commonAncestorContainer),a=Bf(r,e),u=Ut(a,C=>o.isWrapper(Un(C))),m=L7(a,n),v=u.concat(m.length?m:F7(r));return mn(v,Im)},b4=()=>Lb([]),z7=(e,n,o)=>$7(re.fromDom(n.cloneContents()),H7(e,n,o)),V7=(e,n)=>ig(n,"table",qe(Fe,e)),U7=(e,n)=>V7(e,n[0]).bind(o=>{const r=n[0],a=n[n.length-1],u=RN(o);return PN(u,r,a).map(m=>Lb([MN(m)]))}).getOrThunk(b4),NN=(e,n,o)=>n.length>0&&n[0].collapsed?b4():z7(e,n[0],o),y4=(e,n,o)=>{const r=MS(n,e);return r.length>0?U7(e,r):NN(e,n,o)},a0=(e,n)=>n>=0&&n<e.length&&Ld(e.charAt(n)),w4=e=>Ua(e.innerText),C4=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),BN=e=>W.from(e.selection.getRng()).map(n=>{var o;const r=W.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),u=C4(r),m=re.fromDom(n.cloneContents());XA(m),G6(m);const v=e.dom.add(a,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),C=w4(v),k=Ua((o=v.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(v),a0(k,0)||a0(k,k.length-1)){const L=r.getOr(a),$=w4(L),H=$.indexOf(C);if(H===-1)return C;{const K=a0($,H-1),ee=a0($,H+C.length);return(K?" ":"")+C+(ee?" ":"")}}else return C}).getOr(""),IN=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),u=GA(e,Tw(a)),m=n.contextual?y4(re.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},x4=(e,n)=>{if(n.format==="text")return BN(e);{const o=IN(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},LN=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),$N=(e,n,o={})=>{const r=LN(o,n);return h4(e,r).fold(po,a=>{const u=x4(e,a);return TN(e,u,a)})},XE=0,FN=1,YE=2,W7=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),a=new Array(o),u=(L,$,H)=>({start:L,end:$,diag:H}),m=(L,$,H,K,ee)=>{const Y=C(L,$,H,K);if(Y===null||Y.start===$&&Y.diag===$-K||Y.end===L&&Y.diag===L-H){let ne=L,fe=H;for(;ne<$||fe<K;)ne<$&&fe<K&&e[ne]===n[fe]?(ee.push([XE,e[ne]]),++ne,++fe):$-L>K-H?(ee.push([YE,e[ne]]),++ne):(ee.push([FN,n[fe]]),++fe)}else{m(L,Y.start,H,Y.start-Y.diag,ee);for(let ne=Y.start;ne<Y.end;++ne)ee.push([XE,e[ne]]);m(Y.end,$,Y.end-Y.diag,K,ee)}},v=(L,$,H,K)=>{let ee=L;for(;ee-$<K&&ee<H&&e[ee]===n[ee-$];)++ee;return u(L,ee,$)},C=(L,$,H,K)=>{const ee=$-L,Y=K-H;if(ee===0||Y===0)return null;const ne=ee-Y,fe=Y+ee,he=(fe%2===0?fe:fe+1)/2;r[1+he]=L,a[1+he]=$+1;let pe,Ee,Be,it,Ct;for(pe=0;pe<=he;++pe){for(Ee=-pe;Ee<=pe;Ee+=2){for(Be=Ee+he,Ee===-pe||Ee!==pe&&r[Be-1]<r[Be+1]?r[Be]=r[Be+1]:r[Be]=r[Be-1]+1,it=r[Be],Ct=it-L+H-Ee;it<$&&Ct<K&&e[it]===n[Ct];)r[Be]=++it,++Ct;if(ne%2!==0&&ne-pe<=Ee&&Ee<=ne+pe&&a[Be-ne]<=r[Be])return v(a[Be-ne],Ee+L-H,$,K)}for(Ee=ne-pe;Ee<=ne+pe;Ee+=2){for(Be=Ee+he-ne,Ee===ne-pe||Ee!==ne+pe&&a[Be+1]<=a[Be-1]?a[Be]=a[Be+1]-1:a[Be]=a[Be-1],it=a[Be]-1,Ct=it-L+H-Ee;it>=L&&Ct>=H&&e[it]===n[Ct];)a[Be]=it--,Ct--;if(ne%2===0&&-pe<=Ee&&Ee<=pe&&a[Be]<=r[Be+ne])return v(a[Be],Ee+L-H,$,K)}}return null},k=[];return m(0,e.length,0,n.length,k),k},c0=e=>It(e)?e.outerHTML:Ke(e)?ea.encodeRaw(e.data,!1):ei(e)?"<!--"+e.data+"-->":"",Z7=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},j7=(e,n,o)=>{const r=Z7(n);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},q7=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},HN=(e,n)=>{let o=0;Ae(e,r=>{r[0]===XE?o++:r[0]===FN?(j7(n,r[1],o),o++):r[0]===YE&&q7(n,o)})},zN=(e,n)=>Ut(mn(Xi(e.childNodes),n?M(Ua,c0):c0),o=>o.length>0),G7=(e,n)=>{const o=mn(Xi(n.childNodes),c0);return HN(W7(o,e),n),n},K7=Xa(()=>document.implementation.createHTMLDocument("undo")),X7=e=>e.querySelector("iframe")!==null,Y7=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),J7=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),RC=e=>{const n=e.serializer.getTempAttrs(),o=On(e.getBody(),n);return X7(o)?Y7(zN(o,!0)):J7(Ua(o.innerHTML))},VN=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?G7(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ne(r)&&Jg(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},S4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,UN=e=>{const n=re.fromTag("body",K7());return J0(n,S4(e)),Ae(pi(n,"*[data-mce-bogus]"),gu),Y0(n)},Q7=(e,n)=>S4(e)===S4(n),e8=(e,n)=>UN(e)===UN(n),E4=(e,n)=>!e||!n?!1:Q7(e,n)?!0:e8(e,n),_4=e=>e.get()===0,JE=(e,n,o)=>{_4(o)&&(e.typing=n)},T4=(e,n)=>{e.typing&&(JE(e,!1,n),e.add())},t8=e=>{e.typing&&(e.typing=!1,e.add())},n8=(e,n,o)=>{_4(n)&&o.set(Zy(e.selection))},o8=(e,n,o,r,a,u,m)=>{const v=RC(e),C=O.extend(u||{},v);if(!_4(r)||e.removed)return null;const k=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:C,lastLevel:k,originalEvent:m}).isDefaultPrevented()||k&&E4(k,C))return null;n.data[o.get()]&&a.get().each(H=>{n.data[o.get()].beforeBookmark=H});const L=Fk(e);if(L&&n.data.length>L){for(let H=0;H<n.data.length-1;H++)n.data[H]=n.data[H+1];n.data.length--,o.set(n.data.length)}C.bookmark=Zy(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(C),o.set(n.data.length-1);const $={level:C,lastLevel:k,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",$),e.dispatch("change",$)):e.dispatch("AddUndo",$),C},s8=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},r8=(e,n,o,r,a)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];VN(e,m,!0),n.transact(a)&&(n.data[o.get()-1].beforeBookmark=u)}},OG=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],VN(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},DG=(e,n,o,r)=>{let a;return n.typing&&(n.add(),n.typing=!1,JE(n,!1,o)),r.get()>0&&(r.set(r.get()-1),a=n.data[r.get()],VN(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},i8=e=>{e.clear(),e.add()},a8=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!E4(RC(e),n.data[0]),RG=(e,n)=>n.get()<e.data.length-1&&!e.typing,c8=(e,n,o)=>(T4(e,n),e.beforeChange(),e.ignore(o),e.add()),Zs=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},k4=(e,n)=>{const o=e.dom,r=Ne(n)?n:e.getBody();Ae(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const u=Uk(e),m=o.getAttrib(a,"border");(!m||m==="0")&&e.hasVisual?o.addClass(a,u):o.removeClass(a,u);break;case"A":if(!o.getAttrib(a,"href")){const v=o.getAttrib(a,"name")||a.id,C=nS(e);v&&e.hasVisual?o.addClass(a,C):o.removeClass(a,C)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},l8=e=>({init:{bindEvents:Zt},undoManager:{beforeChange:(n,o)=>n8(e,n,o),add:(n,o,r,a,u,m)=>o8(e,n,o,r,a,u,m),undo:(n,o,r)=>DG(e,n,o,r),redo:(n,o)=>OG(e,n,o),clear:(n,o)=>s8(e,n,o),reset:n=>i8(n),hasUndo:(n,o)=>a8(e,n,o),hasRedo:(n,o)=>RG(n,o),transact:(n,o,r)=>c8(n,o,r),ignore:(n,o)=>Zs(n,o),extra:(n,o,r,a)=>r8(e,n,o,r,a)},formatter:{match:(n,o,r,a)=>UO(e,n,o,r,a),matchAll:(n,o)=>x1(e,n,o),matchNode:(n,o,r,a)=>Zd(e,n,o,r,a),canApply:n=>SP(e,n),closest:n=>xP(e,n),apply:(n,o,r)=>T1(e,n,o,r),remove:(n,o,r,a)=>UP(e,n,o,r,a),toggle:(n,o,r)=>d7(e,n,o,r),formatChanged:(n,o,r,a,u)=>u7(e,n,o,r,a,u)},editor:{getContent:n=>CG(e,n),setContent:(n,o)=>zH(e,n,o),insertContent:(n,o)=>$H(e,n,o),addVisual:n=>k4(e,n)},selection:{getContent:(n,o)=>$N(e,n,o)},autocompleter:{addDecoration:Zt,removeDecoration:Zt},raw:{getModel:()=>W.none()}}),u8=e=>{const n=k=>Ft(k)?k:{},{init:o,undoManager:r,formatter:a,editor:u,selection:m,autocompleter:v,raw:C}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(k,L,$)=>r.transact($),ignore:(k,L)=>r.ignore(L),extra:(k,L,$,H)=>r.extra($,H)},formatter:{match:(k,L,$,H)=>a.match(k,n(L),H),matchAll:a.matchAll,matchNode:a.matchNode,canApply:k=>a.canApply(k),closest:k=>a.closest(k),apply:(k,L,$)=>a.apply(k,n(L)),remove:(k,L,$,H)=>a.remove(k,n(L)),toggle:(k,L,$)=>a.toggle(k,n(L)),formatChanged:(k,L,$,H,K)=>a.formatChanged(L,$,H,K)},editor:{getContent:k=>u.getContent(k),setContent:(k,L)=>({content:u.setContent(k,L),html:""}),insertContent:(k,L)=>(u.insertContent(k),""),addVisual:u.addVisual},selection:{getContent:(k,L)=>m.getContent(L)},autocompleter:{addDecoration:v.addDecoration,removeDecoration:v.removeDecoration},raw:{getModel:()=>W.some(C.getRawModel())}}},d8=()=>{const e=lt(null),n=lt("");return{init:{bindEvents:Zt},undoManager:{beforeChange:Zt,add:e,undo:e,redo:e,clear:Zt,reset:Zt,hasUndo:Ze,hasRedo:Ze,transact:e,ignore:Zt,extra:Zt},formatter:{match:Ze,matchAll:lt([]),matchNode:lt(void 0),canApply:Ze,closest:n,apply:Zt,remove:Zt,toggle:Zt,formatChanged:lt({unbind:Zt})},editor:{getContent:n,setContent:lt({content:"",html:""}),insertContent:lt(""),addVisual:Zt},selection:{getContent:n},autocompleter:{addDecoration:Zt,removeDecoration:Zt},raw:{getModel:lt(W.none())}}},Ic=e=>en(e.plugins,"rtc"),MG=e=>Xo(e.plugins,"rtc").bind(n=>W.from(n.setup)),PG=e=>{const n=e;return MG(e).fold(()=>(n.rtcInstance=l8(e),W.none()),o=>(n.rtcInstance=d8(),W.some(()=>o().then(r=>(n.rtcInstance=u8(r),r.rtc.isRemote)))))},bi=e=>e.rtcInstance?e.rtcInstance:l8(e),Kr=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},WN=(e,n,o)=>{Kr(e).undoManager.beforeChange(n,o)},ZN=(e,n,o,r,a,u,m)=>Kr(e).undoManager.add(n,o,r,a,u,m),f8=(e,n,o,r)=>Kr(e).undoManager.undo(n,o,r),m8=(e,n,o)=>Kr(e).undoManager.redo(n,o),QE=(e,n,o)=>{Kr(e).undoManager.clear(n,o)},h8=(e,n)=>{Kr(e).undoManager.reset(n)},A4=(e,n,o)=>Kr(e).undoManager.hasUndo(n,o),p8=(e,n,o)=>Kr(e).undoManager.hasRedo(n,o),jN=(e,n,o,r)=>Kr(e).undoManager.transact(n,o,r),qN=(e,n,o)=>{Kr(e).undoManager.ignore(n,o)},O4=(e,n,o,r,a)=>{Kr(e).undoManager.extra(n,o,r,a)},GN=(e,n,o,r,a)=>Kr(e).formatter.match(n,o,r,a),D4=(e,n,o)=>Kr(e).formatter.matchAll(n,o),g8=(e,n,o,r,a)=>Kr(e).formatter.matchNode(n,o,r,a),v8=(e,n)=>Kr(e).formatter.canApply(n),b8=(e,n)=>Kr(e).formatter.closest(n),Ql=(e,n,o,r)=>{Kr(e).formatter.apply(n,o,r)},y8=(e,n,o,r,a)=>{Kr(e).formatter.remove(n,o,r,a)},w8=(e,n,o,r)=>{Kr(e).formatter.toggle(n,o,r)},C8=(e,n,o,r,a,u)=>Kr(e).formatter.formatChanged(n,o,r,a,u),x8=(e,n)=>bi(e).editor.getContent(n),S8=(e,n,o)=>bi(e).editor.setContent(n,o),KN=(e,n,o)=>bi(e).editor.insertContent(n,o),E8=(e,n,o)=>Kr(e).selection.getContent(n,o),_8=(e,n)=>Kr(e).editor.addVisual(n),XN=e=>Kr(e).init.bindEvents(),e_=(e,n={})=>{const o=n.format?n.format:"html";return E8(e,o,n)},YN=e=>e.dom.length===0?(vo(e),W.none()):W.some(e),T8=(e,n)=>e.filter(o=>Cr.isBookmarkNode(o.dom)).bind(n?Yr:Oo),JN=(e,n,o,r,a)=>{const u=e.dom,m=n.dom,v=r?u.length:m.length;r?(aO(u,m,a,!1,!r),o.setStart(m,v)):(aO(m,u,a,!1,!r),o.setEnd(m,v))},R4=(e,n,o)=>{Dn(e).each(r=>{const a=e.dom;n&&Ub(r,Re(a,0),o)?iO(a,0,o):!n&&Wb(r,Re(a,a.length),o)&&ii(a,a.length,o)})},QN=(e,n,o,r,a)=>{e.bind(u=>((r?ii:iO)(u.dom,r?u.dom.length:0,a),n.filter(Ho).map(v=>JN(u,v,o,r,a)))).orThunk(()=>T8(n,r).or(n).filter(Ho).map(m=>R4(m,r,a)))},k8=(e,n,o)=>{const r=W.from(n.firstChild).map(re.fromDom),a=W.from(n.lastChild).map(re.fromDom);e.deleteContents(),e.insertNode(n);const u=r.bind(Oo).filter(Ho).bind(YN),m=a.bind(Yr).filter(Ho).bind(YN);QN(u,r,e,!0,o),QN(m,a,e,!1,o),e.collapse(!1)},NG=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),A8=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...a,...n});return tn({validate:!1},e.schema).serialize(u)}else return n.content},O8=(e,n,o={})=>{const r=NG(o,n);qE(e,r).each(a=>{const u=A8(e,a),m=e.selection.getRng();k8(m,m.createContextualFragment(u),e.schema),e.selection.setRng(m),Fb(e,m),R1(e,u,a)})},M4=(e,n,o)=>{if(en(e,n)){const r=Ut(e[n],a=>a!==o);r.length===0?delete e[n]:e[n]=r}};var eB=(e,n)=>{let o,r;const a=(v,C)=>Ko(C,k=>e.is(k,v)),u=v=>e.getParents(v,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",v=>{const C=v.element,k=u(C),L={};wt(o,($,H)=>{a(H,k).each(K=>{r[H]||(Ae($,ee=>{ee(!0,{node:K,selector:H,parents:k})}),r[H]=$),L[H]=$})}),wt(r,($,H)=>{L[H]||(delete r[H],Ae($,K=>{K(!1,{node:C,selector:H,parents:k})}))})})};return{selectorChangedWithUnbind:(v,C)=>(o||m(),o[v]||(o[v]=[]),o[v].push(C),a(v,u(n.selection.getStart())).each(()=>{r[v]=o[v]}),{unbind:()=>{M4(o,v,C),M4(r,v,C)}})}};const tB=e=>!!(e&&e.ownerDocument)&&Lt(re.fromDom(e.ownerDocument),re.fromDom(e)),M1=e=>e?tB(e.startContainer)&&tB(e.endContainer):!1,P1=(e,n,o,r)=>{let a,u;const{selectorChangedWithUnbind:m}=eB(e,r),v=(gt,Ht)=>{const Zn=e.createRng();Ne(gt)&&Ne(Ht)?(Zn.setStart(gt,Ht),Zn.setEnd(gt,Ht),Ee(Zn),fe(!1)):(ic(e,Zn,r.getBody(),!0),Ee(Zn))},C=gt=>e_(r,gt),k=(gt,Ht)=>O8(r,gt,Ht),L=gt=>rM(r.getBody(),pe(),gt),$=gt=>iM(r.getBody(),pe(),gt),H=(gt,Ht)=>Oi.getBookmark(gt,Ht),K=gt=>Oi.moveToBookmark(gt),ee=(gt,Ht)=>(V6(e,gt,Ht).each(Ee),gt),Y=()=>{const gt=pe(),Ht=he();return!gt||gt.item?!1:gt.compareEndPoints?gt.compareEndPoints("StartToEnd",gt)===0:!Ht||gt.collapsed},ne=()=>{const gt=pe(),Ht=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Ht.length>0?hr(Ht,Zn=>e.isEditable(Zn.parentElement)):oM(e,gt)},fe=gt=>{const Ht=pe();Ht.collapse(!!gt),Ee(Ht)},he=()=>n.getSelection?n.getSelection():n.document.selection,pe=()=>{let gt;const Ht=(bt,Qt,Fn)=>{try{return Qt.compareBoundaryPoints(bt,Fn)}catch{return-1}},Zn=n.document;if(Ne(r.bookmark)&&!h1(r)){const bt=JS(r);if(bt.isSome())return bt.map(Qt=>GA(r,[Qt])[0]).getOr(Zn.createRange())}try{const bt=he();bt&&!Cv(bt.anchorNode)&&(bt.rangeCount>0?gt=bt.getRangeAt(0):gt=Zn.createRange(),gt=GA(r,[gt])[0])}catch{}if(gt||(gt=Zn.createRange()),Lh(gt.startContainer)&&gt.collapsed){const bt=e.getRoot();gt.setStart(bt,0),gt.setEnd(bt,0)}return a&&u&&(Ht(gt.START_TO_START,gt,a)===0&&Ht(gt.END_TO_END,gt,a)===0?gt=u:(a=null,u=null)),gt},Ee=(gt,Ht)=>{if(!M1(gt))return;const Zn=he();if(gt=r.dispatch("SetSelectionRange",{range:gt,forward:Ht}).range,Zn){u=gt;try{Zn.removeAllRanges(),Zn.addRange(gt)}catch{}Ht===!1&&Zn.extend&&(Zn.collapse(gt.endContainer,gt.endOffset),Zn.extend(gt.startContainer,gt.startOffset)),a=Zn.rangeCount>0?Zn.getRangeAt(0):null}if(!gt.collapsed&&gt.startContainer===gt.endContainer&&(Zn!=null&&Zn.setBaseAndExtent)&&gt.endOffset-gt.startOffset<2&&gt.startContainer.hasChildNodes()){const Qt=gt.startContainer.childNodes[gt.startOffset];Qt&&Qt.nodeName==="IMG"&&(Zn.setBaseAndExtent(gt.startContainer,gt.startOffset,gt.endContainer,gt.endOffset),(Zn.anchorNode!==gt.startContainer||Zn.focusNode!==gt.endContainer)&&Zn.setBaseAndExtent(Qt,0,Qt,1))}r.dispatch("AfterSetSelectionRange",{range:gt,forward:Ht})},Be=gt=>(k(e.getOuterHTML(gt)),gt),it=()=>H6(r.getBody(),pe()),Ct=(gt,Ht)=>z6(e,pe(),gt,Ht),Qe=()=>{const gt=he(),Ht=gt==null?void 0:gt.anchorNode,Zn=gt==null?void 0:gt.focusNode;if(!gt||!Ht||!Zn||Cv(Ht)||Cv(Zn))return!0;const bt=e.createRng(),Qt=e.createRng();try{bt.setStart(Ht,gt.anchorOffset),bt.collapse(!0),Qt.setStart(Zn,gt.focusOffset),Qt.collapse(!0)}catch{return!0}return bt.compareBoundaryPoints(bt.START_TO_START,Qt)<=0},rs={dom:e,win:n,serializer:o,editor:r,expand:(gt={type:"word"})=>Ee(Ot(e).expand(pe(),gt)),collapse:fe,setCursorLocation:v,getContent:C,setContent:k,getBookmark:H,moveToBookmark:K,select:ee,isCollapsed:Y,isEditable:ne,isForward:Qe,setNode:Be,getNode:it,getSel:he,setRng:Ee,getRng:pe,getStart:L,getEnd:$,getSelectedBlocks:Ct,normalize:()=>{const gt=pe(),Ht=he();if(!fA(Ht)&&e1(r)){const Zn=vt(e,gt);return Zn.each(bt=>{Ee(bt,Qe())}),Zn.getOr(gt)}return gt},selectorChanged:(gt,Ht)=>(m(gt,Ht),rs),selectorChangedWithUnbind:m,getScrollContainer:()=>{let gt,Ht=e.getRoot();for(;Ht&&Ht.nodeName!=="BODY";){if(Ht.scrollHeight>Ht.clientHeight){gt=Ht;break}Ht=Ht.parentNode}return gt},scrollIntoView:(gt,Ht)=>{Ne(gt)?kp(r,gt,Ht):Fb(r,pe(),Ht)},placeCaretAt:(gt,Ht)=>Ee(f(gt,Ht,r.getDoc())),getBoundingClientRect:()=>{const gt=pe();return gt.collapsed?Re.fromRangeStart(gt).getClientRects()[0]:gt.getBoundingClientRect()},destroy:()=>{n=a=u=null,Bo.destroy()}},Oi=Cr(rs),Bo=Db(rs,r);return rs.bookmarkManager=Oi,rs.controlSelection=Bo,rs},MC=(e,n,o)=>{n.addNodeFilter("br",(r,a,u)=>{const m=O.extend({},o.getBlockElements()),v=o.getNonEmptyElements(),C=o.getWhitespaceElements();m.body=1;const k=L=>L.name in m||bf(o,L);for(let L=0,$=r.length;L<$;L++){let H=r[L],K=H.parent;if(K&&k(K)&&H===K.lastChild){let ee=H.prev;for(;ee;){const Y=ee.name;if(Y!=="span"||ee.attr("data-mce-type")!=="bookmark"){Y==="br"&&(H=null);break}ee=ee.prev}if(H&&(H.remove(),Kb(o,v,C,K))){const Y=o.getElementRule(K.name);Y&&(Y.removeEmpty?K.remove():Y.paddEmpty&&bE(e,u,k,K))}}else{let ee=H;for(;K&&K.firstChild===ee&&K.lastChild===ee&&(ee=K,!m[K.name]);)K=K.parent;if(ee===K){const Y=new Aa("#text",3);Y.value=Jr,H.replace(Y)}}}})},nB=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const u="data-mce-"+a,m=n.url_converter,v=n.url_converter_scope;let C=r.length;for(;C--;){const k=r[C];let L=k.attr(u);L!==void 0?(k.attr(a,L.length>0?L:null),k.attr(u,null)):(L=k.attr(a),a==="style"?L=o.serializeStyle(o.parseStyle(L),k.name):m&&(L=m.call(v,L,a,k.name)),k.attr(a,L.length>0?L:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const u=r[a];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,a,u)=>{let m=r.length;for(;m--;){const v=r[m];v.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(W.from(v.firstChild).exists(k=>{var L;return!Fv((L=k.value)!==null&&L!==void 0?L:"")})?v.unwrap():v.remove())}}),e.addNodeFilter("noscript",r=>{var a;let u=r.length;for(;u--;){const m=r[u].firstChild;m&&(m.value=ea.decode((a=m.value)!==null&&a!==void 0?a:""))}}),e.addNodeFilter("script,style",(r,a)=>{var u;const m=C=>C.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const C=r[v],k=C.firstChild,L=(u=k==null?void 0:k.value)!==null&&u!==void 0?u:"";if(a==="script"){const $=C.attr("type");$&&C.attr("type",$==="mce-no/type"?null:$.replace(/^mce\-/,"")),n.element_format==="xhtml"&&k&&L.length>0&&(k.value=`// <![CDATA[
`+m(L)+`
// ]]>`)}else n.element_format==="xhtml"&&k&&L.length>0&&(k.value=`<!--
`+m(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const u=r[a],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&a==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Ae(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let u=r.length;for(;u--;)r[u].attr(a,null)}),n.remove_trailing_brs&&MC(n,e,e.schema)},oB=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},D8=(e,n,o)=>{let r;const a=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const v=m.createHTMLDocument("");O.each(u.nodeName==="BODY"?u.childNodes:[u],C=>{v.body.appendChild(v.importNode(C,!0))}),u.nodeName!=="BODY"?u=v.body.firstChild:u=v.body,r=a.doc,a.doc=v}return Vu(e,{...o,node:u}),r&&(a.doc=r),u},sB=(e,n)=>Ne(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,R8=(e,n,o)=>sB(e,o)?D8(e,n,o):n,M8=(e,n,o)=>{O.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let u=r.length;for(;u--;)r[u].attr(a,null)}),n.push(o))},P8=(e,n,o)=>!n.no_events&&e?VR(e,{...n,content:o}).content:o,N8=(e,n,o)=>{const r=Ua(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||xg(re.fromDom(n))?r:O.trim(r)},rB=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(n,r);return oB(a),a},B8=(e,n,o)=>tn(e,n).serialize(o),I8=(e,n,o,r,a)=>{const u=B8(n,o,r);return P8(e,a,u)},PC=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=n&&n.dom?n.dom:Zo.DOM,u=n&&n.schema?n.schema:Cd(r),m=ji(r,u);nB(m,r,a);const v=(C,k={})=>{const L={format:"html",...k},$=R8(n,C,L),H=N8(a,$,L),K=rB(m,H,L);return L.format==="tree"?K:I8(n,r,u,K,L)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:v,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:qe(M8,m,o),getTempAttrs:lt(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},P4=(e,n)=>{const o=PC(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},iB="html",L8=(e,n)=>({...e,format:n,get:!0,getInner:!0}),$8=(e,n={})=>{const o=n.format?n.format:iB,r=L8(n,o);return h4(e,r).fold(po,a=>{const u=x8(e,a);return TN(e,u,a)})},F8="html",aB=(e,n)=>({format:F8,...e,set:!0,content:n}),N4=(e,n,o={})=>{const r=aB(o,n);return qE(e,r).map(a=>{const u=S8(e,a.content,a);return R1(e,u.html,a),u.content}).getOr(n)},H8="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),z8=[],V8="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),U8=[],Ku=(e,n)=>{const o=Ut(n,r=>en(e,r));return os(o)},B4=e=>{const n=Ku(e,H8),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),os(n)},W8=e=>Ku(e,z8),cB=(e,n)=>{const o=O.makeMap(e.plugins," "),a=Ut(n,u=>en(o,u));return os(a)},Z8=e=>cB(e,V8),j8=e=>cB(e,U8.map(n=>n.name)),Eo=(e,n)=>{const o=B4(e),r=Z8(n),a=r.length>0,u=o.length>0,m=n.theme==="mobile";if(a||u||m){const v=`
- `,C=m?`

Themes:${v}mobile`:"",k=a?`

Plugins:${v}${r.join(v)}`:"",L=u?`

Options:${v}${o.join(v)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+C+k+L)}},BG=e=>Ko(U8,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),q8=(e,n)=>{const o=W8(e),r=j8(n),a=r.length>0,u=o.length>0;if(a||u){const m=`
- `,v=a?`

Plugins:${m}${r.map(BG).join(m)}`:"",C=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+v+C)}},G8=(e,n)=>{Eo(e,n),q8(e,n)},fs=Zo.DOM,K8=e=>{fs.setStyle(e.id,"display",e.orgDisplay)},Np=e=>W.from(e).each(n=>n.destroy()),X8=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},Y8=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),fs.unbind(n,"submit reset",e.formEventDelegate))},J8=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ne(a==null?void 0:a.nextSibling)&&fs.remove(a.nextSibling),EA(e),e.editorManager.remove(e),!e.inline&&r&&K8(e),_A(e),fs.remove(e.getContainer()),Np(n),Np(o),e.destroy()}},lB=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Np(o),Np(r)),Y8(e),X8(e),e.destroyed=!0}},Ra=(()=>{const e={};return{add:(a,u)=>{e[a]=u},get:a=>e[a]?e[a]:{icons:{}},has:a=>en(e,a)}})(),Ff=Fi.ModelManager,lh=(e,n)=>n.dom[e],Gd=(e,n)=>parseInt(pu(n,e),10),NC=qe(lh,"clientWidth"),I4=qe(lh,"clientHeight"),L4=qe(Gd,"margin-top"),uB=qe(Gd,"margin-left"),dB=e=>e.dom.getBoundingClientRect(),Q8=(e,n,o)=>{const r=NC(e),a=I4(e);return n>=0&&o>=0&&n<=r&&o<=a},ez=(e,n,o,r)=>{const a=dB(n),u=e?a.left+n.dom.clientLeft+uB(n):0,m=e?a.top+n.dom.clientTop+L4(n):0,v=o-u,C=r-m;return{x:v,y:C}},fB=(e,n,o)=>{const r=re.fromDom(e.getBody()),a=e.inline?r:dn(r),u=ez(e.inline,a,n,o);return Q8(a,u.x,u.y)},mB=e=>W.from(e).map(re.fromDom),hB=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return mB(n).map(mm).getOr(!1)};var pB=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const t_=e=>{const n=[],o=()=>{const H=e.theme;return H&&H.getNotificationManagerImpl?H.getNotificationManagerImpl():pB()},r=()=>W.from(n[0]),a=(H,K)=>H.type===K.type&&H.text===K.text&&!H.progressBar&&!H.timeout&&!K.progressBar&&!K.timeout,u=()=>{Ae(n,H=>{H.reposition()})},m=H=>{n.push(H)},v=H=>{ln(n,K=>K===H).each(K=>{n.splice(K,1)})},C=(H,K=!0)=>e.removed||!hB(e)?{}:(K&&e.dispatch("BeforeOpenNotification",{notification:H}),Ko(n,ee=>a(o().getArgs(ee),H)).getOrThunk(()=>{e.editorManager.setActive(e);const ee=o().open(H,()=>{v(ee),u(),nM(e)&&r().fold(()=>e.focus(),Y=>Gw(re.fromDom(Y.getEl())))});return m(ee),u(),e.dispatch("OpenNotification",{notification:{...ee}}),ee})),k=()=>{r().each(H=>{o().close(H),v(H),u()})},L=lt(n);return(H=>{H.on("SkinLoaded",()=>{const K=Xx(H);K&&C({text:K,type:"warning",timeout:0},!1),u()}),H.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),H.on("remove",()=>{Ae(n.slice(),K=>{o().close(K)})})})(e),{open:C,close:k,getNotifications:L}},BC=Fi.PluginManager,B1=Fi.ThemeManager;var IG=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const gB=e=>{let n=[];const o=()=>{const Y=e.theme;return Y&&Y.getWindowManagerImpl?Y.getWindowManagerImpl():IG()},r=(Y,ne)=>(...fe)=>ne?ne.apply(Y,fe):void 0,a=Y=>{e.dispatch("OpenWindow",{dialog:Y})},u=Y=>{e.dispatch("CloseWindow",{dialog:Y})},m=Y=>{n.push(Y),a(Y)},v=Y=>{u(Y),n=Ut(n,ne=>ne!==Y),n.length===0&&e.focus()},C=()=>W.from(n[n.length-1]),k=Y=>{e.editorManager.setActive(e),Kw(e),e.ui.show();const ne=Y();return m(ne),ne},L=(Y,ne)=>k(()=>o().open(Y,ne,v)),$=Y=>k(()=>o().openUrl(Y,v)),H=(Y,ne,fe)=>{const he=o();he.alert(Y,r(fe||he,ne))},K=(Y,ne,fe)=>{const he=o();he.confirm(Y,r(fe||he,ne))},ee=()=>{C().each(Y=>{o().close(Y),v(Y)})};return e.on("remove",()=>{Ae(n,Y=>{o().close(Y)})}),{open:L,openUrl:$,alert:H,confirm:K,close:ee}},vB=(e,n)=>{e.notificationManager.open({type:"error",text:n})},eu=(e,n)=>{e._skinLoaded?vB(e,n):e.on("SkinLoaded",()=>{vB(e,n)})},LG=(e,n)=>{eu(e,Dr.translate(["Failed to upload image: {0}",n]))},n_=(e,n,o)=>{zS(e,n,{message:o}),console.error(o)},IC=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,LC=(e,n,o)=>{n_(e,"PluginLoadError",IC("plugin",n,o))},tz=(e,n,o)=>{n_(e,"IconsLoadError",IC("icons",n,o))},bB=(e,n,o)=>{n_(e,"LanguageLoadError",IC("language",n,o))},yB=(e,n,o)=>{n_(e,"ThemeLoadError",IC("theme",n,o))},wB=(e,n,o)=>{n_(e,"ModelLoadError",IC("model",n,o))},nz=(e,n,o)=>{const r=Dr.translate(["Failed to initialize plugin: {0}",n]);zS(e,"PluginLoadError",{message:r}),o_(r,o),eu(e,r)},o_=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Bp=e=>/^[a-z0-9\-]+$/i.test(e),$4=e=>"content/"+e+"/content.css",oz=e=>tinymce.Resource.has($4(e)),sz=e=>CB(e,FR(e)),rz=e=>CB(e,Gx(e)),CB=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return mn(n,u=>oz(u)?u:Bp(u)&&!e.inline?`${o}/${u}/${a}`:e.documentBaseURI.toAbsolute(u))},iz=e=>{e.contentCSS=e.contentCSS.concat(sz(e),rz(e))},az=e=>e?Xi(e.getElementsByTagName("img")):[],cz=(e,n)=>{const o={};return{findAll:(a,u=Tt)=>{const m=Ut(az(a),C=>{const k=C.src;return C.hasAttribute("data-mce-bogus")||C.hasAttribute("data-mce-placeholder")||!k||k===Et.transparentSrc?!1:Rs(k,"blob:")?!e.isUploaded(k)&&u(C):Rs(k,"data:")?u(C):!1}),v=mn(m,C=>{const k=C.src;if(en(o,k))return o[k].then(L=>ae(L)?L:{image:C,blobInfo:L.blobInfo});{const L=g7(n,k).then($=>(delete o[k],{image:C,blobInfo:$})).catch($=>(delete o[k],$));return o[k]=L,L}});return Promise.all(v)}}},xB=()=>{let o={};const r=(H,K)=>({status:H,resultUri:K}),a=H=>H in o;return{hasBlobUri:a,getResultUri:H=>{const K=o[H];return K?K.resultUri:null},isPending:H=>a(H)?o[H].status===1:!1,isUploaded:H=>a(H)?o[H].status===2:!1,markPending:H=>{o[H]=r(1,null)},markUploaded:(H,K)=>{o[H]=r(2,K)},removeFailed:H=>{delete o[H]},destroy:()=>{o={}}}};let s_=0;const lz=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},uz=e=>e+s_+++lz(),$G=()=>{let e=[];const n=$=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[$.toLowerCase()]||"dat",o=($,H,K,ee,Y)=>{if(ae($))return r({id:$,name:ee,filename:Y,blob:H,base64:K});if(Ft($))return r($);throw new Error("Unknown input type")},r=$=>{if(!$.blob||!$.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const H=$.id||uz("blobid"),K=$.name||H,ee=$.blob;return{id:lt(H),name:lt(K),filename:lt($.filename||K+"."+n(ee.type)),blob:lt(ee),base64:lt($.base64),blobUri:lt($.blobUri||URL.createObjectURL(ee)),uri:lt($.uri)}},a=$=>{m($.id())||e.push($)},u=$=>Ko(e,$).getOrUndefined(),m=$=>u(H=>H.id()===$);return{create:o,add:a,get:m,getByUri:$=>u(H=>H.blobUri()===$),getByData:($,H)=>u(K=>K.base64()===$&&K.blob().type===H),findFirst:u,removeByUri:$=>{e=Ut(e,H=>H.blobUri()===$?(URL.revokeObjectURL(H.blobUri()),!1):!0)},destroy:()=>{Ae(e,$=>{URL.revokeObjectURL($.blobUri())}),e=[]}}},$C=(e,n)=>{const o={},r=(Y,ne)=>Y?Y.replace(/\/$/,"")+"/"+ne.replace(/^\//,""):ne,a=(Y,ne)=>new Promise((fe,he)=>{const pe=new XMLHttpRequest;pe.open("POST",n.url),pe.withCredentials=n.credentials,pe.upload.onprogress=Be=>{ne(Be.loaded/Be.total*100)},pe.onerror=()=>{he("Image upload failed due to a XHR Transport error. Code: "+pe.status)},pe.onload=()=>{if(pe.status<200||pe.status>=300){he("HTTP Error: "+pe.status);return}const Be=JSON.parse(pe.responseText);if(!Be||!ae(Be.location)){he("Invalid JSON: "+pe.responseText);return}fe(r(n.basePath,Be.location))};const Ee=new FormData;Ee.append("file",Y.blob(),Y.filename()),pe.send(Ee)}),u=le(n.handler)?n.handler:a,m=()=>new Promise(Y=>{Y([])}),v=(Y,ne)=>({url:ne,blobInfo:Y,status:!0}),C=(Y,ne)=>({url:"",blobInfo:Y,status:!1,error:ne}),k=(Y,ne)=>{O.each(o[Y],fe=>{fe(ne)}),delete o[Y]},L=(Y,ne,fe)=>(e.markPending(Y.blobUri()),new Promise(he=>{let pe,Ee;try{const Be=()=>{pe&&(pe.close(),Ee=Zt)},it=Qe=>{Be(),e.markUploaded(Y.blobUri(),Qe),k(Y.blobUri(),v(Y,Qe)),he(v(Y,Qe))},Ct=Qe=>{Be(),e.removeFailed(Y.blobUri()),k(Y.blobUri(),C(Y,Qe)),he(C(Y,Qe))};Ee=Qe=>{Qe<0||Qe>100||W.from(pe).orThunk(()=>W.from(fe).map(qo)).each(Me=>{pe=Me,Me.progressBar.value(Qe)})},ne(Y,Ee).then(it,Qe=>{Ct(ae(Qe)?{message:Qe}:Qe)})}catch(Be){he(C(Y,Be))}})),$=Y=>Y===a,H=Y=>{const ne=Y.blobUri();return new Promise(fe=>{o[ne]=o[ne]||[],o[ne].push(fe)})},K=(Y,ne)=>(Y=O.grep(Y,fe=>!e.isUploaded(fe.blobUri())),Promise.all(O.map(Y,fe=>e.isPending(fe.blobUri())?H(fe):L(fe,u,ne))));return{upload:(Y,ne)=>!n.url&&$(u)?m():K(Y,ne)}},SB=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),r_=(e,n)=>$C(n,{url:ew(e),basePath:eb(e),credentials:Wx(e),handler:Zx(e)}),dz=e=>{const n=xB(),o=r_(e,n);return{upload:(r,a=!0)=>o.upload(r,a?SB(e):void 0)}},fz=(e,n)=>e.dom.isEmpty(n.dom)&&Ne(e.schema.getTextBlockElements()[Un(n)]),mz=e=>n=>{fz(e,n)&&ur(n,re.fromHtml('<br data-mce-bogus="1" />'))},hz=e=>{const n=$G();let o,r;const a=xB(),u=[],m=pe=>Ee=>e.selection?pe(Ee):[],v=pe=>pe+(pe.indexOf("?")===-1?"?":"&")+new Date().getTime(),C=(pe,Ee,Be)=>{let it=0;do it=pe.indexOf(Ee,it),it!==-1&&(pe=pe.substring(0,it)+Be+pe.substr(it+Ee.length),it+=Be.length-Ee.length+1);while(it!==-1);return pe},k=(pe,Ee,Be)=>{const it=`src="${Be}"${Be===Et.transparentSrc?' data-mce-placeholder="1"':""}`;return pe=C(pe,`src="${Ee}"`,it),pe=C(pe,'data-mce-src="'+Ee+'"','data-mce-src="'+Be+'"'),pe},L=(pe,Ee)=>{Ae(e.undoManager.data,Be=>{Be.type==="fragmented"?Be.fragments=mn(Be.fragments,it=>k(it,pe,Ee)):Be.content=k(Be.content,pe,Ee)})},$=(pe,Ee)=>{const Be=e.convertURL(Ee,"src");L(pe.src,Ee),wi(re.fromDom(pe),{src:Qy(e)?v(Ee):Ee,"data-mce-src":Be})},H=()=>(o||(o=r_(e,a)),ne().then(m(pe=>{const Ee=mn(pe,Be=>Be.blobInfo);return o.upload(Ee,SB(e)).then(m(Be=>{const it=[];let Ct=!1;const Qe=mn(Be,(Me,Le)=>{const{blobInfo:yt,image:zt}=pe[Le];let Rn=!1;return Me.status&&gi(e)?(Me.url&&!$r(zt.src,Me.url)&&(Ct=!0),n.removeByUri(zt.src),Ic(e)||$(zt,Me.url)):Me.error&&(Me.error.remove&&(L(zt.src,Et.transparentSrc),it.push(zt),Rn=!0),LG(e,Me.error.message)),{element:zt,status:Me.status,uploadUri:Me.url,blobInfo:yt,removed:Rn}});return it.length>0&&!Ic(e)?e.undoManager.transact(()=>{Ae(vv(it),Me=>{const Le=Dn(Me);vo(Me),Le.each(mz(e)),n.removeByUri(Me.dom.src)})}):Ct&&e.undoManager.dispatchChange(),Qe}))}))),K=()=>ts(e)?H():Promise.resolve([]),ee=pe=>hr(u,Ee=>Ee(pe)),Y=pe=>{u.push(pe)},ne=()=>(r||(r=cz(a,n)),r.findAll(e.getBody(),ee).then(m(pe=>{const Ee=Ut(pe,Be=>ae(Be)?(eu(e,Be),!1):Be.uriType!=="blob");return Ic(e)||Ae(Ee,Be=>{L(Be.image.src,Be.blobInfo.blobUri()),Be.image.src=Be.blobInfo.blobUri(),Be.image.removeAttribute("data-mce-src")}),Ee}))),fe=()=>{n.destroy(),a.destroy(),r=o=null},he=pe=>pe.replace(/src="(blob:[^"]+)"/g,(Ee,Be)=>{const it=a.getResultUri(Be);if(it)return'src="'+it+'"';let Ct=n.getByUri(Be);return Ct||(Ct=wo(e.editorManager.get(),(Qe,Me)=>Qe||Me.editorUpload&&Me.editorUpload.blobCache.getByUri(Be),void 0)),Ct?'src="data:'+Ct.blob().type+";base64,"+Ct.base64()+'"':Ee});return e.on("SetContent",()=>{ts(e)?K():ne()}),e.on("RawSaveContent",pe=>{pe.content=he(pe.content)}),e.on("GetContent",pe=>{pe.source_view||pe.format==="raw"||pe.format==="tree"||(pe.content=he(pe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",pe=>{Ae(pe,Ee=>{const Be=Ee.attr("src");if(!Be||n.getByUri(Be))return;const it=a.getResultUri(Be);it&&Ee.attr("src",it)})})}),{blobCache:n,addFilter:Y,uploadImages:H,uploadImagesAuto:K,scanForImages:ne,destroy:fe}},I1=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,a,u]:[a,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,u,m)=>It(a)&&a.hasAttribute("href"),onformat:(a,u,m)=>{O.each(m,(v,C)=>{n.setAttrib(a,C,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var u;return(u=a==null?void 0:a.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return O.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},Ip={remove_similar:!0,inherit:!1},uh={selector:"td,th",...Ip},i_={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...uh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...uh},tablecellbordercolor:{styles:{borderColor:"%value"},...uh},tablecellclass:{classes:["%value"],...uh},tableclass:{selector:"table",classes:["%value"],...Ip},tablecellborderstyle:{styles:{borderStyle:"%value"},...uh},tablecellborderwidth:{styles:{borderWidth:"%value"},...uh}},L1=lt(i_),$1=e=>{const n={},o=m=>Ne(m)?n[m]:n,r=m=>en(n,m),a=(m,v)=>{m&&(ae(m)?(hn(v)||(v=[v]),Ae(v,C=>{En(C.deep)&&(C.deep=!_i(C)),En(C.split)&&(C.split=!_i(C)||Ao(C)),En(C.remove)&&_i(C)&&!Ao(C)&&(C.remove="none"),_i(C)&&Ao(C)&&(C.mixed=!0,C.block_expand=!0),ae(C.classes)&&(C.classes=C.classes.split(/\s+/))}),n[m]=v):wt(m,(C,k)=>{a(k,C)}))},u=m=>(m&&n[m]&&delete n[m],n);return a(I1(e)),a(L1()),a(tb(e)),{get:o,has:r,register:a,unregister:u}},F1=O.each,ac=Zo.DOM,a_=e=>Ne(e)&&Ft(e),c_=(e,n)=>{const o=n&&n.schema||Cd({}),r=(C,k)=>{k.classes.length>0&&ac.addClass(C,k.classes.join(" ")),ac.setAttribs(C,k.attrs)},a=C=>{const k=ae(C)?{name:C,classes:[],attrs:{}}:C,L=ac.create(k.name);return r(L,k),L},u=(C,k)=>{const L=o.getElementRule(C.nodeName.toLowerCase()),$=L==null?void 0:L.parentsRequired;return $&&$.length?k&&gn($,k)?k:$[0]:!1},m=(C,k,L)=>{let $;const H=k[0],K=a_(H)?H.name:void 0,ee=u(C,K);if(ee)K===ee?($=H,k=k.slice(1)):$=ee;else if(H)$=H,k=k.slice(1);else if(!L)return C;const Y=$?a($):ac.create("div");Y.appendChild(C),L&&O.each(L,fe=>{const he=a(fe);Y.insertBefore(he,C)});const ne=a_($)?$.siblings:void 0;return m(Y,k,ne)},v=ac.create("div");if(e.length>0){const C=e[0],k=a(C),L=a_(C)?C.siblings:void 0;v.appendChild(m(k,e.slice(1),L))}return v},F4=e=>{e=O.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,u,m,v)=>{switch(a){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":O.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const C=v.match(/([\w\-]+)(?:\=\"([^\"]+))?/);C&&(o.attrs[C[1]]=C[2])}return""})),o.name=n||"div",o},EB=e=>ae(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),O.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=O.map(n.split(/(?:~\+|~|\+)/),F4),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],_B=(e,n)=>{let o="",r=Lg(e);if(r==="")return"";const a=H=>ae(H)?H.replace(/%(\w+)/g,""):"",u=(H,K)=>ac.getStyle(K??e.getBody(),H,!0);if(ae(n)){const H=e.formatter.get(n);if(!H)return"";n=H[0]}if("preview"in n){const H=n.preview;if(H===!1)return"";r=H||r}let m=n.block||n.inline||"span",v;const C=EB(n.selector);C.length>0?(C[0].name||(C[0].name=m),m=n.selector,v=c_(C,e)):v=c_([m],e);const k=ac.select(m,v)[0]||v.firstChild;F1(n.styles,(H,K)=>{const ee=a(H);ee&&ac.setStyle(k,K,ee)}),F1(n.attributes,(H,K)=>{const ee=a(H);ee&&ac.setAttrib(k,K,ee)}),F1(n.classes,H=>{const K=a(H);ac.hasClass(k,K)||ac.addClass(k,K)}),e.dispatch("PreviewFormats"),ac.setStyles(v,{position:"absolute",left:-65535}),e.getBody().appendChild(v);const L=u("fontSize"),$=/px$/.test(L)?parseInt(L,10):0;return F1(r.split(" "),H=>{let K=u(H,k);if(!(H==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(K)&&(K=u(H),km(K).toLowerCase()==="#ffffff"))&&!(H==="color"&&km(K).toLowerCase()==="#000000")){if(H==="font-size"&&/em|%$/.test(K)){if($===0)return;K=parseFloat(K)/(/%$/.test(K)?100:1)*$+"px"}H==="border"&&K&&(o+="padding:0 2px;"),o+=H+":"+K+";"}}),e.dispatch("AfterPreviewFormats"),ac.remove(v),o},l0=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},H4=e=>{const n=$1(e),o=tr({});return l0(e),ZH(e),Ic(e)||a7(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,a,u)=>{Ql(e,r,a,u)},remove:(r,a,u,m)=>{y8(e,r,a,u,m)},toggle:(r,a,u)=>{w8(e,r,a,u)},match:(r,a,u,m)=>GN(e,r,a,u,m),closest:r=>b8(e,r),matchAll:(r,a)=>D4(e,r,a),matchNode:(r,a,u,m)=>g8(e,r,a,u,m),canApply:r=>v8(e,r),formatChanged:(r,a,u,m)=>C8(e,o,r,a,u,m),getCssText:qe(_B,e)}},z4=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},TB=(e,n,o)=>{const r=tr(!1),a=C=>{JE(n,!1,o),n.add({},C)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",C=>{const k=C.command;z4(k)||(T4(n,o),n.beforeChange())}),e.on("ExecCommand",C=>{const k=C.command;z4(k)||a(C)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",C=>{const k=C.keyCode;if(C.isDefaultPrevented())return;const L=Et.os.isMacOS()&&C.key==="Meta";(k>=33&&k<=36||k>=37&&k<=40||k===45||C.ctrlKey||L)&&(a(),e.nodeChanged()),(k===46||k===8)&&e.nodeChanged(),r.get()&&n.typing&&!E4(RC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",C=>{const k=C.keyCode;if(C.isDefaultPrevented())return;if(k>=33&&k<=36||k>=37&&k<=40||k===45){n.typing&&a(C);return}const L=C.ctrlKey&&!C.altKey||C.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!n.typing&&!L){n.beforeChange(),JE(n,!0,o),n.add({},C),r.set(!0);return}(Et.os.isMacOS()?C.metaKey:C.ctrlKey&&!C.altKey)&&n.beforeChange()}),e.on("mousedown",C=>{n.typing&&a(C)});const u=C=>C.inputType==="insertReplacementText",m=C=>C.inputType==="insertText"&&C.data===null,v=C=>C.inputType==="insertFromPaste"||C.inputType==="insertFromDrop";e.on("input",C=>{C.inputType&&(u(C)||m(C)||v(C))&&a(C)}),e.on("AddUndo Undo Redo ClearUndos",C=>{C.isDefaultPrevented()||e.nodeChanged()})},l_=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},V4=e=>{const n=wf(),o=tr(0),r=tr(0),a={data:[],typing:!1,beforeChange:()=>{WN(e,o,n)},add:(u,m)=>ZN(e,a,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=RC(e);u.bookmark=Zy(e.selection),e.dispatch("change",{level:u,lastLevel:ma(a.data,r.get()).getOrUndefined()})},undo:()=>f8(e,a,o,r),redo:()=>m8(e,r,a.data),clear:()=>{QE(e,a,r)},reset:()=>{h8(e,a)},hasUndo:()=>A4(e,a,r),hasRedo:()=>p8(e,a,r),transact:u=>jN(e,a,o,u),ignore:u=>{qN(e,o,u)},extra:(u,m)=>{O4(e,a,r,u,m)}};return Ic(e)||TB(e,a,o),l_(e),a},kB=[9,27,Rt.HOME,Rt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Rt.DOWN,Rt.UP,Rt.LEFT,Rt.RIGHT].concat(Et.browser.isFirefox()?[224]:[]),U4="data-mce-placeholder",W4=e=>e.type==="keydown"||e.type==="keyup",Hf=e=>{const n=e.keyCode;return n===Rt.BACKSPACE||n===Rt.DELETE},Lp=e=>{if(W4(e)){const n=e.keyCode;return!Hf(e)&&(Rt.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||gn(kB,n))}else return!1},Xu=e=>W4(e)&&!(Hf(e)||e.type==="keyup"&&e.keyCode===229),pz=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},gz=e=>{var n;const o=e.dom,r=zi(e),a=(n=ow(e))!==null&&n!==void 0?n:"",u=(m,v)=>{if(Lp(m))return;const C=e.getBody(),k=Xu(m)?!1:pz(o,C,r);(o.getAttrib(C,U4)!==""!==k||v)&&(o.setAttrib(C,U4,k?a:null),AA(e,k),e.on(k?"keydown":"keyup",u),e.off(k?"keyup":"keydown",u))};$o(a)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",v=>Gl.setEditorTimeout(e,()=>u(v)))})},vz=(e,n)=>({block:e,position:n}),bz=(e,n)=>({from:e,to:n}),Z4=(e,n)=>{const o=re.fromDom(e),r=re.fromDom(n.container());return sC(o,r).map(a=>vz(a,n))},yz=e=>!Fe(e.from.block,e.to.block),AB=(e,n)=>Ii(n,a=>Cg(a)||kr(a.dom),a=>Fe(a,e)).filter(lr).getOr(e),wz=(e,n)=>{const o=re.fromDom(e);return Fe(AB(o,n.from.block),AB(o,n.to.block))},Cz=e=>ps(e.from.block.dom)===!1&&ps(e.to.block.dom)===!1,xz=e=>{const n=o=>bx(o)||Hh(o.dom);return n(e.from.block)&&n(e.to.block)},Sz=(e,n,o,r)=>Jo(r.position.getNode())&&!Bs(e,r.block)?Xm(!1,r.block.dom).bind(a=>a.isEqual(r.position)?Ac(o,n,a).bind(u=>Z4(n,u)):W.some(r)).getOr(r):r,Ez=(e,n,o,r)=>{const a=Z4(n,Re.fromRangeStart(r)),u=a.bind(m=>Ac(o,n,m.position).bind(v=>Z4(n,v).map(C=>Sz(e,n,o,C))));return J(a,u,bz).filter(m=>yz(m)&&wz(n,m)&&Cz(m)&&xz(m))},j4=(e,n,o,r)=>r.collapsed?Ez(e,n,o,r):W.none(),q4=(e,n)=>{const o=Es(e);return ln(o,r=>n.isBlock(Un(r))).fold(lt(o),r=>o.slice(0,r))},G4=(e,n)=>{const o=q4(e,n);return Ae(o,vo),o},OB=(e,n,o)=>{const r=Bf(o,n);return Ko(r.reverse(),a=>Bs(e,a)).each(vo)},_z=(e,n)=>Ut(mi(n),o=>!Bs(e,o)).length===0,DB=(e,n,o,r,a)=>{if(Bs(r,o))return Dd(o),Ui(o.dom);_z(r,a)&&Bs(r,n)&&Ci(a,re.fromTag("br"));const u=ka(o.dom,Re.before(a.dom));return Ae(G4(n,r),m=>{Ci(a,m)}),OB(r,e,n),u},RB=(e,n)=>e.isInline(Un(n)),K4=(e,n,o,r)=>{if(Bs(r,o)){if(Bs(r,n)){const m=Ga((v=>{const C=(k,L)=>Hr(k).fold(()=>L,$=>RB(r,$)?C($,L.concat(Im($))):L);return C(v,[])})(o),(v,C)=>(z2(v,C),C),Sg());pm(n),ur(n,m)}return vo(o),Ui(n.dom)}const a=dl(o.dom);return Ae(G4(n,r),u=>{ur(o,u)}),OB(r,e,n),a},MB=(e,n)=>{const o=Bf(n,e);return W.from(o[o.length-1])},PB=(e,n)=>Lt(n,e)?MB(n,e):W.none(),u_=(e,n)=>{Xm(e,n.dom).bind(o=>W.from(o.getNode())).map(re.fromDom).filter(Ad).each(vo)},NB=(e,n,o,r)=>(u_(!0,n),u_(!1,o),PB(n,o).fold(qe(K4,e,n,o,r),qe(DB,e,n,o,r))),BB=(e,n,o,r,a)=>n?NB(e,r,o,a):NB(e,o,r,a),Yu=(e,n)=>{const o=re.fromDom(e.getBody());return j4(e.schema,o.dom,n,e.selection.getRng()).map(a=>()=>{BB(o,n,a.from.block,a.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},Ju=(e,n,o)=>{const r=n.getRng();return J(sC(e,re.fromDom(r.startContainer)),sC(e,re.fromDom(r.endContainer)),(a,u)=>Fe(a,u)?W.none():W.some(()=>{r.deleteContents(),BB(e,!0,a,u,o).each(m=>{n.setRng(m.toRange())})})).getOr(W.none())},FC=(e,n)=>{const o=re.fromDom(n),r=qe(Fe,e);return Ps(o,Cg,r).isSome()},IB=(e,n)=>FC(e,n.startContainer)||FC(e,n.endContainer),d_=(e,n)=>{const o=ka(e.dom,Re.fromRangeStart(n)).isNone(),r=oa(e.dom,Re.fromRangeEnd(n)).isNone();return!IB(e,n)&&o&&r},LB=e=>W.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),$B=e=>{const n=re.fromDom(e.getBody()),o=e.selection.getRng();return d_(n,o)?LB(e):Ju(n,e.selection,e.schema)},f_=(e,n)=>e.selection.isCollapsed()?W.none():$B(e),zf=(e,n,o,r,a)=>W.from(n._selectionOverrides.showCaret(e,o,r,a)),FB=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},u0=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?W.none():W.some(FB(n)),m_=(e,n,o)=>{const r=oi(1,e.getBody(),n),a=Re.fromRangeStart(r),u=a.getNode();if(Ug(u))return zf(1,e,u,!a.isAtEnd(),!1);const m=a.getNode(!0);if(Ug(m))return zf(1,e,m,!1,!1);const v=Op(e.dom.getRoot(),a.getNode());return Ug(v)?zf(1,e,v,!1,o):W.none()},HC=(e,n,o)=>n.collapsed?m_(e,n,o).getOr(n):n,Tz=e=>zd(e)||zb(e),kz=e=>rh(e)||Jw(e),Az=(e,n)=>{Ke(n)&&n.data.length===0&&e.remove(n)},HB=(e,n,o,r,a,u)=>{zf(r,e,u.getNode(!a),a,!0).each(m=>{if(n.collapsed){const v=n.cloneRange();a?v.setEnd(m.startContainer,m.startOffset):v.setStart(m.endContainer,m.endOffset),v.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),Az(e.dom,o)},zB=(e,n)=>{const o=e.selection.getRng();if(!Ke(o.commonAncestorContainer))return W.none();const r=n?si.Forwards:si.Backwards,a=Ul(e.getBody()),u=qe(Gg,n?a.next:a.prev),m=n?Tz:kz,v=zl(r,e.getBody(),o),C=u(v),k=C&&Oa(n,C);if(!k||!Kg(v,k))return W.none();if(m(k))return W.some(()=>HB(e,o,v.getNode(),r,n,k));const L=u(k);return L&&m(L)&&Kg(k,L)?W.some(()=>HB(e,o,v.getNode(),r,n,L)):W.none()},X4=(e,n)=>zB(e,n),Y4=(e,n)=>{const o=e.getBody();return n?Ui(o).filter(zd):dl(o).filter(rh)},zC=e=>{const n=e.selection.getRng();return!n.collapsed&&(Y4(e,!0).exists(o=>o.isEqual(Re.fromRangeStart(n)))||Y4(e,!1).exists(o=>o.isEqual(Re.fromRangeEnd(n))))},Oz=e=>Ne(e)&&(Cg(re.fromDom(e))||Cc(re.fromDom(e))),bl=Bu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Dz=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return It(o)&&o.getAttribute("data-mce-caret")===r},Rz=(e,n,o,r,a)=>{const u=m=>a.isInline(m.nodeName.toLowerCase())&&!Tc(o,r,e);return ub(!n,o).fold(()=>ub(n,r).fold(Ze,u),u)},VB=(e,n,o,r,a)=>{const u=a.getNode(!o);return sC(re.fromDom(n),re.fromDom(r.getNode())).map(m=>Bs(e,m)?bl.remove(m.dom):bl.moveToElement(u)).orThunk(()=>W.some(bl.moveToElement(u)))},UB=(e,n,o,r)=>Ac(n,e,o).bind(a=>Oz(a.getNode())||Rz(e,n,o,a,r)?W.none():n&&ps(a.getNode())||!n&&ps(a.getNode(!0))?VB(r,e,n,o,a):n&&rh(o)||!n&&zd(o)?W.some(bl.moveToPosition(a)):W.none()),Mz=(e,n)=>_n(n)?W.none():e&&ps(n.nextSibling)?W.some(bl.moveToElement(n.nextSibling)):!e&&ps(n.previousSibling)?W.some(bl.moveToElement(n.previousSibling)):W.none(),h_=(e,n,o)=>o.fold(r=>W.some(bl.remove(r)),r=>W.some(bl.moveToElement(r)),r=>Tc(n,r,e)?W.none():W.some(bl.moveToPosition(r))),J4=(e,n,o,r)=>Dz(n,o)?Mz(n,o.getNode(!n)).orThunk(()=>UB(e,n,o,r)):UB(e,n,o,r).bind(a=>h_(e,o,a)),Pz=(e,n,o,r)=>{const a=oi(n?1:-1,e,o),u=Re.fromRangeStart(a),m=re.fromDom(e);return!n&&rh(u)?W.some(bl.remove(u.getNode(!0))):n&&zd(u)?W.some(bl.remove(u.getNode())):!n&&zd(u)&&oO(m,u,r)?oH(m,u,r).map(v=>bl.remove(v.getNode())):n&&rh(u)&&Qw(m,u,r)?sH(m,u,r).map(v=>bl.remove(v.getNode())):J4(e,n,u,r)},Nz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),b1(e,n,re.fromDom(o)),!0),Bz=(e,n)=>o=>{const r=n?Re.before(o):Re.after(o);return e.selection.setRng(r.toRange()),!0},Iz=e=>n=>(e.selection.setRng(n.toRange()),!0),Q4=(e,n)=>W.from(Op(e.getBody(),n)),Lz=(e,n)=>{const o=e.selection.getNode();return Q4(e,o).filter(ps).fold(()=>Pz(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Nz(e,n),Bz(e,n),Iz(e))),()=>W.some(Zt))},$z=e=>{Ae(pi(e,".mce-offscreen-selection"),vo)},e3=(e,n)=>{const o=e.selection.getNode();return ps(o)&&!Jc(o)?Q4(e,o.parentNode).filter(ps).fold(()=>W.some(()=>{$z(re.fromDom(e.getBody())),b1(e,n,re.fromDom(e.selection.getNode())),rC(e)}),()=>W.some(Zt)):zC(e)?W.some(()=>{HM(e,e.selection.getRng(),re.fromDom(e.getBody()))}):W.none()},WB=e=>{const n=e.dom,o=e.selection,r=Op(e.getBody(),o.getNode());if(kr(r)&&n.isBlock(r)&&n.isEmpty(r)){const a=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(a),o.setRng(Re.before(a).toRange())}return!0},t3=(e,n)=>e.selection.isCollapsed()?Lz(e,n):e3(e,n),Fz=(e,n)=>{const o=Re.fromRangeStart(e.selection.getRng());return Ac(n,e.getBody(),o).filter(r=>n?J6(r):Q6(r)).bind(r=>lb(n?0:-1,r)).map(r=>()=>e.selection.select(r))},n3=(e,n)=>e.selection.isCollapsed()?Fz(e,n):W.none(),d0=Ke,ZB=e=>d0(e)&&e.data[0]===Ur,jB=e=>d0(e)&&e.data[e.data.length-1]===Ur,VC=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ur)},p_=e=>{var n;if(d0(e.previousSibling))return jB(e.previousSibling)||e.previousSibling.appendData(Ur),e.previousSibling;if(d0(e))return ZB(e)||e.insertData(0,Ur),e;{const o=VC(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},Hz=e=>{var n,o;if(d0(e.nextSibling))return ZB(e.nextSibling)||e.nextSibling.insertData(0,Ur),e.nextSibling;if(d0(e))return jB(e)||e.appendData(Ur),e;{const r=VC(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},g_=(e,n)=>e?p_(n):Hz(n),v_=qe(g_,!0),zz=qe(g_,!1),qB=(e,n)=>Ke(e.container())?g_(n,e.container()):g_(n,e.getNode()),GB=(e,n)=>{const o=n.get();return o&&e.container()===o&&Rd(o)},o3=(e,n)=>n.fold(o=>{jm(e.get());const r=v_(o);return e.set(r),W.some(Re(r,r.length-1))},o=>Ui(o).map(r=>{if(GB(r,e)){const a=e.get();return Re(a,1)}else{jm(e.get());const a=qB(r,!0);return e.set(a),Re(a,1)}}),o=>dl(o).map(r=>{if(GB(r,e)){const a=e.get();return Re(a,a.length-1)}else{jm(e.get());const a=qB(r,!1);return e.set(a),Re(a,a.length-1)}}),o=>{jm(e.get());const r=zz(o);return e.set(r),W.some(Re(r,1))}),KB=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return W.none()},qa=Bu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),XB=(e,n)=>{const o=Of(n,e);return o||e},Vz=(e,n,o)=>{const r=oC(o),a=XB(n,r.container());return ia(e,a,r).fold(()=>oa(a,r).bind(qe(ia,e,a)).map(u=>qa.before(u)),W.none)},Uz=(e,n)=>$n(e,n)===null,YB=(e,n,o)=>ia(e,n,o).filter(qe(Uz,n)),Wz=(e,n,o)=>{const r=dO(o);return YB(e,n,r).bind(a=>ka(a,r).isNone()?W.some(qa.start(a)):W.none())},FG=(e,n,o)=>{const r=oC(o);return YB(e,n,r).bind(a=>oa(a,r).isNone()?W.some(qa.end(a)):W.none())},Qu=(e,n,o)=>{const r=dO(o),a=XB(n,r.container());return ia(e,a,r).fold(()=>ka(a,r).bind(qe(ia,e,a)).map(u=>qa.after(u)),W.none)},b_=e=>!gl(y_(e)),Kd=(e,n,o)=>KB([Vz,Wz,FG,Qu],[e,n,o]).filter(b_),y_=e=>e.fold(po,po,po,po),JB=e=>e.fold(lt("before"),lt("start"),lt("end"),lt("after")),UC=e=>e.fold(qa.before,qa.before,qa.after,qa.after),s3=e=>e.fold(qa.start,qa.start,qa.end,qa.end),QB=(e,n)=>JB(e)===JB(n)&&y_(e)===y_(n),Zz=(e,n,o,r,a,u)=>J(ia(n,o,r),ia(n,o,a),(m,v)=>m!==v&&CH(o,m,v)?qa.after(e?m:v):u).getOr(u),jz=(e,n)=>e.fold(Tt,o=>!QB(o,n)),qz=(e,n,o,r,a)=>{const u=Oa(e,a);return Ac(e,o,u).map(qe(Oa,e)).fold(()=>r.map(UC),C=>Kd(n,o,C).map(qe(Zz,e,n,o,u,C)).filter(qe(jz,r))).filter(b_)},f0=(e,n)=>e?n.fold(M(W.some,qa.start),W.none,M(W.some,qa.after),W.none):n.fold(W.none,M(W.some,qa.before),W.none,M(W.some,qa.end)),eI=(e,n,o,r)=>{const a=Oa(e,r),u=Kd(n,o,a);return Kd(n,o,a).bind(qe(f0,e)).orThunk(()=>qz(e,n,o,u,r))},tI=e=>le(e.selection.getSel().modify),r3=(e,n,o)=>{const r=e?1:-1;return n.setRng(Re(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},i3=(e,n)=>{const o=n.selection.getRng(),r=e?Re.fromRangeEnd(o):Re.fromRangeStart(o);return tI(n)?e&&Hv(r)?r3(!0,n.selection,r):!e&&zv(r)?r3(!1,n.selection,r):!1:!1};var Vf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Vf||(Vf={}));const w_=(e,n)=>e===si.Backwards?xs(n):n,Gz=(e,n,o)=>e===si.Forwards?n.next(o):n.prev(o),HG=(e,n,o,r)=>Jo(r.getNode(n===si.Forwards))?Vf.Br:Tc(o,r)===!1?Vf.Block:Vf.Wrap,Kz=(e,n,o,r)=>{const a=Ul(o);let u=r;const m=[];for(;u;){const v=Gz(n,a,u);if(!v)break;if(Jo(v.getNode(!1)))return n===si.Forwards?{positions:w_(n,m).concat([v]),breakType:Vf.Br,breakAt:W.some(v)}:{positions:w_(n,m),breakType:Vf.Br,breakAt:W.some(v)};if(!v.isVisible()){u=v;continue}if(e(u,v)){const C=HG(o,n,u,v);return{positions:w_(n,m),breakType:C,breakAt:W.some(v)}}m.push(v),u=v}return{positions:w_(n,m),breakType:Vf.Eol,breakAt:W.none()}},Xz=(e,n,o,r)=>n(o,r).breakAt.map(a=>{const u=n(o,a).positions;return e===si.Backwards?u.concat(a):[a].concat(u)}).getOr([]),yl=(e,n)=>wo(e,(o,r)=>o.fold(()=>W.some(r),a=>J(Gs(a.getClientRects()),Gs(r.getClientRects()),(u,m)=>{const v=Math.abs(n-u.left);return Math.abs(n-m.left)<=v?r:a}).or(o)),W.none()),C_=(e,n)=>Gs(n.getClientRects()).bind(o=>yl(e,o.left)),WC=qe(Kz,Re.isAbove,-1),Xd=qe(Kz,Re.isBelow,1),a3=qe(Xz,-1,WC),nI=qe(Xz,1,Xd),ZC=(e,n)=>WC(e,n).breakAt.isNone(),oI=(e,n)=>Xd(e,n).breakAt.isNone(),Yz=e=>Ui(e).map(n=>[n].concat(Xd(e,n).positions)).getOr([]),Jz=e=>dl(e).map(n=>WC(e,n).positions.concat(n)).getOr([]),Qz=(e,n)=>C_(a3(e,n),n),sI=(e,n)=>C_(nI(e,n),n),eV=ps,Uf=(e,n)=>Math.abs(e.left-n),rI=(e,n)=>Math.abs(e.right-n),tV=e=>Lr(e,"node"),iI=(e,n)=>ga(e,(o,r)=>{const a=Math.min(Uf(o,n),rI(o,n)),u=Math.min(Uf(r,n),rI(r,n));return u===a&&tV(r)&&eV(r.node)||u<a?r:o}),nV=e=>{const n=o=>mn(o,r=>{const a=xf(r);return a.node=e,a});if(It(e))return n(e.getClientRects());if(Ke(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},aI=e=>Ri(e,nV);var H1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(H1||(H1={}));const c3=(e,n,o,r)=>{let a=r;for(;a=jg(a,e,Iy,n);)if(o(a))return},x_=(e,n,o,r,a,u)=>{let m=0;const v=[],C=$=>{let H=aI([$]);e===-1&&(H=H.reverse());for(let K=0;K<H.length;K++){const ee=H[K];if(!o(ee,k)){if(v.length>0&&n(ee,Pa(v))&&m++,ee.line=m,a(ee))return!0;v.push(ee)}}return!1},k=Pa(u.getClientRects());if(!k)return v;const L=u.getNode();return L&&(C(L),c3(e,r,C,L)),v},cI=(e,n)=>n.line>e,lI=(e,n)=>n.line===e,uI=qe(x_,H1.Up,Pu,Tg),oV=qe(x_,H1.Down,Tg,Pu),m0=e=>Pa(e.getClientRects()),S_=(e,n,o,r)=>{const a=Ul(n);let u,m,v,C;const k=[];let L=0;e===1?(u=a.next,m=Tg,v=Pu,C=Re.after(r)):(u=a.prev,m=Pu,v=Tg,C=Re.before(r));const $=m0(C);do{if(!C.isVisible())continue;const H=m0(C);if(v(H,$))continue;k.length>0&&m(H,Pa(k))&&L++;const K=xf(H);if(K.position=C,K.line=L,o(K))return k;k.push(K)}while(C=u(C));return k},l3=e=>n=>cI(e,n),E_=e=>n=>lI(e,n),Wf=(e,n)=>{e.selection.setRng(n),Fb(e,e.selection.getRng())},__=(e,n,o)=>W.some(HC(e,n,o)),jC=(e,n,o,r,a,u)=>{const m=n===si.Forwards,v=Ul(e.getBody()),C=qe(Gg,m?v.next:v.prev),k=m?r:a;if(!o.collapsed){const ee=sp(o);if(u(ee))return zf(n,e,ee,n===si.Backwards,!1);if(zC(e)){const Y=o.cloneRange();return Y.collapse(n===si.Backwards),W.from(Y)}}const L=zl(n,e.getBody(),o);if(k(L))return u0(e,L.getNode(!m));let $=C(L);const H=wx(o);if($)$=Oa(m,$);else return H?W.some(o):W.none();if(k($))return zf(n,e,$.getNode(!m),m,!1);const K=C($);return K&&k(K)&&Kg($,K)?zf(n,e,K.getNode(!m),m,!1):H?__(e,$.toRange(),!1):W.none()},T_=(e,n,o,r,a,u)=>{const m=zl(n,e.getBody(),o),v=Pa(m.getClientRects()),C=n===H1.Down,k=e.getBody();if(!v)return W.none();if(zC(e)){const ne=C?Re.fromRangeEnd(o):Re.fromRangeStart(o);return(C?sI:Qz)(k,ne).orThunk(()=>W.from(ne)).map(he=>he.toRange())}const $=(C?oV:uI)(k,l3(1),m),H=Ut($,E_(1)),K=v.left,ee=iI(H,K);if(ee&&u(ee.node)){const ne=Math.abs(K-ee.left),fe=Math.abs(K-ee.right);return zf(n,e,ee.node,ne<fe,!1)}let Y;if(r(m)?Y=m.getNode():a(m)?Y=m.getNode(!0):Y=sp(o),Y){const ne=S_(n,k,l3(1),Y);let fe=iI(Ut(ne,E_(1)),K);if(fe||(fe=Pa(Ut(ne,E_(0))),fe))return __(e,fe.position.toRange(),!1)}return H.length===0?z1(e,C).filter(C?a:r).map(ne=>HC(e,ne.toRange(),!1)):W.none()},z1=(e,n)=>{const o=e.selection.getRng(),r=n?Re.fromRangeEnd(o):Re.fromRangeStart(o),a=oA(r.container(),e.getBody());if(n){const u=Xd(a,r);return ha(u.positions)}else{const u=WC(a,r);return Gs(u.positions)}},dI=(e,n,o)=>z1(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),qC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},fI=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},mI=(e,n,o)=>o3(n,o).map(r=>(qC(e,r),o)),hI=(e,n,o)=>{const r=Re.fromRangeStart(e);if(e.collapsed)return r;{const a=Re.fromRangeEnd(e);return o?ka(n,a).getOr(a):oa(n,r).getOr(r)}},sV=(e,n,o)=>{const r=e.getBody(),a=hI(e.selection.getRng(),r,o),u=qe(y1,e);return eI(o,u,r,a).bind(v=>mI(e,n,v))},pI=(e,n,o)=>{const r=mn(pi(re.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),a=Ut(r,e),u=Ut(o,e);Ae(om(a,u),qe(fI,!1)),Ae(om(u,a),qe(fI,!0))},zG=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Re.fromRangeStart(e.selection.getRng());Re.isTextPosition(r)&&!Mo(r)&&(qC(e,Zm(o,r)),n.set(null))}},rV=(e,n,o,r)=>{if(n.selection.isCollapsed()){const a=Ut(r,e);Ae(a,u=>{const m=Re.fromRangeStart(n.selection.getRng());Kd(e,n.getBody(),m).bind(v=>mI(n,o,v))})}},gI=(e,n,o)=>Tf(e)?sV(e,n,o).isSome():!1,vI=(e,n,o)=>Tf(n)?i3(e,n):!1,iV=e=>{const n=tr(null),o=qe(y1,e);return e.on("NodeChange",r=>{Tf(e)&&(pI(o,e.dom,r.parents),zG(e,n),rV(o,e,n,r.parents))}),n},aV=qe(vI,!0),cV=qe(vI,!1),k_=(e,n,o)=>{if(Tf(e)){const r=z1(e,n).getOrThunk(()=>{const a=e.selection.getRng();return n?Re.fromRangeEnd(a):Re.fromRangeStart(a)});return Kd(qe(y1,e),e.getBody(),r).exists(a=>{const u=UC(a);return o3(o,u).exists(m=>(qC(e,m),!0))})}else return!1},lV=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},bI=e=>J(Ui(e),dl(e),(n,o)=>{const r=Oa(!0,n),a=Oa(!1,o);return oa(e,r).forall(u=>u.isEqual(a))}).getOr(!0),yI=(e,n)=>o=>o3(n,o).map(r=>()=>qC(e,r)),$p=(e,n,o,r)=>{const a=e.getBody(),u=qe(y1,e);e.undoManager.ignore(()=>{e.selection.setRng(lV(o,r)),mO(e),Kd(u,a,Re.fromRangeStart(e.selection.getRng())).map(s3).bind(yI(e,n)).each(Fs)}),e.nodeChanged()},wI=(e,n)=>{const o=Of(n,e);return o||e},u3=(e,n,o,r)=>{const a=wI(e.getBody(),r.container()),u=qe(y1,e),m=Kd(u,a,r);return m.bind(C=>o?C.fold(lt(W.some(s3(C))),W.none,lt(W.some(UC(C))),W.none):C.fold(W.none,lt(W.some(UC(C))),W.none,lt(W.some(s3(C))))).map(yI(e,n)).getOrThunk(()=>{const C=Km(o,a,r),k=C.bind(L=>Kd(u,a,L));return J(m,k,()=>ia(u,a,r).bind(L=>bI(L)?W.some(()=>{b1(e,o,re.fromDom(L))}):W.none())).getOrThunk(()=>k.bind(()=>C.map(L=>()=>{o?$p(e,n,r,L):$p(e,n,L,r)})))})},A_=(e,n,o)=>{if(e.selection.isCollapsed()&&Tf(e)){const r=Re.fromRangeStart(e.selection.getRng());return u3(e,n,o,r)}return W.none()},d3=e=>Qi(e)>1,dh=(e,n)=>{const o=re.fromDom(e.getBody()),r=re.fromDom(e.selection.getStart()),a=Bf(r,o);return ln(a,n).fold(lt(a),u=>a.slice(0,u))},CI=e=>Qi(e)===1,tu=e=>dh(e,n=>e.schema.isBlock(Un(n))||d3(n)),V1=e=>dh(e,n=>e.schema.isBlock(Un(n))),O_=(e,n)=>{const o=qe(MP,e);return Ri(n,r=>o(r)?[r.dom]:[])},xI=e=>{const n=V1(e);return O_(e,n)},SI=(e,n,o,r)=>{const a=O_(n,r);if(a.length===0)b1(n,e,o);else{const u=vC(o.dom,a);n.selection.setRng(u.toRange())}},uV=(e,n)=>{const o=Ut(tu(e),CI);return ha(o).bind(r=>{const a=Re.fromRangeStart(e.selection.getRng());return pO(n,a,r.dom)&&!Ow(r)?W.some(()=>SI(n,e,r,o)):W.none()})},dV=(e,n)=>{const o=n.parentElement;return Jo(n)&&!D(o)&&e.dom.isEmpty(o)},fV=e=>Ow(re.fromDom(e)),EI=(e,n)=>{const o=e.selection.getStart(),r=dV(e,o)||fV(o)?vC(o,n):ah(e.selection.getRng(),n);e.selection.setRng(r.toRange())},mV=(e,n)=>{const o=om(n,xI(e));o.length>0&&EI(e,o)},f3=e=>Ke(e.startContainer),hV=e=>e.startOffset===0&&f3(e),pV=(e,n)=>{const o=n.startContainer.parentElement;return!D(o)&&MP(e,re.fromDom(o))},h0=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!D(n)&&!D(o)&&n.isEqualNode(o)},m3=e=>{const n=e.endContainer;return e.endOffset===(Ke(n)?n.length:n.childNodes.length)},_I=e=>h0(e)&&m3(e),TI=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),h3=e=>_I(e)||TI(e),gV=e=>{const n=e.selection.getRng();return hV(n)&&pV(e,n)&&h3(n)},vV=e=>{if(gV(e)){const n=xI(e);return W.some(()=>{mO(e),mV(e,n)})}else return W.none()},p3=(e,n)=>e.selection.isCollapsed()?uV(e,n):vV(e),bV=(e,n)=>ny(e,o=>rc(o.dom),o=>n.isBlock(Un(o))),yV=e=>bV(re.fromDom(e.selection.getStart()),e.schema),wV=e=>{const n=e.selection.getRng();return n.collapsed&&(f3(n)||e.dom.isEmpty(n.startContainer))&&!yV(e)},GC=e=>(wV(e)&&EI(e,[]),!0),D_=(e,n,o)=>Ne(o)?W.some(()=>{e._selectionOverrides.hideFakeCaret(),b1(e,n,re.fromDom(o))}):W.none(),CV=(e,n)=>{const o=n?zb:Jw,r=n?si.Forwards:si.Backwards,a=zl(r,e.getBody(),e.selection.getRng());return o(a)?D_(e,n,a.getNode(!n)):W.from(Oa(n,a)).filter(u=>o(u)&&Kg(a,u)).bind(u=>D_(e,n,u.getNode(!n)))},xV=(e,n)=>{const o=e.selection.getNode();return Ar(o)?D_(e,n,o):W.none()},cc=(e,n)=>e.selection.isCollapsed()?CV(e,n):xV(e,n),SV=e=>Ii(e,n=>kr(n.dom)||ps(n.dom)).exists(n=>kr(n.dom)),KC=e=>Zc(e??"").getOr(0),g3=(e,n)=>{const o=e||vx(n)?"margin":"padding",r=pu(n,"direction")==="rtl"?"-right":"-left";return o+r},v3=(e,n,o,r,a,u)=>{const m=g3(o,re.fromDom(u)),v=KC(e.getStyle(u,m));if(n==="outdent"){const C=Math.max(0,v-r);e.setStyle(u,m,C?C+a:"")}else{const C=v+r+a;e.setStyle(u,m,C)}},EV=(e,n)=>hr(n,o=>{const r=g3(cp(e),o),a=$i(o,r).map(KC).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),kI=e=>{const n=OI(e);return!e.mode.isReadOnly()&&(n.length>1||EV(e,n))},AI=e=>$v(e)||Cc(e),_V=e=>Dn(e).exists(AI),OI=e=>Ut(vv(e.selection.getSelectedBlocks()),n=>!AI(n)&&!_V(n)&&SV(n)),b3=(e,n)=>{var o,r;const{dom:a}=e,u=qx(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",v=KC(u),C=cp(e);Ae(OI(e),k=>{v3(a,n,C,v,m,k.dom)})},TV=e=>b3(e,"indent"),DI=e=>b3(e,"outdent"),p0=e=>{if(e.selection.isCollapsed()&&kI(e)){const n=e.dom,o=e.selection.getRng(),r=Re.fromRangeStart(o),a=n.getParent(o.startContainer,n.isBlock);if(a!==null&&nO(re.fromDom(a),r,e.schema))return W.some(()=>DI(e))}return W.none()},Zf=(e,n,o)=>Hc([p0,t3,X4,(r,a)=>A_(r,n,a),Yu,Ap,n3,cc,f_,p3],r=>r(e,o)).filter(r=>e.selection.isEditable()),U1=(e,n)=>{Zf(e,n,!1).fold(()=>{e.selection.isEditable()&&(mO(e),rC(e))},Fs)},R_=(e,n)=>{Zf(e,n,!0).fold(()=>{e.selection.isEditable()&&hO(e)},Fs)},y3=(e,n)=>{e.addCommand("delete",()=>{U1(e,n)}),e.addCommand("forwardDelete",()=>{R_(e,n)})},M_=5,RI=400,MI=e=>e.touches===void 0||e.touches.length!==1?W.none():W.some(e.touches[0]),PI=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>M_||r>M_},NI=e=>{const n=wf(),o=tr(!1),r=_y(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},RI);e.on("touchstart",a=>{MI(a).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:a.target};r.throttle(a),o.set(!1),n.set(m)})},!0),e.on("touchmove",a=>{r.cancel(),MI(a).each(u=>{n.on(m=>{PI(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},w3=(e,n)=>en(e,n.nodeName),kV=(e,n)=>Ke(n)?!0:It(n)?!w3(e.getBlockElements(),n)&&!Oc(n)&&!gf(e,n)&&!$h(n):!1,AV=(e,n,o)=>Go(eO(re.fromDom(o),re.fromDom(n)),r=>w3(e,r.dom)),OV=(e,n)=>{if(Ke(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||w3(e,n.nextSibling)||$h(n.nextSibling)}return!1},BI=e=>e.dom.create(zi(e),Ig(e)),DV=e=>{const n=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),u=o.getStart(),m=e.getBody();let v,C,k=!1;const L=zi(e);if(!u||!It(u))return;const $=m.nodeName.toLowerCase();if(!r.isValidChild($,L.toLowerCase())||AV(a,m,u))return;const H=o.getRng(),{startContainer:K,startOffset:ee,endContainer:Y,endOffset:ne}=H,fe=h1(e);let he=m.firstChild;for(;he;)if(It(he)&&tk(r,he),kV(r,he)){if(OV(a,he)){C=he,he=he.nextSibling,n.remove(C);continue}v||(v=BI(e),m.insertBefore(v,he),k=!0),C=he,he=he.nextSibling,v.appendChild(C)}else v=null,he=he.nextSibling;k&&fe&&(H.setStart(K,ee),H.setEnd(Y,ne),o.setRng(H),e.nodeChanged())},C3=(e,n,o)=>{const r=re.fromDom(BI(e)),a=Sg();ur(r,a),o(n,r);const u=document.createRange();return u.setStartBefore(a.dom),u.setEndBefore(a.dom),u},II=e=>{e.on("NodeChange",qe(DV,e))},RV=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,VG=(e,n,o)=>function(r){const a=arguments,u=a[a.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const v=n.lastIndexOf("<",u);if(v!==-1&&n.substring(v,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},UG=(e,n,o)=>{let r=n.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(n[r],VG(e,a,dS(e)));o.content=a}},MV=e=>{const n="contenteditable",o=" "+O.trim(lw(e))+" ",r=" "+O.trim(dS(e))+" ",a=RV(o),u=RV(r),m=Xk(e);m.length>0&&e.on("BeforeSetContent",v=>{UG(e,m,v)}),e.parser.addAttributeFilter("class",v=>{let C=v.length;for(;C--;){const k=v[C];a(k)?k.attr(n,"true"):u(k)&&k.attr(n,"false")}}),e.serializer.addAttributeFilter(n,v=>{let C=v.length;for(;C--;){const k=v[C];!a(k)&&!u(k)||(m.length>0&&k.attr("data-mce-content")?(k.name="#text",k.type=3,k.raw=!0,k.value=k.attr("data-mce-content")):k.attr(n,null))}})},WG=e=>ag(re.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),PV=(e,n)=>{n.hasAttribute("data-mce-caret")&&(_g(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},NV=(e,n)=>{const o=WG(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),PV(e,o);return}Wr(o)&&(PV(e,o),e.undoManager.add())}},BV=e=>{e.on("keyup compositionstart",qe(NV,e))},IV=ps,LV=(e,n,o)=>jC(n,e,o,zd,rh,IV),Lc=(e,n,o)=>T_(n,e,o,u=>zd(u)||Nn(u),u=>rh(u)||QA(u),IV),LI=e=>{const n=e.dom.create(zi(e));return n.innerHTML='<br data-mce-bogus="1">',n},g0=(e,n,o)=>{const r=Ul(e.getBody()),a=qe(Gg,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!a(Re.fromRangeStart(o))){const v=re.fromDom(LI(e));n===1?vd(re.fromDom(u),v):Ci(re.fromDom(u),v),e.selection.select(v.dom,!0),e.selection.collapse()}}},$V=(e,n)=>{const o=n?si.Forwards:si.Backwards,r=e.selection.getRng();return LV(o,e,r).orThunk(()=>(g0(e,o,r),W.none()))},$I=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Lc(o,e,r).orThunk(()=>(g0(e,o,r),W.none()))},FI=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return gl(o)?!n:n},P_=(e,n)=>$V(e,FI(e.selection,n)).exists(o=>(Wf(e,o),!0)),HI=(e,n)=>$I(e,n).exists(o=>(Wf(e,o),!0)),zI=(e,n)=>dI(e,n,n?rh:zd),XC=(e,n)=>Y4(e,!n).map(o=>{const r=o.toRange(),a=e.selection.getRng();return n?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(Wf(e,o),!0)),FV=e=>gn(["figcaption"],Un(e)),HV=(e,n,o)=>{const r=qe(Fe,n);return Ii(re.fromDom(e.container()),a=>o.isBlock(Un(a)),r).filter(FV)},zV=(e,n,o)=>n?oI(e.dom,o):ZC(e.dom,o),x3=(e,n)=>{const o=re.fromDom(e.getBody()),r=Re.fromRangeStart(e.selection.getRng());return HV(r,o,e.schema).exists(()=>{if(zV(o,n,r)){const u=C3(e,o,n?ur:Ml);return e.selection.setRng(u),!0}else return!1})},VI=(e,n)=>e.selection.isCollapsed()?x3(e,n):!1,VV=(e,n,o)=>{const r=e.selection.getRng(),a=Re.fromRangeStart(r);return e.getBody().firstChild===n&&ZC(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},ZG=(e,n)=>{const o=e.selection.getRng(),r=Re.fromRangeStart(o);return e.getBody().lastChild===n&&oI(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},UV=(e,n)=>n?W.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>ZG(e,o)).getOr(!1):W.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>W.from(e.dom.getParent(o,"details")).map(r=>VV(e,r,o))).getOr(!1),S3=(e,n)=>UV(e,n),WV={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},ZV=e=>mn(e,n=>({...WV,...n})),jV=e=>mn(e,n=>({...WV,...n})),UI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,E3=(e,n)=>Ri(ZV(e),o=>UI(o,n)?[o]:[]),N_=(e,n)=>Ri(jV(e),o=>UI(o,n)?[o]:[]),Cn=(e,...n)=>()=>e.apply(null,n),v0=(e,n)=>Ko(E3(e,n),o=>o.action()),WI=(e,n)=>Hc(N_(e,n),o=>o.action()),ZI=(e,n)=>{const o=n?si.Forwards:si.Backwards,r=e.selection.getRng();return jC(e,o,r,zb,Jw,Ar).exists(a=>(Wf(e,a),!0))},B_=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return T_(e,o,r,zb,Jw,Ar).exists(a=>(Wf(e,a),!0))},jI=(e,n)=>dI(e,n,n?Jw:zb),qI=Bu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),YC={...qI,none:e=>qI.none(e)},ed=(e,n)=>_3(e,n,Tt),_3=(e,n,o)=>Ri(Es(e),r=>ie(r,n)?o(r)?[r]:[]:_3(r,n,o)),GI=(e,n,o=Ze)=>{if(o(n))return W.none();if(gn(e,Un(n)))return W.some(n);const r=a=>ie(a,"table")||o(a);return ig(n,e.join(","),r)},qG=(e,n)=>GI(["td","th"],e,n),GG=e=>ed(e,"th,td"),qV=(e,n)=>lf(e,"table",n),KI=(e,n,o,r,a=Tt)=>{const u=r===1;if(!u&&o<=0)return YC.first(e[0]);if(u&&o>=e.length-1)return YC.last(e[e.length-1]);{const m=o+r,v=e[m];return a(v)?YC.middle(n,v):KI(e,n,m,r,a)}},XI=(e,n)=>qV(e,n).bind(o=>{const r=GG(o);return ln(r,u=>Fe(e,u)).map(u=>({index:u,all:r}))}),I_=(e,n,o)=>XI(e,o).fold(()=>YC.none(e),a=>KI(a.all,e,a.index,1,n)),GV=(e,n,o)=>XI(e,o).fold(()=>YC.none(),a=>KI(a.all,e,a.index,-1,n)),T3=e=>gx(e).filter(n=>n.trim().length!==0||n.indexOf(Jr)>-1).isSome(),YI=e=>ba(e)&&cs(e,"contenteditable")==="false",JI=["img","br"],QI=e=>T3(e)||gn(JI,Un(e))||YI(e),KV=e=>Li(e,QI),XV=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),YV=(e,n)=>Ri(n,o=>{const r=XV(xf(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),JV=(e,n,o)=>wo(e,(r,a)=>r.fold(()=>W.some(a),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),v=Math.sqrt(Math.abs(a.x-n)+Math.abs(a.y-o));return W.some(v<m?a:u)}),W.none()),JC=(e,n,o,r,a)=>{const u=pi(re.fromDom(o),"td,th,caption").map(v=>v.dom),m=Ut(YV(e,u),v=>n(v,a));return JV(m,r,a).map(v=>v.cell)},QV=e=>e.bottom,e9=e=>e.top,t9=(e,n)=>e.y<n,k3=(e,n)=>e.y>n,n9=qe(JC,QV,t9),o9=qe(JC,e9,k3),e5=(e,n)=>Gs(n.getClientRects()).bind(o=>n9(e,o.left,o.top)).bind(o=>C_(Jz(o),n)),s9=(e,n)=>ha(n.getClientRects()).bind(o=>o9(e,o.left,o.top)).bind(o=>C_(Yz(o),n)),r9=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),i9=e=>e.breakType===Vf.Wrap&&e.positions.length===0,a9=e=>e.breakType===Vf.Br&&e.positions.length===1,t5=(e,n,o)=>{const r=e(n,o);return i9(r)||!Jo(o.getNode())&&a9(r)?!r9(e,n,r):r.breakAt.isNone()},c9=qe(t5,WC),A3=qe(t5,Xd),l9=(e,n,o)=>{const r=Re.fromRangeStart(n);return Xm(!e,o).exists(a=>a.isEqual(r))},n5=(e,n,o,r)=>{const a=e.selection.getRng(),u=n?1:-1;return ab()&&l9(n,a,o)?(zf(u,e,o,!n,!1).each(m=>{Wf(e,m)}),!0):!1},u9=(e,n,o)=>e5(n,o).orThunk(()=>Gs(o.getClientRects()).bind(r=>yl(a3(e,Re.before(n)),r.left))).getOr(Re.before(n)),d9=(e,n,o)=>s9(n,o).orThunk(()=>Gs(o.getClientRects()).bind(r=>yl(nI(e,Re.after(n)),r.left))).getOr(Re.after(n)),o5=(e,n)=>{const o=n.getNode(e);return br(o)?W.some(o):W.none()},f9=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?vd:Ci,a=C3(n,re.fromDom(o),r);Wf(n,a)})},s5=(e,n,o)=>{const r=o5(!!n,o),a=n===!1;r.fold(()=>Wf(e,o.toRange()),u=>Xm(a,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>Wf(e,o.toRange()),m=>f9(n,e,u)))},m9=(e,n,o,r)=>{const a=e.selection.getRng(),u=Re.fromRangeStart(a),m=e.getBody();if(!n&&c9(r,u)){const v=u9(m,o,u);return s5(e,n,v),!0}else if(n&&A3(r,u)){const v=d9(m,o,u);return s5(e,n,v),!0}else return!1},Pr=(e,n,o)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>W.from(e.dom.getParent(r,"table")).map(a=>o(e,n,a,r))).getOr(!1),r5=(e,n)=>Pr(e,n,n5),O3=(e,n)=>Pr(e,n,m9),h9=e=>{const n=eh.exact(e,0,e,0);return LA(n)},D3=(e,n,o)=>o.fold(W.none,W.none,(r,a)=>KV(a).map(u=>h9(u)),r=>(e.execCommand("mceTableInsertRowAfter"),L_(e,n,r))),L_=(e,n,o)=>D3(e,n,I_(o,An)),i5=(e,n,o)=>D3(e,n,GV(o,An)),fh=(e,n)=>{const o=["table","li","dl"],r=re.fromDom(e.getBody()),a=v=>{const C=Un(v);return Fe(v,r)||gn(o,C)},u=e.selection.getRng(),m=re.fromDom(n?u.endContainer:u.startContainer);return qG(m,a).map(v=>(qV(v,a).each(L=>{e.model.table.clearSelectedCells(L.dom)}),e.selection.collapse(!n),(n?L_:i5)(e,a,v).each(L=>{e.selection.setRng(L)}),!0)).getOr(!1)},R3=(e,n,o)=>{const r=Et.os.isMacOS()||Et.os.isiOS();v0([{keyCode:Rt.RIGHT,action:Cn(P_,e,!0)},{keyCode:Rt.LEFT,action:Cn(P_,e,!1)},{keyCode:Rt.UP,action:Cn(HI,e,!1)},{keyCode:Rt.DOWN,action:Cn(HI,e,!0)},...r?[{keyCode:Rt.UP,action:Cn(XC,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Rt.DOWN,action:Cn(XC,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Rt.RIGHT,action:Cn(r5,e,!0)},{keyCode:Rt.LEFT,action:Cn(r5,e,!1)},{keyCode:Rt.UP,action:Cn(O3,e,!1)},{keyCode:Rt.DOWN,action:Cn(O3,e,!0)},{keyCode:Rt.UP,action:Cn(O3,e,!1)},{keyCode:Rt.UP,action:Cn(S3,e,!1)},{keyCode:Rt.DOWN,action:Cn(S3,e,!0)},{keyCode:Rt.RIGHT,action:Cn(ZI,e,!0)},{keyCode:Rt.LEFT,action:Cn(ZI,e,!1)},{keyCode:Rt.UP,action:Cn(B_,e,!1)},{keyCode:Rt.DOWN,action:Cn(B_,e,!0)},{keyCode:Rt.RIGHT,action:Cn(gI,e,n,!0)},{keyCode:Rt.LEFT,action:Cn(gI,e,n,!1)},{keyCode:Rt.RIGHT,ctrlKey:!r,altKey:r,action:Cn(aV,e,n)},{keyCode:Rt.LEFT,ctrlKey:!r,altKey:r,action:Cn(cV,e,n)},{keyCode:Rt.UP,action:Cn(VI,e,!1)},{keyCode:Rt.DOWN,action:Cn(VI,e,!0)}],o).each(a=>{o.preventDefault()})},a5=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||R3(e,n,o)})},nu=(e,n)=>({container:e,offset:n}),b0=Zo.DOM,y0=e=>n=>e===n?-1:0,c5=e=>n=>e.isBlock(n)||gn(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",w0=(e,n,o)=>{if(Ke(e)&&n>=0)return W.some(nu(e,n));{const r=Lm(b0);return W.from(r.backwards(e,n,y0(e),o)).map(a=>nu(a.container,a.container.data.length))}},$_=(e,n,o)=>{if(Ke(e)&&n>=e.length)return W.some(nu(e,n));{const r=Lm(b0);return W.from(r.forwards(e,n,y0(e),o)).map(a=>nu(a.container,0))}},W1=(e,n,o)=>{if(!Ke(e))return W.none();const r=e.data;if(n>=0&&n<=r.length)return W.some(nu(e,n));{const a=Lm(b0);return W.from(a.backwards(e,n,y0(e),o)).bind(u=>{const m=u.container.data;return W1(u.container,n+m.length,o)})}},C0=(e,n,o)=>{if(!Ke(e))return W.none();const r=e.data;if(n<=r.length)return W.some(nu(e,n));{const a=Lm(b0);return W.from(a.forwards(e,n,y0(e),o)).bind(u=>C0(u.container,n-r.length,o))}},wl=(e,n,o,r,a)=>{const u=Lm(e,c5(e));return W.from(u.backwards(n,o,r,a))},QC=e=>e.collapsed&&Ke(e.startContainer),l5=e=>Ua(e.toString().replace(/\u00A0/g," ")),M3=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,p9=(e,n)=>e.substring(n.length),u5=(e,n,o,r=!1)=>{let a;const u=o.charAt(0);for(a=n-1;a>=0;a--){const m=e.charAt(a);if(!r&&M3(m))return W.none();if(u===m&&$r(e,o,a,n))break}return W.some(a)},P3=(e,n,o,r=!1)=>{if(!QC(n))return W.none();const a={text:"",offset:0},u=(v,C,k)=>(a.text=k+a.text,a.offset+=C,u5(a.text,a.offset,o,r).getOr(C)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return wl(e,n.startContainer,n.startOffset,u,m).bind(v=>{const C=n.cloneRange();if(C.setStart(v.container,v.offset),C.setEnd(n.endContainer,n.endOffset),C.collapsed)return W.none();const k=l5(C);return k.lastIndexOf(o)!==0?W.none():W.some({text:p9(k,o),range:C,trigger:o})})},g9=e=>e.nodeType===Co,e2=e=>e.nodeType===Fr,d5=e=>{if(g9(e))return nu(e,e.data.length);{const n=e.childNodes;return n.length>0?d5(n[n.length-1]):nu(e,n.length)}},f5=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?f5(o[n],0):o.length>0&&e2(e)&&o.length===n?d5(o[o.length-1]):nu(e,n)},v9=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return wl(e,n.container,n.offset,(a,u)=>u===0?-1:u,r).filter(a=>{const u=a.container.data.charAt(a.offset-1);return!M3(u)}).isSome()},b9=e=>n=>{const o=f5(n.startContainer,n.startOffset);return!v9(e,o)},y9=(e,n,o)=>Hc(o.triggers,r=>P3(e,n,r)),w9=(e,n)=>{const o=n(),r=e.selection.getRng();return y9(e.dom,r,o).bind(a=>m5(e,n,a))},m5=(e,n,o,r={})=>{var a;const u=n(),v=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",C=Ut(u.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>b9(e.dom))(o.range,v,o.text));if(C.length===0)return W.none();const k=Promise.all(mn(C,L=>L.fetch(o.text,L.maxResults,r).then(H=>({matchText:o.text,items:H,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return W.some({lookupData:k,context:o})};var Yd;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Yd||(Yd={}));const N3=(e,n,o)=>e.stype===Yd.Error?n(e.serror):o(e.svalue),C9=e=>{const n=[],o=[];return Ae(e,r=>{N3(r,a=>o.push(a),a=>n.push(a))}),{values:n,errors:o}},x9=(e,n)=>e.stype===Yd.Error?{stype:Yd.Error,serror:n(e.serror)}:e,S9=(e,n)=>e.stype===Yd.Value?{stype:Yd.Value,svalue:n(e.svalue)}:e,E9=(e,n)=>e.stype===Yd.Value?n(e.svalue):e,_9=(e,n)=>e.stype===Yd.Error?n(e.serror):e,B3=e=>({stype:Yd.Value,svalue:e}),I3=e=>({stype:Yd.Error,serror:e}),qi={fromResult:e=>e.fold(I3,B3),toResult:e=>N3(e,Hi.error,Hi.value),svalue:B3,partition:C9,serror:I3,bind:E9,bindError:_9,map:S9,mapError:x9,fold:N3},L3=e=>Ft(e)&&ui(e).length>100?" removed due to size":JSON.stringify(e,null,2),k9=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:lt("... (only showing first ten failures)")}]):e;return mn(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},t2=(e,n)=>qi.serror([{path:e,getErrorInfo:n}]),A9=(e,n,o)=>t2(e,()=>'Could not find valid *required* value for "'+n+'" in '+L3(o)),h5=(e,n)=>t2(e,()=>'Choice schema did not contain choice key: "'+n+'"'),O9=(e,n,o)=>t2(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+L3(n)),p5=(e,n)=>t2(e,lt(n)),g5=(e,n,o,r)=>Xo(o,r).fold(()=>O9(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),D9=(e,n)=>({extract:(a,u)=>Xo(u,e).fold(()=>h5(a,e),v=>g5(a,u,n,v)),toString:()=>"chooseOn("+e+"). Possible values: "+ui(n)}),R9=(e,n)=>n,M9=(e,n)=>Lo(e)&&Lo(n)?n2(e,n):n,v5=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const a=n[r];for(const u in a)en(a,u)&&(o[u]=e(o[u],a[u]))}return o},n2=v5(M9),P9=v5(R9),b5=()=>({tag:"required",process:{}}),y5=e=>({tag:"defaultedThunk",process:e}),w5=e=>y5(lt(e)),N9=()=>({tag:"option",process:{}}),C5=(e,n)=>e.length>0?qi.svalue(n2(n,P9.apply(void 0,e))):qi.svalue(n),x5=e=>M(qi.serror,Br)(e),S5={consolidateObj:(e,n)=>{const o=qi.partition(e);return o.errors.length>0?x5(o.errors):C5(o.values,n)},consolidateArr:e=>{const n=qi.partition(e);return n.errors.length>0?x5(n.errors):qi.svalue(n.values)}},E5=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),B9=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),_5=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},$3=e=>{const n=(r,a)=>qi.bindError(e(a),u=>p5(r,u)),o=lt("val");return{extract:n,toString:o}},I9=$3(qi.svalue),L9=(e,n,o,r)=>Xo(n,o).fold(()=>A9(e,o,n),r),T5=(e,n,o,r)=>{const a=Xo(e,n).getOrThunk(()=>o(e));return r(a)},$9=(e,n,o)=>o(Xo(e,n)),F9=(e,n,o,r)=>{const a=Xo(e,n).map(u=>u===!0?o(e):u);return r(a)},JG=(e,n,o,r,a)=>{const u=v=>a.extract(n.concat([r]),v),m=v=>v.fold(()=>qi.svalue(W.none()),C=>{const k=a.extract(n.concat([r]),C);return qi.map(k,W.some)});switch(e.tag){case"required":return L9(n,o,r,u);case"defaultedThunk":return T5(o,r,e.process,u);case"option":return $9(o,r,m);case"defaultedOptionThunk":return F9(o,r,e.process,m);case"mergeWithThunk":return T5(o,r,lt({}),v=>{const C=n2(e.process(o),v);return u(C)})}},H9=(e,n,o)=>{const r={},a=[];for(const u of o)_5(u,(m,v,C,k)=>{const L=JG(C,e,n,m,k);qi.fold(L,$=>{a.push(...$)},$=>{r[v]=$})},(m,v)=>{r[m]=v(n)});return a.length>0?qi.serror(a):qi.svalue(r)},x0=e=>({extract:(r,a)=>H9(r,a,e),toString:()=>`obj{
`+mn(e,a=>_5(a,(u,m,v,C)=>u+" -> "+C.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),F3=e=>({extract:(r,a)=>{const u=mn(a,(m,v)=>e.extract(r.concat(["["+v+"]"]),m));return S5.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),k5=e=>$3(n=>e(n).fold(qi.serror,qi.svalue)),z9=(e,n,o)=>{const r=n.extract([e],o);return qi.mapError(r,a=>({input:o,errors:a}))},A5=(e,n,o)=>qi.toResult(z9(e,n,o)),O5=e=>`Errors: 
`+k9(e.errors).join(`
`)+`

Input object: `+L3(e.input),D5=(e,n)=>D9(e,io(n,x0)),V9=lt(I9),F_=(e,n)=>$3(o=>{const r=typeof o;return e(o)?qi.svalue(o):qi.serror(`Expected type: ${n} but got: ${r}`)}),R5=F_(Pn,"number"),H_=F_(ae,"string"),H3=F_(pn,"boolean"),z3=F_(le,"function"),o2=E5,M5=B9,P5=e=>k5(n=>gn(e,n)?Hi.value(n):Hi.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),N5=(e,n)=>o2(e,e,b5(),n),B5=e=>N5(e,H_),I5=e=>N5(e,z3),U9=(e,n)=>o2(e,e,b5(),F3(n)),V3=(e,n)=>o2(e,e,N9(),n),xr=e=>V3(e,H_),jf=e=>V3(e,z3),W9=(e,n)=>o2(e,e,w5(n),V9()),s2=(e,n,o)=>o2(e,e,w5(n),o),L5=(e,n)=>s2(e,n,R5),Z9=(e,n)=>s2(e,n,H_),$5=(e,n,o)=>s2(e,n,P5(o)),U3=(e,n)=>s2(e,n,H3),z_=(e,n)=>s2(e,n,z3),S0=(e,n,o)=>s2(e,n,F3(o)),QG=B5("type"),j9=I5("fetch"),W3=I5("onAction"),Jd=z_("onSetup",()=>Zt),q9=xr("text"),G9=xr("icon"),F5=xr("tooltip"),K9=xr("label"),Z3=U3("active",!1),H5=U3("enabled",!0),z5=U3("primary",!1),X9=e=>W9("columns",e),r2=e=>Z9("type",e),V5=x0([QG,B5("trigger"),L5("minChars",1),X9(1),L5("maxResults",10),jf("matches"),j9,W3,S0("highlightOn",[],H_)]),U5=e=>A5("Autocompleter",V5,e),i2=[H5,F5,G9,q9,Jd],V_=[Z3].concat(i2),j3=[z_("predicate",Ze),$5("scope","node",["node","editor"]),$5("position","selection",["node","selection","line"])],Y9=i2.concat([r2("contextformbutton"),z5,W3,M5("original",po)]),J9=V_.concat([r2("contextformbutton"),z5,W3,M5("original",po)]),Q9=i2.concat([r2("contextformbutton")]),eU=V_.concat([r2("contextformtogglebutton")]),q3=D5("type",{contextformbutton:Y9,contextformtogglebutton:J9});x0([r2("contextform"),z_("initValue",lt("")),K9,U9("commands",q3),V3("launch",D5("type",{contextformbutton:Q9,contextformtogglebutton:eU}))].concat(j3));const W5=e=>{const n=e.ui.registry.getAll().popups,o=io(n,m=>U5(m).fold(v=>{throw new Error(O5(v))},po)),r=ud(lu(o,m=>m.trigger)),a=ld(o);return{dataset:o,triggers:r,lookupByTrigger:m=>Ut(a,v=>v.trigger===m)}},tU=(e,n)=>{const o=_y(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),n.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},Z5=e=>{const n=wf(),o=tr(!1),r=n.isSet,a=()=>{r()&&(WR(e),o.set(!1),n.clear())},u=$=>{r()||n.set({trigger:$.trigger,matchLength:$.text.length})},m=Xa(()=>W5(e)),v=$=>n.get().map(H=>P3(e.dom,e.selection.getRng(),H.trigger,!0).bind(K=>m5(e,m,K,$))).getOrThunk(()=>w9(e,m)),C=$=>{v($).fold(a,H=>{u(H.context),H.lookupData.then(K=>{n.get().map(ee=>{const Y=H.context;ee.trigger===Y.trigger&&(Y.text.length-ee.matchLength>=10?a():(n.set({...ee,matchLength:Y.text.length}),o.get()?(jS(e,{range:Y.range}),OA(e,{lookupData:K})):(o.set(!0),jS(e,{range:Y.range}),UR(e,{lookupData:K}))))})})})},k=($,H)=>{const K=$.compareBoundaryPoints(window.Range.START_TO_START,H),ee=$.compareBoundaryPoints(window.Range.END_TO_END,H);return K>=0&&ee<=0},L=()=>n.get().bind(({trigger:$})=>{const H=e.selection.getRng();return P3(e.dom,H,$,o.get()).filter(({range:K})=>k(H,K)).map(({range:K})=>K)});e.addCommand("mceAutocompleterReload",($,H)=>{const K=Ft(H)?H.fetchOptions:{};C(K)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{L().each($=>{jS(e,{range:$})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>L().isSome()),tU(e,{cancelIfNecessary:a,load:C})},G3=tc().browser.isSafari(),j5=e=>Dd(re.fromDom(e)),q5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},U_=(e,n)=>W.from(e.getParent(n.container(),"details")),G5=(e,n)=>U_(e,n).isSome(),nU=(e,n)=>{const o=W.from(e.getParent(n.startContainer,"details")),r=W.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(u=>W.from(e.select("summary",u)[0]));return W.some({startSummary:a,startDetails:o,endDetails:r})}else return W.none()},K5=(e,n)=>Ui(n).exists(o=>o.isEqual(e)),K3=(e,n)=>dl(n).exists(o=>Jo(o.getNode())&&ka(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),X5=(e,n)=>n.startSummary.exists(o=>K5(e,o)),Y5=(e,n)=>n.startSummary.exists(o=>K3(e,o)),oU=(e,n)=>n.startDetails.exists(o=>ka(o,e).forall(r=>n.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),sU=(e,n,o)=>o.startDetails.exists(r=>oa(e,n).forall(a=>!r.contains(a.container()))),J5=(e,n)=>{const o=n.getNode();En(o)||e.selection.setCursorLocation(o,n.offset())},a2=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?Ui(a):dl(a)).each(m=>J5(e,m))}else J5(e,n)},Q5=(e,n)=>{const o=C=>C.contains(e.startContainer),r=C=>C.contains(e.endContainer),a=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(C=>n.endDetails.forall(k=>C!==k));return(a||u)&&!(a&&u)||m},X3=(e,n,o)=>{const{dom:r,selection:a}=e,u=e.getBody();if(o==="character"){const m=Re.fromRangeStart(a.getRng()),v=r.getParent(m.container(),r.isBlock),C=U_(r,m),k=v&&r.isEmpty(v),L=D(v==null?void 0:v.previousSibling),$=D(v==null?void 0:v.nextSibling);return k&&(n?$:L)&&Km(!n,u,m).exists(ee=>G5(r,ee)&&!q(C,U_(r,ee)))?!0:Km(n,u,m).fold(Ze,H=>{const K=U_(r,H);if(G5(r,H)&&!q(C,K)){if(n||a2(e,H,!1),v&&k){if(n&&L)return!0;if(!n&&$)return!0;a2(e,H,n),e.dom.remove(v)}return!0}else return!1})}else return!1},rU=(e,n,o,r)=>{const u=e.selection.getRng(),m=Re.fromRangeStart(u),v=e.getBody();return r==="selection"?Q5(u,n):o?Y5(m,n)||sU(v,m,n):X5(m,n)||oU(m,n)},iU=(e,n,o)=>nU(e.dom,e.selection.getRng()).fold(()=>X3(e,n,o),r=>rU(e,r,n,o)||X3(e,n,o)),tK=(e,n,o)=>{const r=e.selection,a=r.getNode(),u=r.getRng(),m=Re.fromRangeStart(u);return lg(a)?(o==="selection"&&q5(u,a)||pO(n,m,a)?j5(a):e.undoManager.transact(()=>{const v=r.getSel();let{anchorNode:C,anchorOffset:k,focusNode:L,focusOffset:$}=v??{};const H=()=>{Ne(C)&&Ne(k)&&Ne(L)&&Ne($)&&(v==null||v.setBaseAndExtent(C,k,L,$))},K=()=>{C=v==null?void 0:v.anchorNode,k=v==null?void 0:v.anchorOffset,L=v==null?void 0:v.focusNode,$=v==null?void 0:v.focusOffset},ee=(ne,fe)=>{Ae(ne.childNodes,he=>{Cp(he)&&fe.appendChild(he)})},Y=e.dom.create("span",{"data-mce-bogus":"1"});ee(a,Y),a.appendChild(Y),H(),(o==="word"||o==="line")&&(v==null||v.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&q5(r.getRng(),Y)?j5(a):(e.execCommand(n?"ForwardDelete":"Delete"),K(),ee(Y,a),H()),e.dom.remove(Y)}),!0):!1},E0=(e,n,o)=>iU(e,n,o)||G3&&tK(e,n,o)?W.some(Zt):W.none(),aU=e=>(n,o,r={})=>{const a=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Zt,inputType:o},m=cx(new InputEvent(e));return n.dispatch(e,{...m,...u,...r})},c2=aU("input"),Y3=aU("beforeinput"),eL=tc(),tL=eL.os,cU=tL.isMacOS()||tL.isiOS(),rr=eL.browser.isFirefox(),J3=(e,n,o)=>{const r=o.keyCode===Rt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),u=a?"character":"selection",m=v=>a?v?"word":"line":"selection";WI([{keyCode:Rt.BACKSPACE,action:Cn(p0,e)},{keyCode:Rt.BACKSPACE,action:Cn(t3,e,!1)},{keyCode:Rt.DELETE,action:Cn(t3,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(X4,e,!1)},{keyCode:Rt.DELETE,action:Cn(X4,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(A_,e,n,!1)},{keyCode:Rt.DELETE,action:Cn(A_,e,n,!0)},{keyCode:Rt.BACKSPACE,action:Cn(Ap,e,!1)},{keyCode:Rt.DELETE,action:Cn(Ap,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(E0,e,!1,u)},{keyCode:Rt.DELETE,action:Cn(E0,e,!0,u)},...cU?[{keyCode:Rt.BACKSPACE,altKey:!0,action:Cn(E0,e,!1,m(!0))},{keyCode:Rt.DELETE,altKey:!0,action:Cn(E0,e,!0,m(!0))},{keyCode:Rt.BACKSPACE,metaKey:!0,action:Cn(E0,e,!1,m(!1))}]:[{keyCode:Rt.BACKSPACE,ctrlKey:!0,action:Cn(E0,e,!1,m(!0))},{keyCode:Rt.DELETE,ctrlKey:!0,action:Cn(E0,e,!0,m(!0))}],{keyCode:Rt.BACKSPACE,action:Cn(n3,e,!1)},{keyCode:Rt.DELETE,action:Cn(n3,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(cc,e,!1)},{keyCode:Rt.DELETE,action:Cn(cc,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(f_,e,!1)},{keyCode:Rt.DELETE,action:Cn(f_,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(Yu,e,!1)},{keyCode:Rt.DELETE,action:Cn(Yu,e,!0)},{keyCode:Rt.BACKSPACE,action:Cn(p3,e,!1)},{keyCode:Rt.DELETE,action:Cn(p3,e,!0)}],o).filter(v=>e.selection.isEditable()).each(v=>{o.preventDefault(),Y3(e,r).isDefaultPrevented()||(v(),c2(e,r))})},qf=(e,n,o)=>v0([{keyCode:Rt.BACKSPACE,action:Cn(WB,e)},{keyCode:Rt.DELETE,action:Cn(WB,e)},...cU?[{keyCode:Rt.BACKSPACE,altKey:!0,action:Cn(GC,e)},{keyCode:Rt.DELETE,altKey:!0,action:Cn(GC,e)},...o?[{keyCode:rr?224:91,action:Cn(GC,e)}]:[]]:[{keyCode:Rt.BACKSPACE,ctrlKey:!0,action:Cn(GC,e)},{keyCode:Rt.DELETE,ctrlKey:!0,action:Cn(GC,e)}]],n),nL=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Rt.BACKSPACE,r.isDefaultPrevented()||J3(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||qf(e,r,o),o=!1})},oL=e=>{for(;e;){if(It(e)||Ke(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},_0=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=oL(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(Jr),n.firstChild)}const a=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new Ns(n,n);let m=n,v;for(;v=u.current();){if(Ke(v)){a.setStart(v,0),a.setEnd(v,0);break}if(r[v.nodeName.toLowerCase()]){a.setStartBefore(v),a.setEndBefore(v);break}m=v,v=u.next()}v||(a.setStart(m,0),a.setEnd(m,0))}else Jo(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)):(a.setStart(n,0),a.setEnd(n,0));e.selection.setRng(a),Fb(e,a)},Fp=(e,n)=>{const o=e.getRoot();let r,a=n;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},l2=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),sL=e=>l2(e).fold(lt(""),n=>n.nodeName.toUpperCase()),rL=e=>l2(e).filter(n=>Cc(re.fromDom(n))).isSome(),Q3=e=>{e.innerHTML='<br data-mce-bogus="1">'},lU=(e,n,o)=>{const r=e.dom;W.from(o.style).map(r.parseStyle).each(C=>{const L={...bc(re.fromDom(n)),...C};r.setStyles(n,L)});const a=W.from(o.class).map(C=>C.split(/\s+/)),u=W.from(n.className).map(C=>Ut(C.split(/\s+/),k=>k!==""));J(a,u,(C,k)=>{const L=Ut(k,H=>!gn(C,H)),$=[...C,...L];r.setAttrib(n,"class",$.join(" "))});const m=["style","class"],v=ss(o,(C,k)=>!gn(m,k));r.setAttribs(n,v)},u2=(e,n)=>{if(zi(e).toLowerCase()===n.tagName.toLowerCase()){const r=Ig(e);lU(e,n,r)}},iL=(e,n,o,r,a=!0,u,m)=>{const v=e.dom,C=e.schema,k=zi(e),L=o?o.nodeName.toUpperCase():"";let $=n;const H=C.getTextInlineElements();let K;u||L==="TABLE"||L==="HR"?K=v.create(u||k,m||{}):K=o.cloneNode(!1);let ee=K;if(!a)v.setAttrib(K,"style",null),v.setAttrib(K,"class",null);else do if(H[$.nodeName]){if(rc($)||Oc($))continue;const Y=$.cloneNode(!1);v.setAttrib(Y,"id",""),K.hasChildNodes()?(Y.appendChild(K.firstChild),K.appendChild(Y)):(ee=Y,K.appendChild(Y))}while(($=$.parentNode)&&$!==r);return u2(e,K),Q3(ee),K},uU=(e,n)=>e.dom.getParent(n,Qc),aL=(e,n,o)=>{let r=n;for(;r&&r!==e&&D(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return Qc(a);r=a}return!1},dU=(e,n,o)=>!n&&o.nodeName.toLowerCase()===zi(e)&&e.dom.isEmpty(o)&&aL(e.getBody(),o,r=>en(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),fU=(e,n,o)=>{var r,a,u;const m=n(zi(e)),v=uU(e,o);v&&(e.dom.insertAfter(m,v),_0(e,m),((u=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},mU=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,hU=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},cL=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ne(o)&&o.nodeName===n},eD=e=>Ne(e)&&/^(OL|UL|LI)$/.test(e.nodeName),W_=e=>Ne(e)&&/^(LI|DT|DD)$/.test(e.nodeName),pU=e=>eD(e)&&eD(e.parentNode),Z_=e=>{const n=e.parentNode;return W_(n)?n:e},tD=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!It(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},j_=e=>wo(lu(bc(re.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),gU=(e,n,o,r,a)=>{const u=e.dom,m=e.selection.getRng(),v=o.parentNode;if(o===e.getBody()||!v)return;pU(o)&&(a="LI");const C=W_(r)?j_(r):void 0;let k=W_(r)&&C?n(a,{style:j_(r)}):n(a);if(tD(o,r,!0)&&tD(o,r,!1))if(cL(o,"LI")){const L=Z_(o);u.insertAfter(k,L),hU(o)?u.remove(L):u.remove(o)}else u.replace(k,o);else if(tD(o,r,!0))cL(o,"LI")?(u.insertAfter(k,Z_(o)),k.appendChild(u.doc.createTextNode(" ")),k.appendChild(o)):v.insertBefore(k,o),u.remove(r);else if(tD(o,r,!1))u.insertAfter(k,Z_(o)),u.remove(r);else{o=Z_(o);const L=m.cloneRange();L.setStartAfter(r),L.setEndAfter(o);const $=L.extractContents();if(a==="LI"&&mU($,"LI")){const H=Ut(mn(k.children,re.fromDom),Uo(Ba("br")));k=$.firstChild,u.insertAfter($,o),Ae(H,K=>Ml(re.fromDom(k),K)),C&&k.setAttribute("style",C)}else u.insertAfter($,o),u.insertAfter(k,o);u.remove(r)}_0(e,k)},vU=e=>{Ae(ty(re.fromDom(e),Ho),n=>{const o=n.dom;o.nodeValue=Ua(o.data)})},bU=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},lL=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),nD=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,q_=(e,n)=>Ne(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",yU=(e,n,o)=>{var r;const a=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;It(u)&&!n[u.nodeName.toLowerCase()]&&a.push(u)}let m=a.length;for(;m--;)u=a[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||lL(e,u))&&e.remove(u)},oD=(e,n,o)=>Ke(n)?e?o===1&&n.data.charAt(o-1)===Ur?0:o:o===n.data.length-1&&n.data.charAt(o)===Ur?n.data.length:o:o,oK=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,oD(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,oD(!1,e.endContainer,e.endOffset)),n},ca=e=>{let n=e;do Ke(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},wU=(e,n,o,r,a)=>{var u,m;const v=e.dom,C=(u=Fp(v,r))!==null&&u!==void 0?u:v.getRoot();let k=v.getParent(r,v.isBlock);if(!k||!q_(v,k)){if(k=k||C,!k.hasChildNodes()){const K=v.create(n);return u2(e,K),k.appendChild(K),o.setStart(K,0),o.setEnd(K,0),K}let L=r;for(;L&&L.parentNode!==k;)L=L.parentNode;let $;for(;L&&!v.isBlock(L);)$=L,L=L.previousSibling;const H=(m=$==null?void 0:$.parentElement)===null||m===void 0?void 0:m.nodeName;if($&&H&&e.schema.isValidChild(H,n.toLowerCase())){const K=$.parentNode,ee=v.create(n);for(u2(e,ee),K.insertBefore(ee,$),L=$;L&&!v.isBlock(L);){const Y=L.nextSibling;ee.appendChild(L),L=Y}o.setStart(r,a),o.setEnd(r,a)}}return r},CU=(e,n)=>{n.normalize();const o=n.lastChild;(!o||It(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},xU=(e,n)=>{const o=ap(e);return _n(n)?!1:ae(o)?gn(O.explode(o),n.nodeName.toLowerCase()):o},uL={insert:(e,n)=>{let o,r,a,u,m=!1;const v=e.dom,C=e.schema,k=C.getNonEmptyElements(),L=e.selection.getRng(),$=zi(e),H=re.fromDom(L.startContainer),K=Ia(H,L.startOffset),ee=K.exists(Le=>ba(Le)&&!An(Le)),Y=L.collapsed&&ee,ne=(Le,yt)=>iL(e,o,it,Be,Mk(e),Le,yt),fe=Le=>{const yt=oD(Le,o,r);if(Ke(o)&&(Le?yt>0:yt<o.data.length))return!1;if((o.parentNode===it||o===it)&&m&&!Le||Le&&It(o)&&o===it.firstChild)return!0;if(nD(o,"TABLE")||nD(o,"HR"))return m&&!Le||!m&&Le;const zt=new Ns(o,it);Ke(o)&&(Le&&yt===0?zt.prev():!Le&&yt===o.data.length&&zt.next());let Rn;for(;Rn=zt.current();){if(It(Rn)){if(!Rn.getAttribute("data-mce-bogus")){const Wn=Rn.nodeName.toLowerCase();if(k[Wn]&&Wn!=="br")return!1}}else if(Ke(Rn)&&!Nl(Rn.data))return!1;Le?zt.prev():zt.next()}return!0},he=()=>{let Le;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Ct!=="HGROUP"?Le=ne($):Le=ne(),xU(e,u)&&q_(v,u)&&v.isEmpty(it,void 0,{includeZwsp:!0})?Le=v.split(u,it):v.insertAfter(Le,it),_0(e,Le),Le};vt(v,L).each(Le=>{L.setStart(Le.startContainer,Le.startOffset),L.setEnd(Le.endContainer,Le.endOffset)}),o=L.startContainer,r=L.startOffset;const pe=!!(n&&n.shiftKey),Ee=!!(n&&n.ctrlKey);It(o)&&o.hasChildNodes()&&!Y&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&Ke(o)?r=o.data.length:r=0);const Be=Fp(v,o);if(!Be||bU(e,o))return;pe||(o=wU(e,$,L,o,r));let it=v.getParent(o,v.isBlock)||v.getRoot();u=Ne(it==null?void 0:it.parentNode)?v.getParent(it.parentNode,v.isBlock):null,a=it?it.nodeName.toUpperCase():"";const Ct=u?u.nodeName.toUpperCase():"";if(Ct==="LI"&&!Ee){const Le=u;it=Le,u=Le.parentNode,a=Ct}if(It(u)&&dU(e,pe,it))return fU(e,ne,it);if(/^(LI|DT|DD)$/.test(a)&&It(u)&&v.isEmpty(it)){gU(e,ne,u,it,$);return}if(!Y&&(it===e.getBody()||!q_(v,it)))return;const Qe=it.parentNode;let Me;if(Y)Me=ne($),K.fold(()=>{ur(H,re.fromDom(Me))},Le=>{Ci(Le,re.fromDom(Me))}),e.selection.setCursorLocation(Me,0);else if(tp(it))Me=_g(it),v.isEmpty(it)&&Q3(it),u2(e,Me),_0(e,Me);else if(fe(!1))Me=he();else if(fe(!0)&&Qe){Me=Qe.insertBefore(ne(),it);const Le=fv(re.fromDom(L.startContainer))&&L.collapsed;_0(e,nD(it,"HR")||Le?Me:it)}else{const Le=oK(L).cloneRange();Le.setEndAfter(it);const yt=Le.extractContents();vU(yt),ca(yt),Me=yt.firstChild,v.insertAfter(yt,it),yU(v,k,Me),CU(v,it),v.isEmpty(it)&&Q3(it),Me.normalize(),v.isEmpty(Me)?(v.remove(Me),he()):(u2(e,Me),_0(e,Me))}v.setAttrib(Me,"id",""),e.dispatch("NewBlock",{newBlock:Me})},fakeEventName:"insertParagraph"},SU=(e,n,o)=>{const r=new Ns(n,o);let a;const u=e.getNonEmptyElements();for(;a=r.next();)if(u[a.nodeName.toLowerCase()]||Ke(a)&&a.length>0)return!0;return!1},d2=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Fb(e,r)},EU=(e,n)=>{const o=e.selection,r=e.dom,a=o.getRng();let u,m=!1;vt(r,a).each(K=>{a.setStart(K.startContainer,K.startOffset),a.setEnd(K.endContainer,K.endOffset)});let v=a.startOffset,C=a.startContainer;if(It(C)&&C.hasChildNodes()){const K=v>C.childNodes.length-1;C=C.childNodes[Math.min(v,C.childNodes.length-1)]||C,K&&Ke(C)?v=C.data.length:v=0}let k=r.getParent(C,r.isBlock);const L=k&&k.parentNode?r.getParent(k.parentNode,r.isBlock):null,$=L?L.nodeName.toUpperCase():"",H=!!(n&&n.ctrlKey);$==="LI"&&!H&&(k=L),Ke(C)&&v>=C.data.length&&(SU(e.schema,C,k||r.getRoot())||(u=r.create("br"),a.insertNode(u),a.setStartAfter(u),a.setEndAfter(u),m=!0)),u=r.create("br"),Rg(r,a,u),d2(e,u,m),e.undoManager.add()},_U=(e,n)=>{const o=re.fromTag("br");Ci(re.fromDom(n),o),e.undoManager.add()},sD=(e,n)=>{TU(e.getBody(),n)||vd(re.fromDom(n),re.fromTag("br"));const o=re.fromTag("br");vd(re.fromDom(n),o),d2(e,o.dom,!1),e.undoManager.add()},rD=e=>Jo(e.getNode()),TU=(e,n)=>rD(Re.after(n))?!0:oa(e,Re.after(n)).map(o=>Jo(o.getNode())).getOr(!1),kU=e=>e&&e.nodeName==="A"&&"href"in e,iK=e=>e.fold(Ze,kU,kU,Ze),aK=e=>{const n=qe(y1,e),o=Re.fromRangeStart(e.selection.getRng());return Kd(n,e.getBody(),o).filter(iK)},AU=(e,n)=>{n.fold(Zt,qe(_U,e),qe(sD,e),Zt)},dL={insert:(e,n)=>{const o=aK(e);o.isSome()?o.each(qe(AU,e)):EU(e,n)},fakeEventName:"insertLineBreak"},td=(e,n)=>l2(e).filter(o=>n.length>0&&ie(re.fromDom(o),n)).isSome(),OU=e=>td(e,Vx(e)),fL=e=>td(e,Pd(e)),Cl=Bu.generate([{br:[]},{block:[]},{none:[]}]),DU=(e,n)=>fL(e),mL=e=>(n,o)=>rL(n)===e,hL=(e,n)=>(o,r)=>sL(o)===e.toUpperCase()===n,RU=e=>{const n=Fp(e.dom,e.selection.getStart());return _n(n)},f2=e=>hL("pre",e),MU=()=>hL("summary",!0),T0=e=>(n,o)=>Rk(n)===e,pL=(e,n)=>OU(e),Z1=(e,n)=>n,PU=e=>{const n=zi(e),o=Fp(e.dom,e.selection.getStart());return Ne(o)&&e.schema.isValidChild(o.nodeName,n)},NU=e=>{const n=e.selection.getRng(),o=re.fromDom(n.startContainer),a=Ia(o,n.startOffset).map(u=>ba(u)&&!An(u));return n.collapsed&&a.getOr(!0)},ou=(e,n)=>(o,r)=>wo(e,(u,m)=>u&&m(o,r),!0)?W.some(n):W.none(),BU=(e,n)=>KB([ou([DU],Cl.none()),ou([f2(!0),RU],Cl.none()),ou([MU()],Cl.br()),ou([f2(!0),T0(!1),Z1],Cl.br()),ou([f2(!0),T0(!1)],Cl.block()),ou([f2(!0),T0(!0),Z1],Cl.block()),ou([f2(!0),T0(!0)],Cl.br()),ou([mL(!0),Z1],Cl.br()),ou([mL(!0)],Cl.block()),ou([pL],Cl.br()),ou([Z1],Cl.br()),ou([PU],Cl.block()),ou([NU],Cl.block())],[e,!!(n&&n.shiftKey)]).getOr(Cl.none()),G_=(e,n,o)=>{n.selection.isCollapsed()||fO(n),!(Ne(o)&&Y3(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ne(o)&&c2(n,e.fakeEventName))},iD=(e,n)=>{const o=()=>G_(dL,e,n),r=()=>G_(uL,e,n),a=BU(e,n);switch(zx(e)){case"linebreak":a.fold(o,o,Zt);break;case"block":a.fold(r,r,Zt);break;case"invert":a.fold(r,o,Zt);break;default:a.fold(o,r,Zt);break}},gL=tc(),vL=gL.os.isiOS()&&gL.browser.isSafari(),aD=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),t8(e.undoManager),e.undoManager.transact(()=>{iD(e,n)}))},IU=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Ke(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},LU=e=>{let n=W.none();const o=a=>{n=W.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,u)=>{a.undoManager.undo(),n.fold(Zt,m=>a.selection.moveToBookmark(m)),aD(a,u),n=W.none()};e.on("keydown",a=>{a.keyCode===Rt.ENTER&&(vL&&IU(e.selection.getRng())?o(e):aD(e,a))}),e.on("keyup",a=>{a.keyCode===Rt.ENTER&&n.each(()=>r(e,a))})},cD=(e,n,o)=>{const r=Et.os.isMacOS()||Et.os.isiOS();v0([{keyCode:Rt.END,action:Cn(zI,e,!0)},{keyCode:Rt.HOME,action:Cn(zI,e,!1)},...r?[]:[{keyCode:Rt.HOME,action:Cn(XC,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Rt.END,action:Cn(XC,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Rt.END,action:Cn(jI,e,!0)},{keyCode:Rt.HOME,action:Cn(jI,e,!1)},{keyCode:Rt.END,action:Cn(k_,e,!0,n)},{keyCode:Rt.HOME,action:Cn(k_,e,!1,n)}],o).each(a=>{o.preventDefault()})},$U=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||cD(e,n,o)})},FU=e=>{e.on("input",n=>{n.isComposing||Ds(e)})},K_=tc(),HU=(e,n,o)=>{v0([{keyCode:Rt.PAGE_UP,action:Cn(k_,e,!1,n)},{keyCode:Rt.PAGE_DOWN,action:Cn(k_,e,!0,n)}],o)},X_=e=>e.stopImmediatePropagation(),Y_=e=>e.keyCode===Rt.PAGE_UP||e.keyCode===Rt.PAGE_DOWN,lD=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",X_,!0):!o&&e.get()&&n.off("NodeChange",X_),e.set(o)},zU=(e,n)=>{if(K_.os.isMacOS())return;const o=tr(!1);e.on("keydown",r=>{Y_(r)&&lD(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||HU(e,n,r),Y_(r)&&o.get()&&(lD(o,e,!1),e.nodeChanged())})},lK=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Go(n.getTargetRanges(),o=>!oM(e.dom,o)))&&n.preventDefault()})},mh=(e,n)=>{const o=n.container(),r=n.offset();return Ke(o)?(o.insertData(r,e),W.some(Re(o,r+e.length))):Lu(n).map(a=>{const u=re.fromText(e);return n.isAtEnd()?vd(a,u):Ci(a,u),Re(u.dom,e.length)})},bL=qe(mh,Jr),yL=qe(mh," "),VU=(e,n,o)=>rO(e,n,o)?bL(n):yL(n),J_=e=>n=>n.fold(o=>ka(e.dom,Re.before(o)),o=>Ui(o),o=>dl(o),o=>oa(e.dom,Re.after(o))),wL=(e,n,o)=>r=>rO(e,r,o)?bL(n):yL(n),uD=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},UU=(e,n)=>e.isEditable(e.getParent(n,"summary")),CL=e=>{const n=Re.fromRangeStart(e.selection.getRng()),o=re.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=qe(y1,e),a=Re.fromRangeStart(e.selection.getRng());return Kd(r,e.getBody(),a).bind(J_(o)).map(u=>()=>wL(o,n,e.schema)(u).each(uD(e)))}else return W.none()},WU=e=>{const n=()=>{const o=re.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Re.fromRangeStart(e.selection.getRng());VU(o,r,e.schema).each(uD(e))};return se(Et.browser.isFirefox()&&e.selection.isEditable()&&UU(e.dom,e.selection.getRng().startContainer),n)},ZU=(e,n)=>{WI([{keyCode:Rt.SPACEBAR,action:Cn(CL,e)},{keyCode:Rt.SPACEBAR,action:Cn(WU,e)}],n).each(o=>{n.preventDefault(),Y3(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),c2(e,"insertText",{data:" "}))})},jU=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||ZU(e,n)})},xL=e=>hS(e)?[{keyCode:Rt.TAB,action:Cn(fh,e,!0)},{keyCode:Rt.TAB,shiftKey:!0,action:Cn(fh,e,!1)}]:[],dD=(e,n)=>{v0([...xL(e)],n).each(o=>{n.preventDefault()})},qU=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||dD(e,n)})},fD=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Z5(e),Ic(e))return tr(null);{const n=iV(e);return lK(e),BV(e),a5(e,n),nL(e,n),LU(e),jU(e),FU(e),qU(e),$U(e,n),zU(e,n),n}};class SL{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",a=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(a.type==="nodechange"||!g(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{Kw(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const a=n.selection.getStart(!0);a&&e1(n)&&!r.isSameElementPath(a)&&n.dom.isChildOf(a,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",a=>{!a.isDefaultPrevented()&&e1(n)&&(n.selection.getNode().nodeName==="IMG"?Gl.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Hk(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const u=[];this.editor.dom.getParent(r,m=>m===a?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,a=xs(r.dom.getParents(n,Tt,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const m2=Jh("image"),EL=e=>{const n=e;return W.from(n[m2])},_L=(e,n)=>{const o=e;o[m2]=n},mD=Jh("event"),GU=e=>{const n=e;return W.from(n[mD])},j1=e=>n=>{const o=n;o[mD]=e},TL=(e,n)=>j1(n)(e),kL=j1(0),KU=j1(2),AL=j1(1),XU=(e=>n=>{const o=n;return W.from(o[mD]).exists(r=>r===e)})(0),YU=()=>Object.freeze({length:0,item:e=>null}),hD=Jh("mode"),JU=e=>{const n=e;return W.from(n[hD])},h2=e=>n=>{const o=n;o[hD]=e},OL=(e,n)=>h2(n)(e),pD=h2(0),gD=h2(2),QU=h2(1),DL=e=>n=>{const o=n;return W.from(o[hD]).exists(r=>r===e)},k0=DL(0),RL=DL(1),A0=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(k0(e))if(ae(o)){if(!En(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{k0(e)&&n.remove(o)},clear:()=>{k0(e)&&n.clear()}}),eW=["none","copy","link","move"],tW=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Q_=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(a){gn(eW,a)&&(n=a)},get effectAllowed(){return o},set effectAllowed(a){XU(r)&&gn(tW,a)&&(o=a)},get items(){return A0(r,e.items)},get files(){return RL(r)?YU():e.files},get types(){return e.types},setDragImage:(a,u,m)=>{k0(r)&&(_L(r,{image:a,x:u,y:m}),e.setDragImage(a,u,m))},getData:a=>RL(r)?"":e.getData(a),setData:(a,u)=>{k0(r)&&e.setData(a,u)},clearData:a=>{k0(r)&&e.clearData(a)}};return pD(r),r},nW=e=>{const n=Q_(),o=JU(e);return gD(e),kL(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,EL(e).each(r=>n.setDragImage(r.image,r.x,r.y)),Ae(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),Ae(e.files,r=>n.items.add(r)),GU(e).each(r=>{TL(n,r)}),o.each(r=>{OL(e,r),OL(n,r)}),n},oW=e=>{const n=e.getData("text/html");return n===""?W.none():W.some(n)},ML=(e,n)=>e.setData("text/html",n),vD="x-tinymce/html",eT=lt(vD),bD="<!-- "+vD+" -->",dK=e=>bD+e,tT=e=>e.replace(bD,""),PL=e=>e.indexOf(bD)!==-1,sW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),rW=(e,n)=>{let o="<"+e;const r=lu(n,(a,u)=>u+'="'+ea.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},iW=(e,n,o)=>{const r=e.split(/\n\n/),a=rW(n,o),u="</"+n+">",m=mn(r,C=>C.split(/\n/).join("<br />")),v=C=>a+C+u;return m.length===1?m[0]:mn(m,v).join("")},NL="%MCEPASTEBIN%",aW=(e,n)=>{const{dom:o,selection:r}=e,a=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},NL);Et.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},cW=(e,n)=>{const o=e.dom;if(yD(e)){let r;const a=n.get();for(;r=yD(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}n.set(null)},yD=e=>e.dom.get("mcepastebin"),lW=e=>Ne(e)&&e.id==="mcepastebin",uW=e=>{const n=e.dom,o=(m,v)=>{m.appendChild(v),n.remove(v,!0)},[r,...a]=Ut(e.getBody().childNodes,lW);Ae(a,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const v=n.create("div");r.insertBefore(v,u[m]),o(v,u[m])}return r?r.innerHTML:""},BL=e=>e===NL,dW=e=>{const n=tr(null);return{create:()=>aW(e,n),remove:()=>cW(e,n),getEl:()=>yD(e),getHtml:()=>uW(e),getLastRng:n.get}},IL=(e,n)=>(O.each(n,o=>{yo(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),ns=e=>{const n=Cd(),o=ji({},n);let r="";const a=n.getVoidElements(),u=O.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),v=C=>{const k=C.name,L=C;if(k==="br"){r+=`
`;return}if(k!=="wbr"){if(a[k]&&(r+=" "),u[k]){r+=" ";return}if(C.type===3&&(r+=C.value),!(C.name in n.getVoidElements())){let $=C.firstChild;if($)do v($);while($=$.next)}m[k]&&L.next&&(r+=`
`,k==="p"&&(r+=`
`))}};return e=IL(e,[/<!\[[^\]]+\]>/g]),v(o.parse(e)),r},LL=e=>(e=IL(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":Jr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),$L=e=>{let n=0;return()=>e+n++},fW=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return O.hasOwn(o,n)?"image/"+o[n]:"image/"+n},wD=(e,n)=>{const o=ji({sanitize:fS(e),sandbox_iframes:uw(e),sandbox_iframes_exclusions:mp(e),convert_unsafe_embeds:pS(e)},e.schema);o.addNodeFilter("meta",a=>{O.each(a,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return tn({validate:!0},e.schema).serialize(r)},CD=(e,n)=>({content:e,cancelled:n}),mW=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),a=fn(e,r,o);return CD(a.node.innerHTML,a.isDefaultPrevented())},hW=(e,n,o)=>{const r=ZR(e,n,o),a=wD(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?mW(e,a,o):CD(a,r.isDefaultPrevented())},FL=(e,n,o)=>hW(e,n,o),p2=(e,n)=>(e.insertContent(n,{merge:jk(e),paste:!0}),!0),xD=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),pW=(e,n)=>xD(n)&&Go(fp(e),o=>Wc(n.toLowerCase(),`.${o.toLowerCase()}`)),gW=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),HL=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),vW=(e,n,o)=>!e.selection.isCollapsed()&&xD(n)?HL(e,n,o):!1,bW=(e,n,o)=>pW(e,n)?gW(e,n,o):!1,O0=(e,n)=>{O.each([vW,bW,p2],o=>!o(e,n,p2))},yW=(e,n,o)=>{o||!uS(e)?p2(e,n):O0(e,n)},D0=$L("mceclip"),g2=e=>{const n=Q_();return ML(n,e),gD(n),n},zL=(e,n,o,r,a)=>{const u=FL(e,n,o);if(!u.cancelled){const m=u.content,v=()=>yW(e,m,r);a?Y3(e,"insertFromPaste",{dataTransfer:g2(m)}).isDefaultPrevented()||(v(),c2(e,"insertFromPaste")):v()}},nT=(e,n,o,r)=>{const a=o||PL(n);zL(e,tT(n),a,!1,r)},Hp=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),a=sy(r,qk(e)),u=iW(a,zi(e),Ig(e));zL(e,u,!1,!0,o)},VL=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Gf=(e,n)=>n in e&&e[n].length>0,UL=e=>Gf(e,"text/html")||Gf(e,"text/plain"),WL=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ne(o)?e.dom.encode(o[1]):void 0},ZL=(e,n,o,r)=>{const a=D0(),u=Qy(e)&&Ne(o.name),m=u?WL(e,o.name):a,v=u?o.name:void 0,C=n.create(a,o,r,m,v);return n.add(C),C},SD=(e,n)=>{IE(n.uri).each(({data:o,type:r,base64Encoded:a})=>{const u=a?o:btoa(o),m=n.file,v=e.editorUpload.blobCache,C=v.getByData(u,r),k=C??ZL(e,v,m,u);nT(e,`<img src="${k.blobUri()}">`,!1,!0)})},jL=e=>e.type==="paste",wW=e=>Promise.all(mn(e,n=>SC(n).then(o=>({file:n,uri:o})))),CW=e=>{const n=fp(e);return o=>Rs(o.type,"image/")&&Go(n,r=>fW(r)===o.type)},qL=(e,n)=>{const o=n.items?Ri(Xi(n.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=n.files?Xi(n.files):[];return Ut(o.length>0?o:r,CW(e))},GL=(e,n,o)=>{const r=jL(n)?n.clipboardData:n.dataTransfer;if(Nd(e)&&r){const a=qL(e,r);if(a.length>0)return n.preventDefault(),wW(a).then(u=>{o&&e.selection.setRng(o),Ae(u,m=>{SD(e,m)})}),!0}return!1},KL=e=>{var n,o;return Et.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},ED=e=>Rt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,oT=(e,n,o,r,a)=>{let u=LL(o);const m=Gf(n,eT())||PL(o),v=!m&&sW(u),C=xD(u);(BL(u)||!u.length||v&&!C)&&(r=!0),(r||C)&&(Gf(n,"text/plain")&&v?u=n["text/plain"]:u=ns(u)),!BL(u)&&(r?Hp(e,u,a):nT(e,u,m,a))},xW=(e,n,o)=>{let r;const a=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{ED(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||KL(u))return;const m=o.get()==="text"||r;r=!1;const v=VL(u.clipboardData);!UL(v)&&GL(e,u,a())||(Gf(v,"text/html")?(u.preventDefault(),oT(e,v,v["text/html"],m,!0)):Gf(v,"text/plain")&&Gf(v,"text/uri-list")?(u.preventDefault(),oT(e,v,v["text/plain"],m,!0)):(n.create(),Gl.setEditorTimeout(e,()=>{const C=n.getHtml();n.remove(),oT(e,v,C,m,!1)},0)))})},SW=e=>{const n=a=>Rs(a,"webkit-fake-url"),o=a=>Rs(a,"data:"),r=a=>{var u;return((u=a.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(a,u,m)=>{if(!Nd(e)&&r(m))for(const v of a){const C=v.attr("src");ae(C)&&!v.attr("data-mce-object")&&C!==Et.transparentSrc&&(n(C)||!cw(e)&&o(C))&&v.remove()}})},EW=(e,n,o)=>{xW(e,n,o),SW(e)},XL=(e,n)=>{n.get()==="text"?(n.set("html"),qS(e,!1)):(n.set("text"),qS(e,!0)),e.focus()},_D=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{XL(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&nT(e,r.html,r.internal,!1),r.text&&Hp(e,r.text,!1)})},_W=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(eT(),n),!0}catch{return!1}else return!1},TD=(e,n,o,r)=>{_W(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},kD=e=>(n,o)=>{const{dom:r,selection:a}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const v=a.getRng();m.focus();const C=r.createRng();C.selectNodeContents(m),a.setRng(C),Gl.setEditorTimeout(e,()=>{a.setRng(v),r.remove(u),o()},0)},YL=e=>({html:dK(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),JL=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),QL=e=>!e.selection.isCollapsed()||JL(e),TW=e=>n=>{!n.isDefaultPrevented()&&QL(e)&&e.selection.isEditable()&&TD(n,YL(e),kD(e),()=>{if(Et.browser.isChromium()||Et.browser.isFirefox()){const o=e.selection.getRng();Gl.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},kW=e=>n=>{!n.isDefaultPrevented()&&QL(e)&&TD(n,YL(e),kD(e),Zt)},AW=e=>{e.on("cut",TW(e)),e.on("copy",kW(e))},e$=(e,n)=>{var o,r;return Ot.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},sT=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},t$=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},n$=e=>Go(e.files,n=>/^image\//.test(n.type)),OW=(e,n,o,r)=>{const a=e.getParent(o,m=>gf(n,m));if(!D(e.getParent(o,"summary")))return!0;if(a&&en(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!D(m.querySelector(a.nodeName.toLowerCase()))}else return!1},DW=e=>{e.on("input",n=>{const o=r=>D(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Ut(e.dom.select("details"),o);Ae(r,a=>{Jo(a.firstChild)&&a.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Sg().dom),a.prepend(u)})}})},o$=(e,n)=>{iS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Nd(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&n$(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=e$(e,o);if(_n(r))return;const a=VL(o.dataTransfer),u=Gf(a,eT());if((!UL(a)||sT(a))&&GL(e,o,r))return;const m=a[eT()],v=m||a["text/html"]||a["text/plain"],C=OW(e.dom,e.schema,r.startContainer,a),k=n.get();k&&!C||v&&(o.preventDefault(),Gl.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||k&&C)&&e.execCommand("Delete"),t$(e,r);const L=LL(v);a["text/html"]?nT(e,L,u,!0):Hp(e,L,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Nd(e)&&!n.get()&&(o.preventDefault(),t$(e,e$(e,o))),o.type==="dragend"&&n.set(!1)}),DW(e)},s$=e=>{const n=a=>u=>{a(e,u)},o=sb(e);le(o)&&e.on("PastePreProcess",n(o));const r=aw(e);le(r)&&e.on("PastePostProcess",n(r))},RW=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},MW=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r$=e=>O.trim(e).replace(MW,km).toLowerCase(),PW=(e,n,o)=>{const r=cS(e);if(o||r==="all"||!lS(e))return n;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(v,C,k,L)=>{const $=u.parseStyle(u.decode(k)),H={};for(let ee=0;ee<a.length;ee++){const Y=$[a[ee]];let ne=Y,fe=u.getStyle(m,a[ee],!0);/color/.test(a[ee])&&(ne=r$(ne),fe=r$(fe)),fe!==ne&&(H[a[ee]]=Y)}const K=u.serializeStyle(H,"span");return K?C+' style="'+K+'"'+L:C+L})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,v,C)=>m+' style="'+v+'"'+C),n},NW=e=>{(Et.browser.isChromium()||Et.browser.isSafari())&&RW(e,PW)},i$=e=>{const n=tr(!1),o=tr(Fg(e)?"text":"html"),r=dW(e);NW(e),_D(e,o),s$(e),e.on("PreInit",()=>{AW(e),o$(e,n),EW(e,r,o)})},BW=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},IW=e=>{e.parser.addNodeFilter("details",n=>{const o=eA(e);Ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=tA(e);Ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},LW=e=>{BW(e),IW(e)},$W=Jo,a$=Ke,FW=e=>ps(e.dom),HW=e=>kr(e.dom),c$=e=>n=>Fe(re.fromDom(e),n),l$=(e,n,o)=>Ii(re.fromDom(e),r=>HW(r)||o.isBlock(Un(r)),c$(n)).getOr(re.fromDom(n)).dom,AD=(e,n)=>Ii(re.fromDom(e),FW,c$(n)),u$=(e,n,o)=>{const r=new Ns(e,n),a=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:a();m&&!$W(m);m=a())sc(m)&&(u=m);return u},zW=(e,n,o)=>{const a=Re.fromRangeStart(e).getNode(),u=l$(a,n,o),m=u$(a,u,!1),v=u$(a,u,!0),C=document.createRange();return AD(m,u).fold(()=>{a$(m)?C.setStart(m,0):C.setStartBefore(m)},k=>C.setStartBefore(k.dom)),AD(v,u).fold(()=>{a$(v)?C.setEnd(v,v.data.length):C.setEndAfter(v)},k=>C.setEndAfter(k.dom)),C},VW=e=>{const n=zW(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(CE(n))},UW=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),VW(e))})};var R0;(function(e){e.Before="before",e.After="after"})(R0||(R0={}));const WW=(e,n)=>Math.abs(e.left-n),ZW=(e,n)=>Math.abs(e.right-n),rT=(e,n)=>e>=n.top&&e<=n.bottom,d$=(e,n)=>e.top<n.bottom&&e.bottom>n.top,jW=(e,n)=>{const o=Oy(e,n)/Math.min(e.height,n.height);return d$(e,n)&&o>.5},f$=(e,n)=>{const o=Ut(e,r=>rT(n,r));return Ck(o).fold(()=>[[],e],r=>{const{pass:a,fail:u}=Nr(e,m=>jW(m,r));return[a,u]})},m$=(e,n)=>({node:e.node,position:WW(e,n)<ZW(e,n)?R0.Before:R0.After}),OD=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),DD=(e,n,o,r)=>{const a=$=>sc($.node)?W.some($):It($.node)?DD(Xi($.node.childNodes),n,o,!1):W.none(),u=($,H,K)=>a(H).filter(ee=>Math.abs(K($,n,o)-K(ee,n,o))<2&&Ke(ee.node)),m=($,H)=>{const K=os($,(ee,Y)=>H(ee,n,o)-H(Y,n,o));return Hc(K,a).map(ee=>r&&!Ke(ee.node)&&K.length>1?u(ee,K[1],H).getOr(ee):ee)},[v,C]=f$(aI(e),o),{pass:k,fail:L}=Nr(C,$=>$.top<o);return m(v,OD).orThunk(()=>m(L,Sf)).orThunk(()=>m(k,Sf))},h$=(e,n,o,r)=>{const a=(u,m)=>{const v=k=>It(k)&&k.classList.contains("mce-drag-container"),C=Ut(u.dom.childNodes,Uo(v));return m.fold(()=>DD(C,o,r,!0),k=>{const L=Ut(C,$=>$!==k.dom);return DD(L,o,r,!0)}).orThunk(()=>(Fe(u,e)?W.none():Kn(u)).bind(L=>a(L,W.some(u))))};return a(n,W.none())},qW=(e,n,o)=>{const r=re.fromDom(e),a=nn(r),m=re.fromPoint(a,n,o).filter(v=>Lt(r,v)).getOr(r);return h$(r,m,n,o)},RD=(e,n,o)=>qW(e,n,o).filter(r=>Wg(r.node)).map(r=>m$(r,n)),p$=e=>{var n,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,u=a.documentElement,m=a.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},g$=e=>e.inline?p$(e.getBody()):{left:0,top:0},GW=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},KW=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},a={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:a},XW=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=p$(e.getContentAreaContainer()),r=KW(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},v2=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),YW=(e,n)=>v2(g$(e),GW(e),XW(e,n)),v$=e=>({target:e,srcElement:e}),b$=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...v$(o)}),JW=(e,n,o)=>{const r=Tr("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Zt,stopImmediatePropagation:Zt,stopPropagation:Zt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...v$(n)}},QW=(e,n)=>{const o=nW(e);return n==="dragstart"?(kL(o),pD(o)):n==="drop"?(KU(o),gD(o)):(AL(o),QU(o)),o},eZ=(e,n,o,r)=>{const a=QW(o,e);return En(r)?JW(e,n,a):b$(e,r,n,a)},iT=32,tZ=100,q1=8,b2=16,MD=ps,nZ=Ry(MD,kr),oZ=(e,n,o)=>MD(o)&&o!==n&&e.isEditable(o.parentElement),sZ=(e,n,o)=>_n(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),fK=(e,n,o,r)=>{const a=e.dom,u=n.cloneNode(!0);a.setStyles(u,{width:o,height:r}),a.setAttrib(u,"data-mce-selected",null);const m=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},rZ=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},y2=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},aT=y2("left",-iT),w2=y2("left",iT),y$=y2("top",-iT),w$=y2("top",iT),C$=(e,n,o,r,a,u,m,v,C,k,L,$)=>{let H=0,K=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>a&&(H=n.pageX+o-a),n.pageY+r>u&&(K=n.pageY+r-u),e.style.width=o-H+"px",e.style.height=r-K+"px";const ee=C.clientHeight,Y=C.clientWidth,ne=m+C.getBoundingClientRect().top,fe=v+C.getBoundingClientRect().left;L.on(he=>{he.intervalId.clear(),he.dragging&&$&&(m+q1>=ee?he.intervalId.set(w$(k)):m-q1<=0?he.intervalId.set(y$(k)):v+q1>=Y?he.intervalId.set(w2(k)):v-q1<=0?he.intervalId.set(aT(k)):ne+b2>=window.innerHeight?he.intervalId.set(w$(window)):ne-b2<=0?he.intervalId.set(y$(window)):fe+b2>=window.innerWidth?he.intervalId.set(w2(window)):fe-b2<=0&&he.intervalId.set(aT(window)))})},x$=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},PD=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);x$(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Dd(re.fromDom(o))},S$=e=>e.button===0,iZ=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),aZ=(e,n)=>o=>{if(S$(o)){const r=Ko(n.dom.getParents(o.target),nZ).getOr(null);if(Ne(r)&&oZ(n.dom,n.getBody(),r)){const a=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:Q_(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:fK(n,r,r.offsetWidth,r.offsetHeight),intervalId:fk(tZ)})}}},E$=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),RD(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===R0.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(n,o)})},C2=(e,n,o,r,a)=>{n==="dragstart"&&ML(r,e.dom.getOuterHTML(o));const u=eZ(n,o,r,a);return e.dispatch(n,u)},mK=(e,n)=>{const o=Pv((a,u)=>E$(n,a,u),0);n.on("remove",o.cancel);const r=e;return a=>e.on(u=>{const m=Math.max(Math.abs(a.screenX-u.screenX),Math.abs(a.screenY-u.screenY));if(!u.dragging&&m>10){const v=C2(n,"dragstart",u.element,u.dataTransfer,a);if(Ne(v.dataTransfer)&&(u.dataTransfer=v.dataTransfer),v.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const v=a.currentTarget===n.getDoc().documentElement,C=iZ(u,YW(n,a));rZ(u.ghost,n.getBody()),C$(u.ghost,C,u.width,u.height,u.maxX,u.maxY,a.clientY,a.clientX,n.getContentAreaContainer(),n.getWin(),r,v),o.throttle(a.clientX,a.clientY)}})},cZ=e=>{const n=e.getSel();if(Ne(n)){const r=n.getRangeAt(0).startContainer;return Ke(r)?r.parentNode:r}else return null},lZ=(e,n)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(sZ(n,cZ(n.selection),r.element)){const u=(a=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:n.getBody();C2(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{PD(n.dom,r.element),oW(r.dataTransfer).each(v=>n.insertContent(v)),n._selectionOverrides.hideFakeCaret()})}C2(n,"dragend",n.getBody(),r.dataTransfer,o)}}),k$(e)},_$=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>C2(n,"dragend",r.element,r.dataTransfer),a=>C2(n,"dragend",r.element,r.dataTransfer,a))}),k$(e)},T$=(e,n)=>o=>_$(e,n,W.some(o)),k$=e=>{e.on(n=>{n.intervalId.clear(),x$(n.ghost)}),e.clear()},A$=e=>{const n=wf(),o=Zo.DOM,r=document,a=aZ(n,e),u=mK(n,e),m=lZ(n,e),v=T$(n,e);e.on("mousedown",a),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",v),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",v)}),e.on("keydown",C=>{C.keyCode===Rt.ESC&&_$(n,e,W.none())})},uZ=e=>{const n=a=>{if(!a.isDefaultPrevented()){const u=a.dataTransfer;u&&(gn(u.types,"Files")||u.files.length>0)&&(a.preventDefault(),a.type==="drop"&&eu(e,"Dropped file type is not supported"))}},o=a=>{Xw(e,a.target)&&n(a)},r=()=>{const a=Zo.DOM,u=e.dom,m=document,v=e.inline?e.getBody():e.getDoc(),C=["drop","dragover"];Ae(C,k=>{a.bind(m,k,o),u.bind(v,k,n)}),e.on("remove",()=>{Ae(C,k=>{a.unbind(m,k,o),u.unbind(v,k,n)})})};e.on("init",()=>{Gl.setEditorTimeout(e,r,0)})},dZ=e=>{A$(e),tS(e)&&uZ(e)},fZ=e=>{const n=Pv(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=HC(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},mZ=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Ar(o)){const r=Op(e.getBody(),o),a=ps(r)?r:o;e.selection.getNode()!==a&&u0(e,a).each(u=>e.selection.setRng(u))}})})},x2=ps,ND=(e,n)=>Op(e.getBody(),n),hK=e=>{const n=e.selection,o=e.dom,r=e.getBody(),a=xS(e,r,o.isBlock,()=>h1(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let v;const C=Ct=>Ne(Ct)&&o.hasClass(Ct,"mce-offscreen-selection"),k=Ct=>Ct!==r&&(x2(Ct)||Ar(Ct))&&o.isChildOf(Ct,r)&&o.isEditable(Ct.parentNode),L=Ct=>{Ct&&n.setRng(Ct)},$=(Ct,Qe,Me,Le=!0)=>e.dispatch("ShowCaret",{target:Qe,direction:Ct,before:Me}).isDefaultPrevented()?null:(Le&&n.scrollIntoView(Qe,Ct===-1),a.show(Me,Qe)),H=Ct=>{Ct.hasAttribute("data-mce-caret")&&(_g(Ct),n.scrollIntoView(Ct))},K=()=>{e.on("click",Qe=>{o.isEditable(Qe.target)||(Qe.preventDefault(),e.focus())}),e.on("blur NewBlock",Ee),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Qe=>{const Me=Qe.target,Le=ND(e,Me);x2(Le)?(Qe.preventDefault(),u0(e,Le).each(pe)):k(Me)&&u0(e,Me).each(pe)},!0),e.on("mousedown",Qe=>{const Me=Qe.target;if(Me!==r&&Me.nodeName!=="HTML"&&!o.isChildOf(Me,r)||!fB(e,Qe.clientX,Qe.clientY))return;Ee(),it();const Le=ND(e,Me);x2(Le)?(Qe.preventDefault(),u0(e,Le).each(pe)):RD(r,Qe.clientX,Qe.clientY).each(yt=>{Qe.preventDefault();const zt=$(1,yt.node,yt.position===R0.Before,!1);L(zt),yd(Le)?Le.focus():e.getBody().focus()})}),e.on("keypress",Qe=>{Rt.modifierPressed(Qe)||x2(n.getNode())&&Qe.preventDefault()}),e.on("GetSelectionRange",Qe=>{let Me=Qe.range;if(v){if(!v.parentNode){v=null;return}Me=Me.cloneRange(),Me.selectNode(v),Qe.range=Me}}),e.on("SetSelectionRange",Qe=>{Qe.range=ne(Qe.range);const Me=pe(Qe.range,Qe.forward);Me&&(Qe.range=Me)});const Ct=Qe=>It(Qe)&&Qe.id==="mcepastebin";e.on("AfterSetSelectionRange",Qe=>{const Me=Qe.range,Le=Me.startContainer.parentElement;!Y(Me)&&!Ct(Le)&&it(),C(Le)||Ee()}),dZ(e),fZ(e),mZ(e)},ee=Ct=>Ta(Ct)||Vv(Ct)||Eg(Ct),Y=Ct=>ee(Ct.startContainer)||ee(Ct.endContainer),ne=Ct=>{const Qe=e.schema.getVoidElements(),Me=o.createRng(),Le=Ct.startContainer,yt=Ct.startOffset,zt=Ct.endContainer,Rn=Ct.endOffset;return en(Qe,Le.nodeName.toLowerCase())?yt===0?Me.setStartBefore(Le):Me.setStartAfter(Le):Me.setStart(Le,yt),en(Qe,zt.nodeName.toLowerCase())?Rn===0?Me.setEndBefore(zt):Me.setEndAfter(zt):Me.setEnd(zt,Rn),Me},fe=(Ct,Qe)=>{const Me=re.fromDom(e.getBody()),Le=e.getDoc(),yt=ag(Me,"#"+u).getOrThunk(()=>{const Wn=re.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Le);return zo(Wn,"id",u),ur(Me,Wn),Wn}),zt=o.createRng();pm(yt),Yo(yt,[re.fromText(Jr,Le),re.fromDom(Qe),re.fromText(Jr,Le)]),zt.setStart(yt.dom.firstChild,1),zt.setEnd(yt.dom.lastChild,0),cg(yt,{top:o.getPos(Ct,e.getBody()).y+"px"}),Gw(yt);const Rn=n.getSel();return Rn&&(Rn.removeAllRanges(),Rn.addRange(zt)),zt},he=Ct=>{const Qe=Ct.cloneNode(!0),Me=e.dispatch("ObjectSelected",{target:Ct,targetClone:Qe});if(Me.isDefaultPrevented())return null;const Le=fe(Ct,Me.targetClone),yt=re.fromDom(Ct);return Ae(pi(re.fromDom(e.getBody()),`*[${m}]`),zt=>{Fe(yt,zt)||pr(zt,m)}),o.getAttrib(Ct,m)||Ct.setAttribute(m,"1"),v=Ct,it(),Le},pe=(Ct,Qe)=>{if(!Ct)return null;if(Ct.collapsed){if(!Y(Ct)){const zt=Qe?1:-1,Rn=zl(zt,r,Ct),Wn=Rn.getNode(!Qe);if(Ne(Wn)){if(Wg(Wn))return $(zt,Wn,Qe?!Rn.isAtEnd():!1,!1);if(Rd(Wn)&&ps(Wn.nextSibling)){const No=o.createRng();return No.setStart(Wn,0),No.setEnd(Wn,0),No}}const _o=Rn.getNode(Qe);if(Ne(_o)){if(Wg(_o))return $(zt,_o,Qe?!1:!Rn.isAtEnd(),!1);if(Rd(_o)&&ps(_o.previousSibling)){const No=o.createRng();return No.setStart(_o,1),No.setEnd(_o,1),No}}}return null}let Me=Ct.startContainer,Le=Ct.startOffset;const yt=Ct.endOffset;if(Ke(Me)&&Le===0&&x2(Me.parentNode)&&(Me=Me.parentNode,Le=o.nodeIndex(Me),Me=Me.parentNode),!It(Me))return null;if(yt===Le+1&&Me===Ct.endContainer){const zt=Me.childNodes[Le];if(k(zt))return he(zt)}return null},Ee=()=>{v&&v.removeAttribute(m),ag(re.fromDom(e.getBody()),"#"+u).each(vo),v=null},Be=()=>{a.destroy(),v=null},it=()=>{a.hide()};return Ic(e)||K(),{showCaret:$,showBlockCaretContainer:H,hideFakeCaret:it,destroy:Be}},hZ=(e,n)=>{let o=n;for(let r=e.previousSibling;Ke(r);r=r.previousSibling)o+=r.data.length;return o},BD=(e,n,o,r,a)=>{if(Ke(o)&&(r<0||r>o.data.length))return[];const u=a&&Ke(o)?[hZ(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,a)),m=m.parentNode;return m===n?u.reverse():[]},ID=(e,n,o,r,a,u,m=!1)=>{const v=BD(e,n,o,r,m),C=BD(e,n,a,u,m);return{start:v,end:C}},cT=(e,n)=>{const o=n.slice(),r=o.pop();return Pn(r)?wo(o,(u,m)=>u.bind(v=>W.from(v.childNodes[m])),W.some(e)).bind(u=>Ke(u)&&(r<0||r>u.data.length)?W.none():W.some({node:u,offset:r})):W.none()},O$=(e,n)=>cT(e,n.start).bind(({node:o,offset:r})=>cT(e,n.end).map(({node:a,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(a,u),m})),pZ=(e,n,o,r=!1)=>ID(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),M0=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,Ke(n.firstChild)&&Nl(n.firstChild.data)),M0(e,r,o)}},S2=(e,n,o,r=!0)=>{const a=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Ke(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Ke(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),M0(e,a,o),a!==u&&M0(e,u,o))},G1=(e,n)=>W.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),lT=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:ni(r).concat(e.blockPatterns),inlinePatterns:Yv(r).concat(e.inlinePatterns)}},uT=(e,n,o,r)=>{const a=e.createRng();return a.setStart(n,0),a.setEnd(o,r),a.toString()},D$=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),dT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},LD=(e,n,o)=>{const r=O$(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),v=r.startOffset===0?a:a.splitText(r.startOffset),C=v.parentNode,k=m.parentNode;return{prefix:n,end:k.insertBefore(D$(e,n+"-end"),m),start:C.insertBefore(D$(e,n+"-start"),v)}},R$=(e,n,o)=>{M0(e,e.get(n.prefix+"-end"),o),M0(e,e.get(n.prefix+"-start"),o)},$D=e=>e.start.length===0,gZ=e=>(n,o)=>{const a=n.data.substring(0,o),u=a.lastIndexOf(e.charAt(e.length-1)),m=a.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},fT=(e,n,o,r)=>{const a=n.start;return wl(e,r.container,r.offset,gZ(a),o).bind(m=>{var v,C;const k=(C=(v=o.textContent)===null||v===void 0?void 0:v.indexOf(a))!==null&&C!==void 0?C:-1;if(k!==-1&&m.offset>=k+a.length){const $=e.createRng();return $.setStart(m.container,m.offset-a.length),$.setEnd(m.container,m.offset),W.some($)}else{const $=m.offset-a.length;return W1(m.container,$,o).map(H=>{const K=e.createRng();return K.setStart(H.container,H.offset),K.setEnd(m.container,m.offset),K}).filter(H=>H.toString()===a).orThunk(()=>fT(e,n,o,nu(m.container,0)))}})},vZ=(e,n,o,r,a,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),W.some(m)}return w0(o,r,a).bind(m=>fT(e,n,a,m).bind(C=>{var k;if(u){if(C.endContainer===m.container&&C.endOffset===m.offset)return W.none();if(m.offset===0&&((k=C.endContainer.textContent)===null||k===void 0?void 0:k.length)===C.endOffset)return W.none()}return W.some(C)}))},bZ=(e,n,o,r)=>{const a=e.dom,u=a.getRoot(),m=o.pattern,v=o.position.container,C=o.position.offset;return W1(v,C-o.pattern.end.length,n).bind(k=>{const L=ID(a,u,k.container,k.offset,v,C,r);if($D(m))return W.some({matches:[{pattern:m,startRng:L,endRng:L}],position:k});{const $=mT(e,o.remainingPatterns,k.container,k.offset,n,r),H=$.getOr({matches:[],position:k}),K=H.position;return vZ(a,m,K.container,K.offset,n,$.isNone()).map(Y=>{const ne=pZ(a,u,Y,r);return{matches:H.matches.concat([{pattern:m,startRng:ne,endRng:L}]),position:nu(Y.startContainer,Y.startOffset)}})}})},mT=(e,n,o,r,a,u)=>{const m=e.dom;return w0(o,r,m.getRoot()).bind(v=>{const C=uT(m,a,o,r);for(let k=0;k<n.length;k++){const L=n[k];if(!Wc(C,L.end))continue;const $=n.slice();$.splice(k,1);const H=bZ(e,a,{pattern:L,remainingPatterns:$,position:v},u);if(H.isNone()&&r>0)return mT(e,n,o,r-1,a,u);if(H.isSome())return H}return W.none()})},M$=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?Ae(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},yZ=(e,n,o,r)=>{const a=dT(e.dom,o);S2(e.dom,a,r),M$(e,n,a)},wZ=(e,n,o,r,a)=>{const u=e.dom,m=dT(u,r),v=dT(u,o);S2(u,v,a),S2(u,m,a);const C={prefix:o.prefix,start:o.end,end:r.start},k=dT(u,C);M$(e,n,k)},P$=(e,n)=>{const o=Jh("mce_textpattern"),r=Ga(n,(a,u)=>{const m=LD(e,o+`_end${a.length}`,u.endRng);return a.concat([{...u,endMarker:m}])},[]);return Ga(r,(a,u)=>{const m=r.length-a.length-1,v=$D(u.pattern)?u.endMarker:LD(e,o+`_start${m}`,u.startRng);return a.concat([{...u,startMarker:v}])},[])},N$=e=>os(e,(n,o)=>o.end.length-n.end.length),FD=(e,n)=>{const o=hr(e,r=>Go(n,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},hT=(e,n,o,r,a,u)=>{const m=mT(e,a.inlinePatterns,o,r,n,u).fold(()=>[],C=>C.matches),v=mT(e,N$(a.inlinePatterns),o,r,n,u).fold(()=>[],C=>C.matches);return FD(m,v)},B$=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=P$(o,n);Ae(a,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),v=C=>C===m;$D(u.pattern)?yZ(e,u.pattern,u.endMarker,v):wZ(e,u.pattern,u.startMarker,u.endMarker,v),R$(o,u.endMarker,v),R$(o,u.startMarker,v)}),e.selection.moveToBookmark(r)},pT=(e,n,o)=>$_(n,0,n).map(r=>{const a=r.container;return C0(a,o.start.length,n).each(u=>{const m=e.createRng();m.setStart(a,0),m.setEnd(u.container,u.offset),S2(e,m,v=>v===n)}),a}),I$=e=>(n,o)=>{const r=n.dom,a=o.pattern,u=O$(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),m=(v,C)=>{const k=C.get(v);return hn(k)&&Gs(k).exists(L=>en(L,"block"))};return G1(n,u).each(v=>{a.type==="block-format"?m(a.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,v,a),n.formatter.apply(a.format)}):a.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,v,a),n.execCommand(a.cmd,!1,a.value)})}),!0},CZ=e=>os(e,(n,o)=>o.start.length-n.start.length),HD=e=>(n,o)=>{const r=CZ(n),a=o.replace(Jr," ");return Ko(r,u=>e(u,o,a))},L$=(e,n)=>(o,r,a,u,m)=>{var v;m===void 0&&(m=(v=r.textContent)!==null&&v!==void 0?v:"");const C=o.dom,k=zi(o);return C.is(r,k)?e(a.blockPatterns,m).map(L=>n&&O.trim(m).length===L.start.length?[]:[{pattern:L,range:ID(C,C.getRoot(),r,0,r,0,u)}]).getOr([]):[]},xZ=e=>/^\s[^\s]/.test(e),SZ=I$((e,n,o)=>{pT(e,n,o).each(r=>{const a=re.fromDom(r),u=Va(a);xZ(u)&&pk(a,u.slice(1))})}),EZ=HD((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),_Z=L$(EZ,!0),TZ=(e,n)=>{const o=e.selection.getRng();return G1(e,o).map(r=>{var a;const u=Math.max(0,o.startOffset),m=lT(n,r,(a=r.textContent)!==null&&a!==void 0?a:""),v=hT(e,r,o.startContainer,u,m,!0),C=_Z(e,r,m,!0);return{inlineMatches:v,blockMatches:C}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},$$=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();Ae(n,r=>SZ(e,r)),e.selection.moveToBookmark(o)},kZ=I$(pT),zD=HD((e,n,o)=>n===e.start||o===e.start),AZ=L$(zD,!1),OZ=(e,n)=>{const o=e.selection.getRng();return G1(e,o).map(r=>{const a=Math.max(0,o.startOffset),u=uT(e.dom,r,o.startContainer,a),m=lT(n,r,u);return AZ(e,r,m,!1,u)}).filter(r=>r.length>0)},DZ=(e,n)=>{Ae(n,o=>kZ(e,o))},RZ=(e,n)=>TZ(e,n).fold(Ze,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{yx(e),B$(e,o),$$(e,r);const a=e.selection.getRng(),u=w0(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(m=>{const v=m.container;v.data.charAt(m.offset-1)===bd&&(v.deleteData(m.offset-1,1),M0(e.dom,v.parentNode,C=>C===e.dom.getRoot()))})}),!0)),MZ=(e,n)=>{const o=e.selection.getRng();G1(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),u=uT(e.dom,r,o.startContainer,a),m=lT(n,r,u),v=hT(e,r,o.startContainer,a,m,!1);v.length>0&&e.undoManager.transact(()=>{B$(e,v)})})},PZ=(e,n)=>OZ(e,n).fold(Ze,o=>(e.undoManager.transact(()=>{DZ(e,o)}),!0)),E2=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},NZ=(e,n)=>E2(e,n,(o,r)=>o===r.keyCode&&!Rt.modifierPressed(r)),BZ=(e,n)=>E2(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),IZ=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>cl(Gk(e),Kk(e)),a=()=>Vi(e);e.on("keydown",m=>{if(m.keyCode===13&&!Rt.modifierPressed(m)&&e.selection.isCollapsed()){const v=qy(r(),"enter");(v.inlinePatterns.length>0||v.blockPatterns.length>0||a())&&RZ(e,v)&&m.preventDefault()}},!0),e.on("keydown",m=>{if(m.keyCode===32&&e.selection.isCollapsed()){const v=qy(r(),"space");(v.blockPatterns.length>0||a())&&PZ(e,v)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=qy(r(),"space");(m.inlinePatterns.length>0||a())&&MZ(e,m)}};e.on("keyup",m=>{NZ(o,m)&&u()}),e.on("keypress",m=>{BZ(n,m)&&Gl.setEditorTimeout(e,u)})},LZ=e=>{IZ(e)},$Z=e=>{const n=O.each,o=Rt.BACKSPACE,r=Rt.DELETE,a=e.dom,u=e.selection,m=e.parser,v=Et.browser,C=v.isFirefox(),k=v.isChromium()||v.isSafari(),L=Et.deviceType.isiPhone()||Et.deviceType.isiPad(),$=Et.os.isMacOS()||Et.os.isiOS(),H=(bt,Qt)=>{try{e.getDoc().execCommand(bt,!1,String(Qt))}catch{}},K=bt=>bt.isDefaultPrevented(),ee=()=>{const bt=Fn=>{const _t=a.create("body"),In=Fn.cloneContents();return _t.appendChild(In),u.serializer.serialize(_t,{format:"html"})},Qt=Fn=>{const _t=bt(Fn),In=a.createRng();In.selectNode(e.getBody());const Ln=bt(In);return _t===Ln};e.on("keydown",Fn=>{const _t=Fn.keyCode;if(!K(Fn)&&(_t===r||_t===o)&&e.selection.isEditable()){const In=e.selection.isCollapsed(),Ln=e.getBody();if(In&&!Si(e.schema,Ln)||!In&&!Qt(e.selection.getRng()))return;Fn.preventDefault(),e.setContent(""),Ln.firstChild&&a.isBlock(Ln.firstChild)?e.selection.setCursorLocation(Ln.firstChild,0):e.selection.setCursorLocation(Ln,0),e.nodeChanged()}})},Y=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ne=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",bt=>{let Qt;if(bt.target===e.getDoc().documentElement)if(Qt=u.getRng(),e.getBody().focus(),bt.type==="mousedown"){if(Ta(Qt.startContainer))return;u.placeCaretAt(bt.clientX,bt.clientY)}else u.setRng(Qt)})},fe=()=>{e.on("keydown",bt=>{if(!K(bt)&&bt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const Qt=u.getNode(),Fn=Qt.previousSibling;if(Qt.nodeName==="HR"){a.remove(Qt),bt.preventDefault();return}Fn&&Fn.nodeName&&Fn.nodeName.toLowerCase()==="hr"&&(a.remove(Fn),bt.preventDefault())}}})},he=()=>{Range.prototype.getClientRects||e.on("mousedown",bt=>{if(!K(bt)&&bt.target.nodeName==="HTML"){const Qt=e.getBody();Qt.blur(),Gl.setEditorTimeout(e,()=>{Qt.focus()})}})},pe=()=>{const bt=nS(e);e.on("click",Qt=>{const Fn=Qt.target;/^(IMG|HR)$/.test(Fn.nodeName)&&a.isEditable(Fn)&&(Qt.preventDefault(),e.selection.select(Fn),e.nodeChanged()),Fn.nodeName==="A"&&a.hasClass(Fn,bt)&&Fn.childNodes.length===0&&a.isEditable(Fn.parentNode)&&(Qt.preventDefault(),u.select(Fn))})},Ee=()=>{const bt=()=>{const Fn=a.getAttribs(u.getStart().cloneNode(!1));return()=>{const _t=u.getStart();_t!==e.getBody()&&(a.setAttrib(_t,"style",null),n(Fn,In=>{_t.setAttributeNode(In.cloneNode(!0))}))}},Qt=()=>!u.isCollapsed()&&a.getParent(u.getStart(),a.isBlock)!==a.getParent(u.getEnd(),a.isBlock);e.on("keypress",Fn=>{let _t;return!K(Fn)&&(Fn.keyCode===8||Fn.keyCode===46)&&Qt()?(_t=bt(),e.getDoc().execCommand("delete",!1),_t(),Fn.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Fn=>{if(!K(Fn)&&Qt()){const _t=bt();Gl.setEditorTimeout(e,()=>{_t()})}})},Be=()=>{e.on("keydown",bt=>{if(!K(bt)&&bt.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const Qt=u.getNode().previousSibling;if(Qt&&Qt.nodeName&&Qt.nodeName.toLowerCase()==="table")return bt.preventDefault(),!1}return!0})},it=()=>{e.on("keydown",bt=>{if(K(bt)||bt.keyCode!==Rt.BACKSPACE)return;let Qt=u.getRng();const Fn=Qt.startContainer,_t=Qt.startOffset,In=a.getRoot();let Ln=Fn;if(!(!Qt.collapsed||_t!==0)){for(;Ln.parentNode&&Ln.parentNode.firstChild===Ln&&Ln.parentNode!==In;)Ln=Ln.parentNode;Ln.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ln),Qt=a.createRng(),Qt.setStart(Fn,0),Qt.setEnd(Fn,0),u.setRng(Qt))}})},Ct=()=>{const bt=()=>{H("StyleWithCSS",!1),H("enableInlineTableEditing",!1),Kx(e)||H("enableObjectResizing",!1)};rw(e)||e.on("BeforeExecCommand mousedown",bt)},Qe=()=>{const bt=()=>{n(a.select("a:not([data-mce-block])"),Qt=>{var Fn;let _t=Qt.parentNode;const In=a.getRoot();if((_t==null?void 0:_t.lastChild)===Qt){for(;_t&&!a.isBlock(_t);){if(((Fn=_t.parentNode)===null||Fn===void 0?void 0:Fn.lastChild)!==_t||_t===In)return;_t=_t.parentNode}a.add(_t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Qt=>{(Qt.type==="setcontent"||Qt.command==="mceInsertLink")&&bt()})},Me=()=>{e.on("init",()=>{H("DefaultParagraphSeparator",zi(e))})},Le=bt=>{const Qt=bt.getBody(),Fn=bt.selection.getRng();return Fn.startContainer===Fn.endContainer&&Fn.startContainer===Qt&&Fn.startOffset===0&&Fn.endOffset===Qt.childNodes.length},yt=()=>{e.on("keyup focusin mouseup",bt=>{!Rt.modifierPressed(bt)&&!Le(e)&&u.normalize()},!0)},zt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Rn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Wn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",bt=>{let Qt;bt.target.nodeName==="HTML"&&(Qt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Qt),e.selection.normalize(),e.nodeChanged())}))},_o=()=>{$&&e.on("keydown",bt=>{Rt.metaKeyPressed(bt)&&!bt.shiftKey&&(bt.keyCode===37||bt.keyCode===39)&&(bt.preventDefault(),e.selection.getSel().modify("move",bt.keyCode===37?"backward":"forward","lineboundary"))})},No=()=>{e.on("click",bt=>{let Qt=bt.target;do if(Qt.tagName==="A"){bt.preventDefault();return}while(Qt=Qt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},rs=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",bt=>{bt.preventDefault()})})},Oi=()=>{m.addNodeFilter("br",bt=>{let Qt=bt.length;for(;Qt--;)bt[Qt].attr("class")==="Apple-interchange-newline"&&bt[Qt].remove()})},Bo=Zt,gt=()=>{if(!C||e.removed)return!1;const bt=e.selection.getSel();return!bt||!bt.rangeCount||bt.rangeCount===0},Ht=()=>{k&&(ne(),pe(),rs(),Y(),L&&(Rn(),Wn(),No())),C&&(he(),Ct(),zt(),_o())},Zn=()=>{it(),ee(),Et.windowsPhone||yt(),k&&(ne(),pe(),Me(),rs(),Be(),Oi(),L?(Rn(),Wn(),No()):Y()),C&&(fe(),he(),Ee(),Ct(),Qe(),zt(),_o(),Be())};return Ic(e)?Ht():Zn(),{refreshContentEditable:Bo,isHidden:gt}},FZ=e=>e.toLowerCase()==="gpl",HZ=e=>e.length>=64&&e.length<=255,zZ=e=>FZ(e)||HZ(e)?"VALID":"INVALID",VZ=e=>{const n=na(e);!ae(zg(e))&&(En(n)||zZ(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},gT=Zo.DOM,UZ=(e,n)=>{const o=re.fromDom(e.getBody()),r=hv(gd(o)),a=re.fromTag("style");zo(a,"type","text/css"),ur(a,re.fromText(n)),ur(r,a),e.on("remove",()=>{vo(a)})},F$=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,VD=e=>ss(e,n=>En(n)===!1),H$=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return VD({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:F$(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:mp(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},UD=e=>{const n=e.options.get;return VD({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},_2=e=>{const n=e.options.get;return{...H$(e),...UD(e),...VD({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},WZ=e=>{const n=ji(H$(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const v=o[m];let C=v.attr(r);if(C&&!v.attr(u)){if(C.indexOf("data:")===0||C.indexOf("blob:")===0)continue;r==="style"?(C=a.serializeStyle(a.parseStyle(C),v.name),C.length||(C=null),v.attr(u,C),v.attr(r,C)):r==="tabindex"?(v.attr(u,C),v.attr(r,null)):v.attr(u,e.convertURL(C,r,v.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],u=a.attr("type")||"no/type";u.indexOf("mce-")!==0&&a.attr("type","mce-"+u)}}),Hg(e)&&n.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const u=o[a];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(a)&&u.getAll("br").length===0&&u.append(new Aa("br",1))}}),n},z$=e=>{const n=Zk(e);n&&Gl.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},ZZ=e=>{const n=e.dom.getRoot();!e.inline&&(!e1(e)||e.selection.getStart(!0)===n)&&Ui(n).each(o=>{const r=o.getNode(),a=br(r)?Ui(r).getOr(o):o;e.selection.setRng(a.toRange())})},jZ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Lw(e),e.focus(!0),ZZ(e),e.nodeChanged({initial:!0});const n=sS(e);le(n)&&n.call(e,e),z$(e)},WD=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,qZ=(e,n,o)=>{const{pass:r,fail:a}=Nr(n,v=>tinymce.Resource.has($4(v))),m=[...r.map(v=>{const C=tinymce.Resource.get($4(v));return ae(C)?Promise.resolve(WD(e).loadRawCss(v,C)):Promise.resolve()}),WD(e).loadAll(a)];return e.inline?m:m.concat([e.ui.styleSheetLoader.loadAll(o)])},ZD=e=>{const n=WD(e),o=Gx(e),r=e.contentCSS,a=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let C="";O.each(e.contentStyles,k=>{C+=k+`\r
`}),e.dom.addStyle(C)}const m=Promise.all(qZ(e,r,o)).then(u).catch(u),v=Vm(e);return v&&UZ(e,v),m},GZ=e=>{const n=e.getDoc(),o=e.getBody();Iw(e),ob(e)||(n.body.spellcheck=!1,gT.setAttrib(o,"spellcheck","false")),e.quirks=$Z(e),kA(e);const r=Bk(e);r!==void 0&&(o.dir=r);const a=rS(e);a&&e.on("BeforeSetContent",u=>{O.each(a,m=>{u.content=u.content.replace(m,v=>"<!--mce:protected "+escape(v)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},V$=e=>{Ic(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},jD=e=>{e.removed!==!0&&(V$(e),jZ(e))},KZ=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},U$=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(gT.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=rw(e),e._editableRoot=zk(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&gT.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=hz(e),e.schema=Cd(UD(e)),e.dom=Zo(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Pk(e),referrerPolicy:tw(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=WZ(e),e.serializer=P4(_2(e),e),e.selection=P1(e.dom,e.getWin(),e.serializer,e),e.annotator=Rc(e),e.formatter=H4(e),e.undoManager=V4(e),e._nodeChangeDispatcher=new SL(e),e._selectionOverrides=hK(e),NI(e),LW(e),MV(e),Ic(e)||(UW(e),LZ(e));const a=fD(e);y3(e,a),II(e),gz(e),i$(e);const u=PG(e);GZ(e),VZ(e),u.fold(()=>{const m=KZ(e);ZD(e).then(()=>{jD(e),m()})},m=>{e.setProgressState(!0),ZD(e).then(()=>{m().then(v=>{e.setProgressState(!1),jD(e),XN(e)},v=>{e.notificationManager.open({type:"error",text:String(v)}),jD(e),XN(e)})})})},XZ=Tt,YZ=(e,n,o)=>yv(e,n,XZ,o),qD=Zo.DOM,JZ=(e,n,o,r)=>{const a=re.fromTag("iframe");return r.each(u=>zo(a,"tabindex",u)),wi(a,o),wi(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),fu(a,"tox-edit-area__iframe"),a},QZ=e=>{let n=Jy(e)+"<html><head>";Fx(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Hx(e),r=Dk(e),a=e.translate(oS(e));return Bg(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Bg(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,n},ej=(e,n)=>{const o=e.translate("Rich Text Area"),r=vc(re.fromDom(e.getElement()),"tabindex").bind(Zc),a=JZ(e.id,o,Ok(e),r).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=a,e.iframeHTML=QZ(e),qD.add(n.iframeContainer,a)},W$=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,U$(e)};if(mS(e)||Et.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=YZ(re.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},GD=(e,n)=>{ej(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=qD.isHidden(n.editorContainer)),e.getElement().style.display="none",qD.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,W$(e)},KD=Zo.DOM,Z$=(e,n,o)=>{const r=BC.get(o),a=BC.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=O.trim(o),r&&O.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,a)||{};e.plugins[o]=u,le(u.init)&&(u.init(e,a),n.push(o))}catch(u){nz(e,o,u)}}},tj=e=>e.replace(/^\-/,""),nj=e=>{const n=[];Ae($g(e),o=>{Z$(e,n,tj(o))})},oj=e=>{const n=O.trim(wr(e)),o=e.ui.registry.getAll().icons,r={...Ra.get("default").icons,...Ra.get(n).icons};wt(r,(a,u)=>{en(o,u)||e.ui.registry.addIcon(u,a)})},j$=e=>{const n=lp(e);if(ae(n)){const o=B1.get(n);e.theme=o(e,B1.urls[n])||{},le(e.theme.init)&&e.theme.init(e,B1.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},q$=e=>{const n=sw(e),o=Ff.get(n);e.model=o(e,Ff.urls[n])},sj=e=>{const n=e.theme.renderUI;return n?n():T2(e)},rj=e=>{const n=e.getElement(),r=lp(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},vT=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),bT=e=>{const n=KD.create("div");return KD.insertAfter(n,e),vT(n,n)},T2=e=>{const n=e.getElement();return e.inline?vT(null):bT(n)},hh=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ae(lp(e))?sj(e):le(lp(e))?rj(e):T2(e)},yT=(e,n)=>{const o={show:W.from(n.show).getOr(Zt),hide:W.from(n.hide).getOr(Zt),isEnabled:W.from(n.isEnabled).getOr(Tt),setEnabled:r=>{e.mode.isReadOnly()||W.from(n.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...o}},P0=async e=>{e.dispatch("ScriptsLoaded"),oj(e),j$(e),q$(e),nj(e);const n=await hh(e);yT(e,W.from(n.api).getOr({})),e.editorContainer=n.editorContainer,iz(e),e.inline?U$(e):GD(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},zp=Zo.DOM,G$=e=>e.charAt(0)==="-",ij=(e,n)=>{const o=jx(n),r=Nk(n);if(!Dr.hasCode(o)&&o!=="en"){const a=$o(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{bB(n,a,o)})}},K$=(e,n)=>{const o=lp(e);if(ae(o)&&!G$(o)&&!en(B1.urls,o)){const r=Lk(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;B1.load(o,a).catch(()=>{yB(e,a,o)})}},aj=(e,n)=>{const o=sw(e);if(o!=="plugin"&&!en(Ff.urls,o)){const r=ll(e),a=ae(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;Ff.load(o,a).catch(()=>{wB(e,a,o)})}},XD=e=>W.from(Ux(e)).filter($o).map(n=>({url:n,name:W.none()})),k2=(e,n,o)=>W.from(n).filter(r=>$o(r)&&!Ra.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:W.some(r)})),Vp=(e,n,o)=>{const r=k2(n,"default",o),a=XD(n).orThunk(()=>k2(n,wr(n),""));Ae(Z([r,a]),u=>{e.add(u.url).catch(()=>{tz(n,u.url,u.name.getOrUndefined())})})},K1=(e,n)=>{const o=(r,a)=>{BC.load(r,a).catch(()=>{LC(e,a,r)})};wt(eS(e),(r,a)=>{o(a,r),e.options.set("plugins",$g(e).concat(a))}),Ae($g(e),r=>{r=O.trim(r),r&&!BC.urls[r]&&!G$(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},X$=e=>{const n=lp(e);return!ae(n)||Ne(B1.get(n))},cj=e=>{const n=sw(e);return Ne(Ff.get(n))},lj=(e,n)=>{const o=Ha.ScriptLoader,r=()=>{!e.removed&&X$(e)&&cj(e)&&P0(e)};K$(e,n),aj(e,n),ij(o,e),Vp(o,e,n),K1(e,n),o.loadQueue().then(r,r)},uj=(e,n)=>wu.forElement(e,{contentCssCors:Qx(n),referrerPolicy:tw(n)}),dj=e=>{const n=e.id;Dr.setCode(jx(e));const o=()=>{zp.unbind(window,"ready",o),e.render()};if(!Ed.Event.domLoaded){zp.bind(window,"ready",o);return}if(!e.getElement())return;const r=re.fromDom(e.getElement()),a=Dl(r);e.on("remove",()=>{li(r.dom.attributes,m=>pr(r,m.name)),wi(r,a)}),e.ui.styleSheetLoader=uj(r,e),Wm(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||zp.getParent(n,"form");u&&(e.formElement=u,ul(e)&&!Vr(e.getElement())&&(zp.insertAfter(zp.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},zp.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),up(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=gB(e),e.notificationManager=t_(e),Qk(e)&&e.on("GetContent",m=>{m.save&&(m.content=zp.encode(m.content))}),$k(e)&&e.on("submit",()=>{e.initialized&&e.save()}),Jx(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lj(e,e.suffix)},fj=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),DA(e,n))},mj=e=>e._editableRoot,Y$=(e,n)=>({sections:lt(e),options:lt(n)}),J$=tc().deviceType,Q$=J$.isPhone(),hj=J$.isTablet(),wT=e=>{if(_n(e))return[];{const n=hn(e)?e:e.split(/[ ,]/),o=mn(n,Ya);return Ut(o,$o)}},pj=(e,n)=>{const o=Ir(n,(r,a)=>gn(e,a));return Y$(o.t,o.f)},YD=(e,n,o={})=>{const r=e.sections(),a=Xo(r,n).getOr({});return O.extend({},o,a)},JD=(e,n)=>en(e.sections(),n),gj=(e,n)=>JD(e,n)?e.sections()[n]:{},eF=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Xo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),vj=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?O.extend({},e.external_plugins,r):r},tF=(e,n)=>[...wT(e),...wT(n)],bj=(e,n,o,r)=>e&&JD(n,"mobile")?r:o,QD=(e,n,o,r)=>{const a=wT(o.forced_plugins),u=wT(r.plugins),m=gj(n,"mobile"),v=m.plugins?wT(m.plugins):u,C=bj(e,n,u,v),k=tF(a,C);return O.extend(r,{forced_plugins:a,plugins:k})},yj=(e,n)=>e&&JD(n,"mobile"),wj=(e,n,o,r,a)=>{var u;const m=e?{mobile:eF((u=a.mobile)!==null&&u!==void 0?u:{},n)}:{},v=pj(["mobile"],n2(m,a)),C=O.extend(o,r,v.options(),yj(e,v)?YD(v,"mobile"):{},{external_plugins:vj(r,v.options())});return QD(e,v,r,C)},Cj=(e,n)=>wj(Q$||hj,Q$,n,e,n),xj=(e,n)=>_8(e,n),nF=e=>{const n=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{Ae("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},eR=e=>{const n=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Go(a,u=>Ne(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},oF=e=>{nF(e),eR(e)},tR=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Et.os.isMacOS()||Et.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:a,type:"error"})}}})},Sj=(e,n,o,r)=>{const a=re.fromDom(e.getRoot());return Ub(a,Re.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Wb(a,Re.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},gK=e=>{if(typeof e!="string"){const n=O.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},vK=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?Sj(r,o.getRng(),n,e.schema):n},CT=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=gK(n);qE(e,{...r,content:vK(e,o),format:"html",set:!1,selection:!0}).each(a=>{const u=KN(e,a.content,r);R1(e,u,a),e.addVisual()})}},sF=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{CT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{CT(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{CT(e,r)},mceInsertContent:(n,o,r)=>{CT(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(aS(e))}})},Ej={"font-size":"size","font-family":"face"},_j=Ba("font"),Tj=(e,n,o)=>{const r=u=>$i(u,e).orThunk(()=>_j(u)?Xo(Ej,e).bind(m=>vc(u,m)):W.none()),a=u=>Fe(re.fromDom(n),u);return zO(re.fromDom(o),u=>r(u),a)},bK=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),yK=(e,n)=>W.from(Zo.DOM.getStyle(n,e,!0)),nR=e=>(n,o)=>W.from(o).map(re.fromDom).filter(lr).bind(r=>Tj(e,n,r.dom).or(yK(e,r.dom))).getOr(""),rF=nR("font-size"),kj=M(bK,nR("font-family")),Aj=e=>Ui(e.getBody()).bind(n=>{const o=n.container();return W.from(Ke(o)?o.parentNode:o)}),Oj=e=>W.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?W.none():W.from(e.selection.getStart(!0))}),wK=(e,n)=>Oj(e).orThunk(qe(Aj,e)).map(re.fromDom).filter(lr).bind(n),iF=(e,n)=>wK(e,ro(W.some,n)),Dj=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=Jk(e),a=dp(e);return a.length>0?a[o-1]||n:r[o-1]||n}else return n}else return n},Rj=e=>{const n=e.split(/\s*,\s*/);return mn(n,o=>o.indexOf(" ")!==-1&&!(Rs(o,'"')||Rs(o,"'"))?`'${o}'`:o).join(",")},CK=(e,n)=>{const o=Dj(e,n);e.formatter.toggle("fontname",{value:Rj(o)}),e.nodeChanged()},Mj=e=>iF(e,n=>kj(e.getBody(),n.dom)).getOr(""),X1=(e,n)=>{e.formatter.toggle("fontsize",{value:Dj(e,n)}),e.nodeChanged()},oR=e=>iF(e,n=>rF(e.getBody(),n.dom)).getOr(""),xT=e=>iF(e,n=>{const o=re.fromDom(e.getBody()),r=zO(n,u=>$i(u,"line-height"),qe(Fe,o)),a=()=>{const u=parseFloat(pu(n,"line-height")),m=parseFloat(pu(n,"font-size"));return String(u/m)};return r.getOrThunk(a)}).getOr(""),aF=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},cF=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,a)=>{n(o,{value:a})},BackColor:(o,r,a)=>{n("hilitecolor",{value:a})},FontName:(o,r,a)=>{CK(e,a)},FontSize:(o,r,a)=>{X1(e,a)},LineHeight:(o,r,a)=>{aF(e,a)},Lang:(o,r,a)=>{var u;n(o,{value:a.code,customValue:(u=a.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,a)=>{n(ae(a)?a:"p")},mceToggleFormat:(o,r,a)=>{n(a)}})},lF=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Mj(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>oR(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>xT(e))},Pj=e=>{cF(e),lF(e)},Nj=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Bj=e=>{e.editorCommands.addCommands({Indent:()=>{TV(e)},Outdent:()=>{DI(e)}}),e.editorCommands.addCommands({Outdent:()=>kI(e)},"state")},Ij=e=>{const n=(o,r,a)=>{const u=ae(a)?{href:a}:a,m=e.dom.getParent(e.selection.getNode(),"a");Ft(u)&&ae(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},Up=(e,n,o,r)=>{const a=e.dom,u=v=>a.isBlock(v)&&v.parentElement===o,m=u(n)?n:a.getParent(r,u,o);return W.from(m).map(re.fromDom)},uF=(e,n)=>{const o=e.dom,r=e.selection.getRng(),a=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=Fp(o,u);if(!m||!m.isContentEditable)return;const v=n?Ci:vd,C=zi(e);Up(e,a,m,u).each(k=>{const L=iL(e,u,k.dom,m,!1,C);v(k,re.fromDom(L)),e.selection.setCursorLocation(L,0),e.dispatch("NewBlock",{newBlock:L}),c2(e,"insertParagraph")})},dF=e=>uF(e,!0),Lj=e=>uF(e,!1),ST=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{dF(e)},InsertNewBlockAfter:()=>{Lj(e)}})},$j=e=>{e.editorCommands.addCommands({insertParagraph:()=>{G_(uL,e)},mceInsertNewLine:(n,o,r)=>{iD(e,r)},InsertLineBreak:(n,o,r)=>{G_(dL,e)}})},Fj=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),u=>It(u)&&a++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),kr);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},Hj=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{F6(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},fF=e=>{oF(e),tR(e),Nj(e),Fj(e),sF(e),Ij(e),Bj(e),ST(e),$j(e),Pj(e),Hj(e)},zj=["toggleview"],mF=e=>gn(zj,e.toLowerCase());class hF{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,a){const u=this.editor,m=n.toLowerCase(),v=a==null?void 0:a.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!v?u.focus():YR(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const k=this.commands.exec[m];return le(k)?(k(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!mF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return le(r)?r(o):!1}queryCommandValue(n){if(!mF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return le(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;wt(n,(a,u)=>{Ae(u.toLowerCase().split(","),m=>{r[o][m]=a})})}addCommand(n,o,r){const a=n.toLowerCase();this.commands.exec[a]=(u,m,v)=>o.call(r??this.editor,m,v)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const ph="data-mce-contenteditable",Vj=(e,n,o)=>{pd(e,n)&&!o?Kc(e,n):o&&fu(e,n)},sR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},fr=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Uj=e=>{Ae(pi(e,'*[contenteditable="true"]'),n=>{zo(n,ph,"true"),fr(n,!1)})},Wj=e=>{Ae(pi(e,`*[${ph}="true"]`),n=>{pr(n,ph),fr(n,!0)})},rR=e=>{W.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},pF=e=>{e.selection.setRng(e.selection.getRng())},iR=(e,n)=>{const o=re.fromDom(e.getBody());Vj(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),rR(e),e.readonly=!0,fr(o,!1),Uj(o)):(e.readonly=!1,e.hasEditableRoot()&&fr(o,!0),Wj(o),sR(e,"StyleWithCSS",!1),sR(e,"enableInlineTableEditing",!1),sR(e,"enableObjectResizing",!1),nM(e)&&e.focus(),pF(e),e.nodeChanged())},Y1=e=>e.readonly,gF=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Y1(e)&&Ae(n,o=>{o.attr(ph,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ph,n=>{Y1(e)&&Ae(n,o=>{o.attr("contenteditable",o.attr(ph))})}),e.serializer.addTempAttr(ph)},Zj=e=>{e.serializer?gF(e):e.on("PreInit",()=>{gF(e)})},jj=e=>e.type==="click",qj=["copy"],Gj=e=>gn(qj,e.type),Kj=(e,n)=>lf(n,"a",r=>Fe(r,re.fromDom(e.getBody()))).bind(r=>vc(r,"href")),Xj=(e,n)=>{if(jj(n)&&!Rt.metaKeyPressed(n)){const o=re.fromDom(n.target);Kj(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${fd(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Gj(n)&&e.dispatch(n.type,n)},N0=e=>{e.on("ShowCaret",n=>{Y1(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Y1(e)&&n.preventDefault()})},Qd=O.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class aR{static isNative(n){return!!Qd[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ze}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),a=Fl(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const u=this.bindings[r];if(u)for(let m=0,v=u.length;m<v;m++){const C=u[m];if(!C.removed){if(C.once&&this.off(r,C.func),a.isImmediatePropagationStopped())return a;if(C.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(n,o,r,a){if(o===!1&&(o=Ze),o){const u={func:o,removed:!1};a&&O.extend(u,a);const m=n.toLowerCase().split(" ");let v=m.length;for(;v--;){const C=m[v];let k=this.bindings[C];k||(k=[],this.toggleEvent(C,!0)),r?k=[u,...k]:k=[...k,u],this.bindings[C]=k}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let a=r.length;for(;a--;){const u=r[a];let m=this.bindings[u];if(!u)return wt(this.bindings,(v,C)=>{this.toggleEvent(C,!1),delete this.bindings[C]}),this;if(m){if(!o)m.length=0;else{const v=Nr(m,C=>C.func===o);m=v.fail,this.bindings[u]=m,Ae(v.pass,C=>{C.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else wt(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const A2=e=>(e._eventDispatcher||(e._eventDispatcher=new aR({scope:e,toggleEvent:(n,o)=>{aR.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),cR={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Fl(e.toLowerCase(),n??{},r);const a=A2(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!a.isPropagationStopped();)u.dispatch(e,a,!1),u=u.parent?u.parent():void 0}return a},on(e,n,o){return A2(this).on(e,n,o)},off(e,n){return A2(this).off(e,n)},once(e,n){return A2(this).once(e,n)},hasEventListeners(e){return A2(this).has(e)}},ET=Zo.DOM;let J1;const _T=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Um(e);return o?(e.eventRoot||(e.eventRoot=ET.select(o)[0]),e.eventRoot):e.getBody()},Yj=e=>!e.hidden&&!Y1(e),vF=(e,n,o)=>{Yj(e)?e.dispatch(n,o):Y1(e)&&Xj(e,o)},bF=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=_T(e,n);if(Um(e)){if(J1||(J1={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||J1&&(wt(J1,(a,u)=>{e.dom.unbind(_T(e,u))}),J1=null)})),J1[n])return;const r=a=>{const u=a.target,m=e.editorManager.get();let v=m.length;for(;v--;){const C=m[v].getBody();(C===u||ET.isChildOf(u,C))&&vF(m[v],n,a)}};J1[n]=r,ET.bind(o,n,r)}else{const r=a=>{vF(e,n,a)};ET.bind(o,n,r),e.delegates[n]=r}},Jj={...cR,bindPendingEventDelegates(){const e=this;O.each(e._pendingNativeEvents,n=>{bF(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?bF(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(_T(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(wt(e.delegates,(r,a)=>{e.dom.unbind(_T(e,a),a,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Qj=e=>ae(e)?{value:e.split(/[ ,]/),valid:!0}:Gn(e,ae)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},eq=e=>{const n=(()=>{switch(e){case"array":return hn;case"boolean":return pn;case"function":return le;case"number":return Pn;case"object":return Ft;case"string":return ae;case"string[]":return Qj;case"object[]":return o=>Gn(o,Ft);case"regexp":return o=>yo(o,RegExp);default:return Tt}})();return o=>lR(o,n,`The value must be a ${e}.`)},tq=e=>ae(e.processor),yF=(e,n)=>{const o=Ni(n.message)?"":`. ${n.message}`;return e+o},wF=e=>e.valid,lR=(e,n,o="")=>{const r=n(e);return pn(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},xK=(e,n,o)=>{if(!En(n)){const r=lR(n,o);if(wF(r))return r.value;console.error(yF(`Invalid default value passed for the "${e}" option`,r))}},nq=(e,n)=>{const o={},r={},a=($,H,K)=>{const ee=lR(H,K);return wF(ee)?(r[$]=ee.value,!0):(console.warn(yF(`Invalid value passed for the ${$} option`,ee)),!1)},u=($,H)=>{const K=tq(H)?eq(H.processor):H.processor,ee=xK($,H.default,K);o[$]={...H,default:ee,processor:K},Xo(r,$).orThunk(()=>Xo(n,$)).each(ne=>a($,ne,K))},m=$=>en(o,$);return{register:u,isRegistered:m,get:$=>Xo(r,$).orThunk(()=>Xo(o,$).map(H=>H.default)).getOrUndefined(),set:($,H)=>{if(m($)){const K=o[$];return K.immutable?(console.error(`"${$}" is an immutable option and cannot be updated`),!1):a($,H,K.processor)}else return console.warn(`"${$}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:$=>{const H=m($);return H&&delete r[$],H},isSet:$=>en(r,$)}},oq=["design","readonly"],CF=(e,n,o,r)=>{const a=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}a.deactivate(),a.editorReadOnly!==u.editorReadOnly&&iR(e,u.editorReadOnly),n.set(r),Xn(e,r)},sq=(e,n,o,r)=>{if(r!==o.get()){if(!en(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?CF(e,o,n,r):e.on("init",()=>CF(e,o,n,r))}},rq=(e,n,o)=>{if(gn(oq,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},iq=e=>{const n=tr("design"),o=tr({design:{activate:Zt,deactivate:Zt,editorReadOnly:!1},readonly:{activate:Zt,deactivate:Zt,editorReadOnly:!0}});return Zj(e),N0(e),{isReadOnly:()=>Y1(e),set:r=>sq(e,o.get(),n,r),get:()=>n.get(),register:(r,a)=>{o.set(rq(o.get(),r,a))}}},uR=O.each,dR=O.explode,aq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xF=O.makeMap("alt,ctrl,shift,meta,access"),cq=e=>e in xF,lq=e=>{const n={},o=Et.os.isMacOS()||Et.os.isiOS();uR(dR(e.toLowerCase(),"+"),u=>{cq(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=aq[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let a;for(a in xF)n[a]?r.push(a):n[a]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class SF{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(uR(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,a){const u=this,m=u.normalizeCommandFunc(r);return uR(dR(O.trim(n)),v=>{const C=u.createShortcut(v,o,m,a);u.shortcuts[C.id]=C}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:O.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,a){const u=O.map(dR(n,">"),lq);return u[u.length-1]=O.extend(u[u.length-1],{func:r,scope:a||this.editor}),O.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const uq=()=>{const e={},n={},o={},r={},a={},u={},m={},v={},C=(L,$)=>(H,K)=>{L[H.toLowerCase()]={...K,type:$}},k=(L,$)=>r[L.toLowerCase()]=$;return{addButton:C(e,"button"),addGroupToolbarButton:C(e,"grouptoolbarbutton"),addToggleButton:C(e,"togglebutton"),addMenuButton:C(e,"menubutton"),addSplitButton:C(e,"splitbutton"),addMenuItem:C(n,"menuitem"),addNestedMenuItem:C(n,"nestedmenuitem"),addToggleMenuItem:C(n,"togglemenuitem"),addAutocompleter:C(o,"autocompleter"),addContextMenu:C(a,"contextmenu"),addContextToolbar:C(u,"contexttoolbar"),addContextForm:C(u,"contextform"),addSidebar:C(m,"sidebar"),addView:C(v,"views"),addIcon:k,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:a,contextToolbars:u,sidebars:m,views:v})}},dq=()=>{const e=uq();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Q1=Zo.DOM,fR=O.extend,fq=O.each;class TT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,fR(this,Jj);const a=this;this.id=n,this.hidden=!1;const u=Cj(r.defaultOptions,o);this.options=nq(a,u),Ak(a);const m=this.options.get;m("deprecation_warnings")&&G8(o,u);const v=m("suffix");v&&(r.suffix=v),this.suffix=r.suffix;const C=m("base_url");C&&r._setBaseUrl(C),this.baseUri=r.baseURI;const k=tw(a);k&&(Ha.ScriptLoader._setReferrerPolicy(k),Zo.DOM.styleSheetLoader._setReferrerPolicy(k));const L=Qx(a);Ne(L)&&Zo.DOM.styleSheetLoader._setContentCssCors(L),Fi.languageLoad=m("language_load"),Fi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Gu(Fx(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Wm(a),this.hasVisual=Vk(a),this.shortcuts=new SF(this),this.editorCommands=new hF(this),fF(this);const $=m("cache_suffix");$&&(Et.cacheSuffix=$.replace(/^[\?\&]+/,"")),this.ui={registry:dq(),styleSheetLoader:void 0,show:Zt,hide:Zt,setEnabled:Zt,isEnabled:Tt},this.mode=iq(a),r.dispatch("SetupEditor",{editor:this});const H=iw(a);le(H)&&H.call(a,a)}render(){dj(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return h1(this)}translate(n){return Dr.translate(n)}getParam(n,o,r){const a=this.options;return a.isRegistered(n)||(Ne(r)?a.register(n,{processor:r,default:o}):a.register(n,{processor:Tt,default:o})),!a.isSet(n)&&!En(o)?o:a.get(n)}hasPlugin(n,o){return gn($g(this),n)?o?BC.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,a){this.shortcuts.add(n,o,r,a)}execCommand(n,o,r,a){return this.editorCommands.execCommand(n,o,r,a)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Q1.show(n.getContainer()),Q1.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Q1.hide(n.getContainer()),Q1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...n,load:!0},u=Vr(r)?r.value:r.innerHTML,m=o.setContent(u,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...n,save:!0,element:r};let u=o.getContent(a);const m={...a,content:u};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,Vr(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const v=Q1.getParent(o.id,"form");v&&fq(v.elements,C=>C.name===o.id?(C.value=u,!1):!0)}return m.element=a.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return N4(this,n,o)}getContent(n){return $8(this,n)}insertContent(n,o){o&&(n=fR({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?N4(this,this.startContent,{format:"raw"}):N4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Q1.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Q1.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const a=this,u=a.options.get,m=Wk(a);if(le(m))return m.call(a,n,r,!0,o);if(!u("convert_urls")||r==="link"||Ft(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const v=new Gu(n);return v.protocol!=="http"&&v.protocol!=="https"&&v.protocol!==""?n:u("relative_urls")?a.documentBaseURI.toRelative(n):(n=a.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){xj(this,n)}setEditableRoot(n){fj(this,n)}hasEditableRoot(){return mj(this)}remove(){J8(this)}destroy(n){lB(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const B0=Zo.DOM,kT=O.each;let EF=!1,AT,lc=[];const OT=e=>{const n=e.type;kT(Wp.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},mR=e=>{if(e!==EF){const n=Zo.DOM;e?(n.bind(window,"resize",OT),n.bind(window,"scroll",OT)):(n.unbind(window,"resize",OT),n.unbind(window,"scroll",OT)),EF=e}},_F=e=>{const n=lc;return lc=Ut(lc,o=>e!==o),Wp.activeEditor===e&&(Wp.activeEditor=lc.length>0?lc[0]:null),Wp.focusedEditor===e&&(Wp.focusedEditor=null),n.length!==lc.length},mq=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(_F(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},hq=document.compatMode!=="CSS1Compat",Wp={...cR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"0.1",releaseDate:"2024-04-10",i18n:Dr,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Gu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)n=a.base||a.baseURL,o=a.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const v=u[m].src||"";if(v==="")continue;const C=v.substring(v.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(v)){C.indexOf(".min")!==-1&&(o=".min"),n=v.substring(0,v.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new Gu(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Gu(e.baseURL),e.suffix=o,M6(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&wt(r,(a,u)=>{Fi.PluginManager.urls[u]=a})},init(e){const n=this;let o;const r=O.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(L,$)=>L.inline&&$.tagName.toLowerCase()in r,u=L=>{let $=L.id;return $||($=Xo(L,"name").filter(H=>!B0.get(H)).getOrThunk(B0.uniqueId),L.setAttribute("id",$)),$},m=L=>{const $=e[L];if($)return $.apply(n,[])},v=L=>Et.browser.isIE()||Et.browser.isEdge()?(o_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):hq?(o_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ae(L.selector)?B0.select(L.selector):Ne(L.target)?[L.target]:[];let C=L=>{o=L};const k=()=>{let L=0;const $=[];let H;const K=(ee,Y,ne)=>{const fe=new TT(ee,Y,n);$.push(fe),fe.on("init",()=>{++L===H.length&&C($)}),fe.targetElm=fe.targetElm||ne,fe.render()};B0.unbind(window,"ready",k),m("onpageload"),H=rf(v(e)),O.each(H,ee=>{mq(n.get(ee.id))}),H=O.grep(H,ee=>!n.get(ee.id)),H.length===0?C([]):kT(H,ee=>{a(e,ee)?o_("Could not initialize inline editor on invalid inline target element",ee):K(u(ee),e,ee)})};return B0.bind(window,"ready",k),new Promise(L=>{o?L(o):C=$=>{L($)}})},get(e){return arguments.length===0?lc.slice(0):ae(e)?Ko(lc,n=>n.id===e).getOr(null):Pn(e)&&lc[e]?lc[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&lc.push(e),mR(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),AT||(AT=r=>{const a=n.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",AT))),e},createEditor(e,n){return this.add(new TT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=lc.length-1;r>=0;r--)n.remove(lc[r]);return}if(ae(e)){kT(B0.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,D(n.get(o.id))?null:(_F(o)&&n.dispatch("RemoveEditor",{editor:o}),lc.length===0&&window.removeEventListener("beforeunload",AT),o.remove(),mR(lc.length>0),o)},execCommand(e,n,o){var r;const a=this,u=Ft(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(u)){const m=o.options;new TT(u,m,a).render()}return!0}case"mceRemoveEditor":{const m=a.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=a.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{kT(lc,e=>{e.save()})},addI18n:(e,n)=>{Dr.add(e,n)},translate:e=>Dr.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Gu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Gu(this.baseURL)}};Wp.setup();const pq=(()=>{const e=wf(),n=u=>({items:u,types:ui(u),getType:m=>Xo(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:a}})(),TF=Math.min,I0=Math.max,O2=Math.round,gq=(e,n,o)=>{let r=n.x,a=n.y;const u=e.w,m=e.h,v=n.w,C=n.h,k=(o||"").split("");return k[0]==="b"&&(a+=C),k[1]==="r"&&(r+=v),k[0]==="c"&&(a+=O2(C/2)),k[1]==="c"&&(r+=O2(v/2)),k[3]==="b"&&(a-=m),k[4]==="r"&&(r-=u),k[3]==="c"&&(a-=O2(m/2)),k[4]==="c"&&(r-=O2(u/2)),L0(r,a,u,m)},kF=(e,n,o,r)=>{for(let a=0;a<r.length;a++){const u=gq(e,n,r[a]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[a]}return null},vq=(e,n,o)=>L0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),AF=(e,n)=>{const o=I0(e.x,n.x),r=I0(e.y,n.y),a=TF(e.x+e.w,n.x+n.w),u=TF(e.y+e.h,n.y+n.h);return a-o<0||u-r<0?null:L0(o,r,a-o,u-r)},bq=(e,n,o)=>{let r=e.x,a=e.y,u=e.x+e.w,m=e.y+e.h;const v=n.x+n.w,C=n.y+n.h,k=I0(0,n.x-r),L=I0(0,n.y-a),$=I0(0,u-v),H=I0(0,m-C);return r+=k,a+=L,o&&(u+=k,m+=L,r-=$,a-=H),u-=$,m-=H,L0(r,a,u-r,m-a)},L0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),yq={inflate:vq,relativePosition:gq,findBestRelativePosition:kF,intersect:AF,clamp:bq,create:L0,fromClientRect:e=>L0(e.left,e.top,e.width,e.height)},wq=(e,n,o=1e3)=>{let r=!1,a=null;const u=k=>(...L)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),k.apply(null,L))},m=u(e),v=u(n);return{start:(...k)=>{!r&&a===null&&(a=setTimeout(()=>v.apply(null,k),o))},resolve:m,reject:v}},hR=(()=>{const e={},n={},o={};return{load:(C,k)=>{const L=`Script at URL "${k}" failed to load`,$=`Script at URL "${k}" did not call \`tinymce.Resource.add('${C}', data)\` within 1 second`;if(e[C]!==void 0)return e[C];{const H=new Promise((K,ee)=>{const Y=wq(K,ee);n[C]=Y.resolve,Ha.ScriptLoader.loadScript(k).then(()=>Y.start($),()=>Y.reject(L))});return e[C]=H,H}},add:(C,k)=>{n[C]!==void 0&&(n[C](k),delete n[C]),e[C]=Promise.resolve(k),o[C]=k},has:C=>C in o,get:C=>o[C],unload:C=>{delete e[C],delete o[C]}}})(),pR=()=>(()=>{let e={},n=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{n.push(r),e[r]=String(a)},key:r=>n[r],removeItem:r=>{n=n.filter(a=>a===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let D2;try{const e="__storage_test__";D2=window.localStorage,D2.setItem(e,e),D2.removeItem(e)}catch{D2=pR()}var OF=D2;const Cq={geom:{Rect:yq},util:{Delay:Gl,Tools:O,VK:Rt,URI:Gu,EventDispatcher:aR,Observable:cR,I18n:Dr,LocalStorage:OF,ImageUploader:dz},dom:{EventUtils:Ed,TreeWalker:Ns,TextSeeker:Lm,DOMUtils:Zo,ScriptLoader:Ha,RangeUtils:Ot,Serializer:P4,StyleSheetLoader:yu,ControlSelection:Db,BookmarkManager:Cr,Selection:P1,Event:Ed.Event},html:{Styles:sl,Entities:ea,Node:Aa,Schema:Cd,DomParser:ji,Writer:hM,Serializer:tn},Env:Et,AddOnManager:Fi,Annotator:Rc,Formatter:H4,UndoManager:V4,EditorCommands:hF,WindowManager:gB,NotificationManager:t_,EditorObservable:Jj,Shortcuts:SF,Editor:TT,FocusManager:JR,EditorManager:Wp,DOM:Zo.DOM,ScriptLoader:Ha.ScriptLoader,PluginManager:BC,ThemeManager:B1,ModelManager:Ff,IconManager:Ra,Resource:hR,FakeClipboard:pq,trim:O.trim,isArray:O.isArray,is:O.is,toArray:O.toArray,makeMap:O.makeMap,each:O.each,map:O.map,grep:O.grep,inArray:O.inArray,extend:O.extend,walk:O.walk,resolve:O.resolve,explode:O.explode,_addCacheSuffix:O._addCacheSuffix},DF=O.extend(Wp,Cq),xq=e=>{try{S.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(DF),xq(DF)})()})(QQ);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>'}});(function(){const S=Object.getPrototypeOf,y=(t,s,i)=>{var c;return i(t,s.prototype)?!0:((c=t.constructor)===null||c===void 0?void 0:c.name)===s.name},A=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&y(t,String,(i,c)=>c.isPrototypeOf(i))?"string":s},N=t=>s=>A(s)===t,V=t=>s=>typeof s===t,te=t=>s=>t===s,de=(t,s)=>He(t)&&y(t,s,(i,c)=>S(i)===c),ve=N("string"),He=N("object"),St=t=>de(t,Object),et=N("array"),ft=te(null),Bn=V("boolean"),wn=te(void 0),ct=t=>t==null,Xe=t=>!ct(t),nt=V("function"),Pt=V("number"),yo=(t,s)=>{if(et(t)){for(let i=0,c=t.length;i<c;++i)if(!s(t[i]))return!1;return!0}return!1},ae=()=>{},Ft=t=>()=>t(),Lo=(t,s)=>(...i)=>t(s.apply(null,i)),hn=(t,s)=>i=>t(s(i)),D=t=>()=>t,pn=t=>t,En=(t,s)=>t===s;function _n(t,...s){return(...i)=>{const c=s.concat(i);return t.apply(null,c)}}const Ne=t=>s=>!t(s),le=t=>()=>{throw new Error(t)},Pn=t=>t(),Gn=D(!1),Zt=D(!0);class M{constructor(s,i){this.tag=s,this.value=i}static some(s){return new M(!0,s)}static none(){return M.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?M.some(s(this.value)):M.none()}bind(s){return this.tag?s(this.value):M.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:M.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Xe(s)?M.some(s):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(!1);const ro=Array.prototype.slice,lt=Array.prototype.indexOf,po=Array.prototype.push,un=(t,s)=>lt.call(t,s),qe=(t,s)=>{const i=un(t,s);return i===-1?M.none():M.some(i)},Uo=(t,s)=>un(t,s)>-1,Tr=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];if(s(d,i))return!0}return!1},qo=(t,s)=>{const i=[];for(let c=0;c<t;c++)i.push(s(c));return i},Fs=(t,s)=>{const i=[];for(let c=0;c<t.length;c+=s){const d=ro.call(t,c,c+s);i.push(d)}return i},Ze=(t,s)=>{const i=t.length,c=new Array(i);for(let d=0;d<i;d++){const h=t[d];c[d]=s(h,d)}return c},Tt=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];s(d,i)}},W=(t,s)=>{for(let i=t.length-1;i>=0;i--){const c=t[i];s(c,i)}},mc=(t,s)=>{const i=[],c=[];for(let d=0,h=t.length;d<h;d++){const p=t[d];(s(p,d)?i:c).push(p)}return{pass:i,fail:c}},ao=(t,s)=>{const i=[];for(let c=0,d=t.length;c<d;c++){const h=t[c];s(h,c)&&i.push(h)}return i},As=(t,s,i)=>(W(t,(c,d)=>{i=s(i,c,d)}),i),ko=(t,s,i)=>(Tt(t,(c,d)=>{i=s(i,c,d)}),i),cd=(t,s,i)=>{for(let c=0,d=t.length;c<d;c++){const h=t[c];if(s(h,c))return M.some(h);if(i(h,c))break}return M.none()},gn=(t,s)=>cd(t,s,Gn),Go=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const d=t[i];if(s(d,i))return M.some(i)}return M.none()},mn=t=>{const s=[];for(let i=0,c=t.length;i<c;++i){if(!et(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);po.apply(s,t[i])}return s},Ae=(t,s)=>mn(Ze(t,s)),li=(t,s)=>{for(let i=0,c=t.length;i<c;++i){const d=t[i];if(s(d,i)!==!0)return!1}return!0},Nr=t=>{const s=ro.call(t,0);return s.reverse(),s},Ut=(t,s)=>ao(t,i=>!Uo(s,i)),Ga=(t,s)=>{const i={};for(let c=0,d=t.length;c<d;c++){const h=t[c];i[String(h)]=s(h,c)}return i},wo=t=>[t],Ka=(t,s)=>{const i=ro.call(t,0);return i.sort(s),i},Ko=(t,s)=>s>=0&&s<t.length?M.some(t[s]):M.none(),ln=t=>Ko(t,0),Br=t=>Ko(t,t.length-1),Ri=nt(Array.from)?Array.from:t=>ro.call(t),hr=(t,s)=>{for(let i=0;i<t.length;i++){const c=s(t[i],i);if(c.isSome())return c}return M.none()},xs=Object.keys,om=Object.hasOwnProperty,ar=(t,s)=>{const i=xs(t);for(let c=0,d=i.length;c<d;c++){const h=i[c],p=t[h];s(p,h)}},os=(t,s)=>ma(t,(i,c)=>({k:c,v:s(i,c)})),ma=(t,s)=>{const i={};return ar(t,(c,d)=>{const h=s(c,d);i[h.k]=h.v}),i},Gs=t=>(s,i)=>{t[i]=s},ha=(t,s,i,c)=>{ar(t,(d,h)=>{(s(d,h)?i:c)(d,h)})},Xi=(t,s)=>{const i={},c={};return ha(t,s,Gs(i),Gs(c)),{t:i,f:c}},Hc=(t,s)=>{const i={};return ha(t,s,Gs(i),ae),i},rf=(t,s)=>{const i=[];return ar(t,(c,d)=>{i.push(s(c,d))}),i},ui=(t,s)=>{const i=xs(t);for(let c=0,d=i.length;c<d;c++){const h=i[c],p=t[h];if(s(p,h,t))return M.some(p)}return M.none()},Xp=t=>rf(t,pn),wt=(t,s)=>io(t,s)?M.from(t[s]):M.none(),io=(t,s)=>om.call(t,s),pa=(t,s)=>io(t,s)&&t[s]!==void 0&&t[s]!==null,Yi=(t,s,i=En)=>t.exists(c=>i(c,s)),Ji=(t,s,i=En)=>lu(t,s,i).getOr(t.isNone()&&s.isNone()),Ir=t=>{const s=[],i=c=>{s.push(c)};for(let c=0;c<t.length;c++)t[c].each(i);return s},ss=t=>{const s=[];for(let i=0;i<t.length;i++){const c=t[i];if(c.isSome())s.push(c.getOrDie());else return M.none()}return M.some(s)},lu=(t,s,i)=>t.isSome()&&s.isSome()?M.some(i(t.getOrDie(),s.getOrDie())):M.none(),ld=(t,s,i,c)=>t.isSome()&&s.isSome()&&i.isSome()?M.some(c(t.getOrDie(),s.getOrDie(),i.getOrDie())):M.none(),Xo=(t,s)=>t!=null?M.some(s(t)):M.none(),en=(t,s)=>t?M.some(s):M.none(),Lr=(t,s)=>t+s,Tl=(t,s)=>t.substring(s),ud=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Yp=(t,s)=>Ks(t,s)?Tl(t,s.length):t,Mi=(t,s)=>zc(t,s)?t:Lr(t,s),di=(t,s,i=0,c)=>{const d=t.indexOf(s,i);return d!==-1?wn(c)?!0:d+s.length<=c:!1},Ks=(t,s)=>ud(t,s,0),zc=(t,s)=>ud(t,s,t.length-s.length),Vc=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ga=t=>t.length>0,Wo=t=>!ga(t),Pa=t=>t.style!==void 0&&nt(t.style.getPropertyValue),Xa=(t,s)=>{const c=(s||document).createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return Uc(c.childNodes[0])},Jp=(t,s)=>{const c=(s||document).createElement(t);return Uc(c)},bh=(t,s)=>{const c=(s||document).createTextNode(t);return Uc(c)},Uc=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},be={fromHtml:Xa,fromTag:Jp,fromText:bh,fromDom:Uc,fromPoint:(t,s,i)=>M.from(t.dom.elementFromPoint(s,i)).map(Uc)},Pi=typeof window<"u"?window:Function("return this;")(),dd=(t,s)=>{let i=s??Pi;for(let c=0;c<t.length&&i!==void 0&&i!==null;++c)i=i[t[c]];return i},Qp=(t,s)=>{const i=t.split(".");return dd(i,s)},yh=(t,s)=>Qp(t,s),as=(t,s)=>{const i=yh(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},sm=Object.getPrototypeOf,Z0=t=>as("HTMLElement",t),rm=t=>{const s=Qp("ownerDocument.defaultView",t);return He(t)&&(Z0(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(sm(t).constructor.name))},fd=9,$r=11,Rs=1,Wc=3,Hs=t=>t.dom.nodeName.toLowerCase(),Ya=t=>t.dom.nodeType,uu=t=>s=>Ya(s)===t,af=t=>$o(t)&&rm(t.dom),$o=uu(Rs),Ni=uu(Wc),cv=uu(fd),Zc=uu($r),kl=t=>s=>$o(s)&&Hs(s)===t,Bi=(t,s)=>{const i=t.dom;if(i.nodeType!==Rs)return!1;{const c=i;if(c.matches!==void 0)return c.matches(s);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(s);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(s);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ms=t=>t.nodeType!==Rs&&t.nodeType!==fd&&t.nodeType!==$r||t.childElementCount===0,hc=(t,s)=>{const i=s===void 0?document:s.dom;return Ms(i)?[]:Ze(i.querySelectorAll(t),be.fromDom)},wh=(t,s)=>{const i=s===void 0?document:s.dom;return Ms(i)?M.none():M.from(i.querySelector(t)).map(be.fromDom)},uo=(t,s)=>t.dom===s.dom,Na=(t,s)=>{const i=t.dom,c=s.dom;return i===c?!1:i.contains(c)},va=t=>be.fromDom(t.dom.ownerDocument),zs=t=>cv(t)?t:va(t),jc=t=>be.fromDom(zs(t).dom.documentElement),Al=t=>be.fromDom(zs(t).dom.defaultView),Ja=t=>M.from(t.dom.parentNode).map(be.fromDom),pc=t=>Ja(t),Qa=t=>M.from(t.dom.parentElement).map(be.fromDom),Ch=(t,s)=>{const i=nt(s)?s:Gn;let c=t.dom;const d=[];for(;c.parentNode!==null&&c.parentNode!==void 0;){const h=c.parentNode,p=be.fromDom(h);if(d.push(p),i(p)===!0)break;c=h}return d},xh=t=>M.from(t.dom.offsetParent).map(be.fromDom),eg=t=>M.from(t.dom.nextSibling).map(be.fromDom),gc=t=>Ze(t.dom.childNodes,be.fromDom),Ol=(t,s)=>{const i=t.dom.childNodes;return M.from(i[s]).map(be.fromDom)},Sh=t=>Ol(t,0),Eh=(t,s)=>({element:t,offset:s}),im=(t,s)=>{const i=gc(t);return i.length>0&&s<i.length?Eh(i[s],0):Eh(t,s)},tg=t=>Zc(t)&&Xe(t.dom.host),am=nt(Element.prototype.attachShadow)&&nt(Node.prototype.getRootNode),lv=D(am),ms=am?t=>be.fromDom(t.dom.getRootNode()):zs,ec=t=>tg(t)?t:be.fromDom(zs(t).dom.body),j0=t=>ng(t).isSome(),ng=t=>{const s=ms(t);return tg(s)?M.some(s):M.none()},tc=t=>be.fromDom(t.dom.host),og=t=>{if(lv()&&Xe(t.target)){const s=be.fromDom(t.target);if($o(s)&&cm(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return ln(i)}}return M.from(t.target)},cm=t=>Xe(t.dom.shadowRoot),cr=t=>{const s=Ni(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return ng(be.fromDom(s)).fold(()=>i.body.contains(s),hn(cr,tc))},Xr=()=>du(be.fromDom(document)),du=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return be.fromDom(s)},_h=(t,s,i)=>{if(ve(i)||Bn(i)||Pt(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},Et=(t,s,i)=>{_h(t.dom,s,i)},uv=(t,s)=>{const i=t.dom;ar(s,(c,d)=>{_h(i,d,c)})},Ss=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Xs=(t,s)=>M.from(Ss(t,s)),Th=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},bs=(t,s)=>{t.dom.removeAttribute(s)},q0=t=>ko(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),lm=(t,s,i)=>{if(!ve(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);Pa(t)&&t.style.setProperty(s,i)},um=(t,s)=>{Pa(t)&&t.style.removeProperty(s)},b=(t,s,i)=>{const c=t.dom;lm(c,s,i)},_=(t,s)=>{const i=t.dom;ar(s,(c,d)=>{lm(i,d,c)})},O=(t,s)=>{const i=t.dom;ar(s,(c,d)=>{c.fold(()=>{um(i,d)},h=>{lm(i,d,h)})})},I=(t,s)=>{const i=t.dom,d=window.getComputedStyle(i).getPropertyValue(s);return d===""&&!cr(t)?q(i,s):d},q=(t,s)=>Pa(t)?t.style.getPropertyValue(s):"",Z=(t,s)=>{const i=t.dom,c=q(i,s);return M.from(c).filter(d=>d.length>0)},J=t=>{const s={},i=t.dom;if(Pa(i))for(let c=0;c<i.style.length;c++){const d=i.style.item(c);s[d]=i.style[d]}return s},ge=(t,s,i)=>{const c=be.fromTag(t);return b(c,s,i),Z(c,s).isSome()},se=(t,s)=>{const i=t.dom;um(i,s),Yi(Xs(t,"style").map(Vc),"")&&bs(t,"style")},_e=t=>t.dom.offsetWidth,Ue=(t,s)=>{const i=(x,E)=>{if(!Pt(E)&&!E.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+E);const R=x.dom;Pa(R)&&(R.style[t]=E+"px")},c=x=>{const E=s(x);if(E<=0||E===null){const R=I(x,t);return parseFloat(R)||0}return E},d=c,h=(x,E)=>ko(E,(R,B)=>{const F=I(x,B),U=F===void 0?0:parseInt(F,10);return isNaN(U)?R:R+U},0);return{set:i,get:c,getOuter:d,aggregate:h,max:(x,E,R)=>{const B=h(x,R);return E>B?E-B:0}}},st=Ue("height",t=>{const s=t.dom;return cr(t)?s.getBoundingClientRect().height:s.offsetHeight}),Pe=t=>st.get(t),At=t=>st.getOuter(t),Qn=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=st.max(t,s,i);b(t,"max-height",c+"px")},Fo=(t,s)=>({left:t,top:s,translate:(c,d)=>Fo(t+c,s+d)}),vn=Fo,fi=t=>{const s=t.getBoundingClientRect();return vn(s.left,s.top)},Do=(t,s)=>t!==void 0?t:s!==void 0?s:0,Ys=t=>{const s=t.dom.ownerDocument,i=s.body,c=s.defaultView,d=s.documentElement;if(i===t.dom)return vn(i.offsetLeft,i.offsetTop);const h=Do(c==null?void 0:c.pageYOffset,d.scrollTop),p=Do(c==null?void 0:c.pageXOffset,d.scrollLeft),x=Do(d.clientTop,i.clientTop),E=Do(d.clientLeft,i.clientLeft);return Fr(t).translate(p-E,h-x)},Fr=t=>{const s=t.dom,c=s.ownerDocument.body;return c===s?vn(c.offsetLeft,c.offsetTop):cr(t)?fi(s):vn(0,0)},Co=Ue("width",t=>t.dom.offsetWidth),Un=(t,s)=>Co.set(t,s),to=t=>Co.get(t),hs=t=>Co.getOuter(t),qc=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=Co.max(t,s,i);b(t,"max-width",c+"px")},ba=t=>{let s=!1,i;return(...c)=>(s||(s=!0,i=t.apply(null,c)),i)},lr=(t,s,i,c)=>{const d=t.isiOS()&&/ipad/i.test(i)===!0,h=t.isiOS()&&!d,p=t.isiOS()||t.isAndroid(),x=p||c("(pointer:coarse)"),E=d||!h&&p&&c("(min-device-width:768px)"),R=h||p&&!E,B=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,F=!R&&!E&&!B;return{isiPad:D(d),isiPhone:D(h),isTablet:D(E),isPhone:D(R),isTouch:D(x),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:D(B),isDesktop:D(F)}},Ho=(t,s)=>{for(let i=0;i<t.length;i++){const c=t[i];if(c.test(s))return c}},ya=(t,s)=>{const i=Ho(t,s);if(!i)return{major:0,minor:0};const c=d=>Number(s.replace(i,"$"+d));return yi(c(1),c(2))},wa=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Ba():ya(t,i)},Ba=()=>yi(0,0),yi=(t,s)=>({major:t,minor:s}),zo={nu:yi,detect:wa,unknown:Ba},wi=(t,s)=>hr(s.brands,i=>{const c=i.brand.toLowerCase();return gn(t,d=>{var h;return c===((h=d.brand)===null||h===void 0?void 0:h.toLowerCase())}).map(d=>({current:d.name,version:zo.nu(parseInt(i.version,10),0)}))}),cs=(t,s)=>{const i=String(s).toLowerCase();return gn(t,c=>c.search(i))},vc=(t,s)=>cs(t,s).map(i=>{const c=zo.detect(i.versionRegexes,s);return{current:i.name,version:c}}),md=(t,s)=>cs(t,s).map(i=>{const c=zo.detect(i.versionRegexes,s);return{current:i.name,version:c}}),pr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,go=t=>s=>di(s,t),Dl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>di(t,"edge/")&&di(t,"chrome")&&di(t,"safari")&&di(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pr],search:t=>di(t,"chrome")&&!di(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>di(t,"msie")||di(t,"trident")},{name:"Opera",versionRegexes:[pr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:go("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:go("firefox")},{name:"Safari",versionRegexes:[pr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(di(t,"safari")||di(t,"mobile/"))&&di(t,"applewebkit")}],Ca=[{name:"Windows",search:go("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>di(t,"iphone")||di(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:go("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:go("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:go("linux"),versionRegexes:[]},{name:"Solaris",search:go("sunos"),versionRegexes:[]},{name:"FreeBSD",search:go("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:go("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gc={browsers:D(Dl),oses:D(Ca)},kh="Edge",cf="Chromium",dm="IE",xa="Opera",hd="Firefox",gr="Safari",fu=()=>mu({current:void 0,version:zo.unknown()}),mu=t=>{const s=t.current,i=t.version,c=d=>()=>s===d;return{current:s,version:i,isEdge:c(kh),isChromium:c(cf),isIE:c(dm),isOpera:c(xa),isFirefox:c(hd),isSafari:c(gr)}},Kc={unknown:fu,nu:mu,edge:D(kh),chromium:D(cf),ie:D(dm),opera:D(xa),firefox:D(hd),safari:D(gr)},fm="Windows",pd="iOS",dv="Android",Rl="Linux",Ah="macOS",hu="Solaris",G0="FreeBSD",re="ChromeOS",Oh=()=>ie({current:void 0,version:zo.unknown()}),ie=t=>{const s=t.current,i=t.version,c=d=>()=>s===d;return{current:s,version:i,isWindows:c(fm),isiOS:c(pd),isAndroid:c(dv),isMacOS:c(Ah),isLinux:c(Rl),isSolaris:c(hu),isFreeBSD:c(G0),isChromeOS:c(re)}},we={unknown:Oh,nu:ie,windows:D(fm),ios:D(pd),android:D(dv),linux:D(Rl),macos:D(Ah),solaris:D(hu),freebsd:D(G0),chromeos:D(re)},Ge={detect:(t,s,i)=>{const c=Gc.browsers(),d=Gc.oses(),h=s.bind(E=>wi(c,E)).orThunk(()=>vc(c,t)).fold(Kc.unknown,Kc.nu),p=md(d,t).fold(we.unknown,we.nu),x=lr(p,h,t,i);return{browser:h,os:p,deviceType:x}}},Fe=t=>window.matchMedia(t).matches;let Lt=ba(()=>Ge.detect(navigator.userAgent,M.from(navigator.userAgentData),Fe));const jt=()=>Lt(),nn=(t,s,i,c,d,h,p)=>({target:t,x:s,y:i,stop:c,prevent:d,kill:h,raw:p}),dn=t=>{const s=be.fromDom(og(t).getOr(t.target)),i=()=>t.stopPropagation(),c=()=>t.preventDefault(),d=Lo(c,i);return nn(s,t.clientX,t.clientY,i,c,d,t)},ho=(t,s)=>i=>{t(i)&&s(dn(i))},Dn=(t,s,i,c,d)=>{const h=ho(i,c);return t.dom.addEventListener(s,h,d),{unbind:_n(zn,t,s,h,d)}},Kn=(t,s,i,c)=>Dn(t,s,i,c,!1),xo=(t,s,i,c)=>Dn(t,s,i,c,!0),zn=(t,s,i,c)=>{t.dom.removeEventListener(s,i,c)},Oo=(t,s)=>{Ja(t).each(c=>{c.dom.insertBefore(s.dom,t.dom)})},Yr=(t,s)=>{eg(t).fold(()=>{Ja(t).each(d=>{Js(d,s)})},c=>{Oo(c,s)})},mi=(t,s)=>{Sh(t).fold(()=>{Js(t,s)},c=>{t.dom.insertBefore(s.dom,c.dom)})},Js=(t,s)=>{t.dom.appendChild(s.dom)},Es=(t,s,i)=>{Ol(t,i).fold(()=>{Js(t,s)},c=>{Oo(c,s)})},Ia=(t,s)=>{Tt(s,i=>{Js(t,i)})},Hr=t=>{t.dom.textContent="",Tt(gc(t),s=>{Xc(s)})},Xc=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Qi=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,c=s.body.scrollTop||s.documentElement.scrollTop;return vn(i,c)},fv=(t,s,i)=>{const d=(i!==void 0?i.dom:document).defaultView;d&&d.scrollTo(t,s)},F2=t=>{const s=t===void 0?window:t;return jt().browser.isFirefox()?M.none():M.from(s.visualViewport)},sg=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),rg=t=>{const s=t===void 0?window:t,i=s.document,c=Qi(be.fromDom(i));return F2(s).fold(()=>{const d=s.document.documentElement,h=d.clientWidth,p=d.clientHeight;return sg(c.left,c.top,h,p)},d=>sg(Math.max(d.pageLeft,c.left),Math.max(d.pageTop,c.top),d.width,d.height))},mv=()=>be.fromDom(document),gd=(t,s)=>t.view(s).fold(D([]),c=>{const d=t.owner(c),h=gd(t,d);return[c].concat(h)}),hv=(t,s)=>{const i=s.owner(t),c=gd(s,i);return M.some(c)};var GT=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?M.none():M.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(be.fromDom)},owner:t=>va(t)});const pv=t=>{const s=mv(),i=Qi(s);return hv(t,GT).fold(_n(Ys,t),d=>{const h=Fr(t),p=As(d,(x,E)=>{const R=Fr(E);return{left:x.left+R.left,top:x.top+R.top}},{left:0,top:0});return vn(p.left+h.left+i.left,p.top+h.top+i.top)})},KT=(t,s,i)=>({point:t,width:s,height:i}),mm=(t,s,i,c)=>({x:t,y:s,width:i,height:c}),vr=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),Ps=t=>{const s=Ys(t),i=hs(t),c=At(t);return vr(s.left,s.top,i,c)},Ii=t=>{const s=pv(t),i=hs(t),c=At(t);return vr(s.left,s.top,i,c)},K0=(t,s)=>{const i=Math.max(t.x,s.x),c=Math.max(t.y,s.y),d=Math.min(t.right,s.right),h=Math.min(t.bottom,s.bottom),p=d-i,x=h-c;return vr(i,c,p,x)},XT=(t,s)=>ko(s,(i,c)=>K0(i,c),t),Li=()=>rg(window);var ig=tinymce.util.Tools.resolve("tinymce.ThemeManager");const ag=t=>{const s=h=>h(t),i=D(t),c=()=>d,d={tag:!0,inner:t,fold:(h,p)=>p(t),isValue:Zt,isError:Gn,map:h=>An.value(h(t)),mapError:c,bind:s,exists:s,forall:s,getOr:i,or:c,getOrThunk:i,orThunk:c,getOrDie:i,each:h=>{h(t)},toOptional:()=>M.some(t)};return d},lf=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(c,d)=>c(t),isValue:Gn,isError:Zt,map:s,mapError:c=>An.error(c(t)),bind:s,exists:Gn,forall:Zt,getOr:pn,or:pn,getOrThunk:Pn,orThunk:Pn,getOrDie:le(String(t)),each:ae,toOptional:M.none};return i},An={value:ag,error:lf,fromOption:(t,s)=>t.fold(()=>lf(s),ag)};var La;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(La||(La={}));const hm=(t,s,i)=>t.stype===La.Error?s(t.serror):i(t.svalue),gv=t=>{const s=[],i=[];return Tt(t,c=>{hm(c,d=>i.push(d),d=>s.push(d))}),{values:s,errors:i}},H2=(t,s)=>t.stype===La.Error?{stype:La.Error,serror:s(t.serror)}:t,Dh=(t,s)=>t.stype===La.Value?{stype:La.Value,svalue:s(t.svalue)}:t,cg=(t,s)=>t.stype===La.Value?s(t.svalue):t,pu=(t,s)=>t.stype===La.Error?s(t.serror):t,nc=t=>({stype:La.Value,svalue:t}),$i=t=>({stype:La.Error,serror:t}),Qs={fromResult:t=>t.fold($i,nc),toResult:t=>hm(t,An.error,An.value),svalue:nc,partition:gv,serror:$i,bind:cg,bindError:pu,map:Dh,mapError:H2,fold:hm},Ci=(t,s,i,c)=>({tag:"field",key:t,newKey:s,presence:i,prop:c}),vd=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Ml=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},ur=(t,s)=>s,z2=(t,s)=>St(t)&&St(s)?Yo(t,s):s,V2=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let c=0;c<s.length;c++){const d=s[c];for(const h in d)io(d,h)&&(i[h]=t(i[h],d[h]))}return i},Yo=V2(z2),pm=V2(ur),vo=()=>({tag:"required",process:{}}),gu=t=>({tag:"defaultedThunk",process:t}),X0=t=>gu(D(t)),vv=()=>({tag:"option",process:{}}),Y0=t=>({tag:"mergeWithThunk",process:t}),J0=t=>Y0(D(t)),no=(t,s)=>t.length>0?Qs.svalue(Yo(s,pm.apply(void 0,t))):Qs.svalue(s),bv=t=>Lo(Qs.serror,mn)(t),U2={consolidateObj:(t,s)=>{const i=Qs.partition(t);return i.errors.length>0?bv(i.errors):no(i.values,s)},consolidateArr:t=>{const s=Qs.partition(t);return s.errors.length>0?bv(s.errors):Qs.svalue(s.values)}},yv=t=>He(t)&&xs(t).length>100?" removed due to size":JSON.stringify(t,null,2),QT=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:D("... (only showing first ten failures)")}]):t;return Ze(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},gm=(t,s)=>Qs.serror([{path:t,getErrorInfo:s}]),vu=(t,s,i)=>gm(t,()=>'Could not find valid *required* value for "'+s+'" in '+yv(i)),W2=(t,s)=>gm(t,()=>'Choice schema did not contain choice key: "'+s+'"'),wv=(t,s,i)=>gm(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+yv(s)),Z2=(t,s)=>gm(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Pl=(t,s)=>gm(t,D(s)),df=t=>{const s=(c,d)=>Qs.bindError(t(d),h=>Pl(c,h)),i=D("val");return{extract:s,toString:i}},Rh=df(Qs.svalue),Mh=(t,s,i,c)=>wt(s,i).fold(()=>vu(t,i,s),c),j2=(t,s,i,c)=>{const d=wt(t,s).getOrThunk(()=>i(t));return c(d)},Q0=(t,s,i)=>i(wt(t,s)),ey=(t,s,i,c)=>{const d=wt(t,s).map(h=>h===!0?i(t):h);return c(d)},q2=(t,s,i,c,d)=>{const h=x=>d.extract(s.concat([c]),x),p=x=>x.fold(()=>Qs.svalue(M.none()),E=>{const R=d.extract(s.concat([c]),E);return Qs.map(R,M.some)});switch(t.tag){case"required":return Mh(s,i,c,h);case"defaultedThunk":return j2(i,c,t.process,h);case"option":return Q0(i,c,p);case"defaultedOptionThunk":return ey(i,c,t.process,p);case"mergeWithThunk":return j2(i,c,D({}),x=>{const E=Yo(t.process(i),x);return h(E)})}},ty=(t,s,i)=>{const c={},d=[];for(const h of i)Ml(h,(p,x,E,R)=>{const B=q2(E,t,s,p,R);Qs.fold(B,F=>{d.push(...F)},F=>{c[x]=F})},(p,x)=>{c[p]=x(s)});return d.length>0?Qs.serror(d):Qs.svalue(c)},pi=t=>({extract:(c,d)=>t().extract(c,d),toString:()=>t().toString()}),ny=t=>xs(Hc(t,Xe)),Sa=t=>{const s=sn(t),i=As(t,(d,h)=>Ml(h,p=>Yo(d,{[p]:!0}),D(d)),{});return{extract:(d,h)=>{const p=Bn(h)?[]:ny(h),x=ao(p,E=>!pa(i,E));return x.length===0?s.extract(d,h):Z2(d,x)},toString:s.toString}},sn=t=>({extract:(c,d)=>ty(c,d,t),toString:()=>`obj{
`+Ze(t,d=>Ml(d,(h,p,x,E)=>h+" -> "+E.toString(),(h,p)=>"state("+h+")")).join(`
`)+"}"}),Ns=t=>({extract:(c,d)=>{const h=Ze(d,(p,x)=>t.extract(c.concat(["["+x+"]"]),p));return U2.consolidateArr(h)},toString:()=>"array("+t.toString()+")"}),bd=(t,s)=>{const i=s!==void 0?s:pn;return{extract:(h,p)=>{const x=[];for(const E of t){const R=E.extract(h,p);if(R.stype===La.Value)return{stype:La.Value,svalue:i(R.svalue)};x.push(R)}return U2.consolidateArr(x)},toString:()=>"oneOf("+Ze(t,h=>h.toString()).join(", ")+")"}},Jr=(t,s)=>{const i=(h,p)=>Ns(df(t)).extract(h,p);return{extract:(h,p)=>{const x=xs(p),E=i(h,x);return Qs.bind(E,R=>{const B=Ze(R,F=>Ci(F,F,vo(),s));return sn(B).extract(h,p)})},toString:()=>"setOf("+s.toString()+")"}},Ph=(t,s)=>{const i=ba(s);return{extract:(h,p)=>i().extract(h,p),toString:()=>i().toString()}},G2=Lo(Ns,sn),bu=D(Rh),Nl=(t,s)=>df(i=>{const c=typeof i;return t(i)?Qs.svalue(i):Qs.serror(`Expected type: ${s} but got: ${c}`)}),vm=Nl(Pt,"number"),Qr=Nl(ve,"string"),Nh=Nl(Bn,"boolean"),oy=Nl(nt,"function"),sy=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>sy(t[s]));default:return!1}},ff=df(t=>sy(t)?Qs.svalue(t):Qs.serror("Expected value to be acceptable for sending via postMessage")),Cv=(t,s,i,c)=>wt(i,c).fold(()=>wv(t,i,c),h=>h.extract(t.concat(["branch: "+c]),s)),It=(t,s)=>({extract:(d,h)=>wt(h,t).fold(()=>W2(d,t),x=>Cv(d,h,s,x)),toString:()=>"chooseOn("+t+"). Possible values: "+xs(s)}),yd=()=>Ns(Rh),Bh=t=>df(s=>t(s).fold(Qs.serror,Qs.svalue)),bm=(t,s)=>Jr(i=>Qs.fromResult(t(i)),s),Yc=(t,s,i)=>{const c=s.extract([t],i);return Qs.mapError(c,d=>({input:i,errors:d}))},ls=(t,s,i)=>Qs.toResult(Yc(t,s,i)),Bl=t=>t.fold(s=>{throw new Error(Ih(s))},pn),zr=(t,s,i)=>Bl(ls(t,s,i)),Ih=t=>`Errors: 
`+QT(t.errors).join(`
`)+`

Input object: `+yv(t.input),br=(t,s)=>It(t,os(s,sn)),ry=(t,s)=>Ph(t,s),Vr=Ci,Ke=vd,mf=t=>Bh(s=>Uo(t,s)?An.value(s):An.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),je=t=>Vr(t,t,vo(),bu()),ei=(t,s)=>Vr(t,t,vo(),s),Lh=t=>ei(t,vm),er=t=>ei(t,Qr),Jo=(t,s)=>Vr(t,t,vo(),mf(s)),iy=t=>ei(t,Nh),kr=t=>ei(t,oy),ps=(t,s)=>Vr(t,t,vv(),df(i=>Qs.serror("The field: "+t+" is forbidden. "+s))),Jc=(t,s)=>Vr(t,t,vo(),sn(s)),K2=(t,s)=>Vr(t,t,vo(),G2(s)),Ar=(t,s)=>Vr(t,t,vo(),Ns(s)),bo=t=>Vr(t,t,vv(),bu()),Qc=(t,s)=>Vr(t,t,vv(),s),lg=t=>Qc(t,vm),xi=t=>Qc(t,Qr),X2=(t,s)=>Qc(t,mf(s)),hf=t=>Qc(t,oy),Y2=(t,s)=>Qc(t,Ns(s)),Ea=(t,s)=>Qc(t,sn(s)),ay=(t,s)=>Qc(t,Sa(s)),xe=(t,s)=>Vr(t,t,X0(s),bu()),yc=(t,s,i)=>Vr(t,t,X0(s),i),ug=(t,s)=>yc(t,s,vm),Si=(t,s)=>yc(t,s,Qr),Bs=(t,s,i)=>yc(t,s,mf(i)),Ei=(t,s)=>yc(t,s,Nh),_s=(t,s)=>yc(t,s,oy),$h=(t,s)=>yc(t,s,ff),wd=(t,s,i)=>yc(t,s,Ns(i)),xv=(t,s,i)=>yc(t,s,sn(i)),Xt=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},Il={generate:t=>{if(!et(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return Tt(t,(c,d)=>{const h=xs(c);if(h.length!==1)throw new Error("one and only one name per case");const p=h[0],x=c[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!et(x))throw new Error("case arguments must be an array");s.push(p),i[p]=(...E)=>{const R=E.length;if(R!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+R);return{fold:(...F)=>{if(F.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+F.length);return F[d].apply(null,E)},match:F=>{const U=xs(F);if(s.length!==U.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+U.join(","));if(!li(s,X=>Uo(U,X)))throw new Error("Not all branches were specified when using match. Specified: "+U.join(", ")+`
Required: `+s.join(", "));return F[p].apply(null,E)},log:F=>{console.log(F,{constructors:s,constructor:p,params:E})}}}}),i}};Il.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pf=t=>{const s=[],i=[];return Tt(t,c=>{c.fold(d=>{s.push(d)},d=>{i.push(d)})}),{errors:s,values:i}},J2=(t,s)=>{const i={};return ar(t,(c,d)=>{Uo(s,d)||(i[d]=c)}),i},Q2=(t,s)=>({[t]:s}),ex=t=>{const s={};return Tt(t,i=>{s[i.key]=i.value}),s},ek=(t,s)=>J2(t,s),ym=(t,s)=>Q2(t,s),Fh=t=>ex(t),ly=(t,s)=>t.length===0?An.value(s):An.value(Yo(s,pm.apply(void 0,t))),tk=t=>An.error(mn(t)),NR=(t,s)=>{const i=pf(t);return i.errors.length>0?tk(i.errors):ly(i.values,s)},Hh=t=>nt(t)?t:Gn,zh=(t,s,i)=>{let c=t.dom;const d=Hh(i);for(;c.parentNode;){c=c.parentNode;const h=be.fromDom(c),p=s(h);if(p.isSome())return p;if(d(h))break}return M.none()},wm=(t,s,i)=>{const c=s(t),d=Hh(i);return c.orThunk(()=>d(t)?M.none():zh(t,s,d))},gf=(t,s)=>uo(t.element,s.event.target),vf={can:Zt,abort:Gn,run:ae},bf=t=>{if(!pa(t,"can")&&!pa(t,"abort")&&!pa(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...vf,...t}},nk=(t,s)=>(...i)=>ko(t,(c,d)=>c&&s(d).apply(void 0,i),!0),tx=(t,s)=>(...i)=>ko(t,(c,d)=>c||s(d).apply(void 0,i),!1),nx=t=>nt(t)?{can:Zt,abort:Gn,run:t}:t,uy=t=>{const s=nk(t,d=>d.can),i=tx(t,d=>d.abort);return{can:s,abort:i,run:(...d)=>{Tt(t,h=>{h.run.apply(void 0,d)})}}},ti=D,yu=ti("touchstart"),Sv=ti("touchmove"),wu=ti("touchend"),Ev=ti("touchcancel"),_a=ti("mousedown"),dg=ti("mousemove"),fg=ti("mouseout"),dy=ti("mouseup"),Cu=ti("mouseover"),el=ti("focusin"),Vh=ti("focusout"),tl=ti("keydown"),_v=ti("keyup"),xu=ti("input"),nl=ti("change"),yf=ti("click"),ox=ti("transitioncancel"),Ll=ti("transitionend"),ok=ti("transitionstart"),sk=ti("selectstart"),Is=t=>D("alloy."+t),fy={tap:Is("tap")},Su=Is("focus"),Cm=Is("blur.post"),mg=Is("paste.post"),Eu=Is("receive"),$a=Is("execute"),xm=Is("focus.item"),ea=fy.tap,Or=Is("longpress"),hg=Is("sandbox.close"),Tv=Is("typeahead.cancel"),kv=Is("system.init"),rk=Is("system.touchmove"),sx=Is("system.touchend"),Av=Is("system.scroll"),Sm=Is("system.resize"),Fa=Is("system.attached"),$l=Is("system.detached"),_u=Is("system.dismissRequested"),Em=Is("system.repositionRequested"),ol=Is("focusmanager.shifted"),Uh=Is("slotcontainer.visibility"),my=Is("system.external.element.scroll"),hy=Is("change.tab"),py=Is("dismiss.tab"),Wh=Is("highlight"),_m=Is("dehighlight"),Mn=(t,s)=>{Dv(t,t.element,s,{})},Gt=(t,s,i)=>{Dv(t,t.element,s,i)},Tu=t=>{Mn(t,$a())},Ov=(t,s,i)=>{Dv(t,s,i,{})},Dv=(t,s,i,c)=>{const d={target:s,...c};t.getSystem().triggerEvent(i,s,d)},gy=(t,s,i,c)=>{const d={...c,target:s};t.getSystem().triggerEvent(i,s,d)},Cd=(t,s,i,c)=>{t.getSystem().triggerEvent(i,s,c.event)},Qo=t=>Fh(t),rx=(t,s)=>({key:t,value:bf({abort:s})}),vy=(t,s)=>({key:t,value:bf({can:s})}),by=t=>({key:t,value:bf({run:(s,i)=>{i.event.prevent()}})}),Ie=(t,s)=>({key:t,value:bf({run:s})}),yy=(t,s,i)=>({key:t,value:bf({run:(c,d)=>{s.apply(void 0,[c,d].concat(i))}})}),ix=t=>s=>Ie(t,s),Tm=t=>s=>({key:t,value:bf({run:(i,c)=>{gf(i,c)&&s(i,c)}})}),ax=(t,s)=>Ie(t,(i,c)=>{i.getSystem().getByUid(s).each(d=>{Cd(d,d.element,t,c)})}),xd=(t,s,i)=>{const c=s.partUids[i];return ax(t,c)},km=(t,s)=>Ie(t,(i,c)=>{const d=c.event,h=i.getSystem().getByDom(d.target).getOrThunk(()=>wm(d.target,x=>i.getSystem().getByDom(x).toOptional(),Gn).getOr(i));s(i,h,c)}),sl=t=>Ie(t,(s,i)=>{i.cut()}),ik=t=>Ie(t,(s,i)=>{i.stop()}),Zh=(t,s)=>Tm(t)(s),gs=Tm(Fa()),ku=Tm($l()),cx=Tm(kv()),Fl=ix($a()),ak=(t,s)=>{const c=(s||document).createElement("div");return c.innerHTML=t,gc(be.fromDom(c))},wy=t=>t.dom.innerHTML,Sd=(t,s)=>{const c=va(t).dom,d=be.fromDom(c.createDocumentFragment()),h=ak(s,c);Ia(d,h),Hr(t),Js(t,d)},jh=t=>{const s=be.fromTag("div"),i=be.fromDom(t.dom.cloneNode(!0));return Js(s,i),wy(s)},lx=(t,s)=>be.fromDom(t.dom.cloneNode(s)),Am=t=>lx(t,!1),Rv=t=>lx(t,!0),Ed=t=>{if(tg(t))return"#shadow-root";{const s=Am(t);return jh(s)}},Au=t=>Ed(t),ux=(t,s,i)=>uo(s,t.element)&&!uo(s,i),Cy=Qo([vy(Su(),(t,s)=>{const i=s.event,c=i.originator,d=i.target;return ux(t,c,d)?(console.warn(Su()+` did not get interpreted by the desired target. 
Originator: `+Au(c)+`
Target: `+Au(d)+`
Check the `+Su()+" event handlers"),!1):!0})]);var ck=Object.freeze({__proto__:null,events:Cy});let Om=0;const Nt=t=>{const i=new Date().getTime(),c=Math.floor(Math.random()*1e9);return Om++,t+"_"+c+Om+String(i)},Dm=D("alloy-id-"),dx=D("data-alloy-id"),lk=Dm(),qh=dx(),uk=(t,s)=>{const i=Nt(lk+t);return Zo(s,i),i},Zo=(t,s)=>{Object.defineProperty(t.dom,qh,{value:s,writable:!0})},Rm=t=>{const s=$o(t)?t.dom[qh]:null;return M.from(s)},Gh=t=>Nt(t),xy=pn,Mm=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Au(t().element)+" is not in context.":""),i=d=>()=>{throw new Error(s(d))},c=d=>()=>{console.warn(s(d))};return{debugInfo:D("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Gn}},fx=Mm(),Ha=(t,s,i)=>{const c=i.toString(),d=c.indexOf(")")+1,h=c.indexOf("("),p=c.substring(h+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:tr(p.slice(0,1).concat(p.slice(3)))}),t},tr=t=>Ze(t,s=>zc(s,"/*")?s.substring(0,s.length-2):s),Sy=(t,s)=>{const i=t.toString(),c=i.indexOf(")")+1,d=i.indexOf("("),h=i.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:tr(h)}),t},dk=(t,s)=>{const i=s.toString(),c=i.indexOf(")")+1,d=i.indexOf("("),h=i.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:tr(h.slice(1))}),t},Mv=Nt("alloy-premade"),Pm=t=>(Object.defineProperty(t.element.dom,Mv,{value:t.uid,writable:!0}),ym(Mv,t)),Ey=t=>io(t.dom,Mv),pg=t=>wt(t,Mv),rl=t=>dk((s,...i)=>t(s.getApis(),s,...i),t),Ou={init:()=>wc({readState:D("No State required")})},wc=t=>t,BR=(t,s)=>{const i=Ze(s,d=>Ea(d.name(),[je("config"),xe("state",Ou)])),c=ls("component.behaviours",sn(i),t.behaviours).fold(d=>{throw new Error(Ih(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},pn);return{list:s,data:os(c,d=>{const h=d.map(p=>({config:p.config,state:p.state.init(p.config)}));return D(h)})}},IR=t=>t.list,LR=t=>t.data,gg=(t,s)=>{const i={};return ar(t,(c,d)=>{ar(c,(h,p)=>{const x=wt(i,p).getOr([]);i[p]=x.concat([s(d,h)])})}),i},Dr=t=>({classes:wn(t.classes)?[]:t.classes,attributes:wn(t.attributes)?{}:t.attributes,styles:wn(t.styles)?{}:t.styles}),Fi=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),mx=(t,s,i,c)=>{const d={...s};Tt(i,B=>{d[B.name()]=B.exhibit(t,c)});const h=gg(d,(B,F)=>({name:B,modification:F})),p=B=>As(B,(F,U)=>({...U.modification,...F}),{}),x=As(h.classes,(B,F)=>F.modification.concat(B),[]),E=p(h.attributes),R=p(h.styles);return Dr({classes:x,attributes:E,styles:R})},fk=(t,s,i,c)=>{try{const d=Ka(i,(h,p)=>{const x=h[s],E=p[s],R=c.indexOf(x),B=c.indexOf(E);if(R===-1)throw new Error("The ordering for "+t+" does not have an entry for "+x+`.
Order specified: `+JSON.stringify(c,null,2));if(B===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(c,null,2));return R<B?-1:B<R?1:0});return An.value(d)}catch(d){return An.error([d])}},wf=(t,s)=>({handler:t,purpose:s}),Pv=(t,s)=>({cHandler:t,purpose:s}),_y=(t,s)=>Pv(_n.apply(void 0,[t.handler].concat(s)),t.purpose),Kh=t=>t.cHandler,Xh=(t,s)=>({name:t,handler:s}),Cf=(t,s)=>{const i={};return Tt(t,c=>{i[c.name()]=c.handlers(s)}),i},_d=(t,s,i)=>{const c={...i,...Cf(s,t)};return gg(c,Xh)},vg=(t,s,i,c)=>{const d=_d(t,i,c);return yg(d,s)},Yh=t=>{const s=nx(t);return(i,c,...d)=>{const h=[i,c].concat(d);s.abort.apply(void 0,h)?c.stop():s.can.apply(void 0,h)&&s.run.apply(void 0,h)}},Nm=(t,s)=>An.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ze(s,i=>i.name),null,2)]),bg=(t,s,i)=>{const c=s[i];return c?fk("Event: "+i,"name",t,c).map(d=>{const h=Ze(d,p=>p.handler);return uy(h)}):Nm(i,t)},yg=(t,s)=>{const i=rf(t,(c,d)=>(c.length===1?An.value(c[0].handler):bg(c,s,d)).map(p=>{const x=Yh(p),E=c.length>1?ao(s[d],R=>Tr(c,B=>B.name===R)).join(" > "):c[0].name;return ym(d,wf(x,E))}));return NR(i,{})},Du="alloy.base.behaviour",hx=sn([Vr("dom","dom",vo(),sn([je("tag"),xe("styles",{}),xe("classes",[]),xe("attributes",{}),bo("value"),bo("innerHtml")])),je("components"),je("uid"),xe("events",{}),xe("apis",{}),Vr("eventOrder","eventOrder",J0({[$a()]:["disabling",Du,"toggling","typeaheadevents"],[Su()]:[Du,"focusing","keying"],[kv()]:[Du,"disabling","toggling","representing"],[xu()]:[Du,"representing","streaming","invalidating"],[$l()]:[Du,"representing","item-events","toolbar-button-events","tooltipping"],[_a()]:["focusing",Du,"item-type-events"],[yu()]:["focusing",Du,"item-type-events"],[Cu()]:["item-type-events","tooltipping"],[Eu()]:["receiving","reflecting","tooltipping"]}),bu()),bo("domModification")]),Ty=t=>ls("custom.definition",hx,t),Nv=t=>({...t.dom,uid:t.uid,domChildren:Ze(t.components,s=>s.element)}),mk=t=>t.domModification.fold(()=>Dr({}),Dr),hk=t=>t.events,wg=(t,s)=>{const i=Ss(t,s);return i===void 0||i===""?[]:i.split(" ")},Bv=(t,s,i)=>{const d=wg(t,s).concat([i]);return Et(t,s,d.join(" ")),!0},Jh=(t,s,i)=>{const c=ao(wg(t,s),d=>d!==i);return c.length>0?Et(t,s,c.join(" ")):bs(t,s),!1},Bm=t=>t.dom.classList!==void 0,Iv=t=>wg(t,"class"),px=(t,s)=>Bv(t,"class",s),Im=(t,s)=>Jh(t,"class",s),Qh=(t,s)=>Uo(Iv(t),s)?Im(t,s):px(t,s),Ts=(t,s)=>{Bm(t)?t.dom.classList.add(s):px(t,s)},ky=t=>{(Bm(t)?t.dom.classList:Iv(t)).length===0&&bs(t,"class")},Os=(t,s)=>{Bm(t)?t.dom.classList.remove(s):Im(t,s),ky(t)},Lm=(t,s)=>{const i=Bm(t)?t.dom.classList.toggle(s):Qh(t,s);return ky(t),i},za=(t,s)=>Bm(t)&&t.dom.classList.contains(s),Td=(t,s)=>{Tt(s,i=>{Ts(t,i)})},Va=(t,s)=>{Tt(s,i=>{Os(t,i)})},gx=(t,s)=>{Tt(s,i=>{Lm(t,i)})},pk=(t,s)=>li(s,i=>za(t,i)),gk=t=>{const s=t.dom.classList,i=new Array(s.length);for(let c=0;c<s.length;c++){const d=s.item(c);d!==null&&(i[c]=d)}return i},ep=t=>Bm(t)?gk(t):Iv(t),kd=t=>t.dom.value,Ru=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Ay=(t,s,i)=>Ol(t,s).map(d=>{if(i.exists(p=>!uo(p,d))){const p=i.map(Hs).getOr("span"),x=be.fromTag(p);return Oo(d,x),x}else return d}),Lv=(t,s,i)=>{i.fold(()=>Js(t,s),c=>{uo(c,s)||(Oo(c,s),Xc(c))})},nr=(t,s,i)=>{const c=Ze(s,i),d=gc(t);return Tt(d.slice(c.length),Xc),c},vx=(t,s,i,c)=>{const d=Ol(t,s),h=c(i,d),p=Ay(t,s,d);return Lv(t,h.element,p),h},Ad=(t,s,i)=>nr(t,s,(c,d)=>vx(t,d,c,i)),bx=(t,s)=>nr(t,s,(i,c)=>{const d=Ol(t,c);return Lv(t,i,d),i}),$v=(t,s)=>{const i=xs(t),c=xs(s),d=Ut(c,i),h=Xi(t,(p,x)=>!io(s,x)||p!==s[x]).t;return{toRemove:d,toSet:h}},Cc=(t,s)=>{const{class:i,style:c,...d}=q0(s),{toSet:h,toRemove:p}=$v(t.attributes,d),x=()=>{Tt(p,me=>bs(s,me)),uv(s,h)},E=J(s),{toSet:R,toRemove:B}=$v(t.styles,E),F=()=>{Tt(B,me=>se(s,me)),_(s,R)},U=ep(s),j=Ut(U,t.classes),X=Ut(t.classes,U),oe=()=>{Td(s,X),Va(s,j)},Se=me=>{Sd(s,me)},ue=()=>{const me=t.domChildren;bx(s,me)},ye=()=>{const me=s,We=t.value.getOrUndefined();We!==kd(me)&&Ru(me,We??"")};return x(),oe(),F(),t.innerHtml.fold(ue,Se),ye(),s},Od=t=>{const s=be.fromTag(t.tag);uv(s,t.attributes),Td(s,t.classes),_(s,t.styles),t.innerHtml.each(c=>Sd(s,c));const i=t.domChildren;return Ia(s,i),t.value.each(c=>{Ru(s,c)}),s},Cg=(t,s)=>{try{const i=Cc(t,s);return M.some(i)}catch{return M.none()}},xg=t=>t.innerHtml.isSome()&&t.domChildren.length>0,vk=(t,s)=>{const i=d=>Hs(d)===t.tag&&!xg(t)&&!Ey(d),c=s.filter(i).bind(d=>Cg(t,d)).getOrThunk(()=>Od(t));return Zo(c,t.uid),c},bk=t=>{const s=wt(t,"behaviours").getOr({});return Ae(xs(s),i=>{const c=s[i];return Xe(c)?[c.me]:[]})},Sg=(t,s)=>BR(t,s),Dd=t=>{const s=bk(t);return Sg(t,s)},yk=(t,s,i)=>{const c=Nv(t),d=mk(t),h={"alloy.base.modification":d},p=s.length>0?mx(i,h,s,c):d;return Fi(c,p)},Ur=(t,s,i)=>{const c={"alloy.base.behaviour":hk(t)};return vg(i,t.eventOrder,s,c).getOrDie()},Fv=(t,s)=>{const i=()=>me,c=Xt(fx),d=Bl(Ty(t)),h=Dd(t),p=IR(h),x=LR(h),E=yk(d,p,x),R=vk(E,s),B=Ur(d,p,x),F=Xt(d.components),U=We=>{c.set(We)},j=()=>{c.set(Mm(i))},X=()=>{const We=gc(R),ze=Ae(We,Ye=>c.get().getByDom(Ye).fold(()=>[],wo));F.set(ze)},oe=We=>{const ze=x;return(nt(ze[We.name()])?ze[We.name()]:()=>{throw new Error("Could not find "+We.name()+" in "+JSON.stringify(t,null,2))})()},Se=We=>nt(x[We.name()]),ue=()=>d.apis,ye=We=>x[We]().map(ze=>ze.state.readState()).getOr("not enabled"),me={uid:t.uid,getSystem:c.get,config:oe,hasConfigured:Se,spec:t,readState:ye,getApis:ue,connect:U,disconnect:j,element:R,syncComponents:X,components:F.get,events:B};return me},Ua=(t,s)=>{const i=wt(t,"components").getOr([]);return s.fold(()=>Ze(i,Wr),c=>Ze(i,(d,h)=>Ta(d,Ol(c,h))))},yx=(t,s)=>{const{events:i,...c}=xy(t),d=Ua(c,s),h={...c,events:{...ck,...i},components:d};return An.value(Fv(h,s))},Vs=t=>{const s=be.fromText(t);return Mu({element:s})},Mu=t=>{const s=zr("external.component",Sa([je("element"),bo("uid")]),t),i=Xt(Mm()),c=x=>{i.set(x)},d=()=>{i.set(Mm(()=>p))},h=s.uid.getOrThunk(()=>Gh("external"));Zo(s.element,h);const p={uid:h,getSystem:i.get,config:M.none,hasConfigured:Gn,connect:c,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:D("No state"),syncComponents:ae,components:D([]),events:{}};return Pm(p)},tp=Gh,Rd=t=>io(t,"uid"),Ta=(t,s)=>pg(t).getOrThunk(()=>{const i=Rd(t)?t:{uid:tp(""),...t};return yx(i,s).getOrDie()}),Wr=t=>Ta(t,M.none()),xc=Pm;var Hv=(t,s,i,c,d)=>t(i,c)?M.some(i):nt(d)&&d(i)?M.none():s(i,c,d);const zv=(t,s,i)=>{let c=t.dom;const d=nt(i)?i:Gn;for(;c.parentNode;){c=c.parentNode;const h=be.fromDom(c);if(s(h))return M.some(h);if(d(h))break}return M.none()},np=(t,s,i)=>Hv((d,h)=>h(d),zv,t,s,i),Vv=(t,s)=>{const i=t.dom;return i.parentNode?Eg(be.fromDom(i.parentNode),c=>!uo(t,c)&&s(c)):M.none()},Eg=(t,s)=>{const i=d=>s(be.fromDom(d));return gn(t.dom.childNodes,i).map(be.fromDom)},wk=(t,s)=>{const i=c=>{for(let d=0;d<c.childNodes.length;d++){const h=be.fromDom(c.childNodes[d]);if(s(h))return M.some(h);const p=i(c.childNodes[d]);if(p.isSome())return p}return M.none()};return i(t.dom)},_g=(t,s,i)=>np(t,s,i).isSome(),wx=t=>wh(t),oc=(t,s,i)=>zv(t,c=>Bi(c,s),i),xf=(t,s)=>Vv(t,i=>Bi(i,s)),Uv=(t,s)=>Eg(t,i=>Bi(i,s)),us=(t,s)=>wh(s,t),Hl=(t,s,i)=>Hv((d,h)=>Bi(d,h),oc,t,s,i),Pu="aria-controls",Tg=t=>np(t,i=>{if(!$o(i))return!1;const c=Ss(i,"id");return c!==void 0&&c.indexOf(Pu)>-1}).bind(i=>{const c=Ss(i,"id"),d=ms(i);return us(d,`[${Pu}="${c}"]`)}),Cx=()=>{const t=Nt(Pu);return{id:t,link:c=>{Et(c,Pu,t)},unlink:c=>{bs(c,Pu)}}},Ck=(t,s)=>Tg(s).exists(i=>Sf(t,i)),Sf=(t,s)=>_g(s,i=>uo(i,t.element),Gn)||Ck(t,s),Oy="unknown";var op;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(op||(op={}));const sp=Xt({}),Md=(t,s)=>{const i=[],c=new Date().getTime();return{logEventCut:(d,h,p)=>{i.push({outcome:"cut",target:h,purpose:p})},logEventStopped:(d,h,p)=>{i.push({outcome:"stopped",target:h,purpose:p})},logNoParent:(d,h,p)=>{i.push({outcome:"no-parent",target:h,purpose:p})},logEventNoHandlers:(d,h)=>{i.push({outcome:"no-handlers-left",target:h})},logEventResponse:(d,h,p)=>{i.push({outcome:"response",purpose:p,target:h})},write:()=>{const d=new Date().getTime();Uo(["mousemove","mouseover","mouseout",kv()],t)||console.log(t,{event:t,time:d-c,target:s.dom,sequence:Ze(i,h=>Uo(["cut","stopped","response"],h.outcome)?"{"+h.purpose+"} "+h.outcome+" at ("+Au(h.target)+")":h.outcome)})}}},xk=(t,s,i)=>{switch(wt(sp.get(),t).orThunk(()=>{const d=xs(sp.get());return hr(d,h=>t.indexOf(h)>-1?M.some(sp.get()[h]):M.none())}).getOr(op.NORMAL)){case op.NORMAL:return i(xx());case op.LOGGING:{const d=Md(t,s),h=i(d);return d.write(),h}case op.STOP:return!0}},Sk=["alloy/data/Fields","alloy/debugging/Debugging"],Dy=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return gn(s,i=>i.indexOf("alloy")>0&&!Tr(Sk,c=>i.indexOf(c)>-1)).getOr(Oy)}else return Oy},Ry={logEventCut:ae,logEventStopped:ae,logNoParent:ae,logEventNoHandlers:ae,logEventResponse:ae,write:ae},Wv=(t,s,i)=>xk(t,s,i),xx=D(Ry),My=D([je("menu"),je("selectedMenu")]),Py=D([je("item"),je("selectedItem")]);D(sn(Py().concat(My())));const Sx=D(sn(Py())),$R=Jc("initSize",[je("numColumns"),je("numRows")]),Ef=()=>ei("markers",Sx()),Ny=()=>Jc("markers",[je("backgroundMenu")].concat(My()).concat(Py())),il=t=>Jc("markers",Ze(t,je)),sc=(t,s,i)=>(Dy(),Vr(s,s,i,Bh(c=>An.value((...d)=>c.apply(void 0,d))))),oo=t=>sc("onHandler",t,X0(ae)),ta=t=>sc("onKeyboardHandler",t,X0(M.none)),$m=t=>sc("onHandler",t,vo()),By=t=>sc("onKeyboardHandler",t,vo()),ds=(t,s)=>Ke(t,D(s)),Iy=t=>Ke(t,pn),Ly=D($R),Zr=(t,s,i,c,d,h,p,x=!1)=>({x:t,y:s,bubble:i,direction:c,placement:d,restriction:h,label:`${p}-${d}`,alwaysFit:x}),Nu=Il.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ex=(t,s,i,c,d,h,p,x,E)=>t.fold(s,i,c,d,h,p,x,E),kg=(t,s,i,c)=>t.fold(s,s,c,c,s,c,i,i),Ek=(t,s,i,c)=>t.fold(s,c,s,c,i,i,s,c),Sc=Nu.southeast,rp=Nu.southwest,Ag=Nu.northeast,Fm=Nu.northwest,Zv=Nu.south,jv=Nu.north,$y=Nu.east,Og=Nu.west,Dg=(t,s,i,c)=>{const d=t+s;return d>c?i:d<i?c:d},Ls=(t,s,i)=>Math.min(Math.max(t,s),i),_x=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Us=(t,s)=>Ga(["left","right","top","bottom"],i=>wt(s,i).map(c=>_x(t,c))),Hm=(t,s,i)=>{const c=(E,R)=>s[E].map(B=>{const F=E==="top"||E==="bottom",U=F?i.top:i.left,X=(E==="left"||E==="top"?Math.max:Math.min)(B,R)+U;return F?Ls(X,t.y,t.bottom):Ls(X,t.x,t.right)}).getOr(R),d=c("left",t.x),h=c("top",t.y),p=c("right",t.right),x=c("bottom",t.bottom);return vr(d,h,p-d,x-h)},_f="layout",Re=t=>t.x,zm=(t,s)=>t.x+t.width/2-s.width/2,Tx=(t,s)=>t.x+t.width-s.width,Fy=(t,s)=>t.y-s.height,Rg=t=>t.y+t.height,Ec=(t,s)=>t.y+t.height/2-s.height/2,Hy=t=>t.x+t.width,Mg=(t,s)=>t.x-s.width,dr=(t,s,i)=>Zr(Re(t),Rg(t),i.southeast(),Sc(),"southeast",Us(t,{left:1,top:3}),_f),or=(t,s,i)=>Zr(Tx(t,s),Rg(t),i.southwest(),rp(),"southwest",Us(t,{right:0,top:3}),_f),es=(t,s,i)=>Zr(Re(t),Fy(t,s),i.northeast(),Ag(),"northeast",Us(t,{left:1,bottom:2}),_f),yr=(t,s,i)=>Zr(Tx(t,s),Fy(t,s),i.northwest(),Fm(),"northwest",Us(t,{right:0,bottom:2}),_f),jr=(t,s,i)=>Zr(zm(t,s),Fy(t,s),i.north(),jv(),"north",Us(t,{bottom:2}),_f),Ws=(t,s,i)=>Zr(zm(t,s),Rg(t),i.south(),Zv(),"south",Us(t,{top:3}),_f),zy=(t,s,i)=>Zr(Hy(t),Ec(t,s),i.east(),$y(),"east",Us(t,{left:0}),_f),qv=(t,s,i)=>Zr(Mg(t,s),Ec(t,s),i.west(),Og(),"west",Us(t,{right:1}),_f),kx=()=>[dr,or,es,yr,Ws,jr,zy,qv],Ax=()=>[or,dr,yr,es,Ws,jr,zy,qv],Vy=()=>[es,yr,dr,or,jr,Ws],Pg=()=>[yr,es,or,dr,jr,Ws],Ng=()=>[dr,or,es,yr,Ws,jr],Gv=()=>[or,dr,yr,es,Ws,jr],_k=(t,s)=>s.universal?t:ao(t,i=>Uo(s.channels,i));var Dx=Object.freeze({__proto__:null,events:t=>Qo([Ie(Eu(),(s,i)=>{const c=t.channels,d=xs(c),h=i,p=_k(d,h);Tt(p,x=>{const E=c[x],R=E.schema,B=zr("channel["+x+`] data
Receiver: `+Au(s.element),R,h.data);E.onReceive(s,B)})})])}),Rx=[ei("channels",bm(An.value,Sa([$m("onReceive"),xe("schema",bu())])))];const Mx=(t,s,i)=>Fl(c=>{i(c,t,s)}),Uy=(t,s,i)=>cx((c,d)=>{i(c,t,s)}),Px=(t,s,i,c,d,h)=>{const p=Sa(t),x=Ea(s,[ay("config",t)]);return Wy(p,x,s,i,c,d,h)},Kv=(t,s,i,c,d,h)=>{const p=t,x=Ea(s,[Qc("config",t)]);return Wy(p,x,s,i,c,d,h)},Tk=(t,s,i)=>Ha((d,...h)=>{const p=[d].concat(h);return d.config({name:D(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},x=>{const E=Array.prototype.slice.call(p,1);return s.apply(void 0,[d,x.config,x.state].concat(E))})},i,s),Nx=t=>({key:t,value:void 0}),Wy=(t,s,i,c,d,h,p)=>{const x=F=>pa(F,i)?F[i]():M.none(),E=os(d,(F,U)=>Tk(i,F,U)),B={...os(h,(F,U)=>Sy(F,U)),...E,revoke:_n(Nx,i),config:F=>{const U=zr(i+"-config",t,F);return{key:i,value:{config:U,me:B,configAsRaw:ba(()=>zr(i+"-config",t,F)),initialConfig:F,state:p}}},schema:D(s),exhibit:(F,U)=>lu(x(F),wt(c,"exhibit"),(j,X)=>X(U,j.config,j.state)).getOrThunk(()=>Dr({})),name:D(i),handlers:F=>x(F).map(U=>wt(c,"events").getOr(()=>({}))(U.config,U.state)).getOr({})};return B},at=t=>Fh(t),Zy=Sa([je("fields"),je("name"),xe("active",{}),xe("apis",{}),xe("state",Ou),xe("extra",{})]),qr=t=>{const s=zr("Creating behaviour: "+t.name,Zy,t);return Px(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Bx=Sa([je("branchKey"),je("branches"),je("name"),xe("active",{}),xe("apis",{}),xe("state",Ou),xe("extra",{})]),jy=t=>{const s=zr("Creating behaviour: "+t.name,Bx,t);return Kv(br(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Hi=D(void 0),Wa=qr({fields:Rx,name:"receiving",active:Dx});var Ix=Object.freeze({__proto__:null,exhibit:(t,s)=>Dr({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const _c=(t,s=!1)=>t.dom.focus({preventScroll:s}),Xv=t=>t.dom.blur(),ip=t=>{const s=ms(t).dom;return t.dom===s.activeElement},al=(t=mv())=>M.from(t.dom.activeElement).map(be.fromDom),ni=t=>al(ms(t)).filter(s=>t.dom.contains(s.dom)),Yv=(t,s)=>{const i=ms(s),c=al(i).bind(h=>{const p=x=>uo(h,x);return p(s)?M.some(s):wk(s,p)}),d=t(s);return c.each(h=>{al(i).filter(p=>uo(p,h)).fold(()=>{_c(h)},ae)}),d},cl=(t,s,i,c,d)=>{const h=p=>p+"px";return{position:t,left:s.map(h),top:i.map(h),right:c.map(h),bottom:d.map(h)}},qy=t=>({...t,position:M.some(t.position)}),Gy=(t,s)=>{O(t,qy(s))},Ky=Il.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Jv=(t,s,i,c,d,h)=>{const p=s.rect,x=p.x-i,E=p.y-c,R=p.width,B=p.height,F=d-(x+R),U=h-(E+B),j=M.some(x),X=M.some(E),oe=M.some(F),Se=M.some(U),ue=M.none();return Ex(s.direction,()=>cl(t,j,X,ue,ue),()=>cl(t,ue,X,oe,ue),()=>cl(t,j,ue,ue,Se),()=>cl(t,ue,ue,oe,Se),()=>cl(t,j,X,ue,ue),()=>cl(t,j,ue,ue,Se),()=>cl(t,j,X,ue,ue),()=>cl(t,ue,X,oe,ue))},Lx=(t,s)=>t.fold(()=>{const i=s.rect;return cl("absolute",M.some(i.x),M.some(i.y),M.none(),M.none())},(i,c,d,h)=>Jv("absolute",s,i,c,d,h),(i,c,d,h)=>Jv("fixed",s,i,c,d,h)),Xy=(t,s)=>{const i=_n(pv,s),c=t.fold(i,i,()=>{const p=Qi();return pv(s).translate(-p.left,-p.top)}),d=hs(s),h=At(s);return vr(c.left,c.top,d,h)},kk=(t,s)=>s.fold(()=>t.fold(Li,Li,vr),i=>t.fold(D(i),D(i),()=>{const c=Yy(t,i.x,i.y);return vr(c.left,c.top,i.width,i.height)})),Yy=(t,s,i)=>{const c=vn(s,i),d=()=>{const h=Qi();return c.translate(-h.left,-h.top)};return t.fold(D(c),D(c),d)},Dt=(t,s,i,c)=>t.fold(s,i,c);Ky.none;const Qv=Ky.relative,$x=Ky.fixed,Ak=(t,s)=>({anchorBox:t,origin:s}),Ok=(t,s)=>Ak(t,s),Jy="data-alloy-placement",Fx=(t,s)=>{Et(t,Jy,s)},Hx=t=>Xs(t,Jy),Dk=t=>bs(t,Jy),Bg=Il.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Rk=(t,s)=>{const{x:i,y:c,right:d,bottom:h}=s,{x:p,y:x,right:E,bottom:R,width:B,height:F}=t,U=p>=i&&p<=d,j=x>=c&&x<=h,X=U&&j,oe=E<=d&&E>=i,Se=R<=h&&R>=c,ue=oe&&Se,ye=Math.min(B,p>=i?d-p:E-i),me=Math.min(F,x>=c?h-x:R-c);return{originInBounds:X,sizeInBounds:ue,visibleW:ye,visibleH:me}},zi=(t,s)=>{const{x:i,y:c,right:d,bottom:h}=s,{x:p,y:x,width:E,height:R}=t,B=Math.max(i,d-E),F=Math.max(c,h-R),U=Ls(p,i,B),j=Ls(x,c,F),X=Math.min(U+E,d)-U,oe=Math.min(j+R,h)-j;return vr(U,j,X,oe)},Ig=(t,s,i)=>{const c=D(s.bottom-i.y),d=D(i.bottom-s.y),h=kg(t,d,d,c),p=D(s.right-i.x),x=D(i.right-s.x);return{maxWidth:Ek(t,x,x,p),maxHeight:h}},zx=(t,s,i,c)=>{const d=t.bubble,h=d.offset,p=Hm(c,t.restriction,h),x=t.x+h.left,E=t.y+h.top,R=vr(x,E,s,i),{originInBounds:B,sizeInBounds:F,visibleW:U,visibleH:j}=Rk(R,p),X=B&&F,oe=X?R:zi(R,p),Se=oe.width>0&&oe.height>0,{maxWidth:ue,maxHeight:ye}=Ig(t.direction,oe,c),me={rect:oe,maxHeight:ye,maxWidth:ue,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:E};return X||t.alwaysFit?Bg.fit(me):Bg.nofit(me,U,j,Se)},Vx=(t,s,i,c,d,h)=>{const p=c.width,x=c.height,E=(B,F,U,j,X)=>{const oe=B(i,c,d,t,h),Se=zx(oe,p,x,h);return Se.fold(D(Se),(ue,ye,me,We)=>(X===We?me>j||ye>U:!X&&We)?Se:Bg.nofit(F,U,j,X))};return ko(s,(B,F)=>{const U=_n(E,F);return B.fold(D(B),U)},Bg.nofit({rect:i,maxHeight:c.height,maxWidth:c.width,direction:Sc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(pn,pn)},Pd=t=>{const s=Xt(M.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(M.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:x=>{i(),s.set(M.some(x))}}},Mk=()=>Pd(t=>t.destroy()),ap=()=>Pd(t=>t.unbind()),ts=()=>{const t=Pd(ae);return{...t,on:i=>t.get().each(i)}},Qy=Zt,gi=(t,s,i)=>Kn(t,s,Qy,i),wr=(t,s,i)=>xo(t,s,Qy,i),Ux=dn,ew=["top","bottom","right","left"],eb="data-alloy-transition-timer",Wx=(t,s)=>pk(t,s.classes),Zx=(t,s,i)=>i.exists(c=>{const d=t.mode;return d==="all"?!0:c[d]!==s[d]}),Pk=(t,s)=>{const i=c=>parseFloat(c).toFixed(3);return ui(s,(c,d)=>{const h=t[d].map(i),p=c.map(i);return!Ji(h,p)}).isSome()},tw=t=>{const s=h=>{const x=I(t,h).split(/\s*,\s*/);return ao(x,ga)},i=h=>{if(ve(h)&&/^[\d.]+/.test(h)){const p=parseFloat(h);return zc(h,"ms")?p:p*1e3}else return 0},c=s("transition-delay"),d=s("transition-duration");return ko(d,(h,p,x)=>{const E=i(c[x])+i(p);return Math.max(h,E)},0)},jx=(t,s)=>{const i=ap(),c=ap();let d;const h=R=>{var B;const F=(B=R.raw.pseudoElement)!==null&&B!==void 0?B:"";return uo(R.target,t)&&Wo(F)&&Uo(ew,R.raw.propertyName)},p=R=>{if(ct(R)||h(R)){i.clear(),c.clear();const B=R==null?void 0:R.raw.type;(ct(B)||B===Ll())&&(clearTimeout(d),bs(t,eb),Va(t,s.classes))}},x=gi(t,ok(),R=>{h(R)&&(x.unbind(),i.set(gi(t,Ll(),p)),c.set(gi(t,ox(),p)))}),E=tw(t);requestAnimationFrame(()=>{d=setTimeout(p,E+17),Et(t,eb,d)})},Nk=(t,s)=>{Td(t,s.classes),Xs(t,eb).each(i=>{clearTimeout(parseInt(i,10)),bs(t,eb)}),jx(t,s)},cp=(t,s,i,c,d,h)=>{const p=Zx(c,d,h);if(p||Wx(t,c)){b(t,"position",i.position);const x=Xy(s,t),E=Lx(s,{...d,rect:x}),R=Ga(ew,B=>E[B]);Pk(i,R)&&(O(t,R),p&&Nk(t,c),_e(t))}else Va(t,c.classes)},qx=t=>({width:hs(t),height:At(t)}),FR=(t,s,i,c)=>{se(s,"max-height"),se(s,"max-width");const d=qx(s);return Vx(s,c.preference,t,d,i,c.bounds)},Vm=(t,s)=>{const i=s.classes;Va(t,i.off),Td(t,i.on)},Gx=(t,s,i)=>{const c=i.maxHeightFunction;c(t,s.maxHeight)},Bk=(t,s,i)=>{const c=i.maxWidthFunction;c(t,s.maxWidth)},Ik=(t,s,i)=>{const c=Lx(i.origin,s);i.transition.each(d=>{cp(t,i.origin,c,d,s,i.lastPlacement)}),Gy(t,c)},Kx=(t,s)=>{Fx(t,s.placement)},nw=(t,s)=>{Qn(t,Math.floor(s))},ow=D((t,s)=>{nw(t,s),_(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Um=D((t,s)=>{nw(t,s)}),Xx=(t,s,i)=>t[s]===void 0?i:t[s],lp=(t,s,i,c,d,h,p,x)=>{const E=Xx(p,"maxHeightFunction",ow()),R=Xx(p,"maxWidthFunction",ae),B=t.anchorBox,F=t.origin,U={bounds:kk(F,h),origin:F,preference:c,maxHeightFunction:E,maxWidthFunction:R,lastPlacement:d,transition:x};return Lk(B,s,i,U)},Lk=(t,s,i,c)=>{const d=FR(t,s,i,c);return Ik(s,d,c),Kx(s,d),Vm(s,d),Gx(s,d,c),Bk(s,d,c),{layout:d.layout,placement:d.placement}},sw=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ll=(t,s,i,c=1)=>{const d=t*c,h=s*c,p=E=>wt(i,E).getOr([]),x=(E,R,B)=>{const F=Ut(sw,B);return{offset:vn(E,R),classesOn:Ae(B,p),classesOff:Ae(F,p)}};return{southeast:()=>x(-t,s,["top","alignLeft"]),southwest:()=>x(t,s,["top","alignRight"]),south:()=>x(-t/2,s,["top","alignCentre"]),northeast:()=>x(-t,-s,["bottom","alignLeft"]),northwest:()=>x(t,-s,["bottom","alignRight"]),north:()=>x(-t/2,-s,["bottom","alignCentre"]),east:()=>x(t,-s/2,["valignCentre","left"]),west:()=>x(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>x(d,h,["top","alignLeft","inset"]),insetNorthwest:()=>x(-d,h,["top","alignRight","inset"]),insetNorth:()=>x(-d/2,h,["top","alignCentre","inset"]),insetSoutheast:()=>x(d,-h,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-d,-h,["bottom","alignRight","inset"]),insetSouth:()=>x(-d/2,-h,["bottom","alignCentre","inset"]),insetEast:()=>x(-d,-h/2,["valignCentre","right","inset"]),insetWest:()=>x(d,-h/2,["valignCentre","left","inset"])}},Tf=()=>ll(0,0,{}),tb=pn,Lg=(t,s)=>i=>Yx(i)==="rtl"?s:t,Yx=t=>I(t,"direction")==="rtl"?"rtl":"ltr";var Iu;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Iu||(Iu={}));const nb="data-alloy-vertical-dir",Wm=t=>_g(t,s=>$o(s)&&Ss(s,"data-alloy-vertical-dir")===Iu.BottomToTop),ul=()=>Ea("layouts",[je("onLtr"),je("onRtl"),bo("onBottomLtr"),bo("onBottomRtl")]),up=(t,s,i,c,d,h,p)=>{const x=p.map(Wm).getOr(!1),E=s.layouts.map(j=>j.onLtr(t)),R=s.layouts.map(j=>j.onRtl(t)),B=x?s.layouts.bind(j=>j.onBottomLtr.map(X=>X(t))).or(E).getOr(d):E.getOr(i),F=x?s.layouts.bind(j=>j.onBottomRtl.map(X=>X(t))).or(R).getOr(h):R.getOr(c);return Lg(B,F)(t)},$k=(t,s,i)=>{const c=s.hotspot,d=Xy(i,c.element),h=up(t.element,s,Ng(),Gv(),Vy(),Pg(),M.some(s.hotspot.element));return M.some(tb({anchorBox:d,bubble:s.bubble.getOr(Tf()),overrides:s.overrides,layouts:h}))};var Jx=[je("hotspot"),bo("bubble"),xe("overrides",{}),ul(),ds("placement",$k)];const Fk=(t,s,i)=>{const c=Yy(i,s.x,s.y),d=vr(c.left,c.top,s.width,s.height),h=up(t.element,s,kx(),Ax(),kx(),Ax(),M.none());return M.some(tb({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:h}))};var Hk=[je("x"),je("y"),xe("height",0),xe("width",0),xe("bubble",Tf()),xe("overrides",{}),ul(),ds("placement",Fk)];const rw=Il.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),zk=t=>t.fold(pn,(s,i,c)=>s.translate(-i,-c)),Qx=t=>t.fold(pn,pn),$g=t=>ko(t,(s,i)=>s.translate(i.left,i.top),vn(0,0)),eS=t=>{const s=Ze(t,zk);return $g(s)},tS=t=>{const s=Ze(t,Qx);return $g(s)},Vk=rw.screen,Uk=rw.absolute,nS=(t,s,i)=>{const c=Al(i.root).dom,d=h=>{const p=va(h),x=va(t.element);return uo(p,x)};return M.from(c.frameElement).map(be.fromDom).filter(d).map(Ys)},oS=(t,s,i)=>{const c=va(t.element),d=Qi(c),h=nS(t,s,i).getOr(d);return Uk(h,d.left,d.top)},iw=(t,s,i,c)=>{const d=Vk(vn(t,s));return M.some(KT(d,i,c))},sS=(t,s,i,c,d)=>t.map(h=>{const p=[s,h.point],x=Dt(c,()=>tS(p),()=>tS(p),()=>eS(p)),E=mm(x.left,x.top,h.width,h.height),R=i.showAbove?Vy():Ng(),B=i.showAbove?Pg():Gv(),F=up(d,i,R,B,R,B,M.none());return tb({anchorBox:E,bubble:i.bubble.getOr(Tf()),overrides:i.overrides,layouts:F})}),Wk=(t,s,i)=>{const c=oS(t,i,s);return s.node.filter(cr).bind(d=>{const h=d.dom.getBoundingClientRect(),p=iw(h.left,h.top,h.width,h.height),x=s.node.getOr(t.element);return sS(p,c,s,i,x)})};var Zk=[je("node"),je("root"),bo("bubble"),ul(),xe("overrides",{}),xe("showAbove",!1),ds("placement",Wk)];const ob="\uFEFF",rS="",Nd={create:(t,s,i,c)=>({start:t,soffset:s,finish:i,foffset:c})},sb=Il.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),aw=(t,s,i,c)=>t.fold(s,i,c),aS=t=>t.fold(pn,pn,pn),cS=sb.before,lS=sb.on,jk=sb.after,uS={before:cS,on:lS,after:jk,cata:aw,getStart:aS},Fg=Il.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),qk=t=>Fg.exact(t.start,t.soffset,t.finish,t.foffset),cw=t=>t.match({domRange:s=>be.fromDom(s.startContainer),relative:(s,i)=>uS.getStart(s),exact:(s,i,c,d)=>s}),Gk=Fg.domRange,Kk=Fg.relative,dS=Fg.exact,lw=t=>{const s=cw(t);return Al(s)},Xk=Nd.create,Hg={domRange:Gk,relative:Kk,exact:dS,exactFromRange:qk,getWin:lw,range:Xk},Yk=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,c)=>{t.setStart(i.dom,c)},i=>{t.setStartAfter(i.dom)})},fS=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,c)=>{t.setEnd(i.dom,c)},i=>{t.setEndAfter(i.dom)})},mS=(t,s,i)=>{const c=t.document.createRange();return Yk(c,s),fS(c,i),c},Vi=(t,s,i,c,d)=>{const h=t.document.createRange();return h.setStart(s.dom,i),h.setEnd(c.dom,d),h},Jk=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),dp=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?M.some(i).map(Jk):M.none()},Qk=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?M.some(s).map(Jk):M.none()},fp=Il.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hS=(t,s,i)=>s(be.fromDom(i.startContainer),i.startOffset,be.fromDom(i.endContainer),i.endOffset),eA=(t,s)=>s.match({domRange:i=>({ltr:D(i),rtl:M.none}),relative:(i,c)=>({ltr:ba(()=>mS(t,i,c)),rtl:ba(()=>M.some(mS(t,c,i)))}),exact:(i,c,d,h)=>({ltr:ba(()=>Vi(t,i,c,d,h)),rtl:ba(()=>M.some(Vi(t,d,h,i,c)))})}),tA=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>fp.rtl(be.fromDom(d.endContainer),d.endOffset,be.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>hS(t,fp.ltr,i)):hS(t,fp.ltr,i)},uw=(t,s)=>{const i=eA(t,s);return tA(t,i)},mp=(t,s)=>uw(t,s).match({ltr:(c,d,h,p)=>{const x=t.document.createRange();return x.setStart(c.dom,d),x.setEnd(h.dom,p),x},rtl:(c,d,h,p)=>{const x=t.document.createRange();return x.setStart(h.dom,p),x.setEnd(c.dom,d),x}});fp.ltr,fp.rtl;const pS=(t,s,i)=>ao(Ch(t,i),s),na=(t,s)=>hc(s,t),zg=(t,s,i,c)=>{const h=va(t).dom.createRange();return h.setStart(t.dom,s),h.setEnd(i.dom,c),h},gS=(t,s,i,c)=>{const d=zg(t,s,i,c),h=uo(t,i)&&s===c;return d.collapsed&&!h},vS=t=>M.from(t.getSelection()),dw=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return M.some(Nd.create(be.fromDom(s.startContainer),s.startOffset,be.fromDom(i.endContainer),i.endOffset))}else return M.none()},fw=t=>{if(t.anchorNode===null||t.focusNode===null)return dw(t);{const s=be.fromDom(t.anchorNode),i=be.fromDom(t.focusNode);return gS(s,t.anchorOffset,i,t.focusOffset)?M.some(Nd.create(s,t.anchorOffset,i,t.focusOffset)):dw(t)}},rb=t=>vS(t).filter(s=>s.rangeCount>0).bind(fw),bS=(t,s)=>{const i=mp(t,s);return dp(i)},Vg=(t,s)=>{const i=mp(t,s);return Qk(i)},yS=((t,s)=>{const i=h=>{if(!t(h))throw new Error("Can only get "+s+" value of a "+s+" node");return c(h).getOr("")},c=h=>t(h)?M.from(h.dom.nodeValue):M.none();return{get:i,getOption:c,set:(h,p)=>{if(!t(h))throw new Error("Can only set raw "+s+" value of a "+s+" node");h.dom.nodeValue=p}}})(Ni,"text"),wS=t=>yS.get(t),Zm=(t,s)=>({element:t,offset:s}),jm=(t,s)=>{const i=gc(t);if(i.length===0)return Zm(t,s);if(s<i.length)return Zm(i[s],0);{const c=i[i.length-1],d=Ni(c)?wS(c).length:gc(c).length;return Zm(c,d)}},mw=(t,s)=>Ni(t)?Zm(t,s):jm(t,s),hw=t=>t.foffset!==void 0,ib=(t,s)=>s.getSelection.getOrThunk(()=>()=>rb(t))().map(c=>{if(hw(c)){const d=mw(c.start,c.soffset),h=mw(c.finish,c.foffset);return Hg.range(d.element,d.offset,h.element,h.offset)}else return c}),CS=(t,s,i)=>{const c=Al(s.root).dom,d=oS(t,i,s),h=ib(c,s).bind(E=>{if(hw(E))return Vg(c,Hg.exactFromRange(E)).orThunk(()=>{const B=be.fromText(ob);Oo(E.start,B);const F=bS(c,Hg.exact(B,0,B,1));return Xc(B),F}).bind(B=>iw(B.left,B.top,B.width,B.height));{const R=os(E,F=>F.dom.getBoundingClientRect()),B={left:Math.min(R.firstCell.left,R.lastCell.left),right:Math.max(R.firstCell.right,R.lastCell.right),top:Math.min(R.firstCell.top,R.lastCell.top),bottom:Math.max(R.firstCell.bottom,R.lastCell.bottom)};return iw(B.left,B.top,B.right-B.left,B.bottom-B.top)}}),x=ib(c,s).bind(E=>hw(E)?$o(E.start)?M.some(E.start):Qa(E.start):M.some(E.firstCell)).getOr(t.element);return sS(h,d,s,i,x)};var qm=[bo("getSelection"),je("root"),bo("bubble"),ul(),xe("overrides",{}),xe("showAbove",!1),ds("placement",CS)];const kf="link-layout",xS=t=>t.x+t.width,ab=(t,s)=>t.x-s.width,Ug=(t,s)=>t.y-s.height+t.height,Wg=t=>t.y,pw=(t,s,i)=>Zr(xS(t),Wg(t),i.southeast(),Sc(),"southeast",Us(t,{left:0,top:2}),kf),hp=(t,s,i)=>Zr(ab(t,s),Wg(t),i.southwest(),rp(),"southwest",Us(t,{right:1,top:2}),kf),SS=(t,s,i)=>Zr(xS(t),Ug(t,s),i.northeast(),Ag(),"northeast",Us(t,{left:0,bottom:3}),kf),gw=(t,s,i)=>Zr(ab(t,s),Ug(t,s),i.northwest(),Fm(),"northwest",Us(t,{right:1,bottom:3}),kf),cb=()=>[pw,hp,SS,gw],vw=()=>[hp,pw,gw,SS],nA=(t,s,i)=>{const c=Xy(i,s.item.element),d=up(t.element,s,cb(),vw(),cb(),vw(),M.none());return M.some(tb({anchorBox:c,bubble:Tf(),overrides:s.overrides,layouts:d}))};var ES=[je("item"),ul(),xe("overrides",{}),ds("placement",nA)],_S=br("type",{selection:qm,node:Zk,hotspot:Jx,submenu:ES,makeshift:Hk});const Bd=[Ar("classes",Qr),Bs("mode","all",["all","layout","placement"])],Af=[xe("useFixed",Gn),bo("getBounds")],Zg=[ei("anchor",_S),Ea("transition",Bd)],jg=()=>{const t=document.documentElement;return $x(0,0,t.clientWidth,t.clientHeight)},oA=t=>{const s=Ys(t.element),i=t.element.dom.getBoundingClientRect();return Qv(s.left,s.top,i.width,i.height)},Of=(t,s,i,c,d,h)=>{const p=Ok(s.anchorBox,t);return lp(p,c.element,s.bubble,s.layouts,d,i,s.overrides,h)},Tc=(t,s,i,c,d)=>{const h=M.none();lb(t,s,i,c,d,h)},lb=(t,s,i,c,d,h)=>{const p=zr("placement.info",sn(Zg),d),x=p.anchor,E=c.element,R=i.get(c.uid);Yv(()=>{b(E,"position","fixed");const B=Z(E,"visibility");b(E,"visibility","hidden");const F=s.useFixed()?jg():oA(t);x.placement(t,x,F).each(U=>{const j=h.orThunk(()=>s.getBounds.map(Pn)),X=Of(F,U,j,c,R,p.transition);i.set(c.uid,X)}),B.fold(()=>{se(E,"visibility")},U=>{b(E,"visibility",U)}),Z(E,"left").isNone()&&Z(E,"top").isNone()&&Z(E,"right").isNone()&&Z(E,"bottom").isNone()&&Yi(Z(E,"position"),"fixed")&&se(E,"position")},E)};var rA=Object.freeze({__proto__:null,position:Tc,positionWithinBounds:lb,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,c)=>{const d=c.element;Tt(["position","left","right","top","bottom"],h=>se(d,h)),Dk(d),i.clear(c.uid)}}),qg=Object.freeze({__proto__:null,init:()=>{let t={};return wc({readState:()=>t,clear:d=>{Xe(d)?delete t[d]:t={}},set:(d,h)=>{t[d]=h},get:d=>wt(t,d)})}});const oi=qr({fields:Af,name:"positioning",active:Ix,apis:rA,state:qg}),ub=t=>t.getSystem().isConnected(),zl=t=>{Mn(t,$l());const s=t.components();Tt(s,zl)},Lu=t=>{const s=t.components();Tt(s,Lu),Mn(t,Fa())},TS=(t,s)=>{t.getSystem().addToWorld(s),cr(t.element)&&Lu(s)},Gg=t=>{zl(t),t.getSystem().removeFromWorld(t)},Kg=(t,s)=>{Js(t.element,s.element)},si=t=>{Tt(t.components(),s=>Xc(s.element)),Hr(t.element),t.syncComponents()},iA=(t,s,i)=>{const c=t.components();si(t);const d=i(s),h=Ut(c,d);Tt(h,p=>{zl(p),t.getSystem().removeFromWorld(p)}),Tt(d,p=>{ub(p)?Kg(t,p):(t.getSystem().addToWorld(p),Kg(t,p),cr(t.element)&&Lu(p))}),t.syncComponents()},kc=(t,s,i)=>{const c=t.components(),d=Ae(s,x=>pg(x).toArray());Tt(c,x=>{Uo(d,x)||Gg(x)});const h=i(s),p=Ut(c,h);Tt(p,x=>{ub(x)&&Gg(x)}),Tt(h,x=>{ub(x)||TS(t,x)}),t.syncComponents()},Vl=(t,s)=>{Xg(t,s,Js)},Xg=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),cr(t.element)&&Lu(s),t.syncComponents()},Gm=t=>{zl(t),Xc(t.element),t.getSystem().removeFromWorld(t)},$u=t=>{const s=Ja(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());Gm(t),s.each(i=>{i.syncComponents()})},Yg=t=>{const s=t.components();Tt(s,Gm),Hr(t.element),t.syncComponents()},pp=(t,s)=>{db(t,s,Js)},gp=(t,s)=>{db(t,s,Yr)},db=(t,s,i)=>{i(t,s.element);const c=gc(s.element);Tt(c,d=>{s.getByDom(d).each(Lu)})},kS=t=>{const s=gc(t.element);Tt(s,i=>{t.getByDom(i).each(zl)}),Xc(t.element)},Fu=(t,s,i,c)=>{i.get().each(p=>{Yg(t)});const d=s.getAttachPoint(t);Vl(d,t);const h=t.getSystem().build(c);return Vl(t,h),i.set(h),h},Ul=(t,s,i,c)=>{const d=Fu(t,s,i,c);return s.onOpen(t,d),d},Hu=(t,s,i,c)=>i.get().map(()=>Fu(t,s,i,c)),aA=(t,s,i,c,d)=>{Km(t,s),Ul(t,s,i,c),d(),Xm(t,s)},fb=(t,s,i)=>{i.get().each(c=>{Yg(t),$u(t),s.onClose(t,c),i.clear()})},bw=(t,s,i)=>i.isOpen(),cA=(t,s,i,c)=>bw(t,s,i)&&i.get().exists(d=>s.isPartOf(t,d,c)),lA=(t,s,i)=>i.get(),uA=(t,s,i,c)=>{Z(t.element,s).fold(()=>{bs(t.element,i)},d=>{Et(t.element,i,d)}),b(t.element,s,c)},Ac=(t,s,i)=>{Xs(t.element,i).fold(()=>se(t.element,s),c=>b(t.element,s,c))},Km=(t,s,i)=>{const c=s.getAttachPoint(t);b(t.element,"position",oi.getMode(c)),uA(t,"visibility",s.cloakVisibilityAttr,"hidden")},mb=t=>Tr(["top","left","right","bottom"],s=>Z(t,s).isSome()),Xm=(t,s,i)=>{mb(t.element)||se(t.element,"position"),Ac(t,"visibility",s.cloakVisibilityAttr)};var oa=Object.freeze({__proto__:null,cloak:Km,decloak:Xm,open:Ul,openWhileCloaked:aA,close:fb,isOpen:bw,isPartOf:cA,getState:lA,setContent:Hu}),Ui=Object.freeze({__proto__:null,events:(t,s)=>Qo([Ie(hg(),(i,c)=>{fb(i,t,s)})])}),dl=[oo("onOpen"),oo("onClose"),je("isPartOf"),je("getAttachPoint"),xe("cloakVisibilityAttr","data-precloak-visibility")],rc=Object.freeze({__proto__:null,init:()=>{const t=ts(),s=D("not-implemented");return wc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const $n=qr({fields:dl,name:"sandboxing",active:Ui,apis:oa,state:rc}),Df=D("dismiss.popups"),vp=D("reposition.popups"),yw=D("mouse.released"),ww=Sa([xe("isExtraPart",Gn),Ea("fireEventInstead",[xe("event",_u())])]),Jg=t=>{const s=zr("Dismissal",ww,t);return{[Df()]:{schema:Sa([je("target")]),onReceive:(i,c)=>{$n.isOpen(i)&&($n.isPartOf(i,c.target)||s.isExtraPart(i,c.target)||s.fireEventInstead.fold(()=>$n.close(i),h=>Mn(i,h.event)))}}}},pb=Sa([Ea("fireEventInstead",[xe("event",Em())]),kr("doReposition")]),gb=t=>{const s=zr("Reposition",pb,t);return{[vp()]:{onReceive:i=>{$n.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),c=>Mn(i,c.event))}}}},vb=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},bb=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var OS=Object.freeze({__proto__:null,onLoad:vb,onUnload:bb,setValue:(t,s,i,c)=>{s.store.manager.setValue(t,s,i,c)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),xw=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[gs((c,d)=>{vb(c,t,s)}),ku((c,d)=>{bb(c,t,s)})]:[Uy(t,s,vb)];return Qo(i)}});const Sw=()=>{const t=Xt(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,c=()=>{t.set(null)};return wc({set:t.set,get:t.get,isNotSet:i,clear:c,readState:s})},bp=()=>wc({readState:ae}),yb=()=>{const t=Xt({}),s=Xt({});return wc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:p=>wt(t.get(),p).orThunk(()=>wt(s.get(),p)),update:p=>{const x=t.get(),E=s.get(),R={},B={};Tt(p,F=>{R[F.value]=F,wt(F,"meta").each(U=>{wt(U,"text").each(j=>{B[j]=F})})}),t.set({...x,...R}),s.set({...E,...B})},clear:()=>{t.set({}),s.set({})}})};var yp=Object.freeze({__proto__:null,memory:Sw,dataset:yb,manual:bp,init:t=>t.store.manager.state(t)});const RS=(t,s,i,c)=>{const d=s.store;i.update([c]),d.setValue(t,c),s.onSetValue(t,c)},Oc=(t,s,i)=>{const c=s.store,d=c.getDataKey(t);return i.lookup(d).getOrThunk(()=>c.getFallbackEntry(d))},zR=(t,s,i)=>{s.store.initialValue.each(d=>{RS(t,s,i,d)})},wb=(t,s,i)=>{i.clear()};var Ld=[bo("initialValue"),je("getFallbackEntry"),je("getDataKey"),je("setValue"),ds("manager",{setValue:RS,getValue:Oc,onLoad:zR,onUnload:wb,state:yb})];const _w=(t,s,i)=>s.store.getValue(t),Tw=(t,s,i,c)=>{s.store.setValue(t,c),s.onSetValue(t,c)},dA=(t,s,i)=>{s.store.initialValue.each(c=>{s.store.setValue(t,c)})};var fA=[je("getValue"),xe("setValue",ae),bo("initialValue"),ds("manager",{setValue:Tw,getValue:_w,onLoad:dA,onUnload:ae,state:Ou.init})];const mA=(t,s,i,c)=>{i.set(c),s.onSetValue(t,c)},hA=(t,s,i)=>i.get(),MS=(t,s,i)=>{s.store.initialValue.each(c=>{i.isNotSet()&&i.set(c)})},Wl=(t,s,i)=>{i.clear()};var Qg=[bo("initialValue"),ds("manager",{setValue:mA,getValue:hA,onLoad:MS,onUnload:Wl,state:Sw})],pA=[yc("store",{mode:"memory"},br("mode",{memory:Qg,manual:fA,dataset:Ld})),oo("onSetValue"),xe("resetOnDom",!1)];const kt=qr({fields:pA,name:"representing",active:xw,apis:OS,extra:{setValueFrom:(t,s)=>{const i=kt.getValue(s);kt.setValue(t,i)}},state:yp}),Rr=(t,s)=>xv(t,{},Ze(s,i=>ps(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([Ke("dump",pn)])),$d=t=>t.dump,Mr=(t,s)=>({...at(s),...t.dump}),ic={field:Rr,augment:Mr,get:$d},e1="placeholder",wp=Il.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ym=t=>io(t,"uiType"),Cp=(t,s,i,c)=>t.exists(d=>d!==i.owner)?wp.single(!0,D(i)):wt(c,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+xs(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},d=>d.replace()),t1=(t,s,i,c)=>Ym(i)&&i.uiType===e1?Cp(t,s,i,c):wp.single(!1,D(i)),PS=(t,s,i,c)=>t1(t,s,i,c).fold((h,p)=>{const x=Ym(i)?p(s,i.config,i.validated):p(s),E=wt(x,"components").getOr([]),R=Ae(E,B=>PS(t,s,B,c));return[{...x,components:R}]},(h,p)=>{if(Ym(i)){const x=p(s,i.config,i.validated);return i.validated.preprocess.getOr(pn)(x)}else return p(s)}),kw=(t,s,i,c)=>Ae(i,d=>PS(t,s,d,c)),NS=(t,s)=>{let i=!1;const c=()=>i,d=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},h=()=>s.fold((p,x)=>p,(p,x)=>p);return{name:D(t),required:h,used:c,replace:d}},Aw=(t,s,i,c)=>{const d=os(c,(p,x)=>NS(x,p)),h=kw(t,s,i,d);return ar(d,p=>{if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),h},n1=wp.single,xp=wp.multiple,o1=D(e1),Cb=Il.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),s1=xe("factory",{sketch:pn}),xb=xe("schema",[]),Zl=je("name"),r1=Vr("pname","pname",gu(t=>"<alloy."+Nt(t.name)+">"),bu()),i1=Ke("schema",()=>[bo("preprocess")]),fl=xe("defaults",D({})),a1=xe("overrides",D({})),c1=sn([s1,xb,Zl,r1,fl,a1]),l1=sn([s1,xb,Zl,fl,a1]),gA=sn([s1,xb,Zl,r1,fl,a1]),vA=sn([s1,i1,Zl,je("unit"),r1,fl,a1]),Dc=t=>t.fold(M.some,M.none,M.some,M.some),BS=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},bA=t=>t.fold(pn,pn,pn,pn),_i=(t,s)=>i=>{const c=zr("Converting part type",s,i);return t(c)},Ao=_i(Cb.required,c1),ml=_i(Cb.external,l1),Za=_i(Cb.optional,gA),hl=_i(Cb.group,vA),Sb=D("entirety");var Ow=Object.freeze({__proto__:null,required:Ao,external:ml,optional:Za,group:hl,asNamedPart:Dc,name:BS,asCommon:bA,original:Sb});const zu=(t,s,i,c)=>Yo(s.defaults(t,i,c),i,{uid:t.partUids[s.name]},s.overrides(t,i,c)),IS=(t,s,i)=>{const c={},d={};return Tt(i,h=>{h.fold(p=>{c[p.pname]=n1(!0,(x,E,R)=>p.factory.sketch(zu(x,p,E,R)))},p=>{const x=s.parts[p.name];d[p.name]=D(p.factory.sketch(zu(s,p,x[Sb()]),x))},p=>{c[p.pname]=n1(!1,(x,E,R)=>p.factory.sketch(zu(x,p,E,R)))},p=>{c[p.pname]=xp(!0,(x,E,R)=>{const B=x[p.name];return Ze(B,F=>p.factory.sketch(Yo(p.defaults(x,F,R),F,p.overrides(x,F))))})})}),{internals:D(c),externals:D(d)}},Eb=(t,s)=>{const i={};return Tt(s,c=>{Dc(c).each(d=>{const h=yA(t,d.pname);i[d.name]=p=>{const x=zr("Part: "+d.name+" in "+t,sn(d.schema),p);return{...h,config:p,validated:x}}})}),i},yA=(t,s)=>({uiType:o1(),owner:t,name:s}),LS=(t,s,i)=>({uiType:o1(),owner:t,name:s,config:i,validated:{}}),$S=t=>Ae(t,s=>s.fold(M.none,M.some,M.none,M.none).map(i=>Jc(i.name,i.schema.concat([Iy(Sb())]))).toArray()),Dw=t=>Ze(t,BS),Rw=(t,s,i)=>IS(t,s,i),Mw=(t,s,i)=>Aw(M.some(t),s,s.components,i),Ro=(t,s,i)=>{const c=s.partUids[i];return t.getSystem().getByUid(c).toOptional()},Fd=(t,s,i)=>Ro(t,s,i).getOrDie("Could not find part: "+i),Pw=(t,s,i)=>{const c={},d=s.partUids,h=t.getSystem();return Tt(i,p=>{c[p]=D(h.getByUid(d[p]))}),c},Nw=(t,s)=>{const i=t.getSystem();return os(s.partUids,(c,d)=>D(i.getByUid(c)))},u1=t=>xs(t.partUids),_b=(t,s,i)=>{const c={},d=s.partUids,h=t.getSystem();return Tt(i,p=>{c[p]=D(h.getByUid(d[p]).getOrDie())}),c},Rf=(t,s)=>{const i=Dw(s);return Fh(Ze(i,c=>({key:c,value:t+"-"+c})))},Mf=t=>Vr("partUids","partUids",Y0(s=>Rf(s.uid,t)),bu());var wA=Object.freeze({__proto__:null,generate:Eb,generateOne:LS,schemas:$S,names:Dw,substitutes:Rw,components:Mw,defaultUids:Rf,defaultUidsSchema:Mf,getAllParts:Nw,getAllPartNames:u1,getPart:Ro,getPartOrDie:Fd,getParts:Pw,getPartsOrDie:_b});const CA=(t,s)=>(t.length>0?[Jc("parts",t)]:[]).concat([je("uid"),xe("dom",{}),xe("components",[]),Iy("originalSpec"),xe("debug.sketcher",{})]).concat(s),FS=(t,s,i,c,d)=>{const h=CA(c,d);return zr(t+" [SpecSchema]",Sa(h.concat(s)),i)},xA=(t,s,i,c)=>{const d=Jm(c),h=FS(t,s,d,[],[]);return i(h,d)},Tb=(t,s,i,c,d)=>{const h=Jm(d),p=$S(i),x=Mf(i),E=FS(t,s,h,p,[x]),R=Rw(t,E,i),B=Mw(t,E,R.internals());return c(E,B,h,R.externals())},Sp=t=>io(t,"uid"),Jm=t=>Sp(t)?t:{...t,uid:Gh("uid")},Bw=t=>t.uid!==void 0,SA=Sa([je("name"),je("factory"),je("configFields"),xe("apis",{}),xe("extraApis",{})]),Rc=Sa([je("name"),je("factory"),je("configFields"),je("partFields"),xe("apis",{}),xe("extraApis",{})]),Cr=t=>{const s=zr("Sketcher for "+t.name,SA,t),i=h=>xA(s.name,s.configFields,s.factory,h),c=os(s.apis,rl),d=os(s.extraApis,(h,p)=>Sy(h,p));return{name:s.name,configFields:s.configFields,sketch:i,...c,...d}},Ti=t=>{const s=zr("Sketcher for "+t.name,Rc,t),i=p=>Tb(s.name,s.configFields,s.partFields,s.factory,p),c=Eb(s.name,s.partFields),d=os(s.apis,rl),h=os(s.extraApis,(p,x)=>Sy(p,x));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:c,...d,...h}},Vu=t=>kl("input")(t)&&Ss(t,"type")!=="radio"||kl("textarea")(t);var EA=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const _A=[je("find")],Xn=qr({fields:_A,name:"composing",apis:EA}),TA=["input","button","textarea","select"],HS=(t,s,i)=>{(s.disabled()?$w:kb)(t,s)},Iw=(t,s)=>s.useNative===!0&&Uo(TA,Hs(t.element)),kA=t=>Th(t.element,"disabled"),Lw=t=>{Et(t.element,"disabled","disabled")},AA=t=>{bs(t.element,"disabled")},zS=t=>Ss(t.element,"aria-disabled")==="true",VS=t=>{Et(t.element,"aria-disabled","true")},US=t=>{Et(t.element,"aria-disabled","false")},$w=(t,s,i)=>{s.disableClass.each(d=>{Ts(t.element,d)}),(Iw(t,s)?Lw:VS)(t),s.onDisabled(t)},kb=(t,s,i)=>{s.disableClass.each(d=>{Os(t.element,d)}),(Iw(t,s)?AA:US)(t),s.onEnabled(t)},WS=(t,s)=>Iw(t,s)?kA(t):zS(t);var UR=Object.freeze({__proto__:null,enable:kb,disable:$w,isDisabled:WS,onLoad:HS,set:(t,s,i,c)=>{(c?$w:kb)(t,s)}}),WR=Object.freeze({__proto__:null,exhibit:(t,s)=>Dr({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Qo([rx($a(),(i,c)=>WS(i,t)),Uy(t,s,HS)])}),ZR=[_s("disabled",Gn),xe("useNative",!0),bo("disableClass"),oo("onDisabled"),oo("onEnabled")];const fn=qr({fields:ZR,name:"disabling",active:WR,apis:UR}),qS=(t,s,i,c)=>{const d=na(t.element,"."+s.highlightClass);Tt(d,h=>{Tr(c,x=>uo(x.element,h))||(Os(h,s.highlightClass),t.getSystem().getByDom(h).each(x=>{s.onDehighlight(t,x),Mn(x,_m())}))})},DA=(t,s,i)=>qS(t,s,i,[]),Rt=(t,s,i,c)=>{Hw(t,s,i,c)&&(Os(c.element,s.highlightClass),s.onDehighlight(t,c),Mn(c,_m()))},Uu=(t,s,i,c)=>{qS(t,s,i,[c]),Hw(t,s,i,c)||(Ts(c.element,s.highlightClass),s.onHighlight(t,c),Mn(c,Wh()))},Ab=(t,s,i)=>{zw(t,s).each(c=>{Uu(t,s,i,c)})},GS=(t,s,i)=>{Rb(t,s).each(c=>{Uu(t,s,i,c)})},Ob=(t,s,i,c)=>{KS(t,s,i,c).fold(d=>{throw d},d=>{Uu(t,s,i,d)})},Fw=(t,s,i,c)=>{const d=Vw(t,s);gn(d,c).each(p=>{Uu(t,s,i,p)})},Hw=(t,s,i,c)=>za(c.element,s.highlightClass),Db=(t,s,i)=>us(t.element,"."+s.highlightClass).bind(c=>t.getSystem().getByDom(c).toOptional()),KS=(t,s,i,c)=>{const d=na(t.element,"."+s.itemClass);return M.from(d[c]).fold(()=>An.error(new Error("No element found with index "+c)),t.getSystem().getByDom)},zw=(t,s,i)=>us(t.element,"."+s.itemClass).bind(c=>t.getSystem().getByDom(c).toOptional()),Rb=(t,s,i)=>{const c=na(t.element,"."+s.itemClass);return(c.length>0?M.some(c[c.length-1]):M.none()).bind(h=>t.getSystem().getByDom(h).toOptional())},Mb=(t,s,i,c)=>{const d=na(t.element,"."+s.itemClass);return Go(d,p=>za(p,s.highlightClass)).bind(p=>{const x=Dg(p,c,0,d.length-1);return t.getSystem().getByDom(d[x]).toOptional()})},d1=(t,s,i)=>Mb(t,s,i,-1),Pb=(t,s,i)=>Mb(t,s,i,1),Vw=(t,s,i)=>{const c=na(t.element,"."+s.itemClass);return Ir(Ze(c,d=>t.getSystem().getByDom(d).toOptional()))};var RA=Object.freeze({__proto__:null,dehighlightAll:DA,dehighlight:Rt,highlight:Uu,highlightFirst:Ab,highlightLast:GS,highlightAt:Ob,highlightBy:Fw,isHighlighted:Hw,getHighlighted:Db,getFirst:zw,getLast:Rb,getPrevious:d1,getNext:Pb,getCandidates:Vw}),MA=[je("highlightClass"),je("itemClass"),oo("onHighlight"),oo("onDehighlight")];const fo=qr({fields:MA,name:"highlighting",apis:RA}),Nb=[8],Wu=[9],Zu=[13],Bb=[27],ja=[32],Ep=[37],f1=[38],Ib=[39],m1=[40],PA=(t,s,i)=>{const c=Nr(t.slice(0,s)),d=Nr(t.slice(s+1));return gn(c.concat(d),i)},jR=(t,s,i)=>{const c=Nr(t.slice(0,s));return gn(c,i)},Pf=(t,s,i)=>{const c=t.slice(0,s),d=t.slice(s+1);return gn(d.concat(c),i)},Uw=(t,s,i)=>{const c=t.slice(s+1);return gn(c,i)},Yn=t=>s=>{const i=s.raw;return Uo(t,i.which)},jl=t=>s=>li(t,i=>i(s)),Qm=t=>t.raw.shiftKey===!0,NA=t=>t.raw.ctrlKey===!0,_p=Ne(Qm),eo=(t,s)=>({matches:t,classification:s}),BA=(t,s)=>gn(t,c=>c.matches(s)).map(c=>c.classification),eh=(t,s,i)=>{s.exists(d=>i.exists(h=>uo(h,d)))||Gt(t,ol(),{prevFocus:s,newFocus:i})},Tp=()=>{const t=i=>ni(i.element);return{get:t,set:(i,c)=>{const d=t(i);i.getSystem().triggerFocus(c,i.element);const h=t(i);eh(i,d,h)}}},IA=()=>{const t=i=>fo.getHighlighted(i).map(c=>c.element);return{get:t,set:(i,c)=>{const d=t(i);i.getSystem().getByDom(c).fold(ae,p=>{fo.highlight(i,p)});const h=t(i);eh(i,d,h)}}};var th;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(th||(th={}));const nh=(t,s,i,c,d)=>{const h=()=>t.concat([xe("focusManager",Tp()),yc("focusInside","onFocus",Bh(R=>Uo(["onFocus","onEnterOrSpace","onApi"],R)?An.value(R):An.error("Invalid value for focusInside"))),ds("handler",E),ds("state",s),ds("sendFocusIn",d)]),p=(R,B,F,U,j)=>{const X=F(R,B,U,j);return BA(X,B.event).bind(oe=>oe(R,B,U,j))},E={schema:h,processKey:p,toEvents:(R,B)=>{const F=R.focusInside!==th.OnFocusMode?M.none():d(R).map(X=>Ie(Su(),(oe,Se)=>{X(oe,R,B),Se.stop()})),U=(X,oe)=>{const Se=Yn(ja.concat(Zu))(oe.event);R.focusInside===th.OnEnterOrSpaceMode&&Se&&gf(X,oe)&&d(R).each(ue=>{ue(X,R,B),oe.stop()})},j=[Ie(tl(),(X,oe)=>{p(X,oe,i,R,B).fold(()=>{U(X,oe)},Se=>{oe.stop()})}),Ie(_v(),(X,oe)=>{p(X,oe,c,R,B).each(Se=>{oe.stop()})})];return Qo(F.toArray().concat(j))}};return E},Lb=t=>{const s=[bo("onEscape"),bo("onEnter"),xe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),xe("firstTabstop",0),xe("useTabstopAt",Zt),bo("visibilitySelector")].concat([t]),i=(ue,ye)=>{const me=ue.visibilitySelector.bind(We=>Hl(ye,We)).getOr(ye);return Pe(me)>0},c=(ue,ye)=>{const me=na(ue.element,ye.selector),We=ao(me,ze=>i(ye,ze));return M.from(We[ye.firstTabstop])},d=(ue,ye)=>ye.focusManager.get(ue).bind(me=>Hl(me,ye.selector)),h=(ue,ye)=>i(ue,ye)&&ue.useTabstopAt(ye),p=(ue,ye,me)=>{c(ue,ye).each(We=>{ye.focusManager.set(ue,We)})},x=(ue,ye,me,We,ze)=>ze(ye,me,Ye=>h(We,Ye)).fold(()=>We.cyclic?M.some(!0):M.none(),Ye=>(We.focusManager.set(ue,Ye),M.some(!0))),E=(ue,ye,me,We)=>{const ze=na(ue.element,me.selector);return d(ue,me).bind(Ye=>Go(ze,_n(uo,Ye)).bind($e=>x(ue,ze,$e,me,We)))},R=(ue,ye,me)=>{const We=me.cyclic?PA:jR;return E(ue,ye,me,We)},B=(ue,ye,me)=>{const We=me.cyclic?Pf:Uw;return E(ue,ye,me,We)},F=ue=>pc(ue).bind(Sh).exists(ye=>uo(ye,ue)),U=(ue,ye,me)=>d(ue,me).filter(We=>!me.useTabstopAt(We)).bind(We=>(F(We)?R:B)(ue,ye,me)),j=(ue,ye,me)=>me.onEnter.bind(We=>We(ue,ye)),X=(ue,ye,me)=>me.onEscape.bind(We=>We(ue,ye)),oe=D([eo(jl([Qm,Yn(Wu)]),R),eo(Yn(Wu),B),eo(jl([_p,Yn(Zu)]),j)]),Se=D([eo(Yn(Bb),X),eo(Yn(Wu),U)]);return nh(s,Ou.init,oe,Se,()=>M.some(p))};var LA=Lb(Ke("cyclic",Gn)),l=Lb(Ke("cyclic",Zt));const f=(t,s,i)=>(Ov(t,i,$a()),M.some(!0)),g=(t,s,i)=>Vu(i)&&Yn(ja)(s.event)?M.none():f(t,s,i),w=(t,s)=>M.some(!0),T=[xe("execute",g),xe("useSpace",!1),xe("useEnter",!0),xe("useControlEnter",!1),xe("useDown",!1)],P=(t,s,i)=>i.execute(t,s,t.element),z=(t,s,i,c)=>{const d=i.useSpace&&!Vu(t.element)?ja:[],h=i.useEnter?Zu:[],p=i.useDown?m1:[],x=d.concat(h).concat(p);return[eo(Yn(x),P)].concat(i.useControlEnter?[eo(jl([NA,Yn(Zu)]),P)]:[])},G=(t,s,i,c)=>i.useSpace&&!Vu(t.element)?[eo(Yn(ja),w)]:[];var Q=nh(T,Ou.init,z,G,()=>M.none());const ce=()=>{const t=ts();return wc({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,h)=>{t.set({numRows:d,numColumns:h})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var tt=Object.freeze({__proto__:null,flatgrid:ce,init:t=>t.state(t)});const vt=t=>(s,i,c,d)=>{const h=t(s.element);return Je(h,s,i,c,d)},ht=(t,s)=>{const i=Lg(t,s);return vt(i)},rt=(t,s)=>{const i=Lg(s,t);return vt(i)},Ot=t=>(s,i,c,d)=>Je(t,s,i,c,d),Je=(t,s,i,c,d)=>c.focusManager.get(s).bind(p=>t(s.element,p,c,d)).map(p=>(c.focusManager.set(s,p),!0)),ut=Ot,Yt=Ot,rn=Ot,co=t=>t.offsetWidth<=0&&t.offsetHeight<=0,vs=t=>!co(t.dom),ys=(t,s)=>Go(t,s).map(i=>({index:i,candidates:t})),ki=(t,s,i)=>{const c=p=>uo(p,s),d=na(t,i),h=ao(d,vs);return ys(h,c)},Mc=(t,s)=>Go(t,i=>uo(s,i)),Nf=(t,s,i,c)=>{const d=Math.floor(s/i),h=s%i;return c(d,h).bind(p=>{const x=p.row*i+p.column;return x>=0&&x<t.length?M.some(t[x]):M.none()})},oh=(t,s,i,c,d)=>Nf(t,s,c,(h,p)=>{const E=h===i-1?t.length-h*c:c,R=Dg(p,d,0,E-1);return M.some({row:h,column:R})}),$b=(t,s,i,c,d)=>Nf(t,s,c,(h,p)=>{const x=Dg(h,d,0,i-1),R=x===i-1?t.length-x*c:c,B=Ls(p,0,R-1);return M.some({row:x,column:B})}),Vo=(t,s,i,c)=>oh(t,s,i,c,1),sa=(t,s,i,c)=>oh(t,s,i,c,-1),Wi=(t,s,i,c)=>$b(t,s,i,c,-1),pl=(t,s,i,c)=>$b(t,s,i,c,1),Pc=[je("selector"),xe("execute",g),ta("onEscape"),xe("captureTab",!1),Ly()],sh=(t,s,i)=>{us(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},Zi=(t,s)=>s.focusManager.get(t).bind(i=>Hl(i,s.selector)),Ww=(t,s,i,c)=>Zi(t,i).bind(d=>i.execute(t,s,d)),Hd=t=>(s,i,c,d)=>ki(s,i,c.selector).bind(h=>t(h.candidates,h.index,d.getNumRows().getOr(c.initSize.numRows),d.getNumColumns().getOr(c.initSize.numColumns))),ql=(t,s,i)=>i.captureTab?M.some(!0):M.none(),ri=(t,s,i)=>i.onEscape(t,s),Zw=Hd(sa),jw=Hd(Vo),XS=Hd(Wi),$A=Hd(pl),FA=D([eo(Yn(Ep),ht(Zw,jw)),eo(Yn(Ib),rt(Zw,jw)),eo(Yn(f1),ut(XS)),eo(Yn(m1),Yt($A)),eo(jl([Qm,Yn(Wu)]),ql),eo(jl([_p,Yn(Wu)]),ql),eo(Yn(ja.concat(Zu)),Ww)]),qw=D([eo(Yn(Bb),ri),eo(Yn(ja),w)]);var HA=nh(Pc,ce,FA,qw,()=>M.some(sh));const kp=(t,s,i,c,d)=>{const h=x=>Hs(x)==="button"&&Ss(x,"disabled")==="disabled",p=(x,E,R)=>d(x,E,c,0,R.length-1,R[E],B=>h(R[B])?p(x,B,R):M.from(R[B]));return ki(t,i,s).bind(x=>{const E=x.index,R=x.candidates;return p(E,E,R)})},Fb=(t,s,i,c)=>kp(t,s,i,c,(d,h,p,x,E,R,B)=>{const F=Ls(h+p,x,E);return F===d?M.from(R):B(F)}),Gw=(t,s,i,c)=>kp(t,s,i,c,(d,h,p,x,E,R,B)=>{const F=Dg(h,p,x,E);return F===d?M.none():B(F)}),qR=[je("selector"),xe("getInitial",M.none),xe("execute",g),ta("onEscape"),xe("executeOnMove",!1),xe("allowVertical",!0),xe("allowHorizontal",!0),xe("cycles",!0)],zA=(t,s)=>s.focusManager.get(t).bind(i=>Hl(i,s.selector)),VA=(t,s,i)=>zA(t,i).bind(c=>i.execute(t,s,c)),GR=(t,s,i)=>{s.getInitial(t).orThunk(()=>us(t.element,s.selector)).each(c=>{s.focusManager.set(t,c)})},KR=(t,s,i)=>(i.cycles?Gw:Fb)(t,i.selector,s,-1),UA=(t,s,i)=>(i.cycles?Gw:Fb)(t,i.selector,s,1),WA=t=>(s,i,c,d)=>t(s,i,c,d).bind(()=>c.executeOnMove?VA(s,i,c):M.some(!0)),y6=(t,s,i)=>i.onEscape(t,s),w6=(t,s,i,c)=>{const d=[...i.allowHorizontal?Ep:[]].concat(i.allowVertical?f1:[]),h=[...i.allowHorizontal?Ib:[]].concat(i.allowVertical?m1:[]);return[eo(Yn(d),WA(ht(KR,UA))),eo(Yn(h),WA(rt(KR,UA))),eo(Yn(Zu),VA),eo(Yn(ja),VA)]},C6=D([eo(Yn(ja),w),eo(Yn(Bb),y6)]);var x6=nh(qR,Ou.init,w6,C6,()=>M.some(GR));const YS=(t,s,i)=>M.from(t[s]).bind(c=>M.from(c[i]).map(d=>({rowIndex:s,columnIndex:i,cell:d}))),XR=(t,s,i,c)=>{const h=t[s].length,p=Dg(i,c,0,h-1);return YS(t,s,p)},Kw=(t,s,i,c)=>{const d=Dg(i,c,0,t.length-1),h=t[d].length,p=Ls(s,0,h-1);return YS(t,d,p)},JS=(t,s,i,c)=>{const h=t[s].length,p=Ls(i+c,0,h-1);return YS(t,s,p)},YR=(t,s,i,c)=>{const d=Ls(i+c,0,t.length-1),h=t[d].length,p=Ls(s,0,h-1);return YS(t,d,p)},vG=(t,s,i)=>XR(t,s,i,1),JR=(t,s,i)=>XR(t,s,i,-1),S6=(t,s,i)=>Kw(t,i,s,-1),E6=(t,s,i)=>Kw(t,i,s,1),Gl=(t,s,i)=>JS(t,s,i,-1),_6=(t,s,i)=>JS(t,s,i,1),T6=(t,s,i)=>YR(t,i,s,-1),k6=(t,s,i)=>YR(t,i,s,1),A6=[Jc("selectors",[je("row"),je("cell")]),xe("cycles",!0),xe("previousSelector",M.none),xe("execute",g)],O6=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return us(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},Hb=(t,s,i)=>ni(t.element).bind(c=>i.execute(t,s,c)),ZA=(t,s)=>Ze(t,i=>na(i,s.selectors.cell)),QS=(t,s)=>(i,c,d)=>{const h=d.cycles?t:s;return Hl(c,d.selectors.row).bind(p=>{const x=na(p,d.selectors.cell);return Mc(x,c).bind(E=>{const R=na(i,d.selectors.row);return Mc(R,p).bind(B=>{const F=ZA(R,d);return h(F,B,E).map(U=>U.cell)})})})},eE=QS(JR,Gl),Xw=QS(vG,_6),jA=QS(S6,T6),D6=QS(E6,k6),R6=D([eo(Yn(Ep),ht(eE,Xw)),eo(Yn(Ib),rt(eE,Xw)),eo(Yn(f1),ut(jA)),eo(Yn(m1),Yt(D6)),eo(Yn(ja.concat(Zu)),Hb)]),M6=D([eo(Yn(ja),w)]);var P6=nh(A6,Ou.init,R6,M6,()=>M.some(O6));const N6=[je("selector"),xe("execute",g),xe("moveOnTab",!1)],QR=(t,s,i)=>i.focusManager.get(t).bind(c=>i.execute(t,s,c)),eM=(t,s,i)=>{us(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},tE=(t,s,i)=>Gw(t,i.selector,s,-1),tM=(t,s,i)=>Gw(t,i.selector,s,1),B6=(t,s,i,c)=>i.moveOnTab?rn(tE)(t,s,i,c):M.none(),I6=(t,s,i,c)=>i.moveOnTab?rn(tM)(t,s,i,c):M.none(),L6=D([eo(Yn(f1),rn(tE)),eo(Yn(m1),rn(tM)),eo(jl([Qm,Yn(Wu)]),B6),eo(jl([_p,Yn(Wu)]),I6),eo(Yn(Zu),QR),eo(Yn(ja),QR)]),h1=D([eo(Yn(ja),w)]);var nM=nh(N6,Ou.init,L6,h1,()=>M.some(eM));const $6=[ta("onSpace"),ta("onEnter"),ta("onShiftEnter"),ta("onLeft"),ta("onRight"),ta("onTab"),ta("onShiftTab"),ta("onUp"),ta("onDown"),ta("onEscape"),xe("stopSpaceKeyup",!1),bo("focusIn")],qA=(t,s,i)=>[eo(Yn(ja),i.onSpace),eo(jl([_p,Yn(Zu)]),i.onEnter),eo(jl([Qm,Yn(Zu)]),i.onShiftEnter),eo(jl([Qm,Yn(Wu)]),i.onShiftTab),eo(jl([_p,Yn(Wu)]),i.onTab),eo(Yn(f1),i.onUp),eo(Yn(m1),i.onDown),eo(Yn(Ep),i.onLeft),eo(Yn(Ib),i.onRight),eo(Yn(ja),i.onSpace)],F6=(t,s,i)=>[...i.stopSpaceKeyup?[eo(Yn(ja),w)]:[],eo(Yn(Bb),i.onEscape)];var oM=nh($6,Ou.init,qA,F6,t=>t.focusIn);const sM=LA.schema(),rM=l.schema(),iM=x6.schema(),aM=HA.schema(),H6=P6.schema(),z6=Q.schema(),V6=nM.schema(),GA=oM.schema();var U6=Object.freeze({__proto__:null,acyclic:sM,cyclic:rM,flow:iM,flatgrid:aM,matrix:H6,execution:z6,menu:V6,special:GA});const nE=t=>pa(t,"setGridSize"),Jt=jy({branchKey:"mode",branches:U6,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},c=>{c(t,s,i)})},setGridSize:(t,s,i,c,d)=>{nE(i)?i.setGridSize(c,d):console.error("Layout does not support setGridSize")}},state:tt}),KA=(t,s)=>{Yv(()=>{iA(t,s,()=>Ze(s,t.getSystem().build))},t.element)},Aa=(t,s)=>{Yv(()=>{kc(t,s,()=>Ad(t.element,s,t.getSystem().buildOrPatch))},t.element)},W6=(t,s,i,c)=>{Gg(s);const d=vx(t.element,i,c,t.getSystem().buildOrPatch);TS(t,d),t.syncComponents()},oE=(t,s,i)=>{const c=t.getSystem().build(i);Xg(t,c,s)},cM=(t,s,i,c)=>{$u(s),oE(t,(d,h)=>Es(d,h,i),c)},Z6=(t,s,i,c)=>(s.reuseDom?Aa:KA)(t,c),lM=(t,s,i,c)=>{oE(t,Js,c)},uM=(t,s,i,c)=>{oE(t,mi,c)},j6=(t,s,i,c)=>{const d=sE(t);gn(d,p=>uo(c.element,p.element)).each($u)},sE=(t,s)=>t.components(),dM=(t,s,i,c,d)=>{const h=sE(t);return M.from(h[c]).map(p=>(d.fold(()=>$u(p),x=>{(s.reuseDom?W6:cM)(t,p,c,x)}),p))};var fM=Object.freeze({__proto__:null,append:lM,prepend:uM,remove:j6,replaceAt:dM,replaceBy:(t,s,i,c,d)=>{const h=sE(t);return Go(h,c).bind(p=>dM(t,s,i,p,d))},set:Z6,contents:sE});const Tn=qr({fields:[Ei("reuseDom",!0)],name:"replacing",apis:fM}),q6=(t,s)=>{const i=Qo(s);return qr({fields:[je("enabled")],name:t,active:{events:D(i)}})},On=(t,s)=>{const i=q6(t,s);return{key:t,value:{config:{},me:i,configAsRaw:D({}),initialConfig:{},state:Ou}}},XA=(t,s)=>{s.ignore||(_c(t.element),s.onFocus(t))};var K6=Object.freeze({__proto__:null,focus:XA,blur:(t,s)=>{s.ignore||Xv(t.element)},isFocused:t=>ip(t.element)}),mM=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return Dr(i)},events:t=>Qo([Ie(Su(),(s,i)=>{XA(s,t),i.stop()})].concat(t.stopMousedown?[Ie(_a(),(s,i)=>{i.event.prevent()})]:[]))}),hM=[oo("onFocus"),xe("stopMousedown",!1),xe("ignore",!1)];const tn=qr({fields:hM,name:"focusing",active:mM,apis:K6}),pM=t=>({init:()=>{const i=Xt(t);return{get:()=>i.get(),set:x=>i.set(x),clear:()=>i.set(t),readState:()=>i.get()}}}),gM=(t,s,i)=>{const c=s.aria;c.update(t,c,i.get())},YA=(t,s,i)=>{s.toggleClass.each(c=>{i.get()?Ts(t.element,c):Os(t.element,c)})},Yw=(t,s,i,c)=>{const d=i.get();i.set(c),YA(t,s,i),gM(t,s,i),d!==c&&s.onToggled(t,c)},vM=(t,s,i)=>{Yw(t,s,i,!i.get())},X6=(t,s,i)=>{Yw(t,s,i,!0)},Y6=(t,s,i)=>{Yw(t,s,i,!1)},bM=(t,s,i)=>i.get(),rE=(t,s,i)=>{Yw(t,s,i,s.selected)};var JA=Object.freeze({__proto__:null,onLoad:rE,toggle:vM,isOn:bM,on:X6,off:Y6,set:Yw}),yM=Object.freeze({__proto__:null,exhibit:()=>Dr({}),events:(t,s)=>{const i=Mx(t,s,vM),c=Uy(t,s,rE);return Qo(mn([t.toggleOnExecute?[i]:[],[c]]))}});const wM=(t,s,i)=>{Et(t.element,"aria-pressed",i),s.syncWithExpanded&&zb(t,s,i)},J6=(t,s,i)=>{Et(t.element,"aria-selected",i)},Q6=(t,s,i)=>{Et(t.element,"aria-checked",i)},zb=(t,s,i)=>{Et(t.element,"aria-expanded",i)};var Jw=[xe("selected",!1),bo("toggleClass"),xe("toggleOnExecute",!0),oo("onToggled"),yc("aria",{mode:"none"},br("mode",{pressed:[xe("syncWithExpanded",!1),ds("update",wM)],checked:[ds("update",Q6)],expanded:[ds("update",zb)],selected:[ds("update",J6)],none:[ds("update",ae)]}))];const Nn=qr({fields:Jw,name:"toggling",active:yM,apis:JA,state:pM(!1)}),QA=()=>{const t=(s,i)=>{i.stop(),Tu(s)};return[Ie(yf(),t),Ie(ea(),t),sl(yu()),sl(_a())]},zd=t=>{const s=i=>Fl((c,d)=>{i(c),d.stop()});return Qo(mn([t.map(s).toArray(),QA()]))},rh="alloy.item-hover",CM="alloy.item-focus",xM="alloy.item-toggled",eO=t=>{(ni(t.element).isNone()||tn.isFocused(t))&&(tn.isFocused(t)||tn.focus(t),Gt(t,rh,{item:t}))},Bf=t=>{Gt(t,CM,{item:t})},tO=(t,s)=>{Gt(t,xM,{item:t,state:s})},SM=D(rh),EM=D(CM),_M=D(xM),TM=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),nO=t=>({aria:{mode:"checked"},...Hc(t,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{nt(t.onToggled)&&t.onToggled(s,i),tO(s,i)}}),kM=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:TM(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ic.augment(t.itemBehaviours,[t.toggling.fold(Nn.revoke,s=>Nn.config(nO(s))),tn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{Bf(s)}}),Jt.config({mode:"execution"}),kt.config({store:{mode:"memory",initialValue:t.data}}),On("item-type-events",[...QA(),Ie(Cu(),eO),Ie(xm(),tn.focus)])]),components:t.components,eventOrder:t.eventOrder}),eH=[je("data"),je("components"),je("dom"),xe("hasSubmenu",!1),bo("toggling"),ic.field("itemBehaviours",[Nn,tn,Jt,kt]),xe("ignoreFocus",!1),xe("domModification",{}),ds("builder",kM),xe("eventOrder",{})],tH=t=>({dom:t.dom,components:t.components,events:Qo([ik(xm())])}),nH=[je("dom"),je("components"),ds("builder",tH)],Vb=D("item-widget"),Qw=D([Ao({name:"widget",overrides:t=>({behaviours:at([kt.config({store:{mode:"manual",getValue:s=>t.data,setValue:ae}})])})})]),oO=t=>{const s=Rw(Vb(),t,Qw()),i=Mw(Vb(),t,s.internals()),c=h=>Ro(h,t,"widget").map(p=>(Jt.focusIn(p),p)),d=(h,p)=>Vu(p.event.target)?M.none():(t.autofocus&&p.setSource(h.element),M.none());return{dom:t.dom,components:i,domModification:t.domModification,events:Qo([Fl((h,p)=>{c(h).each(x=>{p.stop()})}),Ie(Cu(),eO),Ie(xm(),(h,p)=>{t.autofocus?c(h):tn.focus(h)})]),behaviours:ic.augment(t.widgetBehaviours,[kt.config({store:{mode:"memory",initialValue:t.data}}),tn.config({ignore:t.ignoreFocus,onFocus:h=>{Bf(h)}}),Jt.config({mode:"special",focusIn:t.autofocus?h=>{c(h)}:Hi(),onLeft:d,onRight:d,onEscape:(h,p)=>!tn.isFocused(h)&&!t.autofocus?(tn.focus(h),M.some(!0)):(t.autofocus&&p.setSource(h.element),M.none())})])}},oH=[je("uid"),je("data"),je("components"),je("dom"),xe("autofocus",!1),xe("ignoreFocus",!1),ic.field("widgetBehaviours",[kt,tn,Jt]),xe("domModification",{}),Mf(Qw()),ds("builder",oO)],sH=br("type",{widget:oH,item:eH,separator:nH}),AM=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),OM=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),DM=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),RM=D([hl({factory:{sketch:t=>{const s=zr("menu.spec item",sH,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>io(s,"uid")?s:{...s,uid:Gh("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),rH=D([je("value"),je("items"),je("dom"),je("components"),xe("eventOrder",{}),Rr("menuBehaviours",[fo,kt,Xn,Jt]),yc("movement",{mode:"menu",moveOnTab:!0},br("mode",{grid:[Ly(),ds("config",AM)],matrix:[ds("config",OM),je("rowSelector"),xe("previousSelector",M.none)],menu:[xe("moveOnTab",!0),ds("config",DM)]})),Ef(),xe("fakeFocus",!1),xe("focusManager",Tp()),oo("onHighlight"),oo("onDehighlight")]),iE=D("alloy.menu-focus"),iH=(t,s)=>{const i=na(t.element,'[role="menuitemradio"][aria-checked="true"]');Tt(i,c=>{uo(c,s.element)||t.getSystem().getByDom(c).each(d=>{Nn.off(d)})})},aH=(t,s,i,c)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mr(t.menuBehaviours,[fo.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),kt.config({store:{mode:"memory",initialValue:t.value}}),Xn.config({find:M.some}),Jt.config(t.movement.config(t,t.movement))]),events:Qo([Ie(EM(),(d,h)=>{const p=h.event;d.getSystem().getByDom(p.target).each(x=>{fo.highlight(d,x),h.stop(),Gt(d,iE(),{menu:d,item:x})})}),Ie(SM(),(d,h)=>{const p=h.event.item;fo.highlight(d,p)}),Ie(_M(),(d,h)=>{const{item:p,state:x}=h.event;x&&Ss(p.element,"role")==="menuitemradio"&&iH(d,p)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),g1=Ti({name:"Menu",configFields:rH(),partFields:RM(),factory:aH}),cH=t=>ma(t,(s,i)=>({k:s,v:i})),sO=(t,s,i,c)=>wt(i,c).bind(d=>wt(t,d).bind(h=>{const p=sO(t,s,i,h);return M.some([h].concat(p))})).getOr([]),lH=(t,s)=>{const i={};ar(t,(p,x)=>{Tt(p,E=>{i[E]=x})});const c=s,d=cH(s),h=os(d,(p,x)=>[x].concat(sO(i,c,d,x)));return os(i,p=>wt(h,p).getOr([p]))},uH=()=>{const t=Xt({}),s=Xt({}),i=Xt({}),c=ts(),d=Xt({}),h=()=>{t.set({}),s.set({}),i.set({}),c.clear()},p=()=>c.get().isNone(),x=(ze,Ye)=>{s.set({...s.get(),[ze]:{type:"prepared",menu:Ye}})},E=(ze,Ye,pt,$e)=>{c.set(ze),t.set(pt),s.set(Ye),d.set($e);const yn=lH($e,pt);i.set(yn)},R=ze=>ui(t.get(),(Ye,pt)=>Ye===ze),B=(ze,Ye,pt)=>oe(ze).bind($e=>R(ze).bind(yn=>Ye(yn).map(Mt=>({triggeredMenu:$e,triggeringItem:Mt,triggeringPath:pt})))),F=(ze,Ye)=>{const pt=ao(ue(ze).toArray(),$e=>oe($e).isSome());return wt(i.get(),ze).bind($e=>{const yn=Nr(pt.concat($e)),Mt=Ae(yn,(on,qt)=>B(on,Ye,yn.slice(0,qt+1)).fold(()=>Yi(c.get(),on)?[]:[M.none()],lo=>[M.some(lo)]));return ss(Mt)})},U=ze=>wt(t.get(),ze).map(Ye=>{const pt=wt(i.get(),ze).getOr([]);return[Ye].concat(pt)}),j=ze=>wt(i.get(),ze).bind(Ye=>Ye.length>1?M.some(Ye.slice(1)):M.none()),X=ze=>wt(i.get(),ze),oe=ze=>Se(ze).bind(rO),Se=ze=>wt(s.get(),ze),ue=ze=>wt(t.get(),ze);return{setMenuBuilt:x,setContents:E,expand:U,refresh:X,collapse:j,lookupMenu:Se,lookupItem:ue,otherMenus:ze=>{const Ye=d.get();return Ut(xs(Ye),ze)},getPrimary:()=>c.get().bind(oe),getMenus:()=>s.get(),clear:h,isClear:p,getTriggeringPath:F}},rO=t=>t.type==="prepared"?M.some(t.menu):M.none(),Ub={init:uH,extractPreparedMenu:rO},MM=Nt("tiered-menu-item-highlight"),Wb=Nt("tiered-menu-item-dehighlight");var ra;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(ra||(ra={}));const PM=(t,s)=>{const i=ts(),c=(dt,Bt,kn)=>os(kn,(cn,Kt)=>{const Sn=()=>g1.sketch({...cn,value:Kt,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Io,mo)=>{Gt(Io,MM,{menuComp:Io,itemComp:mo})},onDehighlight:(Io,mo)=>{Gt(Io,Wb,{menuComp:Io,itemComp:mo})},focusManager:t.fakeFocus?IA():Tp()});return Kt===Bt?{type:"prepared",menu:dt.getSystem().build(Sn())}:{type:"notbuilt",nbMenu:Sn}}),d=Ub.init(),h=dt=>{const Bt=c(dt,t.data.primary,t.data.menus),kn=E();return d.setContents(t.data.primary,Bt,t.data.expansions,kn),d.getPrimary()},p=dt=>kt.getValue(dt).value,x=(dt,Bt,kn)=>hr(Bt,cn=>{if(!cn.getSystem().isConnected())return M.none();const Kt=fo.getCandidates(cn);return gn(Kt,Sn=>p(Sn)===kn)}),E=dt=>os(t.data.menus,(Bt,kn)=>Ae(Bt.items,cn=>cn.type==="separator"?[]:[cn.data.value])),R=fo.highlight,B=(dt,Bt)=>{R(dt,Bt),fo.getHighlighted(Bt).orThunk(()=>fo.getFirst(Bt)).each(kn=>{t.fakeFocus?fo.highlight(Bt,kn):Ov(dt,kn.element,xm())})},F=(dt,Bt)=>Ir(Ze(Bt,kn=>dt.lookupMenu(kn).bind(cn=>cn.type==="prepared"?M.some(cn.menu):M.none()))),U=(dt,Bt,kn)=>{const cn=F(Bt,Bt.otherMenus(kn));Tt(cn,Kt=>{Va(Kt.element,[t.markers.backgroundMenu]),t.stayInDom||Tn.remove(dt,Kt)})},j=dt=>i.get().getOrThunk(()=>{const Bt={},kn=na(dt.element,`.${t.markers.item}`),cn=ao(kn,Kt=>Ss(Kt,"aria-haspopup")==="true");return Tt(cn,Kt=>{dt.getSystem().getByDom(Kt).each(Sn=>{const Io=p(Sn);Bt[Io]=Sn})}),i.set(Bt),Bt}),X=(dt,Bt)=>{const kn=j(dt);ar(kn,(cn,Kt)=>{const Sn=Uo(Bt,Kt);Et(cn.element,"aria-expanded",Sn)})},oe=(dt,Bt,kn)=>M.from(kn[0]).bind(cn=>Bt.lookupMenu(cn).bind(Kt=>{if(Kt.type==="notbuilt")return M.none();{const Sn=Kt.menu,Io=F(Bt,kn.slice(1));return Tt(Io,mo=>{Ts(mo.element,t.markers.backgroundMenu)}),cr(Sn.element)||Tn.append(dt,xc(Sn)),Va(Sn.element,[t.markers.backgroundMenu]),B(dt,Sn),U(dt,Bt,kn),M.some(Sn)}}));let Se;(function(dt){dt[dt.HighlightSubmenu=0]="HighlightSubmenu",dt[dt.HighlightParent=1]="HighlightParent"})(Se||(Se={}));const ue=(dt,Bt,kn)=>{if(kn.type==="notbuilt"){const cn=dt.getSystem().build(kn.nbMenu());return d.setMenuBuilt(Bt,cn),cn}else return kn.menu},ye=(dt,Bt,kn=Se.HighlightSubmenu)=>{if(Bt.hasConfigured(fn)&&fn.isDisabled(Bt))return M.some(Bt);{const cn=p(Bt);return d.expand(cn).bind(Kt=>(X(dt,Kt),M.from(Kt[0]).bind(Sn=>d.lookupMenu(Sn).bind(Io=>{const mo=ue(dt,Sn,Io);return cr(mo.element)||Tn.append(dt,xc(mo)),t.onOpenSubmenu(dt,Bt,mo,Nr(Kt)),kn===Se.HighlightSubmenu?(fo.highlightFirst(mo),oe(dt,d,Kt)):(fo.dehighlightAll(mo),M.some(Bt))}))))}},me=(dt,Bt)=>{const kn=p(Bt);return d.collapse(kn).bind(cn=>(X(dt,cn),oe(dt,d,cn).map(Kt=>(t.onCollapseMenu(dt,Bt,Kt),Kt))))},We=(dt,Bt)=>{const kn=p(Bt);return d.refresh(kn).bind(cn=>(X(dt,cn),oe(dt,d,cn)))},ze=(dt,Bt)=>Vu(Bt.element)?M.none():ye(dt,Bt,Se.HighlightSubmenu),Ye=(dt,Bt)=>Vu(Bt.element)?M.none():me(dt,Bt),pt=(dt,Bt)=>me(dt,Bt).orThunk(()=>t.onEscape(dt,Bt).map(()=>dt)),$e=dt=>(Bt,kn)=>Hl(kn.getSource(),`.${t.markers.item}`).bind(cn=>Bt.getSystem().getByDom(cn).toOptional().bind(Kt=>dt(Bt,Kt).map(Zt))),yn=Qo([Ie(iE(),(dt,Bt)=>{const kn=Bt.event.item;d.lookupItem(p(kn)).each(()=>{const cn=Bt.event.menu;fo.highlight(dt,cn);const Kt=p(Bt.event.item);d.refresh(Kt).each(Sn=>U(dt,d,Sn))})}),Fl((dt,Bt)=>{const kn=Bt.event.target;dt.getSystem().getByDom(kn).each(cn=>{p(cn).indexOf("collapse-item")===0&&me(dt,cn),ye(dt,cn,Se.HighlightSubmenu).fold(()=>{t.onExecute(dt,cn)},ae)})}),gs((dt,Bt)=>{h(dt).each(kn=>{Tn.append(dt,xc(kn)),t.onOpenMenu(dt,kn),t.highlightOnOpen===ra.HighlightMenuAndItem?B(dt,kn):t.highlightOnOpen===ra.HighlightJustMenu&&R(dt,kn)})}),Ie(MM,(dt,Bt)=>{t.onHighlightItem(dt,Bt.event.menuComp,Bt.event.itemComp)}),Ie(Wb,(dt,Bt)=>{t.onDehighlightItem(dt,Bt.event.menuComp,Bt.event.itemComp)}),...t.navigateOnHover?[Ie(SM(),(dt,Bt)=>{const kn=Bt.event.item;We(dt,kn),ye(dt,kn,Se.HighlightParent),t.onHover(dt,kn)})]:[]]),Mt=dt=>fo.getHighlighted(dt).bind(fo.getHighlighted),on=dt=>{Mt(dt).each(Bt=>{me(dt,Bt)})},qt=dt=>{d.getPrimary().each(Bt=>{B(dt,Bt)})},lo=dt=>M.from(dt.components()[0]).filter(Bt=>Ss(Bt.element,"role")==="menu"),Hn={collapseMenu:on,highlightPrimary:qt,repositionMenus:dt=>{d.getPrimary().bind(kn=>Mt(dt).bind(cn=>{const Kt=p(cn),Sn=Xp(d.getMenus()),Io=Ir(Ze(Sn,Ub.extractPreparedMenu));return d.getTriggeringPath(Kt,mo=>x(dt,Io,mo))}).map(cn=>({primary:kn,triggeringPath:cn}))).fold(()=>{lo(dt).each(kn=>{t.onRepositionMenu(dt,kn,[])})},({primary:kn,triggeringPath:cn})=>{t.onRepositionMenu(dt,kn,cn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mr(t.tmenuBehaviours,[Jt.config({mode:"special",onRight:$e(ze),onLeft:$e(Ye),onEscape:$e(pt),focusIn:(dt,Bt)=>{d.getPrimary().each(kn=>{Ov(dt,kn.element,xm())})}}),fo.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Xn.config({find:dt=>fo.getHighlighted(dt)}),Tn.config({})]),eventOrder:t.eventOrder,apis:Hn,events:yn}},NM=D("collapse-item"),dH=(t,s,i)=>({primary:t,menus:s,expansions:i}),fH=(t,s)=>({primary:t,menus:ym(t,s),expansions:{}}),BM=t=>({value:Nt(NM()),meta:{text:t}}),v1=Cr({name:"TieredMenu",configFields:[By("onExecute"),By("onEscape"),$m("onOpenMenu"),$m("onOpenSubmenu"),oo("onRepositionMenu"),oo("onCollapseMenu"),xe("highlightOnOpen",ra.HighlightMenuAndItem),Jc("data",[je("primary"),je("menus"),je("expansions")]),xe("fakeFocus",!1),oo("onHighlightItem"),oo("onDehighlightItem"),oo("onHover"),Ny(),je("dom"),xe("navigateOnHover",!0),xe("stayInDom",!1),Rr("tmenuBehaviours",[Jt,fo,Xn,Tn]),xe("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:PM,extraApis:{tieredData:dH,singleData:fH,collapseItem:BM}}),IM=(t,s,i,c,d)=>{const h=()=>t.lazySink(s),p=c.type==="horizontal"?{layouts:{onLtr:()=>Ng(),onRtl:()=>Gv()}}:{},x=R=>R.length===2,E=R=>x(R)?p:{};return v1.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightOnOpen:c.menu.highlightOnOpen,fakeFocus:c.menu.fakeFocus,onEscape:()=>($n.close(s),t.onEscape.map(R=>R(s)),M.some(!0)),onExecute:()=>M.some(!0),onOpenMenu:(R,B)=>{oi.positionWithinBounds(h().getOrDie(),B,i,d())},onOpenSubmenu:(R,B,F,U)=>{const j=h().getOrDie();oi.position(j,F,{anchor:{type:"submenu",item:B,...E(U)}})},onRepositionMenu:(R,B,F)=>{const U=h().getOrDie();oi.positionWithinBounds(U,B,i,d()),Tt(F,j=>{const X=E(j.triggeringPath);oi.position(U,j.triggeredMenu,{anchor:{type:"submenu",item:j.triggeringItem,...X}})})}})},mH=(t,s)=>{const i=(U,j)=>t.getRelated(U).exists(oe=>Sf(oe,j)),c=(U,j)=>{$n.setContent(U,j)},d=(U,j,X)=>{const oe=M.none;h(U,j,X,oe)},h=(U,j,X,oe)=>{const Se=t.lazySink(U).getOrDie();$n.openWhileCloaked(U,j,()=>oi.positionWithinBounds(Se,U,X,oe())),kt.setValue(U,M.some({mode:"position",config:X,getBounds:oe}))},p=(U,j,X)=>{x(U,j,X,M.none)},x=(U,j,X,oe)=>{const Se=IM(t,U,j,X,oe);$n.open(U,Se),kt.setValue(U,M.some({mode:"menu",menu:Se}))},E=U=>{$n.isOpen(U)&&(kt.setValue(U,M.none()),$n.close(U))},R=U=>$n.getState(U),B=U=>{$n.isOpen(U)&&kt.getValue(U).each(j=>{switch(j.mode){case"menu":$n.getState(U).each(v1.repositionMenus);break;case"position":const X=t.lazySink(U).getOrDie();oi.positionWithinBounds(X,U,j.config,j.getBounds());break}})},F={setContent:c,showAt:d,showWithinBounds:h,showMenuAt:p,showMenuWithinBounds:x,hide:E,getContent:R,reposition:B,isOpen:$n.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Mr(t.inlineBehaviours,[$n.config({isPartOf:(U,j,X)=>Sf(j,X)||i(U,X),getAttachPoint:U=>t.lazySink(U).getOrDie(),onOpen:U=>{t.onShow(U)},onClose:U=>{t.onHide(U)}}),kt.config({store:{mode:"memory",initialValue:M.none()}}),Wa.config({channels:{...Jg({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(U=>({fireEventInstead:{event:U.event}})).getOr({})}),...gb({...t.fireRepositionEventInstead.map(U=>({fireEventInstead:{event:U.event}})).getOr({}),doReposition:B})}})]),eventOrder:t.eventOrder,apis:F}},Ds=Cr({name:"InlineView",configFields:[je("lazySink"),oo("onShow"),oo("onHide"),hf("onEscape"),Rr("inlineBehaviours",[$n,kt,Wa]),Ea("fireDismissalEventInstead",[xe("event",_u())]),Ea("fireRepositionEventInstead",[xe("event",Em())]),xe("getRelated",M.none),xe("isExtraPart",Gn),xe("eventOrder",M.none)],factory:mH,apis:{showAt:(t,s,i,c)=>{t.showAt(s,i,c)},showWithinBounds:(t,s,i,c,d)=>{t.showWithinBounds(s,i,c,d)},showMenuAt:(t,s,i,c)=>{t.showMenuAt(s,i,c)},showMenuWithinBounds:(t,s,i,c,d)=>{t.showMenuWithinBounds(s,i,c,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var eC=tinymce.util.Tools.resolve("tinymce.util.Delay");const ii=Cr({name:"Button",factory:t=>{const s=zd(t.action),i=t.dom.tag,c=h=>wt(t.dom,"attributes").bind(p=>wt(p,h)),d=()=>{if(i==="button"){const h=c("type").getOr("button"),p=c("role").map(x=>({role:x})).getOr({});return{type:h,...p}}else return{role:t.role.getOr(c("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:ic.augment(t.buttonBehaviours,[tn.config({}),Jt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[xe("uid",void 0),je("dom"),xe("components",[]),ic.field("buttonBehaviours",[tn,Jt]),bo("action"),bo("role"),xe("eventOrder",{})]}),aO=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return ko(s,(i,c)=>c.name==="class"?i:{...i,[c.name]:c.value},{})},hH=t=>Array.prototype.slice.call(t.dom.classList,0),ih=t=>{const s=be.fromHtml(t),i=gc(s),c=aO(s),d=hH(s),h=i.length===0?{}:{innerHtml:wy(s)};return{tag:Hs(s),classes:d,attributes:c,...h}},So=t=>{const s=Bw(t)&&pa(t,"uid")?t.uid:Gh("memento");return{get:h=>h.getSystem().getByUid(s).getOrDie(),getOpt:h=>h.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}},{entries:LM,setPrototypeOf:cO,isFrozen:$M,getPrototypeOf:pH,getOwnPropertyDescriptor:gH}=Object;let{freeze:Nc,seal:Vd,create:vH}=Object,{apply:lO,construct:aE}=typeof Reflect<"u"&&Reflect;lO||(lO=function(s,i,c){return s.apply(i,c)}),Nc||(Nc=function(s){return s}),Vd||(Vd=function(s){return s}),aE||(aE=function(s,i){return new s(...i)});const bH=ia(Array.prototype.forEach),yH=ia(Array.prototype.pop),tC=ia(Array.prototype.push),cE=ia(String.prototype.toLowerCase),uO=ia(String.prototype.toString),b1=ia(String.prototype.match),Ud=ia(String.prototype.replace),wH=ia(String.prototype.indexOf),y1=ia(String.prototype.trim),gl=ia(RegExp.prototype.test),nC=CH(TypeError);function ia(t){return function(s){for(var i=arguments.length,c=new Array(i>1?i-1:0),d=1;d<i;d++)c[d-1]=arguments[d];return lO(t,s,c)}}function CH(t){return function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return aE(t,i)}}function Mo(t,s,i){var c;i=(c=i)!==null&&c!==void 0?c:cE,cO&&cO(t,null);let d=s.length;for(;d--;){let h=s[d];if(typeof h=="string"){const p=i(h);p!==h&&($M(s)||(s[d]=p),h=p)}t[h]=!0}return t}function Oa(t){const s=vH(null);for(const[i,c]of LM(t))s[i]=c;return s}function oC(t,s){for(;t!==null;){const c=gH(t,s);if(c){if(c.get)return ia(c.get);if(typeof c.value=="function")return ia(c.value)}t=pH(t)}function i(c){return console.warn("fallback value for",c),null}return i}const dO=Nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lE=Nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fO=Nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mO=Nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hO=Nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xH=Nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FM=Nc(["#text"]),sC=Nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),rC=Nc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pO=Nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),iC=Nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),HM=Vd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SH=Vd(/<%[\w\W]*|[\w\W]*%>/gm),gO=Vd(/\${[\w\W]*}/gm),zM=Vd(/^data-[\-\w.\u00B7-\uFFFF]/),EH=Vd(/^aria-[\-\w]+$/),VM=Vd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_H=Vd(/^(?:\w+script|data):/i),vO=Vd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UM=Vd(/^html$/i);var Zb=Object.freeze({__proto__:null,MUSTACHE_EXPR:HM,ERB_EXPR:SH,TMPLIT_EXPR:gO,DATA_ATTR:zM,ARIA_ATTR:EH,IS_ALLOWED_URI:VM,IS_SCRIPT_OR_DATA:_H,ATTR_WHITESPACE:vO,DOCTYPE_NAME:UM});const uE=()=>typeof window>"u"?null:window,WM=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let c=null;const d="data-tt-policy-suffix";i&&i.hasAttribute(d)&&(c=i.getAttribute(d));const h="dompurify"+(c?"#"+c:"");try{return s.createPolicy(h,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function bO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uE();const s=qn=>bO(qn);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const i=t.document,c=i.currentScript;let{document:d}=t;const{DocumentFragment:h,HTMLTemplateElement:p,Node:x,Element:E,NodeFilter:R,NamedNodeMap:B=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:F,DOMParser:U,trustedTypes:j}=t,X=E.prototype,oe=oC(X,"cloneNode"),Se=oC(X,"nextSibling"),ue=oC(X,"childNodes"),ye=oC(X,"parentNode");if(typeof p=="function"){const qn=d.createElement("template");qn.content&&qn.content.ownerDocument&&(d=qn.content.ownerDocument)}let me,We="";const{implementation:ze,createNodeIterator:Ye,createDocumentFragment:pt,getElementsByTagName:$e}=d,{importNode:yn}=i;let Mt={};s.isSupported=typeof LM=="function"&&typeof ye=="function"&&ze&&ze.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:on,ERB_EXPR:qt,TMPLIT_EXPR:lo,DATA_ATTR:so,ARIA_ATTR:Hn,IS_SCRIPT_OR_DATA:dt,ATTR_WHITESPACE:Bt}=Zb;let{IS_ALLOWED_URI:kn}=Zb,cn=null;const Kt=Mo({},[...dO,...lE,...fO,...hO,...FM]);let Sn=null;const Io=Mo({},[...sC,...rC,...pO,...iC]);let mo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fa=null,El=null,of=!0,Ki=!0,_l=!1,cu=!0,uc=!1,Xf=!1,ov=!1,yR=!1,$0=!1,BT=!1,NF=!1,kK=!0,AK=!1;const nY="user-content-";let Eq=!0,wR=!1,IT={},LT=null;const OK=Mo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let DK=null;const RK=Mo({},["audio","video","img","source","image","track"]);let _q=null;const MK=Mo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),BF="http://www.w3.org/1998/Math/MathML",IF="http://www.w3.org/2000/svg",sv="http://www.w3.org/1999/xhtml";let $T=sv,Tq=!1,kq=null;const oY=Mo({},[BF,IF,sv],uO);let P2;const sY=["application/xhtml+xml","text/html"],rY="text/html";let dc,FT=null;const iY=d.createElement("form"),PK=function(De){return De instanceof RegExp||De instanceof Function},Aq=function(De){if(!(FT&&FT===De)){if((!De||typeof De!="object")&&(De={}),De=Oa(De),P2=sY.indexOf(De.PARSER_MEDIA_TYPE)===-1?P2=rY:P2=De.PARSER_MEDIA_TYPE,dc=P2==="application/xhtml+xml"?uO:cE,cn="ALLOWED_TAGS"in De?Mo({},De.ALLOWED_TAGS,dc):Kt,Sn="ALLOWED_ATTR"in De?Mo({},De.ALLOWED_ATTR,dc):Io,kq="ALLOWED_NAMESPACES"in De?Mo({},De.ALLOWED_NAMESPACES,uO):oY,_q="ADD_URI_SAFE_ATTR"in De?Mo(Oa(MK),De.ADD_URI_SAFE_ATTR,dc):MK,DK="ADD_DATA_URI_TAGS"in De?Mo(Oa(RK),De.ADD_DATA_URI_TAGS,dc):RK,LT="FORBID_CONTENTS"in De?Mo({},De.FORBID_CONTENTS,dc):OK,fa="FORBID_TAGS"in De?Mo({},De.FORBID_TAGS,dc):{},El="FORBID_ATTR"in De?Mo({},De.FORBID_ATTR,dc):{},IT="USE_PROFILES"in De?De.USE_PROFILES:!1,of=De.ALLOW_ARIA_ATTR!==!1,Ki=De.ALLOW_DATA_ATTR!==!1,_l=De.ALLOW_UNKNOWN_PROTOCOLS||!1,cu=De.ALLOW_SELF_CLOSE_IN_ATTR!==!1,uc=De.SAFE_FOR_TEMPLATES||!1,Xf=De.WHOLE_DOCUMENT||!1,$0=De.RETURN_DOM||!1,BT=De.RETURN_DOM_FRAGMENT||!1,NF=De.RETURN_TRUSTED_TYPE||!1,yR=De.FORCE_BODY||!1,kK=De.SANITIZE_DOM!==!1,AK=De.SANITIZE_NAMED_PROPS||!1,Eq=De.KEEP_CONTENT!==!1,wR=De.IN_PLACE||!1,kn=De.ALLOWED_URI_REGEXP||VM,$T=De.NAMESPACE||sv,mo=De.CUSTOM_ELEMENT_HANDLING||{},De.CUSTOM_ELEMENT_HANDLING&&PK(De.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(mo.tagNameCheck=De.CUSTOM_ELEMENT_HANDLING.tagNameCheck),De.CUSTOM_ELEMENT_HANDLING&&PK(De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(mo.attributeNameCheck=De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),De.CUSTOM_ELEMENT_HANDLING&&typeof De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(mo.allowCustomizedBuiltInElements=De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),uc&&(Ki=!1),BT&&($0=!0),IT&&(cn=Mo({},[...FM]),Sn=[],IT.html===!0&&(Mo(cn,dO),Mo(Sn,sC)),IT.svg===!0&&(Mo(cn,lE),Mo(Sn,rC),Mo(Sn,iC)),IT.svgFilters===!0&&(Mo(cn,fO),Mo(Sn,rC),Mo(Sn,iC)),IT.mathMl===!0&&(Mo(cn,hO),Mo(Sn,pO),Mo(Sn,iC))),De.ADD_TAGS&&(cn===Kt&&(cn=Oa(cn)),Mo(cn,De.ADD_TAGS,dc)),De.ADD_ATTR&&(Sn===Io&&(Sn=Oa(Sn)),Mo(Sn,De.ADD_ATTR,dc)),De.ADD_URI_SAFE_ATTR&&Mo(_q,De.ADD_URI_SAFE_ATTR,dc),De.FORBID_CONTENTS&&(LT===OK&&(LT=Oa(LT)),Mo(LT,De.FORBID_CONTENTS,dc)),Eq&&(cn["#text"]=!0),Xf&&Mo(cn,["html","head","body"]),cn.table&&(Mo(cn,["tbody"]),delete fa.tbody),De.TRUSTED_TYPES_POLICY){if(typeof De.TRUSTED_TYPES_POLICY.createHTML!="function")throw nC('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof De.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw nC('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');me=De.TRUSTED_TYPES_POLICY,We=me.createHTML("")}else me===void 0&&(me=WM(j,c)),me!==null&&typeof We=="string"&&(We=me.createHTML(""));Nc&&Nc(De),FT=De}},NK=Mo({},["mi","mo","mn","ms","mtext"]),BK=Mo({},["foreignobject","desc","title","annotation-xml"]),aY=Mo({},["title","style","font","a","script"]),LF=Mo({},lE);Mo(LF,fO),Mo(LF,mO);const Oq=Mo({},hO);Mo(Oq,xH);const cY=function(De){let Vt=ye(De);(!Vt||!Vt.tagName)&&(Vt={namespaceURI:$T,tagName:"template"});const xn=cE(De.tagName),_r=cE(Vt.tagName);return kq[De.namespaceURI]?De.namespaceURI===IF?Vt.namespaceURI===sv?xn==="svg":Vt.namespaceURI===BF?xn==="svg"&&(_r==="annotation-xml"||NK[_r]):!!LF[xn]:De.namespaceURI===BF?Vt.namespaceURI===sv?xn==="math":Vt.namespaceURI===IF?xn==="math"&&BK[_r]:!!Oq[xn]:De.namespaceURI===sv?Vt.namespaceURI===IF&&!BK[_r]||Vt.namespaceURI===BF&&!NK[_r]?!1:!Oq[xn]&&(aY[xn]||!LF[xn]):!!(P2==="application/xhtml+xml"&&kq[De.namespaceURI]):!1},N2=function(De){tC(s.removed,{element:De});try{De.parentNode.removeChild(De)}catch{De.remove()}},CR=function(De,Vt){try{tC(s.removed,{attribute:Vt.getAttributeNode(De),from:Vt})}catch{tC(s.removed,{attribute:null,from:Vt})}if(Vt.removeAttribute(De),De==="is"&&!Sn[De])if($0||BT)try{N2(Vt)}catch{}else try{Vt.setAttribute(De,"")}catch{}},IK=function(De){let Vt,xn;if(yR)De="<remove></remove>"+De;else{const Yf=b1(De,/^[\r\n\t ]+/);xn=Yf&&Yf[0]}P2==="application/xhtml+xml"&&$T===sv&&(De='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+De+"</body></html>");const _r=me?me.createHTML(De):De;if($T===sv)try{Vt=new U().parseFromString(_r,P2)}catch{}if(!Vt||!Vt.documentElement){Vt=ze.createDocument($T,"template",null);try{Vt.documentElement.innerHTML=Tq?We:_r}catch{}}const fc=Vt.body||Vt.documentElement;return De&&xn&&fc.insertBefore(d.createTextNode(xn),fc.childNodes[0]||null),$T===sv?$e.call(Vt,Xf?"html":"body")[0]:Xf?Vt.documentElement:fc},LK=function(De){return Ye.call(De.ownerDocument||De,De,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},lY=function(De){return De instanceof F&&(typeof De.nodeName!="string"||typeof De.textContent!="string"||typeof De.removeChild!="function"||!(De.attributes instanceof B)||typeof De.removeAttribute!="function"||typeof De.setAttribute!="function"||typeof De.namespaceURI!="string"||typeof De.insertBefore!="function"||typeof De.hasChildNodes!="function")},$F=function(De){return typeof x=="object"?De instanceof x:De&&typeof De=="object"&&typeof De.nodeType=="number"&&typeof De.nodeName=="string"},rv=function(De,Vt,xn){Mt[De]&&bH(Mt[De],_r=>{_r.call(s,Vt,xn,FT)})},$K=function(De){let Vt;if(rv("beforeSanitizeElements",De,null),lY(De))return N2(De),!0;const xn=dc(De.nodeName);if(rv("uponSanitizeElement",De,{tagName:xn,allowedTags:cn}),De.hasChildNodes()&&!$F(De.firstElementChild)&&(!$F(De.content)||!$F(De.content.firstElementChild))&&gl(/<[/\w]/g,De.innerHTML)&&gl(/<[/\w]/g,De.textContent))return N2(De),!0;if(!cn[xn]||fa[xn]){if(!fa[xn]&&HK(xn)&&(mo.tagNameCheck instanceof RegExp&&gl(mo.tagNameCheck,xn)||mo.tagNameCheck instanceof Function&&mo.tagNameCheck(xn)))return!1;if(Eq&&!LT[xn]){const _r=ye(De)||De.parentNode,fc=ue(De)||De.childNodes;if(fc&&_r){const Yf=fc.length;for(let Di=Yf-1;Di>=0;--Di)_r.insertBefore(oe(fc[Di],!0),Se(De))}}return N2(De),!0}return De instanceof E&&!cY(De)||(xn==="noscript"||xn==="noembed"||xn==="noframes")&&gl(/<\/no(script|embed|frames)/i,De.innerHTML)?(N2(De),!0):(uc&&De.nodeType===3&&(Vt=De.textContent,Vt=Ud(Vt,on," "),Vt=Ud(Vt,qt," "),Vt=Ud(Vt,lo," "),De.textContent!==Vt&&(tC(s.removed,{element:De.cloneNode()}),De.textContent=Vt)),rv("afterSanitizeElements",De,null),!1)},FK=function(De,Vt,xn){if(kK&&(Vt==="id"||Vt==="name")&&(xn in d||xn in iY))return!1;if(!(Ki&&!El[Vt]&&gl(so,Vt))){if(!(of&&gl(Hn,Vt))){if(!Sn[Vt]||El[Vt]){if(!(HK(De)&&(mo.tagNameCheck instanceof RegExp&&gl(mo.tagNameCheck,De)||mo.tagNameCheck instanceof Function&&mo.tagNameCheck(De))&&(mo.attributeNameCheck instanceof RegExp&&gl(mo.attributeNameCheck,Vt)||mo.attributeNameCheck instanceof Function&&mo.attributeNameCheck(Vt))||Vt==="is"&&mo.allowCustomizedBuiltInElements&&(mo.tagNameCheck instanceof RegExp&&gl(mo.tagNameCheck,xn)||mo.tagNameCheck instanceof Function&&mo.tagNameCheck(xn))))return!1}else if(!_q[Vt]){if(!gl(kn,Ud(xn,Bt,""))){if(!((Vt==="src"||Vt==="xlink:href"||Vt==="href")&&De!=="script"&&wH(xn,"data:")===0&&DK[De])){if(!(_l&&!gl(dt,Ud(xn,Bt,"")))){if(xn)return!1}}}}}}return!0},HK=function(De){return De.indexOf("-")>0},zK=function(De){let Vt,xn,_r,fc;rv("beforeSanitizeAttributes",De,null);const{attributes:Yf}=De;if(!Yf)return;const Di={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Sn};for(fc=Yf.length;fc--;){Vt=Yf[fc];const{name:Jf,namespaceURI:Dq}=Vt;xn=Jf==="value"?Vt.value:y1(Vt.value);const dY=xn;if(_r=dc(Jf),Di.attrName=_r,Di.attrValue=xn,Di.keepAttr=!0,Di.forceKeepAttr=void 0,rv("uponSanitizeAttribute",De,Di),xn=Di.attrValue,Di.forceKeepAttr)continue;if(!Di.keepAttr){CR(Jf,De);continue}if(!cu&&gl(/\/>/i,xn)){CR(Jf,De);continue}uc&&(xn=Ud(xn,on," "),xn=Ud(xn,qt," "),xn=Ud(xn,lo," "));const VK=dc(De.nodeName);if(!FK(VK,_r,xn)){CR(Jf,De);continue}if(AK&&(_r==="id"||_r==="name")&&(CR(Jf,De),xn=nY+xn),me&&typeof j=="object"&&typeof j.getAttributeType=="function"&&!Dq)switch(j.getAttributeType(VK,_r)){case"TrustedHTML":{xn=me.createHTML(xn);break}case"TrustedScriptURL":{xn=me.createScriptURL(xn);break}}if(xn!==dY)try{Dq?De.setAttributeNS(Dq,Jf,xn):De.setAttribute(Jf,xn)}catch{CR(Jf,De)}}rv("afterSanitizeAttributes",De,null)},uY=function qn(De){let Vt;const xn=LK(De);for(rv("beforeSanitizeShadowDOM",De,null);Vt=xn.nextNode();)rv("uponSanitizeShadowNode",Vt,null),!$K(Vt)&&(Vt.content instanceof h&&qn(Vt.content),zK(Vt));rv("afterSanitizeShadowDOM",De,null)};return s.sanitize=function(qn){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vt,xn,_r,fc;if(Tq=!qn,Tq&&(qn="<!-->"),typeof qn!="string"&&!$F(qn))if(typeof qn.toString=="function"){if(qn=qn.toString(),typeof qn!="string")throw nC("dirty is not a string, aborting")}else throw nC("toString is not a function");if(!s.isSupported)return qn;if(ov||Aq(De),s.removed=[],typeof qn=="string"&&(wR=!1),wR){if(qn.nodeName){const Jf=dc(qn.nodeName);if(!cn[Jf]||fa[Jf])throw nC("root node is forbidden and cannot be sanitized in-place")}}else if(qn instanceof x)Vt=IK("<!---->"),xn=Vt.ownerDocument.importNode(qn,!0),xn.nodeType===1&&xn.nodeName==="BODY"||xn.nodeName==="HTML"?Vt=xn:Vt.appendChild(xn);else{if(!$0&&!uc&&!Xf&&qn.indexOf("<")===-1)return me&&NF?me.createHTML(qn):qn;if(Vt=IK(qn),!Vt)return $0?null:NF?We:""}Vt&&yR&&N2(Vt.firstChild);const Yf=LK(wR?qn:Vt);for(;_r=Yf.nextNode();)$K(_r)||(_r.content instanceof h&&uY(_r.content),zK(_r));if(wR)return qn;if($0){if(BT)for(fc=pt.call(Vt.ownerDocument);Vt.firstChild;)fc.appendChild(Vt.firstChild);else fc=Vt;return(Sn.shadowroot||Sn.shadowrootmode)&&(fc=yn.call(i,fc,!0)),fc}let Di=Xf?Vt.outerHTML:Vt.innerHTML;return Xf&&cn["!doctype"]&&Vt.ownerDocument&&Vt.ownerDocument.doctype&&Vt.ownerDocument.doctype.name&&gl(UM,Vt.ownerDocument.doctype.name)&&(Di="<!DOCTYPE "+Vt.ownerDocument.doctype.name+`>
`+Di),uc&&(Di=Ud(Di,on," "),Di=Ud(Di,qt," "),Di=Ud(Di,lo," ")),me&&NF?me.createHTML(Di):Di},s.setConfig=function(qn){Aq(qn),ov=!0},s.clearConfig=function(){FT=null,ov=!1},s.isValidAttribute=function(qn,De,Vt){FT||Aq({});const xn=dc(qn),_r=dc(De);return FK(xn,_r,Vt)},s.addHook=function(qn,De){typeof De=="function"&&(Mt[qn]=Mt[qn]||[],tC(Mt[qn],De))},s.removeHook=function(qn){if(Mt[qn])return yH(Mt[qn])},s.removeHooks=function(qn){Mt[qn]&&(Mt[qn]=[])},s.removeAllHooks=function(){Mt={}},s}var TH=bO();const ZM=t=>TH().sanitize(t);var vl=tinymce.util.Tools.resolve("tinymce.util.I18n");const kH={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},dE="temporary-placeholder",fE=t=>()=>wt(t,dE).getOr("!not found!"),mE=(t,s)=>{const i=t.toLowerCase();if(vl.isRtl()){const c=Mi(i,"-rtl");return io(s,c)?c:i}else return i},hE=(t,s)=>wt(s,mE(t,s)),jM=(t,s)=>{const i=s();return hE(t,i).getOrThunk(fE(i))},qM=(t,s,i)=>{const c=s();return hE(t,c).or(i).getOrThunk(fE(c))},AH=t=>vl.isRtl()?io(kH,t):!1,yO=()=>On("add-focusable",[gs(t=>{Uv(t.element,"svg").each(s=>Et(s,"focusable","false"))})]),GM=(t,s,i,c)=>{var d,h;const p=AH(s)?["tox-icon--flip"]:[],x=wt(i,mE(s,i)).or(c).getOrThunk(fE(i));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(p),innerHtml:x},behaviours:at([...(h=t.behaviours)!==null&&h!==void 0?h:[],yO()])}},Kl=(t,s,i,c=M.none())=>GM(s,t,i(),c),OH=(t,s,i)=>{const c=i(),d=gn(t,h=>io(c,mE(h,c)));return GM(s,d.getOr(dE),c,M.none())},DH={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},pE=Cr({name:"Notification",factory:t=>{const s=So({dom:ih(`<p>${ZM(t.translationProvider(t.text))}</p>`),behaviours:at([Tn.config({})])}),i=j=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${j}%`}}}),c=j=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${j}%`}}),d=So({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},c(0)],behaviours:at([Tn.config({})])}),x={updateProgress:(j,X)=>{j.getSystem().isConnected()&&d.getOpt(j).each(oe=>{Tn.set(oe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(X)]},c(X)])})},updateText:(j,X)=>{if(j.getSystem().isConnected()){const oe=s.get(j);Tn.set(oe,[Vs(X)])}}},E=mn([t.icon.toArray(),t.level.toArray(),t.level.bind(j=>M.from(DH[j])).toArray()]),R=So(ii.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Kl("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:j=>{t.onAction(j)}})),B=OH(E,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),F={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:at([Tn.config({})])},U=[B,F];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(j=>["tox-notification","tox-notification--in",`tox-notification--${j}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:at([tn.config({}),On("notification-events",[Ie(el(),j=>{R.getOpt(j).each(tn.focus)})])]),components:U.concat(t.progress?[d.asSpec()]:[]).concat([R.asSpec()]),apis:x}},configFields:[bo("level"),je("progress"),bo("icon"),je("onAction"),je("text"),je("iconProvider"),je("translationProvider")],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var XM=(t,s,i)=>{const c=s.backstage.shared,d=()=>{const E=Ps(be.fromDom(t.getContentAreaContainer())),R=Li(),B=Ls(R.x,E.x,E.right),F=Ls(R.y,E.y,E.bottom),U=Math.max(E.right,R.right),j=Math.max(E.bottom,R.bottom);return M.some(vr(B,F,U-B,j-F))};return{open:(E,R)=>{const B=()=>{R(),Ds.hide(U)},F=Wr(pE.sketch({text:E.text,level:Uo(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:c.providers.icons,translationProvider:c.providers.translate})),U=Wr(Ds.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:c.getSink,fireDismissalEventInstead:{},...c.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(U),Pt(E.timeout)&&E.timeout>0&&eC.setEditorTimeout(t,()=>{B()},E.timeout);const X={close:B,reposition:()=>{const oe=xc(F),Se={maxHeightFunction:Um()},ue=t.notificationManager.getNotifications();if(ue[0]===X){const ye={...c.anchors.banner(),overrides:Se};Ds.showWithinBounds(U,oe,{anchor:ye},d)}else qe(ue,X).each(ye=>{const me=ue[ye-1].getEl(),We={type:"node",root:Xr(),node:M.some(be.fromDom(me)),overrides:Se,layouts:{onRtl:()=>[Ws],onLtr:()=>[Ws]}};Ds.showWithinBounds(U,oe,{anchor:We},d)})},text:oe=>{pE.updateText(F,oe)},settings:E,getEl:()=>F.element.dom,progressBar:{value:oe=>{pE.updateProgress(F,oe)}}};return X},close:E=>{E.close()},getArgs:E=>E.settings}},jb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),wO=tinymce.util.Tools.resolve("tinymce.EditorManager"),qb=tinymce.util.Tools.resolve("tinymce.Env"),Xl;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Xl||(Xl={}));var aC;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(aC||(aC={}));const jo=t=>s=>s.options.get(t),cC=t=>s=>M.from(t(s)),CO=t=>{const s=qb.deviceType.isPhone(),i=qb.deviceType.isTablet()||s,c=t.options.register,d=p=>ve(p)||p===!1,h=p=>ve(p)||Pt(p);c("skin",{processor:p=>ve(p)||p===!1,default:"oxide"}),c("skin_url",{processor:"string"}),c("height",{processor:h,default:Math.max(t.getElement().offsetHeight,400)}),c("width",{processor:h,default:jb.DOM.getStyle(t.getElement(),"width")}),c("min_height",{processor:"number",default:100}),c("min_width",{processor:"number"}),c("max_height",{processor:"number"}),c("max_width",{processor:"number"}),c("style_formats",{processor:"object[]"}),c("style_formats_merge",{processor:"boolean",default:!1}),c("style_formats_autohide",{processor:"boolean",default:!1}),c("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),c("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),c("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),c("font_size_input_default_unit",{processor:"string",default:"pt"}),c("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),c("content_langs",{processor:"object[]"}),c("removed_menuitems",{processor:"string",default:""}),c("menubar",{processor:p=>ve(p)||Bn(p),default:!s}),c("menu",{processor:"object",default:{}}),c("toolbar",{processor:p=>Bn(p)||ve(p)||et(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),qo(9,p=>{c("toolbar"+(p+1),{processor:"string"})}),c("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),c("toolbar_groups",{processor:"object",default:{}}),c("toolbar_location",{processor:"string",default:aC.auto}),c("toolbar_persist",{processor:"boolean",default:!1}),c("toolbar_sticky",{processor:"boolean",default:t.inline}),c("toolbar_sticky_offset",{processor:"number",default:0}),c("fixed_toolbar_container",{processor:"string",default:""}),c("fixed_toolbar_container_target",{processor:"object"}),c("ui_mode",{processor:"string",default:"combined"}),c("file_picker_callback",{processor:"function"}),c("file_picker_validator_handler",{processor:"function"}),c("file_picker_types",{processor:"string"}),c("typeahead_urls",{processor:"boolean",default:!0}),c("anchor_top",{processor:d,default:"#top"}),c("anchor_bottom",{processor:d,default:"#bottom"}),c("draggable_modal",{processor:"boolean",default:!1}),c("statusbar",{processor:"boolean",default:!0}),c("elementpath",{processor:"boolean",default:!0}),c("branding",{processor:"boolean",default:!0}),c("promotion",{processor:"boolean",default:!0}),c("resize",{processor:p=>p==="both"||Bn(p),default:!qb.deviceType.isTouch()}),c("sidebar_show",{processor:"string"}),c("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),c("default_font_stack",{processor:"string[]",default:[]})},gE=jo("readonly"),xO=jo("height"),Gb=jo("width"),SO=cC(jo("min_width")),EO=cC(jo("min_height")),vE=cC(jo("max_width")),_O=cC(jo("max_height")),YM=cC(jo("style_formats")),JM=jo("style_formats_merge"),TO=jo("style_formats_autohide"),QM=jo("content_langs"),eP=jo("removed_menuitems"),Ap=jo("toolbar_mode"),Op=jo("toolbar_groups"),kO=jo("toolbar_location"),RH=jo("fixed_toolbar_container"),AO=jo("fixed_toolbar_container_target"),OO=jo("toolbar_persist"),tP=jo("toolbar_sticky_offset"),nP=jo("menubar"),lC=jo("toolbar"),oP=jo("file_picker_callback"),DO=jo("file_picker_validator_handler"),RO=jo("font_size_input_default_unit"),bE=jo("file_picker_types"),sP=jo("typeahead_urls"),MO=jo("anchor_top"),rP=jo("anchor_bottom"),Kb=jo("draggable_modal"),iP=jo("statusbar"),aP=jo("elementpath"),uC=jo("branding"),yE=jo("resize"),cP=jo("paste_as_text"),wE=jo("sidebar_show"),lP=jo("promotion"),uP=jo("help_accessibility"),CE=jo("default_font_stack"),PO=t=>t.options.get("skin")===!1,xE=t=>t.options.get("menubar")!==!1,SE=t=>{const s=t.options.get("skin_url");if(PO(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return wO.baseURL+"/skins/ui/"+i}},EE=t=>M.from(t.options.get("skin_url")),dP=t=>t.options.get("line_height_formats").split(" "),_E=t=>{const s=lC(t),i=ve(s),c=et(s)&&s.length>0;return!dC(t)&&(c||i||s===!0)},NO=t=>{const s=qo(9,c=>t.options.get("toolbar"+(c+1))),i=ao(s,ve);return en(i.length>0,i)},dC=t=>NO(t).fold(()=>{const s=lC(t);return yo(s,ve)&&s.length>0},Zt),BO=t=>kO(t)===aC.bottom,fP=t=>{var s;if(!t.inline)return M.none();const i=(s=RH(t))!==null&&s!==void 0?s:"";if(i.length>0)return us(Xr(),i);const c=AO(t);return Xe(c)?M.some(be.fromDom(c)):M.none()},Xb=t=>t.inline&&fP(t).isSome(),IO=t=>fP(t).getOrThunk(()=>ec(ms(be.fromDom(t.getElement())))),fC=t=>t.inline&&!xE(t)&&!_E(t)&&!dC(t),mC=t=>(t.options.get("toolbar_sticky")||t.inline)&&!Xb(t)&&!fC(t),Dp=t=>!Xb(t)&&t.options.get("ui_mode")==="split",mP=t=>{const s=t.options.get("menu");return os(s,i=>({...i,items:i.items}))};var hP=Object.freeze({__proto__:null,get ToolbarMode(){return Xl},get ToolbarLocation(){return aC},register:CO,getSkinUrl:SE,getSkinUrlOption:EE,isReadOnly:gE,isSkinDisabled:PO,getHeightOption:xO,getWidthOption:Gb,getMinWidthOption:SO,getMinHeightOption:EO,getMaxWidthOption:vE,getMaxHeightOption:_O,getUserStyleFormats:YM,shouldMergeStyleFormats:JM,shouldAutoHideStyleFormats:TO,getLineHeightFormats:dP,getContentLanguages:QM,getRemovedMenuItems:eP,isMenubarEnabled:xE,isMultipleToolbars:dC,isToolbarEnabled:_E,isToolbarPersist:OO,getMultipleToolbarsOption:NO,getUiContainer:IO,useFixedContainer:Xb,isSplitUiMode:Dp,getToolbarMode:Ap,isDraggableModal:Kb,isDistractionFree:fC,isStickyToolbar:mC,getStickyToolbarOffset:tP,getToolbarLocation:kO,isToolbarLocationBottom:BO,getToolbarGroups:Op,getMenus:mP,getMenubar:nP,getToolbar:lC,getFilePickerCallback:oP,getFilePickerTypes:bE,useTypeaheadUrls:sP,getAnchorTop:MO,getAnchorBottom:rP,getFilePickerValidatorHandler:DO,getFontSizeInputDefaultUnit:RO,useStatusBar:iP,useElementPath:aP,promotionEnabled:lP,useBranding:uC,getResize:yE,getPasteAsText:cP,getSidebarShow:wE,useHelpAccessibility:uP,getDefaultFontStack:CE});const MH={setup:(t,s)=>{const i=(d,h)=>{Gt(d,tl(),{raw:h})},c=()=>t.getMenu().bind(fo.getHighlighted);s.on("keydown",d=>{const h=d.which;t.isActive()&&(t.isMenuOpen()?h===13?(c().each(Tu),d.preventDefault()):h===40?(c().fold(()=>{t.getMenu().each(fo.highlightFirst)},p=>{i(p,d)}),d.preventDefault(),d.stopImmediatePropagation()):(h===37||h===38||h===39)&&c().each(p=>{i(p,d),d.preventDefault(),d.stopImmediatePropagation()}):(h===13||h===38||h===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var LO;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(LO||(LO={}));var Wd=LO;const $O="tox-menu-nav__js",TE="tox-collection__item",hC="tox-swatch",PH={normal:$O,color:hC},pP="tox-collection__item--enabled",NH="tox-collection__group-heading",gP="tox-collection__item-icon",FO="tox-collection__item-label",BH="tox-collection__item-accessory",vP="tox-collection__item-caret",IH="tox-collection__item-checkmark",w1="tox-collection__item--active",bP="tox-collection__item-container",LH="tox-collection__item-container--column",yP="tox-collection__item-container--row",$H="tox-collection__item-container--align-right",kE="tox-collection__item-container--align-left",FH="tox-collection__item-container--valign-top",HO="tox-collection__item-container--valign-middle",HH="tox-collection__item-container--valign-bottom",wP=t=>wt(PH,t).getOr($O),zH=t=>t==="color"?"tox-swatches":"tox-menu",AE=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:zH(t),tieredMenu:"tox-tiered-menu"}),C1=t=>{const s=AE(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:wP(t)}},zO=(t,s,i)=>{const c=AE(i);return{tag:"div",classes:mn([[c.menu,`tox-menu-${s}-column`],t?[c.hasIcons]:[]])}},VO=[g1.parts.items({})],pC=(t,s,i)=>{const c=AE(i);return{dom:{tag:"div",classes:mn([[c.tieredMenu]])},markers:C1(i)}},OE=D([bo("data"),xe("inputAttributes",{}),xe("inputStyles",{}),xe("tag","input"),xe("inputClasses",[]),oo("onSetValue"),xe("styles",{}),xe("eventOrder",{}),Rr("inputBehaviours",[kt,tn]),xe("selectOnFocus",!0)]),gC=t=>at([tn.config({onFocus:t.selectOnFocus?s=>{const i=s.element,c=kd(i);i.dom.setSelectionRange(0,c.length)}:ae})]),CP=t=>({...gC(t),...Mr(t.inputBehaviours,[kt.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>kd(s.element),setValue:(s,i)=>{kd(s.element)!==i&&Ru(s.element,i)}},onSetValue:t.onSetValue})])}),Zd=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),UO=(t,s)=>({uid:t.uid,dom:Zd(t),components:[],behaviours:CP(t),eventOrder:t.eventOrder}),x1=Cr({name:"Input",configFields:OE(),factory:UO}),xP=Nt("refetch-trigger-event"),SP=Nt("redirect-menu-item-interaction"),EP="tox-menu__searcher",Rp=t=>us(t.element,`.${EP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),_P=Rp,TP=(t,s)=>{kt.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},DE=t=>{const s=kt.getValue(t),i=t.element.dom.selectionStart,c=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:c}},VH=(t,s)=>{Xs(s.element,"id").each(i=>Et(t.element,"aria-activedescendant",i))},WO=t=>{const s=(d,h)=>(h.cut(),M.none()),i=(d,h)=>{const p={interactionEvent:h.event,eventType:h.event.raw.type};return Gt(d,SP,p),M.some(!0)},c="searcher-events";return{dom:{tag:"div",classes:[TE]},components:[x1.sketch({inputClasses:[EP,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:at([On(c,[Ie(xu(),d=>{Mn(d,xP)}),Ie(tl(),(d,h)=>{h.event.raw.key==="Escape"&&h.stop()})]),Jt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[c,Jt.name()]}})]}},Yb="tox-collection--results__js",kP=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Nt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},RE=(t,s)=>i=>{const c=Fs(i,s);return Ze(c,d=>({dom:t,components:d}))},AP=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[g1.parts.items({preprocess:t!=="auto"?RE({tag:"div",classes:["tox-swatches__row"]},t):pn})]}]}),UH=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[g1.parts.items({preprocess:RE({tag:"div",classes:["tox-collection__group"]},t)})]}),OP=(t,s)=>{const i=[];let c=[];return Tt(t,(d,h)=>{s(d,h)?(c.length>0&&i.push(c),c=[],(io(d.dom,"innerHtml")||d.components&&d.components.length>0)&&c.push(d)):c.push(d)}),c.length>0&&i.push(c),Ze(i,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},ZO=(t,s,i)=>g1.parts.items({preprocess:c=>{const d=Ze(c,i);return t!=="auto"&&t>1?RE({tag:"div",classes:["tox-collection__group"]},t)(d):OP(d,(h,p)=>s[p].type==="separator")}}),DP=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[ZO(t,s,pn)]}),WH=(t,s,i=!0)=>{const c=Nt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Yb].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:c}},components:[ZO(t,s,kP)]}},ZH=(t,s,i)=>{const c=Nt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[WO({i18n:vl.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Yb],attributes:{id:c}},components:[ZO(t,s,kP)]}]}},RP=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[g1.parts.items({preprocess:i=>OP(i,(c,d)=>t[d].type==="separator")})]}),vC=t=>Tr(t,s=>"icon"in s&&s.icon!==void 0),ah=t=>(console.error(Ih(t)),console.log(t),M.none()),MP=(t,s,i,c,d)=>{const h=RP(i);return{value:t,dom:h.dom,components:h.components,items:i}},S1=(t,s,i,c,d)=>{const h=()=>d.menuType!=="searchable"?DP(c,i):d.searchMode.searchMode==="search-with-field"?ZH(c,i,d.searchMode):WH(c,i);if(d.menuType==="color"){const p=AP(c);return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="normal"&&c==="auto"){const p=DP(c,i);return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="normal"||d.menuType==="searchable"){const p=h();return{value:t,dom:p.dom,components:p.components,items:i}}else if(d.menuType==="listpreview"&&c!=="auto"){const p=UH(c);return{value:t,dom:p.dom,components:p.components,items:i}}else return{value:t,dom:zO(s,c,d.menuType),components:VO,items:i}},sr=er("type"),jO=er("name"),qO=er("label"),If=er("text"),PP=er("title"),NP=er("icon"),Jb=er("value"),BP=kr("fetch"),IP=kr("getSubmenuItems"),E1=kr("onAction"),jH=kr("onItemAction"),_1=_s("onSetup",()=>ae),LP=xi("name"),Lf=xi("text"),Bc=xi("icon"),Qb=xi("tooltip"),ME=xi("label"),PE=xi("shortcut"),qH=hf("select"),e0=Ei("active",!1),GH=Ei("borderless",!1),Yl=Ei("enabled",!0),bC=Ei("primary",!1),Mp=t=>xe("columns",t),GO=xe("meta",{}),yC=_s("onAction",ae),$f=t=>Si("type",t),KO=t=>Vr("name","name",gu(()=>Nt(`${t}-name`)),Qr),$P=t=>Vr("value","value",gu(()=>Nt(`${t}-value`)),bu()),XO=sn([sr,Lf]),FP=t=>ls("separatormenuitem",XO,t),YO=sn([$f("autocompleteitem"),e0,Yl,GO,Jb,Lf,Bc]),HP=t=>ls("Autocompleter.Separator",XO,t),KH=t=>ls("Autocompleter.Item",YO,t),t0=[Yl,Qb,Bc,Lf,_1],zP=sn([sr,E1,PE].concat(t0)),JO=t=>ls("toolbarbutton",zP,t),NE=[e0].concat(t0),XH=sn(NE.concat([sr,E1,PE])),QO=t=>ls("ToggleButton",XH,t),VP=[_s("predicate",Gn),Bs("scope","node",["node","editor"]),Bs("position","selection",["node","selection","line"])],YH=t0.concat([$f("contextformbutton"),bC,E1,Ke("original",pn)]),JH=NE.concat([$f("contextformbutton"),bC,E1,Ke("original",pn)]),QH=t0.concat([$f("contextformbutton")]),UP=NE.concat([$f("contextformtogglebutton")]),wC=br("type",{contextformbutton:YH,contextformtogglebutton:JH}),WP=sn([$f("contextform"),_s("initValue",D("")),ME,Ar("commands",wC),Qc("launch",br("type",{contextformbutton:QH,contextformtogglebutton:UP}))].concat(VP)),e7=t=>ls("ContextForm",WP,t),t7=sn([$f("contexttoolbar"),er("items")].concat(VP)),n7=t=>ls("ContextToolbar",t7,t),o7=[sr,er("src"),xi("alt"),wd("classes",[],Qr)],s7=sn(o7),BE=[sr,If,LP,wd("classes",["tox-collection__item-label"],Qr)],r7=sn(BE),e4=pi(()=>It("type",{cardimage:s7,cardtext:r7,cardcontainer:i7})),i7=sn([sr,Si("direction","horizontal"),Si("align","left"),Si("valign","middle"),Ar("items",e4)]),T1=[Yl,Lf,PE,$P("menuitem"),GO],ZP=sn([sr,ME,Ar("items",e4),_1,yC].concat(T1)),a7=t=>ls("cardmenuitem",ZP,t),jP=sn([sr,e0,Bc].concat(T1)),qP=t=>ls("choicemenuitem",jP,t),t4=[sr,er("fancytype"),yC],GP=[xe("initData",{})].concat(t4),c7=[hf("select"),xv("initData",{},[Ei("allowCustomColors",!0),Si("storageKey","default"),Y2("colors",bu())])].concat(t4),l7=br("fancytype",{inserttable:GP,colorswatch:c7}),u7=t=>ls("fancymenuitem",l7,t),d7=sn([sr,_1,yC,Bc].concat(T1)),KP=t=>ls("menuitem",d7,t),XP=sn([sr,IP,_1,Bc].concat(T1)),f7=t=>ls("nestedmenuitem",XP,t),m7=sn([sr,Bc,e0,_1,E1].concat(T1)),h7=t=>ls("togglemenuitem",m7,t),n4=(t,s,i)=>{const c=na(t.element,"."+i);if(c.length>0){const d=Go(c,h=>{const p=h.dom.getBoundingClientRect().top,x=c[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>s}).getOr(c.length);return M.some({numColumns:d,numRows:Math.ceil(c.length/d)})}else return M.none()},YP=(t,s)=>at([On(t,s)]),CC={namedEvents:YP,unnamedEvents:t=>YP(Nt("unnamed-events"),t)},IE=Nt("tooltip.exclusive"),n0=Nt("tooltip.show"),xC=Nt("tooltip.hide"),LE=Nt("tooltip.immediateHide"),SC=Nt("tooltip.immediateShow"),JP=(t,s,i)=>{t.getSystem().broadcastOn([IE],{})};var QP=Object.freeze({__proto__:null,hideAllExclusive:JP,setComponents:(t,s,i,c)=>{i.getTooltip().each(d=>{d.getSystem().isConnected()&&Tn.set(d,c)})}}),eN=Object.freeze({__proto__:null,events:(t,s)=>{const i=p=>{s.getTooltip().each(x=>{x.getSystem().isConnected()&&($u(x),t.onHide(p,x),s.clearTooltip())}),s.clearTimer()},c=p=>{if(!s.isShowing()){JP(p);const x=t.lazySink(p).getOrDie(),E=p.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Qo(t.mode==="normal"?[Ie(Cu(),R=>{Mn(p,n0)}),Ie(fg(),R=>{Mn(p,xC)})]:[]),behaviours:at([Tn.config({})])});s.setTooltip(E),Vl(x,E),t.onShow(p,E),oi.position(x,E,{anchor:t.anchor(p)})}},d=p=>{s.getTooltip().each(x=>{const E=t.lazySink(p).getOrDie();oi.position(E,x,{anchor:t.anchor(p)})})},h=()=>{switch(t.mode){case"normal":return[Ie(el(),p=>{Mn(p,SC)}),Ie(Cm(),p=>{Mn(p,LE)}),Ie(Cu(),p=>{Mn(p,n0)}),Ie(fg(),p=>{Mn(p,xC)})];case"follow-highlight":return[Ie(Wh(),(p,x)=>{Mn(p,n0)}),Ie(_m(),p=>{Mn(p,xC)})];case"children-normal":return[Ie(el(),(p,x)=>{ni(p.element).each(E=>{Bi(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Mn(p,SC)},R=>{s.isShowing()&&(t.onShow(p,R),d(p))})})}),Ie(Cm(),p=>{ni(p.element).fold(()=>{Mn(p,LE)},ae)}),Ie(Cu(),p=>{us(p.element,"[data-mce-tooltip]:hover").each(x=>{s.getTooltip().fold(()=>{Mn(p,n0)},E=>{s.isShowing()&&(t.onShow(p,E),d(p))})})}),Ie(fg(),p=>{us(p.element,"[data-mce-tooltip]:hover").fold(()=>{Mn(p,xC)},ae)})];default:return[Ie(el(),(p,x)=>{ni(p.element).each(E=>{Bi(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Mn(p,SC)},R=>{s.isShowing()&&(t.onShow(p,R),d(p))})})}),Ie(Cm(),p=>{ni(p.element).fold(()=>{Mn(p,LE)},ae)})]}};return Qo(mn([[Ie(n0,p=>{s.resetTimer(()=>{c(p)},t.delayForShow())}),Ie(xC,p=>{s.resetTimer(()=>{i(p)},t.delayForHide())}),Ie(SC,p=>{s.resetTimer(()=>{c(p)},0)}),Ie(LE,p=>{s.resetTimer(()=>{i(p)},0)}),Ie(Eu(),(p,x)=>{const E=x;E.universal||Uo(E.channels,IE)&&i(p)}),ku(p=>{i(p)})],h()]))}}),g7=[je("lazySink"),je("tooltipDom"),xe("exclusive",!0),xe("tooltipComponents",[]),_s("delayForShow",D(300)),_s("delayForHide",D(300)),Bs("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),xe("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:D([Ws,jr,dr,es,or,yr]),onRtl:D([Ws,jr,dr,es,or,yr])},bubble:ll(0,-2,{})})),oo("onHide"),oo("onShow")],v7=Object.freeze({__proto__:null,init:()=>{const t=ts(),s=ts(),i=()=>{t.on(clearTimeout)},c=(h,p)=>{i(),t.set(setTimeout(h,p))},d=D("not-implemented");return wc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:c,readState:d})}});const Ai=qr({fields:g7,name:"tooltipping",active:eN,state:v7,apis:QP}),o4=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),tN="silver.readonly",b7=sn([iy("readonly")]),$E=(t,s)=>{const c=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&Tt(d,h=>{h.broadcastOn([Df()],{target:c})}),Tt(d,h=>{h.broadcastOn([tN],{readonly:s})})},nN=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&$E(s,!0)}),t.on("SwitchMode",()=>$E(s,t.mode.isReadOnly())),gE(t)&&t.mode.set("readonly")},Gr=()=>Wa.config({channels:{[tN]:{schema:b7,onReceive:(t,s)=>{fn.set(t,s.readonly)}}}}),ju={item:t=>fn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>fn.config({disabled:t}),splitButton:t=>fn.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>fn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},FE=(t,s)=>{const i=t.getApi(s);return c=>{c(i)}},vi=(t,s)=>gs(i=>{FE(t,i)(d=>{const h=t.onSetup(d);nt(h)&&s.set(h)})}),Da=(t,s)=>ku(i=>FE(t,i)(s.get())),C7=(t,s)=>Fl((i,c)=>{FE(t,i)(t.onAction),!t.triggersSubmenu&&s===Wd.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&Mn(i,hg()),c.stop())}),s4={[$a()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Pp=Ir,o0=(t,s,i,c)=>{const d=Xt(ae);return{type:"item",dom:s.dom,components:Pp(s.optComponents),data:t.data,eventOrder:s4,hasSubmenu:t.triggersSubmenu,itemBehaviours:at([On("item-events",[C7(t,i),vi(t,d),Da(t,d)]),ju.item(()=>!t.enabled||c.isDisabled()),Gr(),Tn.config({})].concat(t.itemBehaviours))}},s0=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),k1=t=>{const s=qb.os.isMacOS()||qb.os.isiOS(),d=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},h=t.split("+"),p=Ze(h,x=>{const E=x.toLowerCase().trim();return io(d,E)?d[E]:x});return s?p.join(""):p.join("+")},r0=(t,s,i=[gP])=>Kl(t,{tag:"div",classes:i},s),HE=t=>({dom:{tag:"div",classes:[FO]},components:[Vs(vl.translate(t))]}),oN=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),jd=(t,s)=>({dom:{tag:"div",classes:[FO]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Vs(vl.translate(s))]}]}),x7=t=>({dom:{tag:"div",classes:[BH]},components:[Vs(k1(t))]}),sN=t=>r0("checkmark",t,[IH]),Jl=t=>r0("chevron-right",t,[vP]),EC=t=>r0("chevron-down",t,[vP]),qu=(t,s)=>{const i=t.direction==="vertical"?LH:yP,c=t.align==="left"?kE:$H;return{dom:{tag:"div",classes:[bP,i,c,(()=>{switch(t.valign){case"top":return FH;case"middle":return HO;case"bottom":return HH}})()]},components:s}},S7=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),Po=(t,s,i)=>{const c="custom",d="remove",h=t.value,p=t.iconContent.map(R=>qM(R,s.icons,i)),x=t.ariaLabel.map(R=>({"aria-label":s.translate(R),"data-mce-name":R})).getOr({});return{dom:(()=>{const R=hC,B=p.getOr(""),F={tag:"div",attributes:x,classes:[R]};return h===c?{...F,tag:"button",classes:[...F.classes,"tox-swatches__picker-btn"],innerHtml:B}:h===d?{...F,classes:[...F.classes,"tox-swatch--remove"],innerHtml:B}:Xe(h)?{...F,attributes:{...F.attributes,"data-mce-color":h},styles:{"background-color":h},innerHtml:B}:F})(),optComponents:[]}},A1=t=>{const s=t.map(i=>({attributes:{id:Nt("menu-item"),"aria-label":vl.translate(i)}})).getOr({});return{tag:"div",classes:[$O,TE],...s}},zE=(t,s,i,c)=>{const d={tag:"div",classes:[gP]},h=U=>Kl(U,d,s.icons,c),p=()=>M.some({dom:d}),x=i?t.iconContent.map(h).orThunk(p):M.none(),E=t.checkMark,R=M.from(t.meta).fold(()=>HE,U=>io(U,"style")?_n(jd,U.style):HE),B=t.htmlContent.fold(()=>t.textContent.map(R),U=>M.some(oN(U,[FO])));return{dom:A1(t.ariaLabel),optComponents:[x,B,t.shortcutContent.map(x7),E,t.caret]}},i0=(t,s,i,c=M.none())=>t.presets==="color"?Po(t,s,c):zE(t,s,i,c),VE=(t,s,i)=>wt(t,"tooltipWorker").map(c=>[Ai.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Um}}),mode:"follow-highlight",onShow:(d,h)=>{c(p=>{Ai.setComponents(d,[Mu({element:be.fromDom(p)})])})}})]).getOrThunk(()=>i.map(c=>[Ai.config({...s.providers.tooltips.getConfig({tooltipText:c}),mode:"follow-highlight"})]).getOr([])),r4=t=>jb.DOM.encode(t),rN=(t,s)=>{const i=vl.translate(t),c=r4(i);if(s.length>0){const d=new RegExp(o4(s),"gi");return c.replace(d,h=>`<span class="tox-autocompleter-highlight">${h}</span>`)}else return c},i4=(t,s,i,c,d,h,p,x=!0)=>{const E=i0({presets:c,textContent:M.none(),htmlContent:i?t.text.map(B=>rN(B,s)):M.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:M.none(),checkMark:M.none(),caret:M.none(),value:t.value},p.providers,x,t.icon),R=t.text.filter(B=>!i&&B!=="");return o0({data:s0(t),enabled:t.enabled,getApi:D({}),onAction:B=>d(t.value,t.meta),onSetup:D(ae),triggersSubmenu:!1,itemBehaviours:VE(t,p,R)},E,h,p.providers)},iN=(t,s)=>Ze(t,i=>{switch(i.type){case"cardcontainer":return qu(i,iN(i.items,s));case"cardimage":return S7(i.src,i.classes,i.alt);case"cardtext":const d=i.name.exists(h=>Uo(s.cardText.highlightOn,h))?M.from(s.cardText.matchText).getOr(""):"";return oN(rN(i.text,d),i.classes)}}),aN=(t,s,i,c)=>{const d=p=>({isEnabled:()=>!fn.isDisabled(p),setEnabled:x=>{fn.set(p,!x),Tt(na(p.element,"*"),E=>{p.getSystem().getByDom(E).each(R=>{R.hasConfigured(fn)&&fn.set(R,!x)})})}}),h={dom:A1(t.label),optComponents:[M.some({dom:{tag:"div",classes:[bP,yP]},components:iN(t.items,c)})]};return o0({data:s0({text:M.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:M.from(c.itemBehaviours).getOr([])},h,s,i.providers)},cN=(t,s,i,c,d,h,p,x=!0)=>{const E=F=>({setActive:U=>{Nn.set(F,U)},isActive:()=>Nn.isOn(F),isEnabled:()=>!fn.isDisabled(F),setEnabled:U=>fn.set(F,!U)}),R=i0({presets:i,textContent:s?t.text:M.none(),htmlContent:M.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:M.none(),checkMark:s?M.some(sN(p.icons)):M.none(),caret:M.none(),value:t.value},p,x),B=t.text.filter(D(!s)).map(F=>Ai.config(p.tooltips.getConfig({tooltipText:p.translate(F)})));return Yo(o0({data:s0(t),enabled:t.enabled,getApi:E,onAction:F=>c(t.value),onSetup:F=>(F.setActive(d),ae),triggersSubmenu:!1,itemBehaviours:[...B.toArray()]},R,h,p),{toggling:{toggleClass:pP,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},UE=Eb(Vb(),Qw()),a4=t=>({value:dN(t)}),_C=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,lN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,uN=t=>_C.test(t)||lN.test(t),dN=t=>Yp(t,"#").toUpperCase(),E7=t=>uN(t)?M.some({value:dN(t)}):M.none(),_7=t=>({value:t.value.replace(_C,(i,c,d,h)=>c+c+d+d+h+h)}),fN=t=>{const s=_7(t),i=lN.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},c4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},TC=t=>{const s=c4(t.red)+c4(t.green)+c4(t.blue);return a4(s)},l4=Math.min,u4=Math.max,WE=Math.round,T7=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,mN=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ch=(t,s,i,c)=>({red:t,green:s,blue:i,alpha:c}),ZE=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},hN=t=>{let s,i,c;const d=(t.hue||0)%360;let h=t.saturation/100,p=t.value/100;if(h=u4(0,l4(h,1)),p=u4(0,l4(p,1)),h===0)return s=i=c=WE(255*p),ch(s,i,c,1);const x=d/60,E=p*h,R=E*(1-Math.abs(x%2-1)),B=p-E;switch(Math.floor(x)){case 0:s=E,i=R,c=0;break;case 1:s=R,i=E,c=0;break;case 2:s=0,i=E,c=R;break;case 3:s=0,i=R,c=E;break;case 4:s=R,i=0,c=E;break;case 5:s=E,i=0,c=R;break;default:s=i=c=0}return s=WE(255*(s+B)),i=WE(255*(i+B)),c=WE(255*(c+B)),ch(s,i,c,1)},kC=t=>{const s=fN(t),i=parseInt(s[1],16),c=parseInt(s[2],16),d=parseInt(s[3],16);return ch(i,c,d,1)},pN=(t,s,i,c)=>{const d=parseInt(t,10),h=parseInt(s,10),p=parseInt(i,10),x=parseFloat(c);return ch(d,h,p,x)},d4=t=>{if(t==="transparent")return M.some(ch(0,0,0,0));const s=T7.exec(t);if(s!==null)return M.some(pN(s[1],s[2],s[3],"1"));const i=mN.exec(t);return i!==null?M.some(pN(i[1],i[2],i[3],i[4])):M.none()},gN=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,vN=ch(255,0,0,1),bN=t=>{t.dispatch("SkinLoaded")},Gu=(t,s)=>{t.dispatch("SkinLoadError",s)},k7=t=>{t.dispatch("ResizeEditor")},AC=(t,s)=>{t.dispatch("ResizeContent",s)},yN=(t,s)=>{t.dispatch("ScrollContent",s)},f4=(t,s)=>{t.dispatch("TextColorChange",s)},A7=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},wN=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),CN=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},xN=(t,s)=>{t.dispatch("StylesTextUpdate",s)},O7=(t,s)=>{t.dispatch("AlignTextUpdate",s)},D7=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},R7=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},M7=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},P7=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},OC=(t,s)=>()=>{t(),s()},aa=t=>O1(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),SN=(t,s)=>i=>{const c=ap(),d=()=>{i.setActive(t.formatter.match(s));const h=t.formatter.formatChanged(s,i.setActive);c.set(h)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),c.clear()}},jE=(t,s)=>i=>{const c=aa(t)(i),d=SN(t,s)(i);return()=>{c(),d()}},O1=(t,s,i)=>c=>{const d=()=>i(c),h=()=>{i(c),t.on(s,d)};return t.initialized?h():t.once("init",h),()=>{t.off("init",h),t.off(s,d)}},EN=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},ji=(t,s)=>()=>t.execCommand(s);var D1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const m4={},_N=(t,s=10)=>{const i=D1.getItem(t),c=ve(i)?JSON.parse(i):[],h=(R=>s-R.length<0?R.slice(0,s):R)(c),p=R=>{qe(h,R).each(x),h.unshift(R),h.length>s&&h.pop(),D1.setItem(t,JSON.stringify(h))},x=R=>{h.splice(R,1)};return{add:p,state:()=>h.slice(0)}},h4=t=>wt(m4,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=D1.getItem(s);if(ct(i)){const d=D1.getItem("tinymce-custom-colors");D1.setItem(s,Xe(d)?d:"[]")}const c=_N(s,10);return m4[t]=c,c}),TN=t=>Ze(h4(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),qE=(t,s)=>{h4(t).add(s)},R1=(t,s,i)=>({hue:t,saturation:s,value:i}),DC=t=>{let s=0,i=0,c=0;const d=t.red/255,h=t.green/255,p=t.blue/255,x=Math.min(d,Math.min(h,p)),E=Math.max(d,Math.max(h,p));if(x===E)return c=x,R1(0,0,c*100);const R=d===x?h-p:p===x?d-h:p-d;return s=d===x?3:p===x?1:5,s=60*(s-R/(E-x)),i=(E-x)/E,c=E,R1(Math.round(s),Math.round(i*100),Math.round(c*100))},kN=t=>DC(kC(t)),AN=t=>TC(hN(t)),ON=t=>E7(t).orThunk(()=>d4(t).map(TC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const c=i.getImageData(0,0,1,1).data,d=c[0],h=c[1],p=c[2],x=c[3];return TC(ch(d,h,p,x))}),p4="forecolor",g4="hilitecolor",N7=5,DN=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:"#"+ON(t[i]).value,icon:"checkmark",type:"choiceitem"});return s},qd=t=>s=>s.options.get(t),GE="#000000",B7=t=>{const s=t.options.register,i=d=>yo(d,ve)?{value:DN(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},c=d=>Pt(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:c,default:v4(t)}),s("color_cols_foreground",{processor:c,default:RN(t,p4)}),s("color_cols_background",{processor:c,default:RN(t,g4)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:GE}),s("color_default_background",{processor:"string",default:GE})},KE=(t,s)=>s===p4&&t.options.isSet("color_map_foreground")?qd("color_map_foreground")(t):s===g4&&t.options.isSet("color_map_background")?qd("color_map_background")(t):qd("color_map")(t),v4=(t,s="default")=>Math.max(N7,Math.ceil(Math.sqrt(KE(t,s).length))),RN=(t,s)=>{const i=qd("color_cols")(t),c=v4(t,s);return i===v4(t)?c:i},MN=(t,s="default")=>Math.round(s===p4?qd("color_cols_foreground")(t):s===g4?qd("color_cols_background")(t):qd("color_cols")(t)),PN=qd("custom_colors"),I7=qd("color_default_foreground"),L7=qd("color_default_background"),$7="rgba(0, 0, 0, 0)",F7=t=>d4(t).exists(s=>s.alpha!==0),H7=t=>wm(t,s=>{if($o(s)){const i=I(s,"background-color");return en(F7(i),i)}else return M.none()}).getOr($7),b4=(t,s)=>{const i=be.fromDom(t.selection.getStart()),c=s==="hilitecolor"?H7(i):I(i,"color");return d4(c).map(d=>"#"+TC(d).value)},z7=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},V7=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},U7=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{z7(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{V7(t,s)})},NN=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},y4=(t,s,i,c)=>{i==="custom"?XE(t)(h=>{h.each(p=>{qE(s,p),t.execCommand("mceApplyTextcolor",s,p),c(p)})},b4(t,s).getOr(GE)):i==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",s)):(c(i),t.execCommand("mceApplyTextcolor",s,i))},a0=(t,s,i)=>t.concat(TN(s).concat(NN(i))),w4=(t,s,i)=>c=>{c(a0(t,s,i))},C4=(t,s,i)=>{const c=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(c,i)},BN=(t,s)=>{t.setTooltip(s)},IN=(t,s)=>i=>{const c=b4(t,s);return Yi(c,i.toUpperCase())},x4=(t,s,i)=>{if(Wo(i))return s==="forecolor"?"Text color":"Background color";const c=s==="forecolor"?"Text color {0}":"Background color {0}",d=a0(KE(t,s),s,!1),h=gn(d,p=>p.value===i).getOr({text:""}).text;return t.translate([c,t.translate(h)])},LN=(t,s,i,c)=>{t.ui.registry.addSplitButton(s,{tooltip:x4(t,i,c.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:IN(t,i),columns:MN(t,i),fetch:w4(KE(t,i),i,PN(t)),onAction:d=>{y4(t,i,c.get(),ae)},onItemAction:(d,h)=>{y4(t,i,h,p=>{c.set(p),f4(t,{name:s,color:p})})},onSetup:d=>{C4(d,s,c.get());const h=p=>{p.name===s&&(C4(d,p.name,p.color),BN(d,x4(t,i,p.color)))};return t.on("TextColorChange",h),OC(aa(t)(d),()=>{t.off("TextColorChange",h)})}})},$N=(t,s,i,c,d)=>{t.ui.registry.addNestedMenuItem(s,{text:c,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:h=>(BN(h,x4(t,i,d.get())),C4(h,s,d.get()),aa(t)(h)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:IN(t,i),initData:{storageKey:i},onAction:h=>{y4(t,i,h.value,p=>{d.set(p),f4(t,{name:s,color:p})})}}]})},XE=t=>(s,i)=>{let c=!1;const d=x=>{const R=x.getData().colorpicker;c?(s(M.from(R)),x.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",R]))},h=(x,E)=>{E.name==="hex-valid"&&(c=E.value)},p={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:h,onSubmit:d,onClose:ae,onCancel:()=>{s(M.none())}})},FN=t=>{U7(t);const s=I7(t),i=L7(t),c=Xt(s),d=Xt(i);LN(t,"forecolor","forecolor",c),LN(t,"backcolor","hilitecolor",d),$N(t,"forecolor","forecolor","Text color",c),$N(t,"backcolor","hilitecolor","Background color",d)},YE=(t,s,i,c,d,h,p,x)=>{const E=vC(s),B=W7(s,i,c,d!=="color"?"normal":"color",h,p,x);return S1(t,E,B,c,{menuType:d})},W7=(t,s,i,c,d,h,p)=>Ir(Ze(t,x=>x.type==="choiceitem"?qP(x).fold(ah,E=>M.some(cN(E,i===1,c,s,h(E.value),d,p,vC(t)))):M.none())),c0=(t,s)=>{const i=C1(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?us(d.element,"[aria-checked=true]"):M.none()}},Z7=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${hC}`:`.${TE}`}},j7=(t,s)=>{const i=q7(t,s),c=s.colorinput.getColorCols(t.initData.storageKey),d="color",p={...YE(Nt("menu-value"),i,x=>{t.onAction({value:x})},c,d,Wd.CLOSE_ON_EXECUTE,t.select.getOr(Gn),s.shared.providers),markers:C1(d),movement:c0(c,d)};return{type:"widget",data:{value:Nt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UE.widget(g1.sketch(p))]}},q7=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>a0(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),c=>c.concat(NN(i)))},HN=Nt("cell-over"),zN=Nt("cell-execute"),G7=t=>(s,i)=>t.shared.providers.translate(["{0} columns, {1} rows",i,s]),K7=(t,s,i)=>{const c=p=>Gt(p,HN,{row:t,col:s}),d=p=>Gt(p,zN,{row:t,col:s}),h=(p,x)=>{x.stop(),d(p)};return Wr({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:at([On("insert-table-picker-cell",[Ie(Cu(),tn.focus),Ie($a(),d),Ie(yf(),h),Ie(ea(),h)]),Nn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),tn.config({onFocus:c})])})},X7=(t,s,i)=>{const c=[];for(let d=0;d<s;d++){const h=[];for(let p=0;p<i;p++){const x=t(d+1,p+1);h.push(K7(d,p,x))}c.push(h)}return c},Y7=(t,s,i,c,d)=>{for(let h=0;h<c;h++)for(let p=0;p<d;p++)Nn.set(t[h][p],h<=s&&p<=i)},J7=t=>Ae(t,s=>Ze(s,xc)),RC=(t,s)=>Vs(`${s}x${t}`),S4={inserttable:(t,s)=>{const d=G7(s),h=X7(d,10,10),p=RC(0,0),x=So({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:at([Tn.config({})])});return{type:"widget",data:{value:Nt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:J7(h).concat(x.asSpec()),behaviours:at([On("insert-table-picker",[gs(E=>{Tn.set(x.get(E),[p])}),km(HN,(E,R,B)=>{const{row:F,col:U}=B.event;Y7(h,F,U,10,10),Tn.set(x.get(E),[RC(F+1,U+1)])}),km(zN,(E,R,B)=>{const{row:F,col:U}=B.event;t.onAction({numRows:F+1,numColumns:U+1}),Mn(E,hg())})]),Jt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:j7},UN=(t,s)=>wt(S4,t.fancytype).map(i=>i(t,s)),Q7=(t,s,i,c=!0,d=!1)=>{const h=d?EC(i.icons):Jl(i.icons),p=E=>({isEnabled:()=>!fn.isDisabled(E),setEnabled:R=>fn.set(E,!R),setIconFill:(R,B)=>{us(E.element,`svg path[class="${R}"], rect[class="${R}"]`).each(F=>{Et(F,"fill",B)})},setTooltip:R=>{const B=i.translate(R);Et(E.element,"aria-label",B)}}),x=i0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:M.none(),ariaLabel:t.text,caret:M.some(h),checkMark:M.none(),shortcutContent:t.shortcut},i,c);return o0({data:s0(t),getApi:p,enabled:t.enabled,onAction:ae,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},x,s,i)},e8=(t,s,i,c=!0)=>{const d=p=>({isEnabled:()=>!fn.isDisabled(p),setEnabled:x=>fn.set(p,!x)}),h=i0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:M.none(),ariaLabel:t.text,caret:M.none(),checkMark:M.none(),shortcutContent:t.shortcut},i,c);return o0({data:s0(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},h,s,i)},E4=t=>({type:"separator",dom:{tag:"div",classes:[TE,NH]},components:t.text.map(Vs).toArray()}),_4=(t,s,i,c=!0)=>{const d=p=>({setActive:x=>{Nn.set(p,x)},isActive:()=>Nn.isOn(p),isEnabled:()=>!fn.isDisabled(p),setEnabled:x=>fn.set(p,!x)}),h=i0({iconContent:t.icon,textContent:t.text,htmlContent:M.none(),ariaLabel:t.text,checkMark:M.some(sN(i.icons)),caret:M.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,c);return Yo(o0({data:s0(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},h,s,i),{toggling:{toggleClass:pP,toggleOnExecute:!1,selected:t.active}})},JE=i4,T4=E4,t8=e8,n8=Q7,o8=_4,s8=UN,r8=aN;var i8=Object.freeze({__proto__:null,getCoupled:(t,s,i,c)=>i.getOrCreate(t,s,c),getExistingCoupled:(t,s,i,c)=>i.getExisting(t,s,c)}),a8=[ei("others",bm(An.value,bu()))],c8=Object.freeze({__proto__:null,init:()=>{const t={},s=(h,p)=>{if(xs(h.others).length===0)throw new Error("Cannot find any known coupled components");return wt(t,p)},i=(h,p,x)=>s(p,x).getOrThunk(()=>{const R=wt(p.others,x).getOrDie("No information found for coupled component: "+x)(h),B=h.getSystem().build(R);return t[x]=B,B}),c=(h,p,x)=>s(p,x).orThunk(()=>(wt(p.others,x).getOrDie("No information found for coupled component: "+x),M.none())),d=D({});return wc({readState:d,getExisting:c,getOrCreate:i})}});const Zs=qr({fields:a8,name:"coupling",apis:i8,state:c8}),k4=t=>{let s=M.none(),i=[];const c=R=>k4(B=>{d(F=>{B(R(F))})}),d=R=>{p()?E(R):i.push(R)},h=R=>{p()||(s=M.some(R),x(i),i=[])},p=()=>s.isSome(),x=R=>{Tt(R,E)},E=R=>{s.each(B=>{setTimeout(()=>{R(B)},0)})};return t(h),{get:d,map:c,isReady:p}},u8={nu:k4,pure:t=>k4(s=>{s(t)})},d8=t=>{setTimeout(()=>{throw t},0)},Ic=t=>{const s=E=>{t().then(E,d8)};return{map:E=>Ic(()=>t().then(E)),bind:E=>Ic(()=>t().then(R=>E(R).toPromise())),anonBind:E=>Ic(()=>t().then(()=>E.toPromise())),toLazy:()=>u8.nu(s),toCached:()=>{let E=null;return Ic(()=>(E===null&&(E=t()),E))},toPromise:t,get:s}},bi={nu:t=>Ic(()=>new Promise(t)),pure:t=>Ic(()=>Promise.resolve(t))},Kr=D("sink"),WN=D(Za({name:Kr(),overrides:D({dom:{tag:"div"},behaviours:at([oi.config({useFixed:Zt})]),events:Qo([sl(tl()),sl(_a()),sl(yf())])})})),ZN=(t,s)=>{const i=t.getHotspot(s).getOr(s),c="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:c,hotspot:i,overrides:d}),h=>({type:c,hotspot:i,overrides:d,layouts:h}))},f8=(t,s,i)=>{const c=t.fetch;return c(i).map(s)},m8=(t,s,i,c,d,h,p)=>{const x=f8(t,s,c),E=jN(c,t);return x.map(R=>R.bind(B=>M.from(v1.sketch({...h.menu(),uid:Gh(""),data:B,highlightOnOpen:p,onOpenMenu:(F,U)=>{const j=E().getOrDie();oi.position(j,U,{anchor:i}),$n.decloak(d)},onOpenSubmenu:(F,U,j)=>{const X=E().getOrDie();oi.position(X,j,{anchor:{type:"submenu",item:U}}),$n.decloak(d)},onRepositionMenu:(F,U,j)=>{const X=E().getOrDie();oi.position(X,U,{anchor:i}),Tt(j,oe=>{oi.position(X,oe.triggeredMenu,{anchor:{type:"submenu",item:oe.triggeringItem}})})},onEscape:()=>(tn.focus(c),$n.close(d),M.some(!0))}))))},QE=(t,s,i,c,d,h,p)=>{const x=ZN(t,i);return m8(t,s,x,i,c,d,p).map(R=>(R.fold(()=>{$n.isOpen(c)&&$n.close(c)},B=>{$n.cloak(c),$n.open(c,B),h(c)}),c))},h8=(t,s,i,c,d,h,p)=>($n.close(c),bi.pure(c)),A4=(t,s,i,c,d,h)=>{const p=Zs.getCoupled(i,"sandbox");return($n.isOpen(p)?h8:QE)(t,s,i,p,c,d,h)},p8=(t,s,i)=>{const c=Xn.getCurrent(s).getOr(s),d=to(t.element);i?b(c.element,"min-width",d+"px"):Un(c.element,d)},jN=(t,s)=>t.getSystem().getByUid(s.uid+"-"+Kr()).map(i=>()=>An.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>An.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),qN=t=>{$n.getState(t).each(s=>{v1.repositionMenus(s)})},O4=(t,s,i)=>{const c=Cx(),d=(x,E)=>{const R=ZN(t,s);c.link(s.element),t.matchWidth&&p8(R.hotspot,E,t.useMinWidth),t.onOpen(R,x,E),i!==void 0&&i.onOpen!==void 0&&i.onOpen(x,E)},h=(x,E)=>{c.unlink(s.element),p().getOr(E).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(x,E)},p=jN(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:ic.augment(t.sandboxBehaviours,[kt.config({store:{mode:"memory",initialValue:s}}),$n.config({onOpen:d,onClose:h,isPartOf:(x,E,R)=>Sf(E,R)||Sf(s,R),getAttachPoint:()=>p().getOrDie()}),Xn.config({find:x=>$n.getState(x).bind(E=>Xn.getCurrent(E))}),Wa.config({channels:{...Jg({isExtraPart:Gn}),...gb({doReposition:qN})}})])}},GN=t=>{const s=Zs.getCoupled(t,"sandbox");qN(s)},D4=()=>[xe("sandboxClasses",[]),ic.field("sandboxBehaviours",[Xn,Wa,$n,kt])],g8=D([je("dom"),je("fetch"),oo("onOpen"),ta("onExecute"),xe("getHotspot",M.some),xe("getAnchorOverrides",D({})),ul(),Rr("dropdownBehaviours",[Nn,Zs,Jt,tn]),je("toggleClass"),xe("eventOrder",{}),bo("lazySink"),xe("matchWidth",!1),xe("useMinWidth",!1),bo("role")].concat(D4())),v8=D([ml({schema:[Ny(),xe("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),WN()]),b8=(t,s,i,c)=>{const d=B=>wt(t.dom,"attributes").bind(F=>wt(F,B)),h=B=>{$n.getState(B).each(F=>{v1.highlightPrimary(F)})},p=(B,F,U)=>A4(t,pn,B,c,F,U),x=B=>{p(B,h,ra.HighlightMenuAndItem).get(ae)},E={expand:B=>{Nn.isOn(B)||p(B,ae,ra.HighlightNone).get(ae)},open:B=>{Nn.isOn(B)||p(B,ae,ra.HighlightMenuAndItem).get(ae)},refetch:B=>Zs.getExistingCoupled(B,"sandbox").fold(()=>p(B,ae,ra.HighlightMenuAndItem).map(ae),U=>QE(t,pn,B,U,c,ae,ra.HighlightMenuAndItem).map(ae)),isOpen:Nn.isOn,close:B=>{Nn.isOn(B)&&p(B,ae,ra.HighlightMenuAndItem).get(ae)},repositionMenus:B=>{Nn.isOn(B)&&GN(B)}},R=(B,F)=>(Tu(B),M.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.dropdownBehaviours,[Nn.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Zs.config({others:{sandbox:B=>O4(t,B,{onOpen:()=>Nn.on(B),onClose:()=>Nn.off(B)})}}),Jt.config({mode:"special",onSpace:R,onEnter:R,onDown:(B,F)=>{if(Ql.isOpen(B)){const U=Zs.getCoupled(B,"sandbox");h(U)}else Ql.open(B);return M.some(!0)},onEscape:(B,F)=>Ql.isOpen(B)?(Ql.close(B),M.some(!0)):M.none()}),tn.config({})]),events:zd(M.some(x)),eventOrder:{...t.eventOrder,[$a()]:["disabling","toggling","alloy.base.behaviour"]},apis:E,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),B=>({role:B})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},Ql=Ti({name:"Dropdown",configFields:g8(),partFields:v8(),factory:b8,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),y8=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},w8=t=>{const s=kt.getValue(t),i=Rp(t).map(DE);Ql.refetch(s).get(()=>{const c=Zs.getCoupled(s,"sandbox");i.each(d=>Rp(c).each(h=>TP(h,d)))})},C8=(t,s)=>{x8(t).each(i=>{gy(t,i.element,s.event.eventType,s.event.interactionEvent)})},x8=t=>$n.getState(t).bind(fo.getHighlighted).bind(fo.getHighlighted),S8=t=>za(t.element,Yb)?M.some(t.element):us(t.element,"."+Yb),KN=(t,s,i)=>{_P(t).each(c=>{VH(c,i),S8(s).each(h=>{Xs(h,"id").each(p=>Et(c.element,"aria-controls",p))})}),Et(i.element,"aria-selected","true")},E8=(t,s,i)=>{Et(i.element,"aria-selected","false")},_8=t=>{_P(t).each(s=>tn.focus(s))},XN=t=>Zs.getExistingCoupled(t,"sandbox").bind(Rp).map(DE).map(i=>i.fetchPattern).getOr("");var e_;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(e_||(e_={}));const YN=(t,s,i,c,d)=>{const h=i.shared.providers,p=x=>d?{...x,shortcut:M.none(),icon:x.text.isSome()?M.none():x.icon}:x;switch(t.type){case"menuitem":return KP(t).fold(ah,x=>M.some(t8(p(x),s,h,c)));case"nestedmenuitem":return f7(t).fold(ah,x=>M.some(n8(p(x),s,h,c,d)));case"togglemenuitem":return h7(t).fold(ah,x=>M.some(o8(p(x),s,h,c)));case"separator":return FP(t).fold(ah,x=>M.some(T4(x)));case"fancymenuitem":return u7(t).fold(ah,x=>s8(x,i));default:return console.error("Unknown item in general menu",t),M.none()}},T8=(t,s,i,c,d,h,p)=>{const x=c===1,E=!x||vC(t);return Ir(Ze(t,R=>{switch(R.type){case"separator":return HP(R).fold(ah,B=>M.some(T4(B)));case"cardmenuitem":return a7(R).fold(ah,B=>M.some(r8({...B,onAction:F=>{B.onAction(F),i(B.value,B.meta)}},d,h,{itemBehaviours:VE(B.meta,h,M.none()),cardText:{matchText:s,highlightOn:p}})));case"autocompleteitem":default:return KH(R).fold(ah,B=>M.some(JE(B,s,x,"normal",i,d,h,E)))}}))},JN=(t,s,i,c,d,h)=>{const p=vC(s),x=Ir(Ze(s,B=>{const F=j=>d?!io(j,"text"):p,U=j=>YN(j,i,c,F(j),d);return B.type==="nestedmenuitem"&&B.getSubmenuItems().length<=0?U({...B,enabled:!1}):U(B)})),E=y8(h);return(d?MP:S1)(t,p,x,1,E)},R4=t=>v1.singleData(t.value,t),QN=(t,s,i,c)=>{const d=c0(s,c),h=C1(c);return{data:R4({...t,movement:d,menuBehaviours:CC.unnamedEvents(s!=="auto"?[]:[gs((p,x)=>{n4(p,4,h.item).each(({numColumns:E,numRows:R})=>{Jt.setGridSize(p,R,E)})})])}),menu:{markers:C1(c),fakeFocus:i===e_.ContentFocus}}},k8=t=>Nd.create(be.fromDom(t.startContainer),t.startOffset,be.fromDom(t.endContainer),t.endOffset),A8={register:(t,s)=>{const i=Nt("autocompleter"),c=Xt(!1),d=Xt(!1),h=ts(),p=Wr(Ds.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:at([On("dismissAutocompleter",[Ie(_u(),()=>F()),Ie(Wh(),(ue,ye)=>{Xs(ye.event.target,"id").each(me=>Et(be.fromDom(t.getBody()),"aria-activedescendant",me))})])]),lazySink:s.getSink})),x=()=>Ds.isOpen(p),E=d.get,R=()=>{if(x()){Ds.hide(p),t.dom.remove(i,!1);const ue=be.fromDom(t.getBody());Xs(ue,"aria-owns").filter(ye=>ye===i).each(()=>{bs(ue,"aria-owns"),bs(ue,"aria-activedescendant")})}},B=()=>Ds.getContent(p).bind(ue=>Ko(ue.components(),0)),F=()=>t.execCommand("mceAutocompleterClose"),U=ue=>{const ye=hr(ue,me=>M.from(me.columns)).getOr(1);return Ae(ue,me=>{const We=me.items;return T8(We,me.matchText,(ze,Ye)=>{const pt={hide:()=>F(),reload:$e=>{R(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:$e})}};t.execCommand("mceAutocompleterRefreshActiveRange"),h.get().each($e=>{c.set(!0),me.onAction(pt,$e,ze,Ye),c.set(!1)})},ye,Wd.BUBBLE_TO_SANDBOX,s,me.highlightOn)})},j=(ue,ye)=>{const me=hr(ue,We=>M.from(We.columns)).getOr(1);Ds.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>h.get().map(k8),root:be.fromDom(t.getBody())}},QN(S1("autocompleter-value",!0,ye,me,{menuType:"normal"}),me,e_.ContentFocus,"normal")),B().each(fo.highlightFirst)},X=ue=>{const ye=U(ue);ye.length>0?(j(ue,ye),Et(be.fromDom(t.getBody()),"aria-owns",i),t.inline||oe()):R()},oe=()=>{t.dom.get(i)&&t.dom.remove(i,!1);const ue=t.getDoc().documentElement,ye=t.selection.getNode(),me=Rv(p.element);_(me,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ye.offsetTop}px`,left:`${ye.offsetLeft}px`}),t.dom.add(ue,me.dom),us(me,'[role="menu"]').each(We=>{se(We,"position"),se(We,"max-height")})};t.on("AutocompleterStart",({lookupData:ue})=>{d.set(!0),c.set(!1),X(ue)}),t.on("AutocompleterUpdate",({lookupData:ue})=>X(ue)),t.on("AutocompleterUpdateActiveRange",({range:ue})=>h.set(ue)),t.on("AutocompleterEnd",()=>{R(),d.set(!1),c.set(!1),h.clear()});const Se={cancelIfNecessary:F,isMenuOpen:x,isActive:E,isProcessingAction:c.get,getMenu:B};MH.setup(Se,t)}},O8=["visible","hidden","clip"],M4=t=>Vc(t).length>0&&!Uo(O8,t),eB=t=>{if(af(t)){const s=I(t,"overflow-x"),i=I(t,"overflow-y");return M4(s)||M4(i)}else return!1},tB=t=>{const s=pS(t,eB),i=s.length===0?ng(t).map(tc).map(c=>pS(c,eB)).getOr([]):s;return ln(i).map(c=>({element:c,others:i.slice(1)}))},M1=(t,s)=>Dp(t)?tB(s):M.none(),P1=t=>{const s=[...Ze(t.others,Ps),Li()];return XT(Ps(t.element),s)},MC=(t,s,i)=>Hl(t,s,i).isSome(),nB=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...h)=>{i=setTimeout(()=>{t.apply(null,h),i=null},s)}}},oB=5,D8=400,sB=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?M.none():M.some(s.touches[0])},R8=(t,s)=>{const i=Math.abs(t.clientX-s.x),c=Math.abs(t.clientY-s.y);return i>oB||c>oB},M8=t=>{const s=ts(),i=Xt(!1),c=nB(R=>{t.triggerEvent(Or(),R),i.set(!0)},D8),d=R=>(sB(R).each(B=>{c.cancel();const F={x:B.clientX,y:B.clientY,target:R.target};c.schedule(R),i.set(!1),s.set(F)}),M.none()),h=R=>(c.cancel(),sB(R).each(B=>{s.on(F=>{R8(B,F)&&s.clear()})}),M.none()),p=R=>{c.cancel();const B=F=>uo(F.target,R.target);return s.get().filter(B).map(F=>i.get()?(R.prevent(),!1):t.triggerEvent(ea(),R))},x=Fh([{key:yu(),value:d},{key:Sv(),value:h},{key:wu(),value:p}]);return{fireIfReady:(R,B)=>wt(x,B).bind(F=>F(R))}},P8=t=>t.raw.which===Nb[0]&&!Uo(["input","textarea"],Hs(t.target))&&!MC(t.target,'[contenteditable="true"]'),N8=(t,s)=>{const i={stopBackspace:!0,...s},c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=M8(i),h=Ze(c.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),j=>gi(t,j,X=>{d.fireIfReady(X,j).each(Se=>{Se&&X.kill()}),i.triggerEvent(j,X)&&X.kill()})),p=ts(),x=gi(t,"paste",j=>{d.fireIfReady(j,"paste").each(oe=>{oe&&j.kill()}),i.triggerEvent("paste",j)&&j.kill(),p.set(setTimeout(()=>{i.triggerEvent(mg(),j)},0))}),E=gi(t,"keydown",j=>{i.triggerEvent("keydown",j)?j.kill():i.stopBackspace&&P8(j)&&j.prevent()}),R=gi(t,"focusin",j=>{i.triggerEvent("focusin",j)&&j.kill()}),B=ts(),F=gi(t,"focusout",j=>{i.triggerEvent("focusout",j)&&j.kill(),B.set(setTimeout(()=>{i.triggerEvent(Cm(),j)},0))});return{unbind:()=>{Tt(h,j=>{j.unbind()}),E.unbind(),R.unbind(),F.unbind(),x.unbind(),p.on(clearTimeout),B.on(clearTimeout)}}},rB=(t,s)=>{const i=wt(t,"target").getOr(s);return Xt(i)},B8=(t,s)=>{const i=Xt(!1),c=Xt(!1);return{stop:()=>{i.set(!0)},cut:()=>{c.set(!0)},isStopped:i.get,isCut:c.get,event:t,setSource:s.set,getSource:s.get}},I8=t=>{const s=Xt(!1);return{stop:()=>{s.set(!0)},cut:ae,isStopped:s.get,isCut:Gn,event:t,setSource:le("Cannot set source of a broadcasted event"),getSource:le("Cannot get source of a broadcasted event")}},PC=Il.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),P4=(t,s,i,c,d,h)=>{const p=t(s,c),x=B8(i,d);return p.fold(()=>(h.logEventNoHandlers(s,c),PC.complete()),E=>{const R=E.descHandler;return Kh(R)(x),x.isStopped()?(h.logEventStopped(s,E.element,R.purpose),PC.stopped()):x.isCut()?(h.logEventCut(s,E.element,R.purpose),PC.complete()):Ja(E.element).fold(()=>(h.logNoParent(s,E.element,R.purpose),PC.complete()),F=>(h.logEventResponse(s,E.element,R.purpose),PC.resume(F)))})},iB=(t,s,i,c,d,h)=>P4(t,s,i,c,d,h).fold(Zt,p=>iB(t,s,i,p,d,h),Gn),L8=(t,s,i,c,d)=>{const h=rB(i,c);return P4(t,s,i,c,h,d)},$8=(t,s,i)=>{const c=I8(s);return Tt(t,d=>{const h=d.descHandler;Kh(h)(c)}),c.isStopped()},F8=(t,s,i,c)=>aB(t,s,i,i.target,c),aB=(t,s,i,c,d)=>{const h=rB(i,c);return iB(t,s,i,c,h,d)},N4=(t,s)=>({element:t,descHandler:s}),H8=(t,s)=>({id:t,descHandler:s}),z8=()=>{const t={},s=(p,x,E)=>{ar(E,(R,B)=>{const F=t[B]!==void 0?t[B]:{};F[x]=_y(R,p),t[B]=F})},i=(p,x)=>Rm(x).bind(E=>wt(p,E)).map(E=>N4(x,E));return{registerId:s,unregisterId:p=>{ar(t,(x,E)=>{io(x,p)&&delete x[p]})},filterByType:p=>wt(t,p).map(x=>rf(x,(E,R)=>H8(R,E))).getOr([]),find:(p,x,E)=>wt(t,x).bind(R=>wm(E,B=>i(R,B),p))}},V8=()=>{const t=z8(),s={},i=R=>{const B=R.element;return Rm(B).getOrThunk(()=>uk("uid-",R.element))},c=(R,B)=>{const F=s[B];if(F===R)h(R);else throw new Error('The tagId "'+B+'" is already used by: '+Au(F.element)+`
Cannot use it for: `+Au(R.element)+`
The conflicting element is`+(cr(F.element)?" ":" not ")+"already in the DOM")},d=R=>{const B=i(R);pa(s,B)&&c(R,B);const F=[R];t.registerId(F,B,R.events),s[B]=R},h=R=>{Rm(R.element).each(B=>{delete s[B],t.unregisterId(B)})};return{find:(R,B,F)=>t.find(R,B,F),filter:R=>t.filterByType(R),register:d,unregister:h,getById:R=>wt(s,R)}},Ku=Cr({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:$d(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[xe("components",[]),Rr("containerBehaviours",[]),xe("events",{}),xe("domModification",{}),xe("eventOrder",{})]}),B4=t=>{const s=ue=>Ja(t.element).fold(Zt,ye=>uo(ue,ye)),i=V8(),c=(ue,ye)=>i.find(s,ue,ye),d=N8(t.element,{triggerEvent:(ue,ye)=>Wv(ue,ye.target,me=>F8(c,ue,ye,me))}),h={debugInfo:D("real"),triggerEvent:(ue,ye,me)=>{Wv(ue,ye,We=>aB(c,ue,me,ye,We))},triggerFocus:(ue,ye)=>{Rm(ue).fold(()=>{_c(ue)},me=>{Wv(Su(),ue,We=>(L8(c,Su(),{originator:ye,kill:ae,prevent:ae,target:ue},ue,We),!1))})},triggerEscape:(ue,ye)=>{h.triggerEvent("keydown",ue.element,ye.event)},getByUid:ue=>oe(ue),getByDom:ue=>Se(ue),build:Wr,buildOrPatch:Ta,addToGui:ue=>{E(ue)},removeFromGui:ue=>{R(ue)},addToWorld:ue=>{p(ue)},removeFromWorld:ue=>{x(ue)},broadcast:ue=>{U(ue)},broadcastOn:(ue,ye)=>{j(ue,ye)},broadcastEvent:(ue,ye)=>{X(ue,ye)},isConnected:Zt},p=ue=>{ue.connect(h),Ni(ue.element)||(i.register(ue),Tt(ue.components(),p),h.triggerEvent(kv(),ue.element,{target:ue.element}))},x=ue=>{Ni(ue.element)||(Tt(ue.components(),x),i.unregister(ue)),ue.disconnect()},E=ue=>{Vl(t,ue)},R=ue=>{$u(ue)},B=()=>{d.unbind(),Xc(t.element)},F=ue=>{const ye=i.filter(Eu());Tt(ye,me=>{const We=me.descHandler;Kh(We)(ue)})},U=ue=>{F({universal:!0,data:ue})},j=(ue,ye)=>{F({universal:!1,channels:ue,data:ye})},X=(ue,ye)=>{const me=i.filter(ue);return $8(me,ye)},oe=ue=>i.getById(ue).fold(()=>An.error(new Error('Could not find component with uid: "'+ue+'" in system.')),An.value),Se=ue=>{const ye=Rm(ue).getOr("not found");return oe(ye)};return p(t),{root:t,element:t.element,destroy:B,add:E,remove:R,getByUid:oe,getByDom:Se,addToWorld:p,removeFromWorld:x,broadcast:U,broadcastOn:j,broadcastEvent:X}},W8=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ze(t.items,s.interpreter)}),cB=D([xe("prefix","form-field"),Rr("fieldBehaviours",[Xn,kt])]),Z8=D([Za({schema:[je("dom")],name:"label"}),Za({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[je("text")],name:"aria-descriptor"}),Ao({factory:{sketch:t=>{const s=ek(t,["factory"]);return t.factory.sketch(s)}},schema:[je("factory")],name:"field"})]),j8=(t,s,i,c)=>{const d=Mr(t.fieldBehaviours,[Xn.config({find:x=>Ro(x,t,"field")}),kt.config({store:{mode:"manual",getValue:x=>Xn.getCurrent(x).bind(kt.getValue),setValue:(x,E)=>{Xn.getCurrent(x).each(R=>{kt.setValue(R,E)})}}})]),h=Qo([gs((x,E)=>{const R=Pw(x,t,["label","field","aria-descriptor"]);R.field().each(B=>{const F=Nt(t.prefix);R.label().each(U=>{Et(U.element,"for",F),Et(B.element,"id",F)}),R["aria-descriptor"]().each(U=>{const j=Nt(t.prefix);Et(U.element,"id",j),Et(B.element,"aria-describedby",j)})})})]),p={getField:x=>Ro(x,t,"field"),getLabel:x=>Ro(x,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:h,apis:p}},Eo=Ti({name:"FormField",configFields:cB(),partFields:Z8(),factory:j8,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var q8=Object.freeze({__proto__:null,exhibit:(t,s)=>Dr({attributes:Fh([{key:s.tabAttr,value:"true"}])})}),G8=[xe("tabAttr","data-alloy-tabstop")];const fs=qr({fields:G8,name:"tabstopping",active:q8});var K8=tinymce.util.Tools.resolve("tinymce.html.Entities");const Np=(t,s,i,c)=>{const d=Y8(t,s,i,c);return Eo.sketch(d)},X8=(t,s)=>Np(t,s,[],[]),Y8=(t,s,i,c)=>({dom:lB(i),components:t.toArray().concat([s]),fieldBehaviours:at(c)}),J8=()=>lB([]),lB=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),N1=(t,s)=>Eo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vs(s.translate(t))]}),Ra=Nt("form-component-change"),Ff=Nt("form-close"),lh=Nt("form-cancel"),Gd=Nt("form-action"),NC=Nt("form-submit"),I4=Nt("form-block"),L4=Nt("form-unblock"),uB=Nt("form-tabchange"),dB=Nt("form-resize"),Q8=(t,s,i)=>{const c=t.label.map(j=>N1(j,s)),d=s.icons(),h=j=>{var X;return(X=d[j])!==null&&X!==void 0?X:j},p=j=>(X,oe)=>{Hl(oe.event.target,"[data-collection-item-value]").each(Se=>{j(X,oe,Se,Ss(Se,"data-collection-item-value"))})},x=(j,X)=>{const oe=Ze(X,ye=>{const me=vl.translate(ye.text),We=t.columns===1?`<div class="tox-collection__item-label">${me}</div>`:"",ze=`<div class="tox-collection__item-icon">${h(ye.icon)}</div>`,Ye={_:" "," - ":" ","-":" "},pt=me.replace(/\_| \- |\-/g,yn=>Ye[yn]),$e=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${pt}" class="tox-collection__item${$e}" tabindex="-1" data-collection-item-value="${K8.encodeAllRaw(ye.value)}" aria-label="${pt}">${ze}${We}</div>`}),Se=t.columns!=="auto"&&t.columns>1?Fs(oe,t.columns):[oe],ue=Ze(Se,ye=>`<div class="tox-collection__group">${ye.join("")}</div>`);Sd(j.element,ue.join(""))},E=p((j,X,oe,Se)=>{X.stop(),s.isDisabled()||Gt(j,Gd,{name:t.name,value:Se})}),R=[Ie(Cu(),p((j,X,oe)=>{_c(oe)})),Ie(yf(),E),Ie(ea(),E),Ie(el(),p((j,X,oe)=>{us(j.element,"."+w1).each(Se=>{Os(Se,w1)}),Ts(oe,w1)})),Ie(Vh(),p(j=>{us(j.element,"."+w1).each(X=>{Os(X,w1),Xv(X)})})),Fl(p((j,X,oe,Se)=>{Gt(j,Gd,{name:t.name,value:Se})}))],B=(j,X)=>Ze(na(j.element,".tox-collection__item"),X),F=Eo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:pn},behaviours:at([fn.config({disabled:s.isDisabled,onDisabled:j=>{B(j,X=>{Ts(X,"tox-collection__item--state-disabled"),Et(X,"aria-disabled",!0)})},onEnabled:j=>{B(j,X=>{Os(X,"tox-collection__item--state-disabled"),bs(X,"aria-disabled")})}}),Gr(),Tn.config({}),Ai.config({...s.tooltips.getConfig({tooltipText:"",onShow:j=>{us(j.element,"."+w1+"[data-mce-tooltip]").each(X=>{Xs(X,"data-mce-tooltip").each(oe=>{Ai.setComponents(j,s.tooltips.getComponents({tooltipText:oe}))})})}}),mode:"children-keyboard-focus",anchor:j=>({type:"node",node:us(j.element,"."+w1).orThunk(()=>wx(".tox-collection__item")),root:j.element,layouts:{onLtr:D([Ws,jr,dr,es,or,yr]),onRtl:D([Ws,jr,dr,es,or,yr])},bubble:ll(0,-2,{})})}),kt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(j,X)=>{x(j,X),t.columns==="auto"&&n4(j,5,"tox-collection__item").each(({numRows:oe,numColumns:Se})=>{Jt.setGridSize(j,oe,Se)}),Mn(j,dB)}}),fs.config({}),Jt.config(Z7(t.columns,"normal")),On("collection-events",R)]),eventOrder:{[$a()]:["disabling","alloy.base.behaviour","collection-events"],[el()]:["collection-events","tooltipping"]}});return Np(c,F,["tox-form__group--collection"],[])},ez=["input","textarea"],fB=t=>{const s=Hs(t);return Uo(ez,s)},mB=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Os(i,s.invalidClass),s.notify.each(c=>{fB(t.element)&&Et(t.element,"aria-invalid",!1),c.getContainer(t).each(d=>{Sd(d,c.validHtml)}),c.onValid(t)})},hB=(t,s,i,c)=>{const d=s.getRoot(t).getOr(t.element);Ts(d,s.invalidClass),s.notify.each(h=>{fB(t.element)&&Et(t.element,"aria-invalid",!0),h.getContainer(t).each(p=>{Sd(p,c)}),h.onInvalid(t,c)})},pB=(t,s,i)=>s.validator.fold(()=>bi.pure(An.value(!0)),c=>c.validate(t)),t_=(t,s,i)=>(s.notify.each(c=>{c.onValidate(t)}),pB(t,s).map(c=>t.getSystem().isConnected()?c.fold(d=>(hB(t,s,i,d),An.error(d)),d=>(mB(t,s),An.value(d))):An.error("No longer in system")));var B1=Object.freeze({__proto__:null,markValid:mB,markInvalid:hB,query:pB,run:t_,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return za(i,s.invalidClass)}}),gB=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>Qo([Ie(i.onEvent,c=>{t_(c,t,s).get(pn)})].concat(i.validateOnLoad?[gs(c=>{t_(c,t,s).get(ae)})]:[]))).getOr({})}),vB=[je("invalidClass"),xe("getRoot",M.none),Ea("notify",[xe("aria","alert"),xe("getContainer",M.none),xe("validHtml",""),oo("onValid"),oo("onInvalid"),oo("onValidate")]),Ea("validator",[je("validate"),xe("onEvent","input"),xe("validateOnLoad",!0)])];const eu=qr({fields:vB,name:"invalidating",active:gB,apis:B1,extra:{validation:t=>s=>{const i=kt.getValue(s);return bi.pure(t(i))}}});var IC=Object.freeze({__proto__:null,events:()=>Qo([rx(sk(),Zt)]),exhibit:()=>Dr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const LC=qr({fields:[],name:"unselecting",active:IC}),tz=(t,s)=>Ql.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:at([ju.button(s.providers.isDisabled),Gr(),LC.config({}),fs.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>bi.nu(c=>t.fetch(c)).map(c=>M.from(R4(Yo(YE(Nt("menu-value"),c,d=>{t.onItemAction(i,d)},t.columns,t.presets,Wd.CLOSE_ON_EXECUTE,Gn,s.providers),{movement:c0(t.columns,t.presets)})))),parts:{menu:pC(!1,1,t.presets)}}),bB=Nt("color-input-change"),yB=Nt("color-swatch-change"),wB=Nt("color-picker-cancel"),nz=(t,s,i,c)=>{const d=Eo.parts.field({factory:x1,inputClasses:["tox-textfield"],data:c,onSetValue:R=>eu.run(R).get(ae),inputBehaviours:at([fn.config({disabled:s.providers.isDisabled}),Gr(),fs.config({}),eu.config({invalidClass:"tox-textbox-field-invalid",getRoot:R=>Qa(R.element),notify:{onValid:R=>{const B=kt.getValue(R);Gt(R,bB,{color:B})}},validator:{validateOnLoad:!1,validate:R=>{const B=kt.getValue(R);if(B.length===0)return bi.pure(An.value(!0));{const F=be.fromTag("span");b(F,"background-color",B);const U=Z(F,"background-color").fold(()=>An.error("blah"),j=>An.value(B));return bi.pure(U)}}}})]),selectOnFocus:!1}),h=t.label.map(R=>N1(R,s.providers)),p=(R,B)=>{Gt(R,yB,{value:B})},x=(R,B)=>{E.getOpt(R).each(F=>{B==="custom"?i.colorPicker(U=>{U.fold(()=>Mn(F,wB),j=>{p(F,j),qE(t.storageKey,j)})},"#ffffff"):B==="remove"?p(F,""):p(F,B)})},E=So(tz({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[or,dr,Ws],onLtr:()=>[dr,or,Ws]},components:[],fetch:w4(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:x},s));return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:h.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,E.asSpec()]}]),fieldBehaviours:at([On("form-field-events",[Ie(bB,(R,B)=>{E.getOpt(R).each(F=>{b(F.element,"background-color",B.event.color)}),Gt(R,Ra,{name:t.name})}),Ie(yB,(R,B)=>{Eo.getField(R).each(F=>{kt.setValue(F,B.event.value),Xn.getCurrent(R).each(tn.focus)})}),Ie(wB,(R,B)=>{Eo.getField(R).each(F=>{Xn.getCurrent(R).each(tn.focus)})})])])})},o_=Za({schema:[je("dom")],name:"label"}),Bp=t=>Za({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),c=>({events:Qo([yy(yu(),(d,h,p)=>c(d,p),[s]),yy(_a(),(d,h,p)=>c(d,p),[s]),yy(dg(),(d,h,p)=>{p.mouseIsDown.get()&&c(d,p)},[s])])}))}),$4=Bp("top-left"),oz=Bp("top"),sz=Bp("top-right"),rz=Bp("right"),CB=Bp("bottom-right"),iz=Bp("bottom"),az=Bp("bottom-left"),cz=Bp("left"),xB=Ao({name:"thumb",defaults:D({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Qo([xd(yu(),t,"spectrum"),xd(Sv(),t,"spectrum"),xd(wu(),t,"spectrum"),xd(_a(),t,"spectrum"),xd(dg(),t,"spectrum"),xd(dy(),t,"spectrum")])})}),s_=t=>Qm(t.event),lz=Ao({schema:[Ke("mouseIsDown",()=>Xt(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,c=(d,h)=>i.getValueFromEvent(h).map(p=>i.setValueFrom(d,t,p));return{behaviours:at([Jt.config({mode:"special",onLeft:(d,h)=>i.onLeft(d,t,s_(h)),onRight:(d,h)=>i.onRight(d,t,s_(h)),onUp:(d,h)=>i.onUp(d,t,s_(h)),onDown:(d,h)=>i.onDown(d,t,s_(h))}),fs.config({}),tn.config({})]),events:Qo([Ie(yu(),c),Ie(Sv(),c),Ie(_a(),c),Ie(dg(),(d,h)=>{t.mouseIsDown.get()&&c(d,h)})])}}});var uz=[o_,cz,rz,oz,iz,$4,sz,az,CB,xB,lz];const $C=D("slider.change.value"),SB=t=>t.type.indexOf("touch")!==-1,r_=t=>{const s=t.event.raw;if(SB(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?M.some(i.touches[0]).map(c=>vn(c.clientX,c.clientY)):M.none()}else{const i=s;return i.clientX!==void 0?M.some(i).map(c=>vn(c.clientX,c.clientY)):M.none()}},dz="top",fz="right",mz="bottom",hz="left",I1=t=>t.model.minX,Ip=t=>t.model.minY,uh=t=>t.model.minX-1,i_=t=>t.model.minY-1,L1=t=>t.model.maxX,$1=t=>t.model.maxY,F1=t=>t.model.maxX+1,ac=t=>t.model.maxY+1,a_=(t,s,i)=>s(t)-i(t),c_=t=>a_(t,L1,I1),F4=t=>a_(t,$1,Ip),EB=t=>c_(t)/2,_B=t=>F4(t)/2,l0=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,H4=t=>t.snapToGrid,z4=t=>t.snapStart,TB=t=>t.rounded,l_=(t,s)=>t[s+"-edge"]!==void 0,V4=t=>l_(t,hz),kB=t=>l_(t,fz),U4=t=>l_(t,dz),W4=t=>l_(t,mz),Hf=t=>t.model.value.get(),Lp=(t,s)=>({x:t,y:s}),Xu=(t,s)=>{Gt(t,$C(),{value:s})},pz=(t,s)=>{Xu(t,Lp(uh(s),i_(s)))},gz=(t,s)=>{Xu(t,i_(s))},vz=(t,s)=>{Xu(t,Lp(EB(s),i_(s)))},bz=(t,s)=>{Xu(t,Lp(F1(s),i_(s)))},Z4=(t,s)=>{Xu(t,F1(s))},yz=(t,s)=>{Xu(t,Lp(F1(s),_B(s)))},AB=(t,s)=>{Xu(t,Lp(F1(s),ac(s)))},wz=(t,s)=>{Xu(t,ac(s))},Cz=(t,s)=>{Xu(t,Lp(EB(s),ac(s)))},xz=(t,s)=>{Xu(t,Lp(uh(s),ac(s)))},Sz=(t,s)=>{Xu(t,uh(s))},Ez=(t,s)=>{Xu(t,Lp(uh(s),_B(s)))},j4=(t,s,i,c)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-c),q4=(t,s,i,c)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+c),G4=(t,s,i)=>Math.max(s,Math.min(i,t)),OB=(t,s,i,c,d)=>d.fold(()=>{const h=t-s,p=Math.round(h/c)*c;return G4(s+p,s-1,i+1)},h=>{const p=(t-h)%c,x=Math.round(p/c),E=Math.floor((t-h)/c),R=Math.floor((i-h)/c),B=Math.min(R,E+x),F=h+B*c;return Math.max(h,F)}),_z=(t,s,i)=>Math.min(i,Math.max(t,s))-s,DB=t=>{const{min:s,max:i,range:c,value:d,step:h,snap:p,snapStart:x,rounded:E,hasMinEdge:R,hasMaxEdge:B,minBound:F,maxBound:U,screenRange:j}=t,X=R?s-1:s,oe=B?i+1:i;if(d<F)return X;if(d>U)return oe;{const Se=_z(d,F,U),ue=G4(Se/j*c+s,X,oe);return p&&ue>=s&&ue<=i?OB(ue,s,i,h,x):E?Math.round(ue):ue}},RB=t=>{const{min:s,max:i,range:c,value:d,hasMinEdge:h,hasMaxEdge:p,maxBound:x,maxOffset:E,centerMinEdge:R,centerMaxEdge:B}=t;return d<s?h?0:R:d>i?p?x:B:(d-s)/c*E},K4="top",MB="right",PB="bottom",u_="left",NB="width",BB="height",Yu=t=>t.element.dom.getBoundingClientRect(),Ju=(t,s)=>t[s],FC=t=>{const s=Yu(t);return Ju(s,u_)},IB=t=>{const s=Yu(t);return Ju(s,MB)},d_=t=>{const s=Yu(t);return Ju(s,K4)},LB=t=>{const s=Yu(t);return Ju(s,PB)},$B=t=>{const s=Yu(t);return Ju(s,NB)},f_=t=>{const s=Yu(t);return Ju(s,BB)},zf=(t,s,i)=>(t+s)/2-i,FB=(t,s)=>{const i=Yu(t),c=Yu(s),d=Ju(i,u_),h=Ju(i,MB),p=Ju(c,u_);return zf(d,h,p)},u0=(t,s)=>{const i=Yu(t),c=Yu(s),d=Ju(i,K4),h=Ju(i,PB),p=Ju(c,K4);return zf(d,h,p)},m_=(t,s)=>{Gt(t,$C(),{value:s})},HC=(t,s,i)=>{const c={min:I1(s),max:L1(s),range:c_(s),value:i,step:l0(s),snap:H4(s),snapStart:z4(s),rounded:TB(s),hasMinEdge:V4(s),hasMaxEdge:kB(s),minBound:FC(t),maxBound:IB(t),screenRange:$B(t)};return DB(c)},Tz=(t,s,i)=>{const c=HC(t,s,i);return m_(t,c),c},kz=(t,s)=>{const i=I1(s);m_(t,i)},Az=(t,s)=>{const i=L1(s);m_(t,i)},HB=(t,s,i,c)=>{const h=(t>0?q4:j4)(Hf(i),I1(i),L1(i),l0(i,c));return m_(s,h),M.some(h)},zB=t=>(s,i,c)=>HB(t,s,i,c).map(Zt),X4=t=>r_(t).map(i=>i.left),Y4=(t,s,i,c,d)=>{const p=$B(t),x=c.bind(B=>M.some(FB(B,t))).getOr(0),E=d.bind(B=>M.some(FB(B,t))).getOr(p),R={min:I1(s),max:L1(s),range:c_(s),value:i,hasMinEdge:V4(s),hasMaxEdge:kB(s),minBound:FC(t),minOffset:0,maxBound:IB(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:E};return RB(R)},zC=(t,s,i,c,d,h)=>{const p=Y4(s,h,i,c,d);return FC(s)-FC(t)+p},Oz=(t,s,i,c)=>{const d=Hf(i),h=zC(t,c.getSpectrum(t),d,c.getLeftEdge(t),c.getRightEdge(t),i),p=to(s.element)/2;b(s.element,"left",h-p+"px")},bl=zB(-1),Dz=zB(1),Rz=M.none,VB=M.none,UB={"top-left":M.none(),top:M.none(),"top-right":M.none(),right:M.some(Z4),"bottom-right":M.none(),bottom:M.none(),"bottom-left":M.none(),left:M.some(Sz)};var Mz=Object.freeze({__proto__:null,setValueFrom:Tz,setToMin:kz,setToMax:Az,findValueOfOffset:HC,getValueFromEvent:X4,findPositionOfValue:zC,setPositionFromValue:Oz,onLeft:bl,onRight:Dz,onUp:Rz,onDown:VB,edgeActions:UB});const h_=(t,s)=>{Gt(t,$C(),{value:s})},J4=(t,s,i)=>{const c={min:Ip(s),max:$1(s),range:F4(s),value:i,step:l0(s),snap:H4(s),snapStart:z4(s),rounded:TB(s),hasMinEdge:U4(s),hasMaxEdge:W4(s),minBound:d_(t),maxBound:LB(t),screenRange:f_(t)};return DB(c)},Pz=(t,s,i)=>{const c=J4(t,s,i);return h_(t,c),c},Nz=(t,s)=>{const i=Ip(s);h_(t,i)},Bz=(t,s)=>{const i=$1(s);h_(t,i)},Iz=(t,s,i,c)=>{const h=(t>0?q4:j4)(Hf(i),Ip(i),$1(i),l0(i,c));return h_(s,h),M.some(h)},Q4=t=>(s,i,c)=>Iz(t,s,i,c).map(Zt),Lz=t=>r_(t).map(i=>i.top),$z=(t,s,i,c,d)=>{const p=f_(t),x=c.bind(B=>M.some(u0(B,t))).getOr(0),E=d.bind(B=>M.some(u0(B,t))).getOr(p),R={min:Ip(s),max:$1(s),range:F4(s),value:i,hasMinEdge:U4(s),hasMaxEdge:W4(s),minBound:d_(t),minOffset:0,maxBound:LB(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:E};return RB(R)},e3=(t,s,i,c,d,h)=>{const p=$z(s,h,i,c,d);return d_(s)-d_(t)+p},WB=(t,s,i,c)=>{const d=Hf(i),h=e3(t,c.getSpectrum(t),d,c.getTopEdge(t),c.getBottomEdge(t),i),p=Pe(s.element)/2;b(s.element,"top",h-p+"px")},t3=M.none,Fz=M.none,n3=Q4(-1),d0=Q4(1),ZB={"top-left":M.none(),top:M.some(gz),"top-right":M.none(),right:M.none(),"bottom-right":M.none(),bottom:M.some(wz),"bottom-left":M.none(),left:M.none()};var jB=Object.freeze({__proto__:null,setValueFrom:Pz,setToMin:Nz,setToMax:Bz,findValueOfOffset:J4,getValueFromEvent:Lz,findPositionOfValue:e3,setPositionFromValue:WB,onLeft:t3,onRight:Fz,onUp:n3,onDown:d0,edgeActions:ZB});const VC=(t,s)=>{Gt(t,$C(),{value:s})},p_=(t,s)=>({x:t,y:s}),Hz=(t,s,i)=>{const c=HC(t,s,i.left),d=J4(t,s,i.top),h=p_(c,d);return VC(t,h),h},g_=(t,s,i,c,d)=>{const h=t>0?q4:j4,p=s?Hf(c).x:h(Hf(c).x,I1(c),L1(c),l0(c,d)),x=s?h(Hf(c).y,Ip(c),$1(c),l0(c,d)):Hf(c).y;return VC(i,p_(p,x)),M.some(p)},v_=(t,s)=>(i,c,d)=>g_(t,s,i,c,d).map(Zt),zz=(t,s)=>{const i=I1(s),c=Ip(s);VC(t,p_(i,c))},qB=(t,s)=>{const i=L1(s),c=$1(s);VC(t,p_(i,c))},GB=t=>r_(t),o3=(t,s,i,c)=>{const d=Hf(i),h=zC(t,c.getSpectrum(t),d.x,c.getLeftEdge(t),c.getRightEdge(t),i),p=e3(t,c.getSpectrum(t),d.y,c.getTopEdge(t),c.getBottomEdge(t),i),x=to(s.element)/2,E=Pe(s.element)/2;b(s.element,"left",h-x+"px"),b(s.element,"top",p-E+"px")},KB=v_(-1,!1),qa=v_(1,!1),XB=v_(-1,!0),Vz=v_(1,!0),Uz={"top-left":M.some(pz),top:M.some(vz),"top-right":M.some(bz),right:M.some(yz),"bottom-right":M.some(AB),bottom:M.some(Cz),"bottom-left":M.some(xz),left:M.some(Ez)};var YB=Object.freeze({__proto__:null,setValueFrom:Hz,setToMin:zz,setToMax:qB,getValueFromEvent:GB,setPositionFromValue:o3,onLeft:KB,onRight:qa,onUp:XB,onDown:Vz,edgeActions:Uz});const Wz=[xe("stepSize",1),xe("speedMultiplier",10),xe("onChange",ae),xe("onChoose",ae),xe("onInit",ae),xe("onDragStart",ae),xe("onDragEnd",ae),xe("snapToGrid",!1),xe("rounded",!0),bo("snapStart"),ei("model",br("mode",{x:[xe("minX",0),xe("maxX",100),Ke("value",t=>Xt(t.mode.minX)),je("getInitialValue"),ds("manager",Mz)],y:[xe("minY",0),xe("maxY",100),Ke("value",t=>Xt(t.mode.minY)),je("getInitialValue"),ds("manager",jB)],xy:[xe("minX",0),xe("maxX",100),xe("minY",0),xe("maxY",100),Ke("value",t=>Xt({x:t.mode.minX,y:t.mode.minY})),je("getInitialValue"),ds("manager",YB)]})),Rr("sliderBehaviours",[Jt,kt]),Ke("mouseIsDown",()=>Xt(!1))],Qu=Ti({name:"Slider",configFields:Wz,partFields:uz,factory:(t,s,i,c)=>{const d=ze=>Fd(ze,t,"thumb"),h=ze=>Fd(ze,t,"spectrum"),p=ze=>Ro(ze,t,"left-edge"),x=ze=>Ro(ze,t,"right-edge"),E=ze=>Ro(ze,t,"top-edge"),R=ze=>Ro(ze,t,"bottom-edge"),B=t.model,F=B.manager,U=(ze,Ye)=>{F.setPositionFromValue(ze,Ye,t,{getLeftEdge:p,getRightEdge:x,getTopEdge:E,getBottomEdge:R,getSpectrum:h})},j=(ze,Ye)=>{B.value.set(Ye);const pt=d(ze);U(ze,pt)},X=(ze,Ye)=>{j(ze,Ye);const pt=d(ze);return t.onChange(ze,pt,Ye),M.some(!0)},oe=ze=>{F.setToMin(ze,t)},Se=ze=>{F.setToMax(ze,t)},ue=ze=>{const Ye=()=>{Ro(ze,t,"thumb").each($e=>{const yn=B.value.get();t.onChoose(ze,$e,yn)})},pt=t.mouseIsDown.get();t.mouseIsDown.set(!1),pt&&Ye()},ye=(ze,Ye)=>{Ye.stop(),t.mouseIsDown.set(!0),t.onDragStart(ze,d(ze))},me=(ze,Ye)=>{Ye.stop(),t.onDragEnd(ze,d(ze)),ue(ze)},We=ze=>{Ro(ze,t,"spectrum").map(Jt.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.sliderBehaviours,[Jt.config({mode:"special",focusIn:We}),kt.config({store:{mode:"manual",getValue:ze=>B.value.get(),setValue:j}}),Wa.config({channels:{[yw()]:{onReceive:ue}}})]),events:Qo([Ie($C(),(ze,Ye)=>{X(ze,Ye.event.value)}),gs((ze,Ye)=>{const pt=B.getInitialValue();B.value.set(pt);const $e=d(ze);U(ze,$e);const yn=h(ze);t.onInit(ze,$e,yn,B.value.get())}),Ie(yu(),ye),Ie(wu(),me),Ie(_a(),(ze,Ye)=>{We(ze),ye(ze,Ye)}),Ie(dy(),me)]),apis:{resetToMin:oe,resetToMax:Se,setValue:j,refresh:U},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),b_=Nt("rgb-hex-update"),Kd=Nt("slider-update"),y_=Nt("palette-update"),JB=(t,s)=>{const i=Qu.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=Qu.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Qu.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:D(0)},components:[i,c],sliderBehaviours:at([tn.config({})]),onChange:(d,h,p)=>{Et(d.element,"aria-valuenow",Math.floor(360-p*3.6)),Gt(d,Kd,{value:p})}})},UC="form",s3=[Rr("formBehaviours",[kt])],QB=t=>"<alloy.field."+t+">",Zz=t=>{const s=(()=>{const h=[];return{field:(x,E)=>(h.push(x),LS(UC,QB(x),E)),record:D(h)}})(),i=t(s),c=s.record(),d=Ze(c,h=>Ao({name:h,pname:QB(h)}));return Tb(UC,s3,d,qz,i)},jz=(t,s)=>t.fold(()=>An.error(s),An.value),qz=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.formBehaviours,[kt.config({store:{mode:"manual",getValue:i=>{const c=Nw(i,t);return os(c,(d,h)=>d().bind(p=>{const x=Xn.getCurrent(p);return jz(x,new Error(`Cannot find a current component to extract the value from for form part '${h}': `+Au(p.element)))}).map(kt.getValue))},setValue:(i,c)=>{ar(c,(d,h)=>{Ro(i,t,h).each(p=>{Xn.getCurrent(p).each(x=>{kt.setValue(x,d)})})})}}})]),apis:{getField:(i,c)=>Ro(i,t,c).bind(Xn.getCurrent)}}),f0={getField:rl((t,s,i)=>t.getField(s,i)),sketch:Zz},eI=Nt("valid-input"),tI=Nt("invalid-input"),r3=Nt("validating-input"),i3="colorcustom.rgb.",Vf=(t,s,i,c)=>{const d=(U,j)=>eu.config({invalidClass:s("invalid"),notify:{onValidate:X=>{Gt(X,r3,{type:U})},onValid:X=>{Gt(X,eI,{type:U,value:kt.getValue(X)})},onInvalid:X=>{Gt(X,tI,{type:U,value:kt.getValue(X)})}},validator:{validate:X=>{const oe=kt.getValue(X),Se=j(oe)?An.value(!0):An.error(t("aria.input.invalid"));return bi.pure(Se)},validateOnLoad:!1}}),h=(U,j,X,oe,Se)=>{const ue=t(i3+"range"),ye=Eo.parts.label({dom:{tag:"label",attributes:{"aria-label":oe}},components:[Vs(X)]}),me=Eo.parts.field({data:Se,factory:x1,inputAttributes:{type:"text",...j==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:at([d(j,U),fs.config({})]),onSetValue:pt=>{eu.isInvalid(pt)&&eu.run(pt).get(ae)}}),We=[ye,me],ze=j!=="hex"?[Eo.parts["aria-descriptor"]({text:ue})]:[],Ye=We.concat(ze);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Ye}},p=(U,j)=>{const X=TC(j);return f0.getField(U,"hex").each(oe=>{tn.isFocused(oe)||kt.setValue(U,{hex:X.value})}),X},x=(U,j)=>{const X=j.red,oe=j.green,Se=j.blue;kt.setValue(U,{red:X,green:oe,blue:Se})},E=So({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),R=(U,j)=>{E.getOpt(U).each(X=>{b(X.element,"background-color","#"+j.value)})};return Cr({factory:()=>{const U={red:Xt(M.some(255)),green:Xt(M.some(255)),blue:Xt(M.some(255)),hex:Xt(M.some("ffffff"))},j=(qt,lo)=>{const so=kC(lo);x(qt,so),ue(so)},X=qt=>U[qt].get(),oe=(qt,lo)=>{U[qt].set(lo)},Se=()=>X("red").bind(qt=>X("green").bind(lo=>X("blue").map(so=>ch(qt,lo,so,1)))),ue=qt=>{const lo=qt.red,so=qt.green,Hn=qt.blue;oe("red",M.some(lo)),oe("green",M.some(so)),oe("blue",M.some(Hn))},ye=(qt,lo)=>{const so=lo.event;so.type!=="hex"?oe(so.type,M.none()):c(qt)},me=(qt,lo)=>{i(qt);const so=a4(lo);oe("hex",M.some(so.value));const Hn=kC(so);x(qt,Hn),ue(Hn),Gt(qt,b_,{hex:so}),R(qt,so)},We=(qt,lo,so)=>{const Hn=parseInt(so,10);oe(lo,M.some(Hn)),Se().each(dt=>{const Bt=p(qt,dt);Gt(qt,b_,{hex:Bt}),R(qt,Bt)})},ze=qt=>qt.type==="hex",Ye=(qt,lo)=>{const so=lo.event;ze(so)?me(qt,so.value):We(qt,so.type,so.value)},pt=qt=>({label:t(i3+qt+".label"),description:t(i3+qt+".description")}),$e=pt("red"),yn=pt("green"),Mt=pt("blue"),on=pt("hex");return Yo(f0.sketch(qt=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[qt.field("red",Eo.sketch(h(ZE,"red",$e.label,$e.description,255))),qt.field("green",Eo.sketch(h(ZE,"green",yn.label,yn.description,255))),qt.field("blue",Eo.sketch(h(ZE,"blue",Mt.label,Mt.description,255))),qt.field("hex",Eo.sketch(h(uN,"hex",on.label,on.description,"ffffff"))),E.asSpec()],formBehaviours:at([eu.config({invalidClass:s("form-invalid")}),On("rgb-form-events",[Ie(eI,Ye),Ie(tI,ye),Ie(r3,ye)])])})),{apis:{updateHex:(qt,lo)=>{kt.setValue(qt,{hex:lo.value}),j(qt,lo),R(qt,lo)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(U,j,X)=>{U.updateHex(j,X)}},extraApis:{}})},w_=(t,s)=>{const i=Qu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),c=Qu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(R,B)=>{const{width:F,height:U}=R,j=R.getContext("2d");if(j===null)return;j.fillStyle=B,j.fillRect(0,0,F,U);const X=j.createLinearGradient(0,0,F,0);X.addColorStop(0,"rgba(255,255,255,1)"),X.addColorStop(1,"rgba(255,255,255,0)"),j.fillStyle=X,j.fillRect(0,0,F,U);const oe=j.createLinearGradient(0,0,0,U);oe.addColorStop(0,"rgba(0,0,0,0)"),oe.addColorStop(1,"rgba(0,0,0,1)"),j.fillStyle=oe,j.fillRect(0,0,F,U)},h=(R,B)=>{const F=R.components()[0].element.dom,U=R1(B,100,100),j=hN(U);d(F,gN(j))},p=(R,B)=>{const F=DC(kC(B));Qu.setValue(R,{x:F.saturation,y:100-F.value}),Et(R.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",F.saturation,F.value]))};return Cr({factory:R=>{const B=D({x:0,y:0}),F=(X,oe,Se)=>{Pt(Se)||Et(X.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Se.x),Math.floor(100-Se.y)])),Gt(X,y_,{value:Se})},U=(X,oe,Se,ue)=>{d(Se.element.dom,gN(vN))},j=at([Xn.config({find:M.some}),tn.config({})]);return Qu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:B},rounded:!1,components:[i,c],onChange:F,onInit:U,sliderBehaviours:j})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(R,B,F)=>{h(B,F)},setThumb:(R,B,F)=>{p(B,F)}},extraApis:{}})},Gz=(t,s)=>{const i=d=>{const h=Vf(t,s,d.onValidHex,d.onInvalidHex),p=w_(t,s),x=Ye=>(100-Ye)/100*360,E=Ye=>100-Ye/360*100,R={paletteRgba:Xt(vN),paletteHue:Xt(0)},B=So(JB(t,s)),F=So(p.sketch({})),U=So(h.sketch({})),j=(Ye,pt,$e)=>{F.getOpt(Ye).each(yn=>{p.setHue(yn,$e)})},X=(Ye,pt)=>{U.getOpt(Ye).each($e=>{h.updateHex($e,pt)})},oe=(Ye,pt,$e)=>{B.getOpt(Ye).each(yn=>{Qu.setValue(yn,E($e))})},Se=(Ye,pt)=>{F.getOpt(Ye).each($e=>{p.setThumb($e,pt)})},ue=(Ye,pt)=>{const $e=kC(Ye);R.paletteRgba.set($e),R.paletteHue.set(pt)},ye=(Ye,pt,$e,yn)=>{ue(pt,$e),Tt(yn,Mt=>{Mt(Ye,pt,$e)})},me=()=>{const Ye=[X];return(pt,$e)=>{const yn=$e.event.value,Mt=R.paletteHue.get(),on=R1(Mt,yn.x,100-yn.y),qt=AN(on);ye(pt,qt,Mt,Ye)}},We=()=>{const Ye=[j,X];return(pt,$e)=>{const yn=x($e.event.value),Mt=R.paletteRgba.get(),on=DC(Mt),qt=R1(yn,on.saturation,on.value),lo=AN(qt);ye(pt,lo,yn,Ye)}},ze=()=>{const Ye=[j,oe,Se];return(pt,$e)=>{const yn=$e.event.hex,Mt=kN(yn);ye(pt,yn,Mt.hue,Ye)}};return{uid:d.uid,dom:d.dom,components:[F.asSpec(),B.asSpec(),U.asSpec()],behaviours:at([On("colour-picker-events",[Ie(b_,ze()),Ie(y_,me()),Ie(Kd,We())]),Xn.config({find:Ye=>U.getOpt(Ye)}),Jt.config({mode:"acyclic"})])}};return Cr({name:"ColourPicker",configFields:[je("dom"),xe("onValidHex",ae),xe("onInvalidHex",ae)],factory:i})},yl={self:()=>Xn.config({find:M.some}),memento:t=>Xn.config({find:t.getOpt}),childAt:t=>Xn.config({find:s=>Ol(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},C_=sn([xe("preprocess",pn),xe("postprocess",pn)]),WC=(t,s)=>{const i=zr("RepresentingConfigs.memento processors",C_,s);return kt.config({store:{mode:"manual",getValue:c=>{const d=t.get(c),h=kt.getValue(d);return i.postprocess(h)},setValue:(c,d)=>{const h=i.preprocess(d),p=t.get(c);kt.setValue(p,h)}}})},Xd=(t,s,i)=>kt.config({store:{mode:"manual",...t.map(c=>({initialValue:c})).getOr({}),getValue:s,setValue:i}}),a3=(t,s,i)=>Xd(t,c=>s(c.element),(c,d)=>i(c.element,d)),nI=t=>a3(t,wy,Sd),ZC=t=>kt.config({store:{mode:"memory",initialValue:t}}),oI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Yz=t=>s=>ve(s)?t.translate(oI[s]):t.translate(s),Jz=(t,s,i)=>{const c=E=>"tox-"+E,d=Gz(Yz(s),c),h=E=>{Gt(E,Gd,{name:"hex-valid",value:!0})},p=E=>{Gt(E,Gd,{name:"hex-valid",value:!1})},x=So(d.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:h,onInvalidHex:p}));return{dom:{tag:"div"},components:[x.asSpec()],behaviours:at([Xd(i,E=>{const R=x.get(E);return Xn.getCurrent(R).bind(U=>kt.getValue(U).hex).map(U=>"#"+Yp(U,"#")).getOr("")},(E,R)=>{const B=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,F=M.from(B.exec(R)).bind(X=>Ko(X,1)),U=x.get(E);Xn.getCurrent(U).fold(()=>{console.log("Can not find form")},X=>{kt.setValue(X,{hex:F.getOr("")}),f0.getField(X,"hex").each(oe=>{Mn(oe,xu())})})}),yl.self()])}};var Qz=tinymce.util.Tools.resolve("tinymce.Resource");const sI=t=>io(t,"init"),eV=t=>{const s=ts(),i=So({dom:{tag:t.tag}}),c=ts(),d=!sI(t)&&t.onFocus.isSome()?[tn.config({onFocus:h=>{t.onFocus.each(p=>{p(h.element.dom)})}}),fs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:at([On("custom-editor-events",[gs(h=>{i.getOpt(h).each(p=>{(sI(t)?t.init(p.element.dom):Qz.load(t.scriptId,t.scriptUrl).then(x=>x(p.element.dom,t.settings))).then(x=>{c.on(E=>{x.setValue(E)}),c.clear(),s.set(x)})})})]),Xd(M.none(),()=>s.get().fold(()=>c.get().getOr(""),h=>h.getValue()),(h,p)=>{s.get().fold(()=>c.set(p),x=>x.setValue(p))}),yl.self()].concat(d)),components:[i.asSpec()]}};var Uf=tinymce.util.Tools.resolve("tinymce.util.Tools");const rI=(t,s)=>{const i=Uf.explode(s.getOption("images_file_types")),c=d=>Tr(i,h=>zc(d.name.toLowerCase(),`.${h.toLowerCase()}`));return ao(Ri(t),c)},tV=(t,s,i)=>{const c=(U,j)=>{j.stop()},d=U=>(j,X)=>{Tt(U,oe=>{oe(j,X)})},h=(U,j)=>{var X;if(!fn.isDisabled(U)){const oe=j.event.raw;x(U,(X=oe.dataTransfer)===null||X===void 0?void 0:X.files)}},p=(U,j)=>{const X=j.event.raw.target;x(U,X.files)},x=(U,j)=>{j&&(kt.setValue(U,rI(j,s)),Gt(U,Ra,{name:t.name}))},E=So({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:at([On("input-file-events",[sl(yf()),sl(ea())])])}),R=U=>({uid:U.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:at([ZC(i.getOr([])),yl.self(),fn.config({}),Nn.config({toggleClass:"dragenter",toggleOnExecute:!1}),On("dropzone-events",[Ie("dragenter",d([c,Nn.toggle])),Ie("dragleave",d([c,Nn.toggle])),Ie("dragover",c),Ie("drop",d([c,h])),Ie(nl(),p)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Vs(s.translate("Drop an image here"))]},ii.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Vs(s.translate("Browse for an image")),E.asSpec()],action:j=>{E.get(j).element.dom.click()},buttonBehaviours:at([fs.config({}),ju.button(s.isDisabled),Gr()])})]}]}),B=t.label.map(U=>N1(U,s)),F=Eo.parts.field({factory:{sketch:R}});return Np(B,F,["tox-form__group--stretched"],[])},iI=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Ze(t.items,s.interpreter)}),nV=(t,s)=>{let i=null,c=null;return{cancel:()=>{ft(i)||(clearTimeout(i),i=null,c=null)},throttle:(...p)=>{c=p,ft(i)&&(i=setTimeout(()=>{const x=c;i=null,c=null,t.apply(null,x)},s))}}},aI=(t,s)=>{let i=null;return{cancel:()=>{ft(i)||(clearTimeout(i),i=null)},throttle:(...h)=>{ft(i)&&(i=setTimeout(()=>{i=null,t.apply(null,h)},s))}}},H1=(t,s)=>{let i=null;const c=()=>{ft(i)||(clearTimeout(i),i=null)};return{cancel:c,throttle:(...h)=>{c(),i=setTimeout(()=>{i=null,t.apply(null,h)},s)}}},c3=Nt("alloy-fake-before-tabstop"),x_=Nt("alloy-fake-after-tabstop"),cI=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:at([tn.config({ignore:!0}),fs.config({})])}),lI=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[cI([c3]),s,cI([x_])],behaviours:at([yl.childAt(1)])}),uI=(t,s)=>{Gt(t,tl(),{raw:{which:9,shiftKey:s}})},oV=(t,s)=>{const i=s.element;za(i,c3)?uI(t,!0):za(i,x_)&&uI(t,!1)},m0=t=>MC(t,["."+c3,"."+x_].join(","),Gn),S_=Nt("update-dialog"),l3=Nt("update-title"),E_=Nt("update-body"),Wf=Nt("update-footer"),__=Nt("body-send-message"),jC=Nt("dialog-focus-shifted"),T_=jt().browser,z1=T_.isSafari(),dI=T_.isFirefox(),qC=z1||dI,fI=T_.isChromium(),mI=({scrollTop:t,scrollHeight:s,clientHeight:i})=>Math.ceil(t)+i>=s,hI=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),sV=(t,s)=>{const i=t.body;return M.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!fI&&!z1||Xe(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:t.documentElement)},pI=(t,s,i)=>{const c=t.dom;M.from(c.contentDocument).fold(i,d=>{let h=0;const p=sV(d,s).map(E=>(h=E.scrollTop,E)).forall(mI),x=()=>{const E=c.contentWindow;Xe(E)&&(p?hI(E,"bottom"):!p&&qC&&h!==0&&hI(E,h))};z1&&c.addEventListener("load",x,{once:!0}),d.open(),d.write(s),d.close(),z1||x()})},rV=en(qC,z1?500:200).map(t=>nV(pI,t)),gI=(t,s)=>{const i=Xt(t.getOr(""));return{getValue:c=>i.get(),setValue:(c,d)=>{if(i.get()!==d){const h=c.element,p=()=>Et(h,"srcdoc",d);s?rV.fold(D(pI),x=>x.throttle)(h,d,p):p()}i.set(d)}}},vI=(t,s,i)=>{const c="tox-dialog__iframe",d=t.transparent?[]:[`${c}--opaque`],h=t.border?["tox-navobj-bordered"]:[],p={...t.label.map(F=>({title:F})).getOr({}),...i.map(F=>({srcdoc:F})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},x=gI(i,t.streamContent),E=t.label.map(F=>N1(F,s)),R=F=>lI(M.from(h),{uid:F.uid,dom:{tag:"iframe",attributes:p,classes:[c,...d]},behaviours:at([fs.config({}),tn.config({}),Xd(i,x.getValue,x.setValue),Wa.config({channels:{[jC]:{onReceive:(U,j)=>{j.newFocus.each(X=>{Qa(U.element).each(oe=>{(uo(U.element,X)?Ts:Os)(oe,"tox-navobj-bordered-focus")})})}}}})])}),B=Eo.parts.field({factory:{sketch:R}});return Np(E,B,["tox-form__group--stretched"],[])},iV=t=>new Promise((s,i)=>{const c=()=>{h(),s(t)},d=[gi(t,"load",c),gi(t,"error",()=>{h(),i("Unable to load data from image: "+t.dom.src)})],h=()=>Tt(d,p=>p.unbind());t.dom.complete&&c()}),aV=(t,s,i,c,d)=>{const h=i*d,p=c*d,x=Math.max(0,t/2-h/2),E=Math.max(0,s/2-p/2);return{left:x.toString()+"px",top:E.toString()+"px",width:h.toString()+"px",height:p.toString()+"px"}},cV=(t,s,i)=>{const c=to(t),d=Pe(t);return Math.min(c/s,d/i,1)},k_=(t,s)=>{const i=Xt(s.getOr({url:""})),c=So({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(E=>({src:E.url})).getOr({})}}),d=So({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[c.asSpec()]}),h=(E,R)=>{const B={url:R.url};R.zoom.each(U=>B.zoom=U),R.cachedWidth.each(U=>B.cachedWidth=U),R.cachedHeight.each(U=>B.cachedHeight=U),i.set(B);const F=()=>{const{cachedWidth:U,cachedHeight:j,zoom:X}=B;if(!wn(U)&&!wn(j)){if(wn(X)){const Se=cV(E.element,U,j);B.zoom=Se}const oe=aV(to(E.element),Pe(E.element),U,j,B.zoom);d.getOpt(E).each(Se=>{_(Se.element,oe)})}};c.getOpt(E).each(U=>{const j=U.element;R.url!==Ss(j,"src")&&(Et(j,"src",R.url),Os(E.element,"tox-imagepreview__loaded")),F(),iV(j).then(X=>{E.getSystem().isConnected()&&(Ts(E.element,"tox-imagepreview__loaded"),B.cachedWidth=X.dom.naturalWidth,B.cachedHeight=X.dom.naturalHeight,F())})})},p={};t.height.each(E=>p.height=E);const x=s.map(E=>({url:E.url,zoom:M.from(E.zoom),cachedWidth:M.from(E.cachedWidth),cachedHeight:M.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:p,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:at([yl.self(),Xd(x,()=>i.get(),h)])}},lV=(t,s)=>{const i="tox-label",c=t.align==="center"?[`${i}--center`]:[],d=t.align==="end"?[`${i}--end`]:[],h={dom:{tag:"label",classes:[i,...c,...d]},components:[Vs(s.providers.translate(t.label))]},p=Ze(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[h,...p],behaviours:at([yl.self(),Tn.config({}),nI(M.none()),Jt.config({mode:"acyclic"})])}},bI=Nt("toolbar.button.execute"),yI=t=>Fl((s,i)=>{FE(t,s)(c=>{Gt(s,bI,{buttonApi:c}),t.onAction(c)})}),$p=Nt("common-button-display-events"),wI={[$a()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Fa()]:["toolbar-button-events",$p],[$l()]:["toolbar-button-events","dropdown-events","tooltipping"],[_a()]:["focusing","alloy.base.behaviour",$p]},u3=t=>b(t.element,"width",I(t.element,"width")),A_=(t,s,i)=>Kl(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),d3=(t,s)=>A_(t,s,[]),dh=(t,s)=>A_(t,s,[Tn.config({})]),CI=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Vs(i.translate(t))],behaviours:at([Tn.config({})])}),tu=Nt("update-menu-text"),V1=Nt("update-menu-icon"),O_=(t,s,i,c)=>{const d=Xt(ae),h=t.text.map(X=>So(CI(X,s,i.providers))),p=t.icon.map(X=>So(dh(X,i.providers.icons))),x=(X,oe)=>{const Se=kt.getValue(X);return tn.focus(Se),Gt(Se,"keydown",{raw:oe.event.raw}),Ql.close(Se),M.some(!0)},E=t.role.fold(()=>({}),X=>({role:X})),R=t.ariaLabel.fold(()=>({}),X=>({"aria-label":i.providers.translate(X)})),B=Kl("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),F=Nt("common-button-display-events"),U="dropdown-events";return So(Ql.sketch({...t.uid?{uid:t.uid}:{},...E,dom:{tag:"button",classes:[s,`${s}--select`].concat(Ze(t.classes,X=>`${s}--${X}`)),attributes:{...R,...Xe(c)?{"data-mce-name":c}:{}}},components:Pp([p.map(X=>X.asSpec()),h.map(X=>X.asSpec()),M.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(X,oe,Se)=>{t.searchable&&_8(Se)},dropdownBehaviours:at([...t.dropdownBehaviours,ju.button(()=>t.disabled||i.providers.isDisabled()),Gr(),LC.config({}),Tn.config({}),...t.tooltip.map(X=>Ai.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(X)}))).toArray(),On(U,[vi(t,d),Da(t,d)]),On(F,[gs((X,oe)=>u3(X))]),On("menubutton-update-display-text",[Ie(tu,(X,oe)=>{h.bind(Se=>Se.getOpt(X)).each(Se=>{Tn.set(Se,[Vs(i.providers.translate(oe.event.text))])})}),Ie(V1,(X,oe)=>{p.bind(Se=>Se.getOpt(X)).each(Se=>{Tn.set(Se,[dh(oe.event.icon,i.providers.icons)])})})])]),eventOrder:Yo(wI,{[_a()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Fa()]:["toolbar-button-events",Ai.name(),U,F]}),sandboxBehaviours:at([Jt.config({mode:"special",onLeft:x,onRight:x}),On("dropdown-sandbox-events",[Ie(xP,(X,oe)=>{w8(X),oe.stop()}),Ie(SP,(X,oe)=>{C8(X,oe),oe.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...pC(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:KN,onCollapseMenu:(X,oe,Se)=>{fo.getHighlighted(Se).each(ue=>{KN(X,Se,ue)})},onDehighlightItem:E8}},getAnchorOverrides:()=>({maxHeightFunction:(X,oe)=>{ow()(X,oe-10)}}),fetch:X=>bi.nu(_n(t.fetch,X))})).asSpec()},xI=t=>ve(t),SI=t=>t.type==="separator",uV=t=>io(t,"getSubmenuItems"),dV={type:"separator"},fV=(t,s)=>{const i=ko(t,(c,d)=>xI(d)?d===""?c:d==="|"?c.length>0&&!SI(c[c.length-1])?c.concat([dV]):c:io(s,d.toLowerCase())?c.concat([s[d.toLowerCase()]]):c:c.concat([d]),[]);return i.length>0&&SI(i[i.length-1])&&i.pop(),i},EI=(t,s)=>{const i=t.getSubmenuItems(),c=f3(i,s),d=Yo(c.menus,{[t.value]:c.items}),h=Yo(c.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:h}},mV=t=>{const s=wt(t,"value").getOrThunk(()=>Nt("generated-menu-item"));return Yo({value:s},t)},f3=(t,s)=>{const i=fV(ve(t)?t.split(" "):t,s);return As(i,(c,d)=>{if(uV(d)){const h=mV(d),p=EI(h,s);return{menus:Yo(c.menus,p.menus),items:[p.item,...c.items],expansions:Yo(c.expansions,p.expansions)}}else return{...c,items:[d,...c.items]}},{menus:{},expansions:{},items:[]})},hV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),pV=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),h0=(t,s,i,c)=>{const d=Nt("primary-menu"),h=f3(t,i.shared.providers.menuItems());if(h.items.length===0)return M.none();const p=hV(c),x=JN(d,h.items,s,i,c.isHorizontalMenu,p),E=pV(c),R=os(h.menus,(F,U)=>JN(U,F,s,i,!1,E)),B=Yo(R,ym(d,x));return M.from(v1.tieredData(d,B,h.expansions))},m3=t=>!io(t,"items"),_I="data-value",TI=(t,s,i,c)=>Ze(i,d=>m3(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===c,onAction:()=>{kt.setValue(t,d.value),Gt(t,Ra,{name:s}),tn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>TI(t,s,d.items,c)}),h3=(t,s)=>hr(t,i=>m3(i)?en(i.value===s,i):h3(i.items,s)),gV=(t,s,i)=>{const c=s.shared.providers,d=i.bind(E=>h3(t.items,E)).orThunk(()=>ln(t.items).filter(m3)),h=t.label.map(E=>N1(E,c)),p=Eo.parts.field({dom:{},factory:{sketch:E=>O_({uid:E.uid,text:d.map(R=>R.text),icon:M.none(),tooltip:M.none(),role:M.none(),ariaLabel:t.label,fetch:(R,B)=>{const F=TI(R,t.name,t.items,kt.getValue(R));B(h0(F,Wd.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:M.none()}))},onSetup:D(ae),getApi:D({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[fs.config({}),Xd(d.map(R=>R.value),R=>Ss(R.element,_I),(R,B)=>{h3(t.items,B).each(F=>{Et(R.element,_I,F.value),Gt(R,tu,{text:F.text})})})]},"tox-listbox",s.shared)}}),x={dom:{tag:"div",classes:["tox-listboxfield"]},components:[p]};return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:mn([h.toArray(),[x]]),fieldBehaviours:at([fn.config({disabled:D(!t.enabled),onDisabled:E=>{Eo.getField(E).each(fn.disable)},onEnabled:E=>{Eo.getField(E).each(fn.enable)}})])})},vV=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Ze(t.items,s.shared.interpreter)}),p3=(t,s)=>{const i=Ze(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),c=t.data.map(d=>ym("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:Mr(t.selectBehaviours,[tn.config({}),kt.config({store:{mode:"manual",getValue:d=>kd(d.element),setValue:(d,h)=>{const p=ln(t.options);gn(t.options,E=>E.value===h).isSome()?Ru(d.element,h):d.element.dom.selectedIndex===-1&&h===""&&p.each(E=>Ru(d.element,E.value))},...c}})])}},bV=Cr({name:"HtmlSelect",configFields:[je("options"),Rr("selectBehaviours",[tn,kt]),xe("selectClasses",[]),xe("selectAttributes",{}),bo("data")],factory:p3}),yV=(t,s,i)=>{const c=Ze(t.items,E=>({text:s.translate(E.text),value:E.value})),d=t.label.map(E=>N1(E,s)),h=Eo.parts.field({dom:{},...i.map(E=>({data:E})).getOr({}),selectAttributes:{size:t.size},options:c,factory:bV,selectBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled()}),fs.config({}),On("selectbox-change",[Ie(nl(),(E,R)=>{Gt(E,Ra,{name:t.name})})])])}),p=t.size>1?M.none():M.some(Kl("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),x={dom:{tag:"div",classes:["tox-selectfield"]},components:mn([[h],p.toArray()])};return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:mn([d.toArray(),[x]]),fieldBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{Eo.getField(E).each(fn.disable)},onEnabled:E=>{Eo.getField(E).each(fn.enable)}}),Gr()])})},wV=D([xe("field1Name","field1"),xe("field2Name","field2"),$m("onLockedChange"),il(["lockClass"]),xe("locked",!1),ic.field("coupledFieldBehaviours",[Xn,kt])]),GC=(t,s,i)=>Ro(t,s,i).bind(Xn.getCurrent),D_=(t,s)=>Ao({factory:Eo,name:t,overrides:i=>({fieldBehaviours:at([On("coupled-input-behaviour",[Ie(xu(),c=>{GC(c,i,s).each(d=>{Ro(c,i,"lock").each(h=>{Nn.isOn(h)&&i.onLockedChange(c,d,h)})})})])])})}),CV=D([D_("field1","field2"),D_("field2","field1"),Ao({factory:ii,schema:[je("dom")],name:"lock",overrides:t=>({buttonBehaviours:at([Nn.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),xV=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:ic.augment(t.coupledFieldBehaviours,[Xn.config({find:M.some}),kt.config({store:{mode:"manual",getValue:d=>{const h=_b(d,t,["field1","field2"]);return{[t.field1Name]:kt.getValue(h.field1()),[t.field2Name]:kt.getValue(h.field2())}},setValue:(d,h)=>{const p=_b(d,t,["field1","field2"]);pa(h,t.field1Name)&&kt.setValue(p.field1(),h[t.field1Name]),pa(h,t.field2Name)&&kt.setValue(p.field2(),h[t.field2Name])}}})]),apis:{getField1:d=>Ro(d,t,"field1"),getField2:d=>Ro(d,t,"field2"),getLock:d=>Ro(d,t,"lock")}}),cc=Ti({name:"FormCoupledInputs",configFields:wV(),partFields:CV(),factory:xV,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),SV=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=d=>d in s?s[d]:1;let c=t.value.toFixed(i(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},KC=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const c=parseFloat(i[1]),d=i[2];return An.value({value:c,unit:d})}else return An.error(t)},g3=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=d=>io(i,d);return t.unit===s?M.some(t.value):c(t.unit)&&c(s)?i[t.unit]===i[s]?M.some(t.value):M.some(t.value/i[t.unit]*i[s]):M.none()},v3=t=>M.none(),EV=(t,s)=>i=>g3(i,s).map(c=>({value:c*t,unit:s})),kI=(t,s)=>{const i=KC(t).toOptional(),c=KC(s).toOptional();return lu(i,c,(d,h)=>g3(d,h.unit).map(p=>h.value/p).map(p=>EV(p,h.unit)).getOr(v3)).getOr(v3)},AI=(t,s)=>{let i=v3;const c=Nt("ratio-event"),d=j=>Kl(j,{tag:"span",classes:["tox-icon","tox-lock-icon__"+j]},s.icons),h=t.label.getOr("Constrain proportions"),p=s.translate(h),x=cc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":p,"data-mce-name":h}},components:[d("lock"),d("unlock")],buttonBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled()}),Gr(),fs.config({}),Ai.config(s.tooltips.getConfig({tooltipText:p}))])}),E=j=>({dom:{tag:"div",classes:["tox-form__group"]},components:j}),R=j=>Eo.parts.field({factory:x1,inputClasses:["tox-textfield"],inputBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled()}),Gr(),fs.config({}),On("size-input-events",[Ie(el(),(X,oe)=>{Gt(X,c,{isField1:j})}),Ie(nl(),(X,oe)=>{Gt(X,Ra,{name:t.name})})])]),selectOnFocus:!1}),B=j=>({dom:{tag:"label",classes:["tox-label"]},components:[Vs(s.translate(j))]}),F=cc.parts.field1(E([Eo.parts.label(B("Width")),R(!0)])),U=cc.parts.field2(E([Eo.parts.label(B("Height")),R(!1)]));return cc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[F,U,E([B(rS),x])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(j,X,oe)=>{KC(kt.getValue(j)).each(Se=>{i(Se).each(ue=>{kt.setValue(X,SV(ue))})})},coupledFieldBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:j=>{cc.getField1(j).bind(Eo.getField).each(fn.disable),cc.getField2(j).bind(Eo.getField).each(fn.disable),cc.getLock(j).each(fn.disable)},onEnabled:j=>{cc.getField1(j).bind(Eo.getField).each(fn.enable),cc.getField2(j).bind(Eo.getField).each(fn.enable),cc.getLock(j).each(fn.enable)}}),Gr(),On("size-input-events2",[Ie(c,(j,X)=>{const oe=X.event.isField1,Se=oe?cc.getField1(j):cc.getField2(j),ue=oe?cc.getField2(j):cc.getField1(j),ye=Se.map(kt.getValue).getOr(""),me=ue.map(kt.getValue).getOr("");i=kI(ye,me)})])])})},_V=(t,s,i)=>{const c=Qu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vs(s.translate(t.label))]}),d=Qu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),h=Qu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Qu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:D(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[c,d,h],sliderBehaviours:at([yl.self(),tn.config({})]),onChoose:(p,x,E)=>{Gt(p,Ra,{name:t.name,value:E})}})},OI=(t,s)=>{const i=x=>({dom:{tag:"th",innerHtml:s.translate(x)}}),c=x=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ze(x,i)}]}),d=x=>({dom:{tag:"td",innerHtml:s.translate(x)}}),h=x=>({dom:{tag:"tr"},components:Ze(x,d)}),p=x=>({dom:{tag:"tbody"},components:Ze(x,h)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),p(t.cells)],behaviours:at([fs.config({}),tn.config({})])}},b3=(t,s)=>{const i=t.label.map(j=>N1(j,s)),c=[fn.config({disabled:()=>t.disabled||s.isDisabled()}),Gr(),Jt.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:j=>(Mn(j,NC),M.some(!0))}),On("textfield-change",[Ie(xu(),(j,X)=>{Gt(j,Ra,{name:t.name})}),Ie(mg(),(j,X)=>{Gt(j,Ra,{name:t.name})})]),fs.config({})],d=t.validation.map(j=>eu.config({getRoot:X=>Qa(X.element),invalidClass:"tox-invalid",validator:{validate:X=>{const oe=kt.getValue(X),Se=j.validator(oe);return bi.pure(Se===!0?An.value(oe):An.error(Se))},validateOnLoad:j.validateOnLoad}})).toArray(),h=t.placeholder.fold(D({}),j=>({placeholder:s.translate(j)})),p=t.inputMode.fold(D({}),j=>({inputmode:j})),x={...h,...p},E=Eo.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(j=>({data:j})).getOr({}),inputAttributes:x,inputClasses:[t.classname],inputBehaviours:at(mn([c,d])),selectOnFocus:!1,factory:x1}),R=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[E]}:E,F=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),U=[fn.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:j=>{Eo.getField(j).each(fn.disable)},onEnabled:j=>{Eo.getField(j).each(fn.enable)}}),Gr()];return Np(i,R,F,U)},TV=(t,s,i)=>b3({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:M.none(),maximized:t.maximized,data:i},s),DI=(t,s,i)=>b3({name:t.name,multiline:!0,label:t.label,inputMode:M.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:M.none(),maximized:t.maximized,data:i},s),p0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),Zf=t=>t.dimension.property,U1=(t,s)=>t.dimension.getDimension(s),R_=(t,s)=>{const i=p0(t,s);Va(i,[s.shrinkingClass,s.growingClass])},y3=(t,s)=>{Os(t.element,s.openClass),Ts(t.element,s.closedClass),b(t.element,Zf(s),"0px"),_e(t.element)},M_=(t,s)=>{Os(t.element,s.closedClass),Ts(t.element,s.openClass),se(t.element,Zf(s))},RI=(t,s,i,c)=>{i.setCollapsed(),b(t.element,Zf(s),U1(s,t.element)),R_(t,s),y3(t,s),s.onStartShrink(t),s.onShrunk(t)},MI=(t,s,i,c)=>{const d=c.getOrThunk(()=>U1(s,t.element));i.setCollapsed(),b(t.element,Zf(s),d),_e(t.element);const h=p0(t,s);Os(h,s.growingClass),Ts(h,s.shrinkingClass),y3(t,s),s.onStartShrink(t)},PI=(t,s,i)=>{const c=U1(s,t.element);(c==="0px"?RI:MI)(t,s,i,M.some(c))},NI=(t,s,i)=>{const c=p0(t,s),d=za(c,s.shrinkingClass),h=U1(s,t.element);M_(t,s);const p=U1(s,t.element);(d?()=>{b(t.element,Zf(s),h),_e(t.element)}:()=>{y3(t,s)})(),Os(c,s.shrinkingClass),Ts(c,s.growingClass),M_(t,s),b(t.element,Zf(s),p),i.setExpanded(),s.onStartGrow(t)},w3=(t,s,i)=>{if(i.isExpanded()){se(t.element,Zf(s));const c=U1(s,t.element);b(t.element,Zf(s),c)}},kV=(t,s,i)=>{i.isExpanded()||NI(t,s,i)},AV=(t,s,i)=>{i.isExpanded()&&PI(t,s,i)},OV=(t,s,i)=>{i.isExpanded()&&RI(t,s,i)},BI=(t,s,i)=>i.isExpanded(),DV=(t,s,i)=>i.isCollapsed(),C3=(t,s,i)=>{const c=p0(t,s);return za(c,s.growingClass)===!0},II=(t,s,i)=>{const c=p0(t,s);return za(c,s.shrinkingClass)===!0};var MV=Object.freeze({__proto__:null,refresh:w3,grow:kV,shrink:AV,immediateShrink:OV,hasGrown:BI,hasShrunk:DV,isGrowing:C3,isShrinking:II,isTransitioning:(t,s,i)=>C3(t,s)||II(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?PI:NI)(t,s,i)},disableTransitions:R_,immediateGrow:(t,s,i)=>{i.isExpanded()||(M_(t,s),b(t.element,Zf(s),U1(s,t.element)),R_(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),NV=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const c=s.expanded;return Dr(c?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:ym(s.dimension.property,"0px")})},events:(t,s)=>Qo([Zh(Ll(),(i,c)=>{c.event.raw.propertyName===t.dimension.property&&(R_(i,t),s.isExpanded()&&se(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),BV=[je("closedClass"),je("openClass"),je("shrinkingClass"),je("growingClass"),bo("getAnimationRoot"),oo("onShrunk"),oo("onStartShrink"),oo("onGrown"),oo("onStartGrow"),xe("expanded",!1),ei("dimension",br("property",{width:[ds("property","width"),ds("getDimension",t=>to(t)+"px")],height:[ds("property","height"),ds("getDimension",t=>Pe(t)+"px")]}))],LV=Object.freeze({__proto__:null,init:t=>{const s=Xt(t.expanded),i=()=>"expanded: "+s.get();return wc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:_n(s.set,!1),setExpanded:_n(s.set,!0),readState:i})}});const Lc=qr({fields:BV,name:"sliding",active:NV,apis:MV,state:LV}),LI=t=>({isEnabled:()=>!fn.isDisabled(t),setEnabled:s=>fn.set(t,!s),setActive:s=>{const i=t.element;s?(Ts(i,"tox-tbtn--enabled"),Et(i,"aria-pressed",!0)):(Os(i,"tox-tbtn--enabled"),bs(i,"aria-pressed"))},isActive:()=>za(t.element,"tox-tbtn--enabled"),setText:s=>{Gt(t,tu,{text:s})},setIcon:s=>Gt(t,V1,{icon:s})}),g0=(t,s,i,c,d=!0,h)=>O_({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:c,fetch:(p,x)=>{const E={pattern:t.search.isSome()?XN(p):""};t.fetch(R=>{x(h0(R,Wd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},E,LI(p))},onSetup:t.onSetup,getApi:LI,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[fs.config({})]:[]]},s,i.shared,h),$V=(t,s,i)=>{const c=h=>p=>{const x=!p.isActive();p.setActive(x),h.storage.set(x),i.shared.getSink().each(E=>{s().getOpt(E).each(R=>{_c(R.element),Gt(R,Gd,{name:h.name,value:h.storage.get()})})})},d=h=>p=>{p.setActive(h.storage.get())};return h=>{h(Ze(t,p=>{const x=p.text.fold(()=>({}),E=>({text:E}));return{type:p.type,active:!1,...x,onAction:c(p),onSetup:d(p)}}))}},$I=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Vs(t)]}),FI=Nt("leaf-label-event-id"),P_=({leaf:t,onLeafAction:s,visible:i,treeId:c,selectedId:d,backstage:h})=>{const p=t.menu.map(E=>g0(E,"tox-mbtn",h,M.none(),i)),x=[$I(t.title)];return p.each(E=>x.push(E)),ii.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:E=>{s(t.id),E.getSystem().broadcastOn([`update-active-item-${c}`],{value:t.id})},eventOrder:{[tl()]:[FI,"keying"]},buttonBehaviours:at([...i?[fs.config({})]:[],Nn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Wa.config({channels:{[`update-active-item-${c}`]:{onReceive:(E,R)=>{(R.value===t.id?Nn.on:Nn.off)(E)}}}}),On(FI,[gs((E,R)=>{d.each(B=>{(B===t.id?Nn.on:Nn.off)(E)})}),Ie(tl(),(E,R)=>{const B=R.event.raw.code==="ArrowLeft",F=R.event.raw.code==="ArrowRight";B?(oc(E.element,".tox-tree--directory").each(U=>{E.getSystem().getByDom(U).each(j=>{Uv(U,".tox-tree--directory__label").each(X=>{j.getSystem().getByDom(X).each(tn.focus)})})}),R.stop()):F&&R.stop()})])])})},HI=(t,s,i)=>Kl(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),zI=(t,s)=>HI(t,s,[]),XC=Nt("directory-label-event-id"),FV=({directory:t,visible:s,noChildren:i,backstage:c})=>{const d=t.menu.map(x=>g0(x,"tox-mbtn",c,M.none())),h=[{dom:{tag:"div",classes:["tox-chevron"]},components:[zI("chevron-right",c.shared.providers.icons)]},$I(t.title)];d.each(x=>{h.push(x)});const p=x=>{oc(x.element,".tox-tree--directory").each(E=>{x.getSystem().getByDom(E).each(R=>{const B=!Nn.isOn(R);Nn.toggle(R),Gt(x,"expand-tree-node",{expanded:B,node:t.id})})})};return ii.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:h,action:p,eventOrder:{[tl()]:[XC,"keying"]},buttonBehaviours:at([...s?[fs.config({})]:[],On(XC,[Ie(tl(),(x,E)=>{const R=E.event.raw.code==="ArrowRight",B=E.event.raw.code==="ArrowLeft";R&&i&&E.stop(),(R||B)&&oc(x.element,".tox-tree--directory").each(F=>{x.getSystem().getByDom(F).each(U=>{!Nn.isOn(U)&&R||Nn.isOn(U)&&B?(p(x),E.stop()):B&&!Nn.isOn(U)&&(oc(U.element,".tox-tree--directory").each(j=>{Uv(j,".tox-tree--directory__label").each(X=>{U.getSystem().getByDom(X).each(tn.focus)})}),E.stop())})})})])])})},HV=({children:t,onLeafAction:s,visible:i,treeId:c,expandedIds:d,selectedId:h,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(x=>x.type==="leaf"?P_({leaf:x,selectedId:h,onLeafAction:s,visible:i,treeId:c,backstage:p}):x3({directory:x,expandedIds:d,selectedId:h,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:p})),behaviours:at([Lc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Tn.config({})])}),zV=Nt("directory-event-id"),x3=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:d,expandedIds:h,selectedId:p})=>{const{children:x}=t,E=Xt(h),R=F=>x.map(U=>U.type==="leaf"?P_({leaf:U,selectedId:p,onLeafAction:s,visible:F,treeId:c,backstage:d}):x3({directory:U,expandedIds:E.get(),selectedId:p,onLeafAction:s,labelTabstopping:F,treeId:c,backstage:d})),B=h.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[FV({directory:t,visible:i,noChildren:t.children.length===0,backstage:d}),HV({children:x,expandedIds:h,selectedId:p,onLeafAction:s,visible:B,treeId:c,backstage:d})],behaviours:at([On(zV,[gs((F,U)=>{Nn.set(F,B)}),Ie("expand-tree-node",(F,U)=>{const{expanded:j,node:X}=U.event;E.set(j?[...E.get(),X]:E.get().filter(oe=>oe!==X))})]),Nn.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,U)=>{const j=F.components()[1],X=R(U);U?Lc.grow(j):Lc.shrink(j),Tn.set(j,X)}})])}},VI=Nt("tree-event-id"),VV=(t,s)=>{const i=t.onLeafAction.getOr(ae),c=t.onToggleExpand.getOr(ae),d=t.defaultExpandedIds,h=Xt(d),p=Xt(t.defaultSelectedId),x=Nt("tree-id"),E=(R,B)=>t.items.map(F=>F.type==="leaf"?P_({leaf:F,selectedId:R,onLeafAction:i,visible:!0,treeId:x,backstage:s}):x3({directory:F,selectedId:R,onLeafAction:i,expandedIds:B,labelTabstopping:!0,treeId:x,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(p.get(),h.get()),behaviours:at([Jt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),On(VI,[Ie("expand-tree-node",(R,B)=>{const{expanded:F,node:U}=B.event;h.set(F?[...h.get(),U]:h.get().filter(j=>j!==U)),c(h.get(),{expanded:F,node:U})})]),Wa.config({channels:{[`update-active-item-${x}`]:{onReceive:(R,B)=>{p.set(M.some(B.value)),Tn.set(R,E(M.some(B.value),h.get()))}}}}),Tn.config({})])}};var UV=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.stream.streams.setup(t,s);return Qo([Ie(t.event,c),ku(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Ie(d,()=>s.cancel())]).getOr([])))}});const S3=t=>{const s=Xt(null);return wc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:h=>{s.set(h)},cancel:()=>{const h=s.get();h!==null&&h.cancel()}})};var ZV=Object.freeze({__proto__:null,throttle:S3,init:t=>t.stream.streams.state(t)});const jV=(t,s)=>{const i=t.stream,c=H1(t.onStream,i.delay);return s.setTimer(c),(d,h)=>{c.throttle(d,h),i.stopEvent&&h.stop()}};var UI=[ei("stream",br("mode",{throttle:[je("delay"),xe("stopEvent",!0),ds("streams",{setup:jV,state:S3})]})),xe("event","input"),bo("cancelEvent"),$m("onStream")];const E3=qr({fields:UI,name:"streaming",active:UV,state:ZV}),N_=(t,s,i)=>{const c=kt.getValue(i);kt.setValue(s,c),v0(s)},Cn=(t,s)=>{const i=t.element,c=kd(i),d=i.dom;Ss(i,"type")!=="number"&&s(d,c)},v0=t=>{Cn(t,(s,i)=>s.setSelectionRange(i.length,i.length))},WI=(t,s)=>{Cn(t,(i,c)=>i.setSelectionRange(s,c.length))},ZI=(t,s,i)=>{if(t.selectsOver){const c=kt.getValue(s),d=t.getDisplayText(c),h=kt.getValue(i);return t.getDisplayText(h).indexOf(d)===0?M.some(()=>{N_(t,s,i),WI(s,d.length)}):M.none()}else return M.none()},B_=D("alloy.typeahead.itemexecute"),jI=(t,s,i,c)=>{const d=(F,U,j)=>{t.previewing.set(!1);const X=Zs.getCoupled(F,"sandbox");if($n.isOpen(X))Xn.getCurrent(X).each(oe=>{fo.getHighlighted(oe).fold(()=>{j(oe)},()=>{Cd(X,oe.element,"keydown",U)})});else{const oe=Se=>{Xn.getCurrent(Se).each(j)};QE(t,p(F),F,X,c,oe,ra.HighlightMenuAndItem).get(ae)}},h=gC(t),p=F=>U=>U.map(j=>{const X=Xp(j.menus),oe=Ae(X,ue=>ao(ue.items,ye=>ye.type==="item"));return kt.getState(F).update(Ze(oe,ue=>ue.data)),j}),x=F=>Xn.getCurrent(F),E="typeaheadevents",R=[tn.config({}),kt.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:F=>kd(F.element),getFallbackEntry:F=>({value:F,meta:{}}),setValue:(F,U)=>{Ru(F.element,t.model.getDisplayText(U))},...t.initialData.map(F=>ym("initialValue",F)).getOr({})}}),E3.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(F,U)=>{const j=Zs.getCoupled(F,"sandbox");if(tn.isFocused(F)&&kd(F.element).length>=t.minChars){const oe=x(j).bind(ue=>fo.getHighlighted(ue).map(kt.getValue));t.previewing.set(!0);const Se=ue=>{x(j).each(ye=>{oe.fold(()=>{t.model.selectsOver&&fo.highlightFirst(ye)},me=>{fo.highlightBy(ye,We=>kt.getValue(We).value===me.value),fo.getHighlighted(ye).orThunk(()=>(fo.highlightFirst(ye),M.none()))})})};QE(t,p(F),F,j,c,Se,ra.HighlightJustMenu).get(ae)}},cancelEvent:Tv()}),Jt.config({mode:"special",onDown:(F,U)=>(d(F,U,fo.highlightFirst),M.some(!0)),onEscape:F=>{const U=Zs.getCoupled(F,"sandbox");return $n.isOpen(U)?($n.close(U),M.some(!0)):M.none()},onUp:(F,U)=>(d(F,U,fo.highlightLast),M.some(!0)),onEnter:F=>{const U=Zs.getCoupled(F,"sandbox"),j=$n.isOpen(U);if(j&&!t.previewing.get())return x(U).bind(X=>fo.getHighlighted(X)).map(X=>(Gt(F,B_(),{item:X}),!0));{const X=kt.getValue(F);return Mn(F,Tv()),t.onExecute(U,F,X),j&&$n.close(U),M.some(!0)}}}),Nn.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Zs.config({others:{sandbox:F=>O4(t,F,{onOpen:()=>Nn.on(F),onClose:()=>{t.lazyTypeaheadComp.get().each(U=>bs(U.element,"aria-activedescendant")),Nn.off(F)}})}}),On(E,[gs(F=>{t.lazyTypeaheadComp.set(M.some(F))}),ku(F=>{t.lazyTypeaheadComp.set(M.none())}),Fl(F=>{const U=ae;A4(t,p(F),F,c,U,ra.HighlightMenuAndItem).get(ae)}),Ie(B_(),(F,U)=>{const j=Zs.getCoupled(F,"sandbox");N_(t.model,F,U.event.item),Mn(F,Tv()),t.onItemExecute(F,j,U.event.item,kt.getValue(F)),$n.close(j),v0(F)})].concat(t.dismissOnBlur?[Ie(Cm(),F=>{const U=Zs.getCoupled(F,"sandbox");ni(U.element).isNone()&&$n.close(U)})]:[]))],B={[$l()]:[kt.name(),E3.name(),E],...t.eventOrder};return{uid:t.uid,dom:Zd(Yo(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...h,...Mr(t.typeaheadBehaviours,R)},eventOrder:B}},qI=D([bo("lazySink"),je("fetch"),xe("minChars",5),xe("responseTime",1e3),oo("onOpen"),xe("getHotspot",M.some),xe("getAnchorOverrides",D({})),xe("layouts",M.none()),xe("eventOrder",{}),xv("model",{},[xe("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),xe("selectsOver",!0),xe("populateFromBrowse",!0)]),oo("onSetValue"),ta("onExecute"),oo("onItemExecute"),xe("inputClasses",[]),xe("inputAttributes",{}),xe("inputStyles",{}),xe("matchWidth",!0),xe("useMinWidth",!1),xe("dismissOnBlur",!0),il(["openClass"]),bo("initialData"),Rr("typeaheadBehaviours",[tn,kt,E3,Jt,Nn,Zs]),Ke("lazyTypeaheadComp",()=>Xt(M.none)),Ke("previewing",()=>Xt(!0))].concat(OE()).concat(D4())),jG=D([ml({schema:[Ny()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,c)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{ZI(t.model,d,c).fold(()=>{t.model.selectsOver?(fo.dehighlight(i,c),t.previewing.set(!0)):t.previewing.set(!1)},h=>{h(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&N_(t.model,d,c),Xs(c.element,"id").each(h=>Et(d.element,"aria-activedescendant",h))})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(c=>(Gt(c,B_(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(c=>{t.model.populateFromBrowse&&N_(t.model,c,i)})}})})]),YC=Ti({name:"Typeahead",configFields:qI(),partFields:jG(),factory:jI}),ed=t=>({...t,toCached:()=>ed(t.toCached()),bindFuture:E=>ed(t.bind(R=>R.fold(B=>bi.pure(An.error(B)),B=>E(B)))),bindResult:E=>ed(t.map(R=>R.bind(E))),mapResult:E=>ed(t.map(R=>R.map(E))),mapError:E=>ed(t.map(R=>R.mapError(E))),foldResult:(E,R)=>t.map(B=>B.fold(E,R)),withTimeout:(E,R)=>ed(bi.nu(B=>{let F=!1;const U=setTimeout(()=>{F=!0,B(An.error(R()))},E);t.get(j=>{F||(clearTimeout(U),B(j))})}))}),_3=t=>ed(bi.nu(t)),GI=t=>ed(bi.pure(An.value(t))),XI={nu:_3,wrap:ed,pure:GI,value:GI,error:t=>ed(bi.pure(An.error(t))),fromResult:t=>ed(bi.pure(t)),fromFuture:t=>ed(t.map(An.value)),fromPromise:t=>_3(s=>{t.then(i=>{s(An.value(i))},i=>{s(An.error(i))})})},I_=(t,s,i=[],c,d,h,p)=>{const x=s.fold(()=>({}),B=>({action:B})),E={buttonBehaviours:at([ju.button(()=>!t.enabled||p.isDisabled()),Gr(),fs.config({}),...h.map(B=>Ai.config(p.tooltips.getConfig({tooltipText:p.translate(B)}))).toArray(),On("button press",[by("click"),by("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},R=Yo(E,{dom:c});return Yo(R,{components:d})},GV=(t,s,i,c=[],d)=>{const h=t.tooltip.map(R=>({"aria-label":i.translate(R)})).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:{...h,"data-mce-name":d}},x=t.icon.map(R=>d3(R,i.icons)),E=Pp([x]);return I_(t,s,c,p,E,t.tooltip,i)},T3=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},YI=(t,s,i,c=[],d=[])=>{const h=i.translate(t.text),p=t.icon.map(j=>d3(j,i.icons)),x=[p.getOrThunk(()=>Vs(h))],E=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),F={tag:"button",classes:[...T3(E),...p.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":h,"data-mce-name":t.text}},U=t.icon.map(D(h));return I_(t,s,c,F,x,U,i)},JI=(t,s,i,c=[],d=[])=>{const h=YI(t,M.some(s),i,c,d);return ii.sketch(h)},QI=(t,s)=>i=>{s==="custom"?Gt(i,Gd,{name:t,value:{}}):s==="submit"?Mn(i,NC):s==="cancel"?Mn(i,lh):console.error("Unknown button type: ",s)},KV=(t,s)=>s==="menu",XV=(t,s)=>s==="custom"||s==="cancel"||s==="submit",YV=(t,s)=>s==="togglebutton",JV=(t,s,i)=>{var c,d;const h=t.icon.map(me=>dh(me,s.icons)).map(So),p=me=>{Gt(me,Gd,{name:t.name,value:{setIcon:We=>{h.map(ze=>ze.getOpt(me).each(Ye=>{Tn.set(Ye,[dh(We,s.icons)])}))}}})},x=t.buttonType.getOr(t.primary?"primary":"secondary"),E={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:x==="primary",tooltip:t.tooltip,enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1},R=E.tooltip.or(t.text).map(me=>({"aria-label":s.translate(me)})).getOr({}),B=T3(x??"secondary"),F=t.icon.isSome()&&t.text.isSome(),U={tag:"button",classes:[...B.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...F?["tox-button--icon-and-text"]:[]],attributes:{...R,...Xe(i)?{"data-mce-name":i}:{}}},j=[],X=s.translate(t.text.getOr("")),oe=Vs(X),ue=[...Pp([h.map(me=>me.asSpec())]),...t.text.isSome()?[oe]:[]],ye=I_(E,M.some(p),j,U,ue,t.tooltip,s);return ii.sketch(ye)},JC=(t,s,i)=>{if(KV(t,s)){const c=()=>p,d=t,h={...t,type:"menubutton",search:M.none(),onSetup:x=>(x.setEnabled(t.enabled),ae),fetch:$V(d.items,c,i)},p=So(g0(h,"tox-tbtn",i,M.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return p.asSpec()}else if(XV(t,s)){const c=QI(t.name,s),d={...t,borderless:!1};return JI(d,c,i.shared.providers,[])}else{if(YV(t,s))return JV(t,i.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},QV=(t,s)=>{const i=QI(t.name,"custom");return X8(M.none(),Eo.parts.field({factory:ii,...YI(t,M.some(i),s,[ZC(""),yl.self()])}))},e9={type:"separator"},t9=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ae}),k3=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ae}),n9=t=>Ze(t,t9),o9=(t,s)=>ao(s,i=>i.type===t),e5=(t,s)=>n9(o9(t,s)),s9=t=>e5("header",t.targets),r9=t=>e5("anchor",t.targets),i9=t=>M.from(t.anchorTop).map(s=>k3("<top>",s)).toArray(),a9=t=>M.from(t.anchorBottom).map(s=>k3("<bottom>",s)).toArray(),t5=t=>Ze(t,s=>k3(s,s)),c9=t=>ko(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(e9,i),[]),A3=(t,s)=>{const i=t.toLowerCase();return ao(s,c=>{var d;const h=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text,p=(d=c.value)!==null&&d!==void 0?d:"";return di(h.toLowerCase(),i)||di(p.toLowerCase(),i)})},l9=(t,s,i)=>{var c,d;const h=kt.getValue(s),p=(d=(c=h==null?void 0:h.meta)===null||c===void 0?void 0:c.text)!==null&&d!==void 0?d:h.value;return i.getLinkInformation().fold(()=>[],E=>{const R=A3(p,t5(i.getHistory(t)));return t==="file"?c9([R,A3(p,s9(E)),A3(p,mn([i9(E),r9(E),a9(E)]))]):R})},n5=Nt("aria-invalid"),u9=(t,s,i,c)=>{const d=s.shared.providers,h=ye=>{const me=kt.getValue(ye);i.addToHistory(me.value,t.filetype)},p={...c.map(ye=>({initialData:ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":n5,type:"url"},minChars:0,responseTime:0,fetch:ye=>{const me=l9(t.filetype,ye,i),We=h0(me,Wd.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:M.none()});return bi.pure(We)},getHotspot:ye=>X.getOpt(ye),onSetValue:(ye,me)=>{ye.hasConfigured(eu)&&eu.run(ye).get(ae)},typeaheadBehaviours:at([...i.getValidationHandler().map(ye=>eu.config({getRoot:me=>Qa(me.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(me,We)=>{B.getOpt(me).each(ze=>{Et(ze.element,"title",d.translate(We))})}},validator:{validate:me=>{const We=kt.getValue(me);return XI.nu(ze=>{ye({type:t.filetype,url:We.value},Ye=>{if(Ye.status==="invalid"){const pt=An.error(Ye.message);ze(pt)}else{const pt=An.value(Ye.message);ze(pt)}})})},validateOnLoad:!1}})).toArray(),fn.config({disabled:()=>!t.enabled||d.isDisabled()}),fs.config({}),On("urlinput-events",[Ie(xu(),ye=>{const me=kd(ye.element),We=me.trim();We!==me&&Ru(ye.element,We),t.filetype==="file"&&Gt(ye,Ra,{name:t.name})}),Ie(nl(),ye=>{Gt(ye,Ra,{name:t.name}),h(ye)}),Ie(mg(),ye=>{Gt(ye,Ra,{name:t.name}),h(ye)})])]),eventOrder:{[xu()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ye=>ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:pC(!1,1,"normal")},onExecute:(ye,me,We)=>{Gt(me,NC,{})},onItemExecute:(ye,me,We,ze)=>{h(ye),Gt(ye,Ra,{name:t.name})}},x=Eo.parts.field({...p,factory:YC}),E=t.label.map(ye=>N1(ye,d)),B=So(((ye,me,We=ye,ze=ye)=>Kl(We,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ye],attributes:{title:d.translate(ze),"aria-live":"polite",...me.fold(()=>({}),Ye=>({id:Ye}))}},d.icons))("invalid",M.some(n5),"warning")),F=So({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[B.asSpec()]}),U=i.getUrlPicker(t.filetype),j=Nt("browser.url.event"),X=So({dom:{tag:"div",classes:["tox-control-wrap"]},components:[x,F.asSpec()],behaviours:at([fn.config({disabled:()=>!t.enabled||d.isDisabled()})])}),oe=So(JI({name:t.name,icon:M.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:M.none(),borderless:!0},ye=>Mn(ye,j),d,[],["tox-browse-url"])),Se=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:mn([[X.asSpec()],U.map(()=>oe.asSpec()).toArray()])}),ue=ye=>{Xn.getCurrent(ye).each(me=>{const We=kt.getValue(me),ze={fieldname:t.name,...We};U.each(Ye=>{Ye(ze).get(pt=>{kt.setValue(me,pt),Gt(ye,Ra,{name:t.name})})})})};return Eo.sketch({dom:J8(),components:E.toArray().concat([Se()]),fieldBehaviours:at([fn.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:ye=>{Eo.getField(ye).each(fn.disable),oe.getOpt(ye).each(fn.disable)},onEnabled:ye=>{Eo.getField(ye).each(fn.enable),oe.getOpt(ye).each(fn.enable)}}),Gr(),On("url-input-events",[Ie(j,ue)])])})},d9=(t,s)=>{const i=jM(t.icon,s.icons);return Ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:i},components:t.url?[ii.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(t.iconTooltip)}},action:c=>Gt(c,Gd,{name:"alert-banner",value:t.url}),buttonBehaviours:at([yO()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},o5=(t,s)=>{t.dom.checked=s},f9=t=>t.dom.checked,s5=(t,s,i)=>{const c=E=>(E.element.dom.click(),M.some(!0)),d=Eo.parts.field({factory:{sketch:pn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:at([yl.self(),fn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{Qa(E.element).each(R=>Ts(R,"tox-checkbox--disabled"))},onEnabled:E=>{Qa(E.element).each(R=>Os(R,"tox-checkbox--disabled"))}}),fs.config({}),tn.config({}),a3(i,f9,o5),Jt.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),On("checkbox-events",[Ie(nl(),(E,R)=>{Gt(E,Ra,{name:t.name})})])])}),h=Eo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Vs(s.translate(t.label))],behaviours:at([LC.config({})])}),p=E=>Kl(E==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+E]},s.icons),x=So({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return Eo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,x.asSpec(),h],fieldBehaviours:at([fn.config({disabled:()=>!t.enabled||s.isDisabled()}),Gr()])})},m9=(t,s)=>t.presets==="presentation"?Ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html},containerBehaviours:at([Ai.config({...s.tooltips.getConfig({tooltipText:"",onShow:i=>{us(i.element,"[data-mce-tooltip]:hover").orThunk(()=>ni(i.element)).each(c=>{Xs(c,"data-mce-tooltip").each(d=>{Ai.setComponents(i,s.tooltips.getComponents({tooltipText:d}))})})}}),mode:"children-normal",anchor:i=>({type:"node",node:us(i.element,"[data-mce-tooltip]:hover").orThunk(()=>ni(i.element).filter(c=>Xs(c,"data-mce-tooltip").isSome())),root:i.element,layouts:{onLtr:D([Ws,jr,dr,es,or,yr]),onRtl:D([Ws,jr,dr,es,or,yr])},bubble:ll(0,-2,{})})})])}):Ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:at([fs.config({}),tn.config({})])}),Pr=t=>(s,i,c,d)=>wt(i,"name").fold(()=>t(i,d,M.none()),h=>s.field(h,t(i,d,wt(c,h)))),r5=t=>(s,i,c,d)=>{const h=Yo(i,{source:"dynamic"});return Pr(t)(s,h,c,d)},O3={bar:Pr((t,s)=>W8(t,s.shared)),collection:Pr((t,s,i)=>Q8(t,s.shared.providers,i)),alertbanner:Pr((t,s)=>d9(t,s.shared.providers)),input:Pr((t,s,i)=>TV(t,s.shared.providers,i)),textarea:Pr((t,s,i)=>DI(t,s.shared.providers,i)),label:Pr((t,s)=>lV(t,s.shared)),iframe:r5((t,s,i)=>vI(t,s.shared.providers,i)),button:Pr((t,s)=>QV(t,s.shared.providers)),checkbox:Pr((t,s,i)=>s5(t,s.shared.providers,i)),colorinput:Pr((t,s,i)=>nz(t,s.shared,s.colorinput,i)),colorpicker:Pr((t,s,i)=>Jz(t,s.shared.providers,i)),dropzone:Pr((t,s,i)=>tV(t,s.shared.providers,i)),grid:Pr((t,s)=>iI(t,s.shared)),listbox:Pr((t,s,i)=>gV(t,s,i)),selectbox:Pr((t,s,i)=>yV(t,s.shared.providers,i)),sizeinput:Pr((t,s)=>AI(t,s.shared.providers)),slider:Pr((t,s,i)=>_V(t,s.shared.providers,i)),urlinput:Pr((t,s,i)=>u9(t,s,s.urlinput,i)),customeditor:Pr(eV),htmlpanel:Pr((t,s)=>m9(t,s.shared.providers)),imagepreview:Pr((t,s,i)=>k_(t,i)),table:Pr((t,s)=>OI(t,s.shared.providers)),tree:Pr((t,s)=>VV(t,s)),panel:Pr((t,s)=>vV(t,s))},h9={field:(t,s)=>s,record:D([])},D3=(t,s,i,c)=>{const d=Yo(c,{shared:{interpreter:h=>L_(t,h,i,d)}});return L_(t,s,i,d)},L_=(t,s,i,c)=>wt(O3,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,i,c)),i5=(t,s,i)=>L_(h9,t,s,i),fh="layout-inset",R3=t=>t.x,a5=(t,s)=>t.x+t.width/2-s.width/2,nu=(t,s)=>t.x+t.width-s.width,b0=t=>t.y,y0=(t,s)=>t.y+t.height-s.height,c5=(t,s)=>t.y+t.height/2-s.height/2,w0=(t,s,i)=>Zr(nu(t,s),y0(t,s),i.insetSouthwest(),Fm(),"southwest",Us(t,{right:0,bottom:3}),fh),$_=(t,s,i)=>Zr(R3(t),y0(t,s),i.insetSoutheast(),Ag(),"southeast",Us(t,{left:1,bottom:3}),fh),W1=(t,s,i)=>Zr(nu(t,s),b0(t),i.insetNorthwest(),rp(),"northwest",Us(t,{right:0,top:2}),fh),C0=(t,s,i)=>Zr(R3(t),b0(t),i.insetNortheast(),Sc(),"northeast",Us(t,{left:1,top:2}),fh),wl=(t,s,i)=>Zr(a5(t,s),b0(t),i.insetNorth(),Zv(),"north",Us(t,{top:2}),fh),QC=(t,s,i)=>Zr(a5(t,s),y0(t,s),i.insetSouth(),jv(),"south",Us(t,{bottom:3}),fh),l5=(t,s,i)=>Zr(nu(t,s),c5(t,s),i.insetEast(),Og(),"east",Us(t,{right:0}),fh),M3=(t,s,i)=>Zr(R3(t),c5(t,s),i.insetWest(),$y(),"west",Us(t,{left:1}),fh),p9=t=>{switch(t){case"north":return wl;case"northeast":return C0;case"northwest":return W1;case"south":return QC;case"southeast":return $_;case"southwest":return w0;case"east":return l5;case"west":return M3}},u5=(t,s,i,c,d)=>Hx(c).map(p9).getOr(wl)(t,s,i,c,d),P3=t=>{switch(t){case"north":return QC;case"northeast":return $_;case"northwest":return w0;case"south":return wl;case"southeast":return C0;case"southwest":return W1;case"east":return M3;case"west":return l5}},g9=(t,s,i,c,d)=>Hx(c).map(P3).getOr(wl)(t,s,i,c,d),e2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},d5=(t,s,i)=>{const d={maxHeightFunction:Um()},h=()=>({type:"node",root:ec(ms(t())),node:M.from(t()),bubble:ll(12,12,e2),layouts:{onRtl:()=>[C0],onLtr:()=>[W1]},overrides:d}),p=()=>({type:"hotspot",hotspot:s(),bubble:ll(-12,12,e2),layouts:{onRtl:()=>[dr,or,Ws],onLtr:()=>[or,dr,Ws]},overrides:d});return()=>i()?h():p()},f5=(t,s,i,c)=>{const h={maxHeightFunction:Um()},p=()=>({type:"node",root:ec(ms(s())),node:M.from(s()),bubble:ll(12,12,e2),layouts:{onRtl:()=>[wl],onLtr:()=>[wl]},overrides:h}),x=()=>t?{type:"node",root:ec(ms(s())),node:M.from(s()),bubble:ll(0,-At(s()),e2),layouts:{onRtl:()=>[jr],onLtr:()=>[jr]},overrides:h}:{type:"hotspot",hotspot:i(),bubble:ll(0,0,e2),layouts:{onRtl:()=>[jr],onLtr:()=>[jr]},overrides:h};return()=>c()?p():x()},v9=(t,s,i)=>{const c=()=>({type:"node",root:ec(ms(t())),node:M.from(t()),layouts:{onRtl:()=>[wl],onLtr:()=>[wl]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Ws],onLtr:()=>[Ws]}});return()=>i()?c():d()},b9=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng(),c=t.model.table.getSelectedCells();if(c.length>1){const d=c[0],h=c[c.length-1],p={firstCell:be.fromDom(d),lastCell:be.fromDom(h)};return M.some(p)}return M.some(Hg.range(be.fromDom(i.startContainer),i.startOffset,be.fromDom(i.endContainer),i.endOffset))}}),y9=t=>s=>({type:"node",root:t(),node:s}),w9=(t,s,i,c)=>{const d=Xb(t),h=()=>be.fromDom(t.getBody()),p=()=>be.fromDom(t.getContentAreaContainer()),x=()=>d||!c();return{inlineDialog:d5(p,s,x),inlineBottomDialog:f5(t.inline,p,i,x),banner:v9(p,s,x),cursor:b9(t,h),node:y9(h)}},m5=t=>(s,i)=>{XE(t)(s,i)},Yd=t=>()=>PN(t),N3=t=>s=>KE(t,s),C9=t=>s=>MN(t,s),x9=t=>({colorPicker:m5(t),hasCustomColors:Yd(t),getColors:N3(t),getColorCols:C9(t)}),S9=t=>()=>Kb(t),E9=t=>({isDraggableModal:S9(t)}),_9=t=>{const s=Xt(BO(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},B3=t=>pa(t,"items"),I3=t=>pa(t,"format"),T9=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],KG=t=>io(t,"items"),qi=t=>io(t,"block"),L3=t=>io(t,"inline"),k9=t=>io(t,"selector"),t2=t=>ko(t,(s,i)=>{if(KG(i)){const c=t2(i.items);return{customFormats:s.customFormats.concat(c.customFormats),formats:s.formats.concat([{title:i.title,items:c.formats}])}}else if(L3(i)||qi(i)||k9(i)){const d=`custom-${ve(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:i}]),formats:s.formats.concat([{title:i.title,format:d,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),A9=(t,s)=>{const i=t2(s),c=d=>{Tt(d,h=>{t.formatter.has(h.name)||t.formatter.register(h.name,h.format)})};return t.formatter?c(i.customFormats):t.on("init",()=>{c(i.customFormats)}),i.formats},h5=t=>YM(t).map(s=>{const i=A9(t,s);return JM(t)?T9.concat(i):i}).getOr(T9),O9=t=>{const s=xs(t);return s.length===1&&Uo(s,"title")},p5=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),g5=(t,s,i,c)=>{const d=E=>p5(E,i,c),h=E=>{const R=x(E.items);return{...E,type:"submenu",getStyleItems:D(R)}},p=E=>{const R=ve(E.name)?E.name:Nt(E.title),B=`custom-${R}`,F={...E,type:"formatter",format:B,isSelected:i(B),getStylePreview:c(B)};return t.formatter.register(R,F),F},x=E=>Ze(E,R=>B3(R)?h(R):I3(R)?d(R):O9(R)?{...R,type:"separator"}:p(R));return x(s)},D9=t=>{const s=x=>()=>t.formatter.match(x),i=x=>()=>{const E=t.formatter.get(x);return E!==void 0?M.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(x))}):M.none()},c=Xt([]),d=Xt([]),h=Xt(!1);return t.on("PreInit",x=>{const E=h5(t),R=g5(t,E,s,i);c.set(R)}),t.on("addStyleModifications",x=>{const E=g5(t,x.items,s,i);d.set(E),h.set(x.replace)}),{getData:()=>{const x=h.get()?[]:c.get(),E=d.get();return x.concat(E)}}},R9=t=>{let c=0;const d=()=>c>0,h=x=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Vs(x.tooltipText)]}];return{getConfig:x=>({delayForShow:()=>d()?60:300,delayForHide:D(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:h(x),onShow:(E,R)=>{c++,x.onShow&&x.onShow(E,R)},onHide:()=>{c--}}),getComponents:h}},M9=t=>Xe(t)&&t.nodeType===1,v5=Uf.trim,n2=t=>s=>!!(M9(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),P9=n2("true"),b5=n2("false"),y5=(t,s,i,c,d)=>({type:t,title:s,url:i,level:c,attach:d}),w5=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return P9(s)}return!1},N9=(t,s)=>Ze(na(be.fromDom(s),t),i=>i.dom),C5=t=>t.innerText||t.textContent,x5=t=>t.id?t.id:Nt("h"),XG=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,YG=t=>XG(t)&&E5(t),S5=t=>t&&/^(H[1-6])$/.test(t.nodeName),E5=t=>w5(t)&&!b5(t),B9=t=>S5(t)&&E5(t),_5=t=>S5(t)?parseInt(t.nodeName.substr(1),10):0,$3=t=>{var s;const i=x5(t),c=()=>{t.id=i};return y5("header",(s=C5(t))!==null&&s!==void 0?s:"","#"+i,_5(t),c)},I9=t=>{const s=t.id||t.name,i=C5(t);return y5("anchor",i||"#"+s,"#"+s,0,ae)},L9=t=>Ze(ao(t,B9),$3),T5=t=>Ze(ao(t,YG),I9),$9=t=>N9("h1,h2,h3,h4,h5,h6,a:not([href])",t),F9=t=>v5(t.title).length>0,H9={find:t=>{const s=$9(t);return ao(L9(s).concat(T5(s)),F9)}},x0="tinymce-url-history",F3=5,k5=t=>ve(t)&&/^https?/.test(t),z9=t=>et(t)&&t.length<=F3&&li(t,k5),A5=t=>He(t)&&ui(t,s=>!z9(s)).isNone(),O5=()=>{const t=D1.getItem(x0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+x0+" was not valid JSON",i),{};throw i}return A5(s)?s:(console.log("Local storage "+x0+" was not valid format",s),{})},D5=t=>{if(!A5(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));D1.setItem(x0,JSON.stringify(t))},V9=t=>{const s=O5();return wt(s,t).getOr([])},F_=(t,s)=>{if(!k5(t))return;const i=O5(),c=wt(i,s).getOr([]),d=ao(c,h=>h!==t);i[s]=[t].concat(d).slice(0,F3),D5(i)},R5=t=>!!t,H_=t=>os(Uf.makeMap(t,/[, ]/),R5),H3=t=>M.from(oP(t)),z3=t=>{const s=M.from(bE(t)).filter(R5).map(H_);return H3(t).fold(Gn,i=>s.fold(Zt,c=>xs(c).length>0?c:!1))},o2=(t,s)=>{const i=z3(t);return Bn(i)?i?H3(t):M.none():i[s]?H3(t):M.none()},M5=(t,s)=>o2(t,s).map(i=>c=>bi.nu(d=>{const h=(x,E)=>{if(!ve(x))throw new Error("Expected value to be string");if(E!==void 0&&!He(E))throw new Error("Expected meta to be a object");d({value:x,meta:E})},p={filetype:s,fieldname:c.fieldname,...M.from(c.meta).getOr({})};i.call(t,h,c.value,p)})),P5=t=>M.from(t).filter(ve).getOrUndefined(),N5=t=>sP(t)?M.some({targets:H9.find(t.getBody()),anchorTop:P5(MO(t)),anchorBottom:P5(rP(t))}):M.none(),B5=t=>M.from(DO(t)),I5=t=>({getHistory:V9,addToHistory:F_,getLinkInformation:()=>N5(t),getValidationHandler:()=>B5(t),getUrlPicker:s=>M5(t,s)}),U9=(t,s,i,c)=>{const d=Xt(!1),h=_9(s),p={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:vl.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:R9(t.dialog)},x=I5(s),E=D9(s),R=x9(s),B=E9(s),F=()=>d.get(),U=Se=>d.set(Se),j={shared:{providers:p,anchors:w9(s,i,c,h.isPositionedAtTop),header:h},urlinput:x,styles:E,colorinput:R,dialog:B,isContextMenuOpen:F,setContextMenuState:U},X={...j,shared:{...j.shared,interpreter:Se=>i5(Se,{},X),getSink:t.popup}},oe={...j,shared:{...j.shared,interpreter:Se=>i5(Se,{},oe),getSink:t.dialog}};return{popup:X,dialog:oe}},V3=(t,s,i)=>{const c=($e,yn)=>{Tt([s,...i],Mt=>{Mt.broadcastEvent($e,yn)})},d=($e,yn)=>{Tt([s,...i],Mt=>{Mt.broadcastOn([$e],yn)})},h=$e=>d(Df(),{target:$e.target}),p=mv(),x=gi(p,"touchstart",h),E=gi(p,"touchmove",$e=>c(rk(),$e)),R=gi(p,"touchend",$e=>c(sx(),$e)),B=gi(p,"mousedown",h),F=gi(p,"mouseup",$e=>{$e.raw.button===0&&d(yw(),{target:$e.target})}),U=$e=>d(Df(),{target:be.fromDom($e.target)}),j=$e=>{$e.button===0&&d(yw(),{target:be.fromDom($e.target)})},X=()=>{Tt(t.editorManager.get(),$e=>{t!==$e&&$e.dispatch("DismissPopups",{relatedTarget:t})})},oe=$e=>c(Av(),Ux($e)),Se=$e=>{d(vp(),{}),c(Sm(),Ux($e))},ue=ms(be.fromDom(t.getElement())),ye=wr(ue,"scroll",$e=>{requestAnimationFrame(()=>{const yn=t.getContainer();if(yn!=null){const on=M1(t,s.element).map(qt=>[qt.element,...qt.others]).getOr([]);Tr(on,qt=>uo(qt,$e.target))&&(t.dispatch("ElementScroll",{target:$e.target.dom}),c(my(),$e))}})}),me=()=>d(vp(),{}),We=$e=>{$e.state&&d(Df(),{target:be.fromDom(t.getContainer())})},ze=$e=>{d(Df(),{target:be.fromDom($e.relatedTarget.getContainer())})},Ye=$e=>t.dispatch("focusin",$e),pt=$e=>t.dispatch("focusout",$e);t.on("PostRender",()=>{t.on("click",U),t.on("tap",U),t.on("mouseup",j),t.on("mousedown",X),t.on("ScrollWindow",oe),t.on("ResizeWindow",Se),t.on("ResizeEditor",me),t.on("AfterProgressState",We),t.on("DismissPopups",ze),Tt([s,...i],$e=>{$e.element.dom.addEventListener("focusin",Ye),$e.element.dom.addEventListener("focusout",pt)})}),t.on("remove",()=>{t.off("click",U),t.off("tap",U),t.off("mouseup",j),t.off("mousedown",X),t.off("ScrollWindow",oe),t.off("ResizeWindow",Se),t.off("ResizeEditor",me),t.off("AfterProgressState",We),t.off("DismissPopups",ze),Tt([s,...i],$e=>{$e.element.dom.removeEventListener("focusin",Ye),$e.element.dom.removeEventListener("focusout",pt)}),B.unbind(),x.unbind(),E.unbind(),R.unbind(),F.unbind(),ye.unbind()}),t.on("detach",()=>{Tt([s,...i],kS),Tt([s,...i],$e=>$e.destroy())})},xr=wA,jf=Ow,W9=D([xe("shell",!1),je("makeItem"),xe("setupItem",ae),ic.field("listBehaviours",[Tn])]),L5=Za({name:"items",overrides:()=>({behaviours:at([Tn.config({})])})}),Z9=D([L5]),$5=D("CustomList"),U3=(t,s,i,c)=>{const d=(x,E)=>{p(x).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},R=>{const B=Tn.contents(R),F=E.length,U=F-B.length,j=U>0?qo(U,()=>t.makeItem()):[],X=B.slice(F);Tt(X,Se=>Tn.remove(R,Se)),Tt(j,Se=>Tn.append(R,Se));const oe=Tn.contents(R);Tt(oe,(Se,ue)=>{t.setupItem(x,Se,E[ue],ue)})})},h=t.shell?{behaviours:[Tn.config({})],components:[]}:{behaviours:[],components:s},p=x=>t.shell?M.some(x):Ro(x,t,"items");return{uid:t.uid,dom:t.dom,components:h.components,behaviours:Mr(t.listBehaviours,h.behaviours),apis:{setItems:d}}},z_=Ti({name:$5(),configFields:W9(),partFields:Z9(),factory:U3,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),S0=D([je("dom"),xe("shell",!0),Rr("toolbarBehaviours",[Tn])]),j9=D([Za({name:"groups",overrides:()=>({behaviours:at([Tn.config({})])})})]),W3=(t,s,i,c)=>{const d=(x,E)=>{h(x).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},R=>{Tn.set(R,E)})},h=x=>t.shell?M.some(x):Ro(x,t,"groups"),p=t.shell?{behaviours:[Tn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Mr(t.toolbarBehaviours,p.behaviours),apis:{setGroups:d,refresh:ae},domModification:{attributes:{role:"group"}}}},Jd=Ti({name:"Toolbar",configFields:S0(),partFields:j9(),factory:W3,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),q9=ae,G9=Gn,F5=D([]);var K9=Object.freeze({__proto__:null,setup:q9,isDocked:G9,getBehaviours:F5});const Z3=t=>(Yi(Z(t,"position"),"fixed")?M.none():xh(t)).orThunk(()=>{const c=be.fromTag("span");return Ja(t).bind(d=>{Js(d,c);const h=xh(c);return Xc(c),h})}),H5=t=>Z3(t).map(Ys).getOrThunk(()=>vn(0,0)),z5=(t,s)=>{const i=t.element;Ts(i,s.transitionClass),Os(i,s.fadeOutClass),Ts(i,s.fadeInClass),s.onShow(t)},X9=(t,s)=>{const i=t.element;Ts(i,s.transitionClass),Os(i,s.fadeInClass),Ts(i,s.fadeOutClass),s.onHide(t)},r2=(t,s)=>t.y<s.bottom&&t.bottom>s.y,V5=(t,s)=>t.y>=s.y,U5=(t,s)=>t.bottom<=s.bottom,i2=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),V_=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),j3=t=>t.box.x-t.win.x,Y9=(t,s,i)=>{const c=s.win,d=s.box,h=j3(s);return hr(t,p=>{switch(p){case"bottom":return U5(d,i.bounds)?M.none():M.some(V_(c,h,i));case"top":return V5(d,i.bounds)?M.none():M.some(i2(c,h,i));default:return M.none()}}).getOr({location:"no-dock"})},J9=(t,s,i)=>li(t,c=>{switch(c){case"bottom":return U5(s,i.bounds);case"top":return V5(s,i.bounds)}}),Q9=(t,s)=>{const i=s.optScrollEnv.fold(D(t.bounds.y),c=>c.scrollElmTop+(t.bounds.y-c.currentScrollTop));return vn(t.bounds.x,i)},eU=(t,s)=>{const i=s.optScrollEnv.fold(D(t.y),c=>t.y+c.currentScrollTop-c.scrollElmTop);return vn(t.x,i)},q3=(t,s,i)=>i.getInitialPos().map(c=>{const d=Q9(c,s);return{box:vr(d.left,d.top,to(t),Pe(t)),location:c.location}}),W5=(t,s,i,c,d)=>{const h=eU(s,i),p=vr(h.left,h.top,s.width,s.height);c.setInitialPos({style:J(t),position:I(t,"position")||"static",bounds:p,location:d.location})},tU=(t,s,i,c,d)=>{c.getInitialPos().fold(()=>W5(t,s,i,c,d),()=>ae)},Z5=(t,s,i)=>i.getInitialPos().bind(c=>{var d;switch(i.clearInitialPos(),c.position){case"static":return M.some({morph:"static"});case"absolute":const h=Z3(t).getOr(Xr()),p=Ps(h),x=(d=h.dom.scrollTop)!==null&&d!==void 0?d:0;return M.some({morph:"absolute",positionCss:cl("absolute",wt(c.style,"left").map(E=>s.x-p.x),wt(c.style,"top").map(E=>s.y-p.y+x),wt(c.style,"right").map(E=>p.right-s.right),wt(c.style,"bottom").map(E=>p.bottom-s.bottom))});default:return M.none()}}),eK=(t,s,i)=>q3(t,s,i).filter(({box:c})=>J9(i.getModes(),c,s)).bind(({box:c})=>Z5(t,c,i)),G3=t=>{switch(t.location){case"top":return M.some({morph:"fixed",positionCss:cl("fixed",M.some(t.leftX),M.some(t.topY),M.none(),M.none())});case"bottom":return M.some({morph:"fixed",positionCss:cl("fixed",M.some(t.leftX),M.none(),M.none(),M.some(t.bottomY))});default:return M.none()}},j5=(t,s,i)=>{const c=Ps(t),d=Li(),h=Y9(i.getModes(),{win:d,box:c},s);return h.location==="top"||h.location==="bottom"?(W5(t,c,s,i,h),G3(h)):M.none()},q5=(t,s,i)=>eK(t,s,i).orThunk(()=>s.optScrollEnv.bind(c=>q3(t,s,i)).bind(({box:c,location:d})=>{const h=Li(),p=j3({win:h,box:c}),x=d==="top"?i2(h,p,s):V_(h,p,s);return G3(x)})),U_=(t,s,i)=>{const c=t.element;return Yi(Z(c,"position"),"fixed")?q5(c,s,i):j5(c,s,i)},G5=(t,s,i)=>{const c=t.element;return q3(c,s,i).bind(({box:d})=>Z5(c,d,i))},nU=(t,s,i,c)=>{const d=Ps(t),h=Li(),p=j3({win:h,box:d}),x=c(h,p,s);return x.location==="bottom"||x.location==="top"?(tU(t,d,s,i,x),G3(x)):M.none()},K5=(t,s,i)=>{i.setDocked(!1),Tt(["left","right","top","bottom","position"],c=>se(t.element,c)),s.onUndocked(t)},K3=(t,s,i,c)=>{const d=c.position==="fixed";i.setDocked(d),Gy(t.element,c),(d?s.onDocked:s.onUndocked)(t)},X5=(t,s,i,c,d=!1)=>{s.contextual.each(h=>{h.lazyContext(t).each(p=>{const x=r2(p,c.bounds);x!==i.isVisible()&&(i.setVisible(x),d&&!x?(Td(t.element,[h.fadeOutClass]),h.onHide(t)):(x?z5:X9)(t,h))})})},Y5=(t,s,i,c,d)=>{X5(t,s,i,c,!0),K3(t,s,i,d.positionCss)},oU=(t,s,i,c,d)=>{switch(d.morph){case"static":return K5(t,s,i);case"absolute":return K3(t,s,i,d.positionCss);case"fixed":return Y5(t,s,i,c,d)}},sU=(t,s,i)=>{const c=s.lazyViewport(t);X5(t,s,i,c),U_(t,c,i).each(d=>{oU(t,s,i,c,d)})},J5=(t,s,i)=>{const c=t.element;i.setDocked(!1);const d=s.lazyViewport(t);G5(t,d,i).each(h=>{switch(h.morph){case"static":{K5(t,s,i);break}case"absolute":{K3(t,s,i,h.positionCss);break}}}),i.setVisible(!0),s.contextual.each(h=>{Va(c,[h.fadeInClass,h.fadeOutClass,h.transitionClass]),h.onShow(t)}),a2(t,s,i)},a2=(t,s,i)=>{t.getSystem().isConnected()&&sU(t,s,i)},Q5=(t,s,i)=>{i.isDocked()&&J5(t,s,i)},X3=t=>(s,i,c)=>{const d=i.lazyViewport(s);nU(s.element,d,c,t).each(p=>{Y5(s,i,c,d,p)})},rU=X3(i2),iU=X3(V_);var c2=Object.freeze({__proto__:null,refresh:a2,reset:Q5,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,c)=>i.setModes(c),forceDockToTop:rU,forceDockToBottom:iU}),eL=Object.freeze({__proto__:null,events:(t,s)=>Qo([Zh(Ll(),(i,c)=>{t.contextual.each(d=>{za(i.element,d.transitionClass)&&(Va(i.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(i)),c.stop()})}),Ie(Av(),(i,c)=>{a2(i,t,s)}),Ie(my(),(i,c)=>{a2(i,t,s)}),Ie(Sm(),(i,c)=>{Q5(i,t,s)})])}),tL=[Ea("contextual",[er("fadeInClass"),er("fadeOutClass"),er("transitionClass"),kr("lazyContext"),oo("onShow"),oo("onShown"),oo("onHide"),oo("onHidden")]),_s("lazyViewport",()=>({bounds:Li(),optScrollEnv:M.none()})),wd("modes",["top","bottom"],Qr),oo("onDocked"),oo("onUndocked")],nK=Object.freeze({__proto__:null,init:t=>{const s=Xt(!1),i=Xt(!0),c=ts(),d=Xt(t.modes),h=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${d.get().join(",")}`;return wc({isDocked:s.get,setDocked:s.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:h})}});const rr=qr({fields:tL,name:"docking",active:eL,apis:c2,state:nK}),J3=D(Nt("toolbar-height-change")),qf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},nL="tox-tinymce--toolbar-sticky-on",oL="tox-tinymce--toolbar-sticky-off",_0=(t,s)=>{const i=va(s),d=Al(s).dom.innerHeight,h=Qi(i),p=be.fromDom(t.elm),x=Ii(p),E=Pe(p),R=x.y,B=R+E,F=Ys(s),U=Pe(s),j=F.top,X=j+U,oe=Math.abs(j-h.top)<2,Se=Math.abs(X-(h.top+d))<2;if(oe&&R<X)fv(h.left,R-U,i);else if(Se&&B>j){const ue=R-d+E+U;fv(h.left,ue,i)}},Fp=(t,s)=>Uo(rr.getModes(t),s),l2=t=>{const s=c=>At(c)+(parseInt(I(c,"margin-top"),10)||0)+(parseInt(I(c,"margin-bottom"),10)||0),i=t.element;Qa(i).each(c=>{const d="padding-"+rr.getModes(t)[0];if(rr.isDocked(t)){const h=to(c);b(i,"width",h+"px"),b(c,d,s(i)+"px")}else se(i,"width"),se(c,d)})},sL=(t,s)=>{s?(Os(t,qf.fadeOutClass),Td(t,[qf.transitionClass,qf.fadeInClass])):(Os(t,qf.fadeInClass),Td(t,[qf.fadeOutClass,qf.transitionClass]))},rL=(t,s)=>{const i=be.fromDom(t.getContainer());s?(Ts(i,nL),Os(i,oL)):(Ts(i,oL),Os(i,nL))},Q3=(t,s)=>{const i=va(s);al(i).filter(c=>!uo(s,c)).filter(c=>uo(c,be.fromDom(i.dom.body))||Na(t,c)).each(()=>_c(s))},lU=(t,s)=>ni(t).orThunk(()=>s().toOptional().bind(i=>ni(i.element))),u2=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(rr.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(l2)}),t.on("SkinLoaded",()=>{i().each(c=>{rr.isDocked(c)?rr.reset(c):rr.refresh(c)})}),t.on("FullscreenStateChanged",()=>{i().each(rr.reset)})),t.on("AfterScrollIntoView",c=>{i().each(d=>{rr.refresh(d);const h=d.element;vs(h)&&_0(c,h)})}),t.on("PostRender",()=>{rL(t,!1)})},iL=t=>t().map(rr.isDocked).getOr(!1),uU=()=>[Wa.config({channels:{[J3()]:{onReceive:l2}}})],aL=(t,s)=>{const i=ts(),c=s.getSink,d=x=>{c().each(E=>x(E.element))},h=x=>{t.inline||l2(x),rL(t,rr.isDocked(x)),x.getSystem().broadcastOn([vp()],{}),c().each(E=>E.getSystem().broadcastOn([vp()],{}))},p=t.inline?[]:uU();return[tn.config({}),rr.config({contextual:{lazyContext:x=>{const E=At(x.element),R=t.inline?t.getContentAreaContainer():t.getContainer();return M.from(R).map(B=>{const F=Ps(be.fromDom(B));return M1(t,x.element).fold(()=>{const j=F.height-E,X=F.y+(Fp(x,"top")?0:E);return vr(F.x,X,F.width,j)},j=>{const X=K0(F,P1(j)),oe=Fp(x,"top")?X.y:X.y+E;return vr(X.x,oe,X.width,X.height-E)})})},onShow:()=>{d(x=>sL(x,!0))},onShown:x=>{d(E=>Va(E,[qf.transitionClass,qf.fadeInClass])),i.get().each(E=>{Q3(x.element,E),i.clear()})},onHide:x=>{lU(x.element,c).fold(i.clear,i.set),d(E=>sL(E,!1))},onHidden:()=>{d(x=>Va(x,[qf.transitionClass]))},...qf},lazyViewport:x=>M1(t,x.element).fold(()=>{const R=Li(),B=tP(t),F=R.y+(Fp(x,"top")?B:0),U=R.height-(Fp(x,"bottom")?B:0);return{bounds:vr(R.x,F,R.width,U),optScrollEnv:M.none()}},R=>({bounds:P1(R),optScrollEnv:M.some({currentScrollTop:R.element.dom.scrollTop,scrollElmTop:Ys(R.element).top})})),modes:[s.header.getDockingMode()],onDocked:h,onUndocked:h}),...p]};var dU=Object.freeze({__proto__:null,setup:u2,isDocked:iL,getBehaviours:aL});const fU=t=>{const s=t.editor,i=t.sticky?aL:F5;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:at(i(s,t.sharedBackstage))}},mU=sn([sr,ei("items",bd([G2([jO,Ar("items",Qr)]),Qr]))].concat(t0)),hU=t=>ls("GroupToolbarButton",mU,t),cL=[xi("text"),xi("tooltip"),xi("icon"),yc("search",!1,bd([Nh,sn([xi("placeholder")])],t=>Bn(t)?t?M.some({placeholder:M.none()}):M.none():M.some(t))),kr("fetch"),_s("onSetup",()=>ae)],eD=sn([sr,...cL]),W_=t=>ls("menubutton",eD,t),pU=sn([sr,Qb,Bc,Lf,qH,BP,_1,Bs("presets","normal",["normal","color","listpreview"]),Mp(1),E1,jH]),Z_=t=>ls("SplitButton",pU,t);var j_=Cr({factory:(t,s)=>{const i=(d,h)=>{const p=Ze(h,x=>{const E={type:"menubutton",text:x.text,fetch:B=>{B(x.getItems())}},R=W_(E).mapError(B=>Ih(B)).getOrDie();return g0(R,"tox-mbtn",s.backstage,M.some("menuitem"))});Tn.set(d,p)},c={focus:Jt.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:at([Tn.config({}),On("menubar-events",[gs(d=>{t.onSetup(d)}),Ie(Cu(),(d,h)=>{us(d.element,".tox-mbtn--active").each(p=>{Hl(h.event.target,".tox-mbtn").each(x=>{uo(p,x)||d.getSystem().getByDom(p).each(E=>{d.getSystem().getByDom(x).each(R=>{Ql.expand(R),Ql.close(E),tn.focus(R)})})})})}),Ie(ol(),(d,h)=>{h.event.prevFocus.bind(p=>d.getSystem().getByDom(p).toOptional()).each(p=>{h.event.newFocus.bind(x=>d.getSystem().getByDom(x).toOptional()).each(x=>{Ql.isOpen(p)&&(Ql.expand(x),Ql.close(p))})})})]),Jt.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),M.some(!0))}),fs.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[je("dom"),je("uid"),je("onEscape"),je("backstage"),xe("onSetup",ae)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const gU="Upgrade",vU="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",bU=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:vU,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:gU}}]}),lL="container",nD=[Rr("slotBehaviours",[])],q_=t=>"<alloy.field."+t+">",yU=t=>{const s=(()=>{const h=[];return{slot:(x,E)=>(h.push(x),LS(lL,q_(x),E)),record:D(h)}})(),i=t(s),c=s.record(),d=Ze(c,h=>Ao({name:h,pname:q_(h)}));return Tb(lL,nD,d,oD,i)},oD=(t,s)=>{const i=oe=>u1(t),c=(oe,Se)=>Ro(oe,t,Se),d=(oe,Se)=>(ue,ye)=>Ro(ue,t,ye).map(me=>oe(me,ye)).getOr(Se),h=oe=>(Se,ue)=>{Tt(ue,ye=>oe(Se,ye))},p=(oe,Se)=>Ss(oe.element,"aria-hidden")!=="true",x=(oe,Se)=>{if(!p(oe)){const ue=oe.element;se(ue,"display"),bs(ue,"aria-hidden"),Gt(oe,Uh(),{name:Se,visible:!0})}},E=(oe,Se)=>{if(p(oe)){const ue=oe.element;b(ue,"display","none"),Et(ue,"aria-hidden","true"),Gt(oe,Uh(),{name:Se,visible:!1})}},R=d(p,!1),B=d(E),F=h(B),U=oe=>F(oe,i()),j=d(x),X={getSlotNames:i,getSlot:c,isShowing:R,hideSlot:B,hideAllSlots:U,showSlot:j};return{uid:t.uid,dom:t.dom,components:s,behaviours:$d(t.slotBehaviours),apis:X}},ca={...os({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>rl(t)),sketch:yU},wU=sn([Bc,Qb,_s("onShow",ae),_s("onHide",ae),_1]),CU=t=>ls("sidebar",wU,t),xU=t=>{const{sidebars:s}=t.ui.registry.getAll();Tt(xs(s),i=>{const c=s[i],d=()=>Yi(M.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:c.icon,tooltip:c.tooltip,onAction:h=>{t.execCommand("ToggleSidebar",!1,i),h.setActive(d())},onSetup:h=>{h.setActive(d());const p=()=>h.setActive(d());return t.on("ToggleSidebar",p),()=>{t.off("ToggleSidebar",p)}}})})},sK=t=>({element:()=>t.element.dom}),rK=(t,s)=>{const i=Ze(xs(s),c=>{const d=s[c],h=Bl(CU(d));return{name:c,getApi:sK,onSetup:h.onSetup,onShow:h.onShow,onHide:h.onHide}});return Ze(i,c=>{const d=Xt(ae);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:CC.unnamedEvents([vi(c,d),Da(c,d),Ie(Uh(),(h,p)=>{const x=p.event;gn(i,R=>R.name===x.name).each(R=>{(x.visible?R.onShow:R.onHide)(R.getApi(h))})})])})})},uL=t=>ca.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:rK(s,t),slotBehaviours:CC.unnamedEvents([gs(i=>ca.hideAllSlots(i))])})),SU=(t,s,i)=>{Xn.getCurrent(t).each(d=>{Tn.set(d,[uL(s)]);const h=i==null?void 0:i.toLowerCase();ve(h)&&io(s,h)&&Xn.getCurrent(d).each(p=>{ca.showSlot(p,h),Lc.immediateGrow(d),se(d.element,"width"),d2(t.element,"region")})})},d2=(t,s)=>{Et(t,"role",s)},EU=(t,s)=>{Xn.getCurrent(t).each(c=>{Xn.getCurrent(c).each(h=>{Lc.hasGrown(c)?ca.isShowing(h,s)?(Lc.shrink(c),d2(t.element,"presentation")):(ca.hideAllSlots(h),ca.showSlot(h,s),d2(t.element,"region")):(ca.hideAllSlots(h),ca.showSlot(h,s),Lc.grow(c),d2(t.element,"region"))})})},_U=t=>Xn.getCurrent(t).bind(i=>Lc.isGrowing(i)||Lc.hasGrown(i)?Xn.getCurrent(i).bind(h=>gn(ca.getSlotNames(h),p=>ca.isShowing(h,p))):M.none()),sD=Nt("FixSizeEvent"),rD=Nt("AutoSizeEvent"),TU=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:at([fs.config({}),tn.config({}),Lc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Xn.getCurrent(s).each(ca.hideAllSlots),Mn(s,rD)},onGrown:s=>{Mn(s,rD)},onStartGrow:s=>{Gt(s,sD,{width:Z(s.element,"width").getOr("")})},onStartShrink:s=>{Gt(s,sD,{width:to(s.element)+"px"})}}),Tn.config({}),Xn.config({find:s=>{const i=Tn.contents(s);return ln(i)}})])}],behaviours:at([yl.childAt(0),On("sidebar-sliding-events",[Ie(sD,(s,i)=>{b(s.element,"width",i.event.width)}),Ie(rD,(s,i)=>{se(s.element,"width")})])])});var AU=Object.freeze({__proto__:null,block:(t,s,i,c)=>{Et(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),h=at([Jt.config({mode:"special",onTab:()=>M.some(!0),onShiftTab:()=>M.some(!0)}),tn.config({})]),p=c(d,h),x=d.getSystem().build(p);Tn.append(d,xc(x)),x.hasConfigured(Jt)&&s.focus&&Jt.focusIn(x),i.isBlocked()||s.onBlock(t),i.blockWith(()=>Tn.remove(d,x))},unblock:(t,s,i)=>{bs(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()},isBlocked:(t,s,i)=>i.isBlocked()}),cK=[_s("getRoot",M.none),Ei("focus",!0),oo("onBlock"),oo("onUnblock")],dL=Object.freeze({__proto__:null,init:()=>{const t=Mk(),s=i=>{t.set({destroy:i})};return wc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const td=qr({fields:cK,name:"blocking",apis:AU,state:dL}),OU=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ih('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),fL=t=>Xn.getCurrent(t).each(s=>_c(s.element,!0)),Cl=(t,s)=>{const i="tabindex",c=`data-mce-${i}`;M.from(t.iframeElement).map(be.fromDom).each(d=>{s?(Xs(d,i).each(h=>Et(d,c,h)),Et(d,i,-1)):(bs(d,i),Xs(d,c).each(h=>{Et(d,i,h),bs(d,c)}))})},DU=(t,s,i,c)=>{const d=s.element;if(Cl(t,i),i)td.block(s,OU(c)),se(d,"display"),bs(d,"aria-hidden"),t.hasFocus()&&fL(s);else{const h=Xn.getCurrent(s).exists(p=>ip(p.element));td.unblock(s),b(d,"display","none"),Et(d,"aria-hidden","true"),h&&t.focus()}},mL=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:at([Tn.config({}),td.config({focus:!1}),Xn.config({find:s=>ln(s.components())})]),components:[]}),hL=t=>t.type==="focusin",RU=t=>hL(t)?(t.composed?ln(t.composedPath()):M.from(t.target)).map(be.fromDom).filter($o).exists(i=>za(i,"mce-pastebin")):!1,f2=(t,s,i)=>{const c=Xt(!1),d=ts(),h=x=>{c.get()&&!RU(x)&&(x.preventDefault(),fL(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",h),t.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&h(x)})});const p=x=>{x!==c.get()&&(c.set(x),DU(t,s(),x,i.providers),A7(t,x))};t.on("ProgressState",x=>{if(d.on(clearTimeout),Pt(x.time)){const E=eC.setEditorTimeout(t,()=>p(x.state),x.time);d.set(E)}else p(x.state),d.clear()})},MU=(t,s)=>ko(t,(d,h)=>s(h,d.len).fold(D(d),x=>({len:x.finish,list:d.list.concat([x])})),{len:0,list:[]}).list,T0=(t,s,i)=>({within:t,extra:s,withinWidth:i}),pL=(t,s,i)=>{const c=MU(t,(x,E)=>{const R=i(x);return M.some({element:x,start:E,finish:E+R,width:R})}),d=ao(c,x=>x.finish<=s),h=As(d,(x,E)=>x+E.width,0),p=c.slice(d.length);return{within:d,extra:p,withinWidth:h}},Z1=t=>Ze(t,s=>s.element),PU=(t,s,i)=>{const c=Z1(t.concat(s));return T0(c,[],i)},NU=(t,s,i,c)=>{const d=Z1(t).concat([i]);return T0(d,Z1(s),c)},ou=(t,s,i)=>T0(Z1(t),[],i),BU=(t,s,i)=>{const c=pL(s,t,i);return c.extra.length===0?M.some(c):M.none()},G_=(t,s,i,c)=>{const d=BU(t,s,i).getOrThunk(()=>pL(s,t-i(c),i)),h=d.within,p=d.extra,x=d.withinWidth;return p.length===1&&p[0].width<=i(c)?PU(h,p,x):p.length>=1?NU(h,p,c,x):ou(h,p,x)},iD=(t,s)=>{const i=Ze(s,c=>xc(c));Jd.setGroups(t,i)},gL=t=>hr(t,s=>ni(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),vL=(t,s,i)=>{const c=s.builtGroups.get();if(c.length===0)return;const d=Fd(t,s,"primary"),h=Zs.getCoupled(t,"overflowGroup");b(d.element,"visibility","hidden");const p=c.concat([h]),x=gL(p);i([]),iD(d,p);const E=to(d.element),R=G_(E,s.builtGroups.get(),B=>Math.ceil(B.element.dom.getBoundingClientRect().width),h);R.extra.length===0?(Tn.remove(d,h),i([])):(iD(d,R.within),i(R.extra)),se(d.element,"visibility"),_e(d.element),x.each(tn.focus)},aD=D([Rr("splitToolbarBehaviours",[Zs]),Ke("builtGroups",()=>Xt([]))]),IU=D([il(["overflowToggledClass"]),hf("getOverflowBounds"),je("lazySink"),Ke("overflowGroups",()=>Xt([])),oo("onOpened"),oo("onClosed")].concat(aD())),LU=D([Ao({factory:Jd,schema:S0(),name:"primary"}),ml({schema:S0(),name:"overflow"}),ml({name:"overflow-button"}),ml({name:"overflow-group"})]),cD=D((t,s)=>{qc(t,Math.floor(s))}),$U=D([il(["toggledClass"]),je("lazySink"),kr("fetch"),hf("getBounds"),Ea("fireDismissalEventInstead",[xe("event",_u())]),ul(),oo("onToggled")]),FU=D([ml({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:at([Nn.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),ml({factory:Jd,schema:S0(),name:"toolbar",overrides:t=>({toolbarBehaviours:at([Jt.config({mode:"cyclic",onEscape:s=>(Ro(s,t,"button").each(tn.focus),M.none())})])})})]),K_=ts(),HU=(t,s)=>{K_.set(!0),X_(t,s),K_.clear()},X_=(t,s)=>{const i=Zs.getCoupled(t,"toolbarSandbox");$n.isOpen(i)?$n.close(i):$n.open(i,s.toolbar())},Y_=(t,s,i,c)=>{const d=i.getBounds.map(p=>p()),h=i.lazySink(t).getOrDie();oi.positionWithinBounds(h,s,{anchor:{type:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:cD()}}},d)},lD=(t,s,i,c,d)=>{Jd.setGroups(s,d),Y_(t,s,i,c),Nn.on(t)},zU=(t,s,i)=>{const c=Cx(),d=(p,x)=>{const E=K_.get().getOr(!1);i.fetch().get(R=>{lD(t,x,i,s.layouts,R),c.link(t.element),E||Jt.focusIn(x)})},h=()=>{Nn.off(t),K_.get().getOr(!1)||tn.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:at([Jt.config({mode:"special",onEscape:p=>($n.close(p),M.some(!0))}),$n.config({onOpen:d,onClose:h,isPartOf:(p,x,E)=>Sf(x,E)||Sf(t,E),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Wa.config({channels:{...Jg({isExtraPart:Gn,...i.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...gb({doReposition:()=>{$n.getState(Zs.getCoupled(t,"toolbarSandbox")).each(p=>{Y_(t,p,i,s.layouts)})}})}})])}},mh=Ti({name:"FloatingToolbarButton",factory:(t,s,i,c)=>({...ii.sketch({...c.button(),action:d=>{X_(d,c)},buttonBehaviours:ic.augment({dump:c.button().buttonBehaviours},[Zs.config({others:{toolbarSandbox:d=>zU(d,i,t)}})])}),apis:{setGroups:(d,h)=>{$n.getState(Zs.getCoupled(d,"toolbarSandbox")).each(p=>{lD(d,p,t,i.layouts,h)})},reposition:d=>{$n.getState(Zs.getCoupled(d,"toolbarSandbox")).each(h=>{Y_(d,h,t,i.layouts)})},toggle:d=>{X_(d,c)},toggleWithoutFocusing:d=>{HU(d,c)},getToolbar:d=>$n.getState(Zs.getCoupled(d,"toolbarSandbox")),isOpen:d=>$n.isOpen(Zs.getCoupled(d,"toolbarSandbox"))}}),configFields:$U(),partFields:FU(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),bL=D([je("items"),il(["itemSelector"]),Rr("tgroupBehaviours",[Jt])]),yL=D([hl({name:"items",unit:"item"})]),VU=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.tgroupBehaviours,[Jt.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),J_=Ti({name:"ToolbarGroup",configFields:bL(),partFields:yL(),factory:VU}),wL=t=>Ze(t,s=>xc(s)),uD=(t,s,i)=>{vL(t,i,c=>{i.overflowGroups.set(c),s.getOpt(t).each(d=>{mh.setGroups(d,wL(c))})})},UU=(t,s,i,c)=>{const d=So(mh.sketch({fetch:()=>bi.nu(h=>{h(wL(t.overflowGroups.get()))}),layouts:{onLtr:()=>[or,dr],onRtl:()=>[dr,or],onBottomLtr:()=>[yr,es],onBottomRtl:()=>[es,yr]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()},onToggled:(h,p)=>t[p?"onOpened":"onClosed"](h)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.splitToolbarBehaviours,[Zs.config({others:{overflowGroup:()=>J_.sketch({...c["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(h,p)=>{t.builtGroups.set(Ze(p,h.getSystem().build)),uD(h,d,t)},refresh:h=>uD(h,d,t),toggle:h=>{d.getOpt(h).each(p=>{mh.toggle(p)})},toggleWithoutFocusing:h=>{d.getOpt(h).each(mh.toggleWithoutFocusing)},isOpen:h=>d.getOpt(h).map(mh.isOpen).getOr(!1),reposition:h=>{d.getOpt(h).each(p=>{mh.reposition(p)})},getOverflow:h=>d.getOpt(h).bind(mh.getToolbar)},domModification:{attributes:{role:"group"}}}},CL=Ti({name:"SplitFloatingToolbar",configFields:IU(),partFields:LU(),factory:UU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),WU=D([il(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),oo("onOpened"),oo("onClosed")].concat(aD())),ZU=D([Ao({factory:Jd,schema:S0(),name:"primary"}),Ao({factory:Jd,schema:S0(),name:"overflow",overrides:t=>({toolbarBehaviours:at([Lc.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Ro(s,t,"overflow-button").each(i=>{Nn.off(i),tn.focus(i)}),t.onClosed(s)},onGrown:s=>{Jt.focusIn(s),t.onOpened(s)},onStartGrow:s=>{Ro(s,t,"overflow-button").each(Nn.on)}}),Jt.config({mode:"acyclic",onEscape:s=>(Ro(s,t,"overflow-button").each(tn.focus),M.some(!0))})])})}),ml({name:"overflow-button",overrides:t=>({buttonBehaviours:at([Nn.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),ml({name:"overflow-group"})]),jU=(t,s)=>Ro(t,s,"overflow").map(Lc.hasGrown).getOr(!1),xL=(t,s)=>{Ro(t,s,"overflow-button").bind(()=>Ro(t,s,"overflow")).each(i=>{dD(t,s),Lc.toggleGrow(i)})},dD=(t,s)=>{Ro(t,s,"overflow").each(i=>{vL(t,s,c=>{const d=Ze(c,h=>xc(h));Jd.setGroups(i,d)}),Ro(t,s,"overflow-button").each(c=>{Lc.hasGrown(i)&&Nn.on(c)}),Lc.refresh(i)})},qU=(t,s,i,c)=>{const d="alloy.toolbar.toggle",h=(p,x)=>{const E=Ze(x,p.getSystem().build);t.builtGroups.set(E)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Mr(t.splitToolbarBehaviours,[Zs.config({others:{overflowGroup:p=>J_.sketch({...c["overflow-group"](),items:[ii.sketch({...c["overflow-button"](),action:x=>{Mn(p,d)}})]})}}),On("toolbar-toggle-events",[Ie(d,p=>{xL(p,t)})])]),apis:{setGroups:(p,x)=>{h(p,x),dD(p,t)},refresh:p=>dD(p,t),toggle:p=>xL(p,t),isOpen:p=>jU(p,t)},domModification:{attributes:{role:"group"}}}},fD=Ti({name:"SplitSlidingToolbar",configFields:WU(),partFields:ZU(),factory:qU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),SL=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[J_.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:at([fs.config({}),tn.config({})])}},m2=t=>J_.sketch(SL(t)),EL=(t,s)=>{const i=gs(c=>{const d=Ze(t.initGroups,m2);Jd.setGroups(c,d)});return at([ju.toolbarButton(t.providers.isDisabled),Gr(),Jt.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),On("toolbar-events",[i])])},_L=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":SL({title:M.none(),items:[]}),"overflow-button":GV({name:"more",icon:M.some("more-drawer"),enabled:!0,tooltip:M.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:M.none(),borderless:!1},M.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:EL(t,s)}},mD=t=>{const s=_L(t),i=4,c=CL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return CL.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,h=Ii(d),p=jc(d),x=Ii(p),E=Math.max(p.dom.scrollHeight,x.height);return vr(h.x+i,x.y,h.width-i*2,E)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},GU=t=>{const s=fD.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=fD.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=_L(t);return fD.sketch({...c,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([J3()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([J3()],{type:"closed"}),t.onToggled(d,!1)}})},j1=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Jd.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Xl.scrolling?["tox-toolbar--scrolling"]:[])},components:[Jd.parts.groups({})],toolbarBehaviours:EL(t,s)})},TL=[Lf,Bc,xi("tooltip"),Bs("buttonType","secondary",["primary","secondary"]),Ei("borderless",!1),kr("onAction")],kL=[...TL,If,Jo("type",["button"])],KU=[...TL,Ei("active",!1),Jo("type",["togglebutton"])],AL={button:kL,togglebutton:KU},uK=[Jo("type",["group"]),wd("buttons",[],br("type",AL))],XU=br("type",{...AL,group:uK}),YU=sn([wd("buttons",[],XU),kr("onShow"),kr("onHide")]),hD=t=>ls("view",YU,t),JU=(t,s)=>{var i,c;const d=t.type==="togglebutton",h=t.icon.map(me=>dh(me,s.icons)).map(So),x=me=>{const We=pt=>{h.map($e=>$e.getOpt(me).each(yn=>{Tn.set(yn,[dh(pt,s.icons)])}))},ze=pt=>{const $e=me.element;pt?(Ts($e,"tox-button--enabled"),Et($e,"aria-pressed",!0)):(Os($e,"tox-button--enabled"),bs($e,"aria-pressed"))},Ye=()=>za(me.element,"tox-button--enabled");if(d)return t.onAction({setIcon:We,setActive:ze,isActive:Ye});if(t.type==="button")return t.onAction({setIcon:We})},E={...t,name:d?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:M.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},R=T3((c=t.buttonType)!==null&&c!==void 0?c:"secondary"),B=d?t.text.map(s.translate):M.some(s.translate(t.text)),F=B.map(Vs),U=E.tooltip.or(B).map(me=>({"aria-label":s.translate(me)})).getOr({}),j=h.map(me=>me.asSpec()),X=Pp([j,F]),oe=t.icon.isSome()&&F.isSome(),Se={tag:"button",classes:R.concat(...t.icon.isSome()&&!oe?["tox-button--icon"]:[]).concat(...oe?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:U},ue=[],ye=I_(E,M.some(x),ue,Se,X,t.tooltip,s);return ii.sketch(ye)},h2=(t,s)=>JU(t,s),OL=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ze(t.buttons,i=>h2(i,s))}),pD=jt().deviceType,gD=pD.isPhone(),QU=pD.isTablet(),DL=t=>{let s=!1;const i=Ze(t.buttons,c=>c.type==="group"?(s=!0,OL(c,t.providers)):h2(c,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...gD||QU?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:at([tn.config({}),Jt.config({mode:"flow",selector:"button, .tox-button",focusInside:th.OnEnterOrSpaceMode})]),components:s?i:[Ku.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Ku.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},k0=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),RL=(t,s,i,c)=>{const d={getPane:h=>xr.getPart(h,t,"pane"),getOnShow:h=>t.viewConfig.onShow,getOnHide:h=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var A0=Ti({name:"silver.View",configFields:[je("viewConfig")],partFields:[Za({factory:{sketch:DL},schema:[je("buttons"),je("providers")],name:"header"}),Za({factory:{sketch:k0},schema:[],name:"pane"})],factory:RL,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const eW=(t,s,i)=>rf(s,(c,d)=>{const h=Bl(hD(c));return t.slot(d,A0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:h,components:[...h.buttons.length>0?[A0.parts.header({buttons:h.buttons,providers:i})]:[],A0.parts.pane({})]}))}),tW=(t,s)=>ca.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:eW(i,t,s),slotBehaviours:CC.unnamedEvents([gs(c=>ca.hideAllSlots(c))])})),Q_=t=>gn(ca.getSlotNames(t),s=>ca.isShowing(t,s)),nW=t=>{const s=t.element;b(s,"display","none"),Et(s,"aria-hidden","true")},oW=t=>{const s=t.element;se(s,"display"),bs(s,"aria-hidden")},ML=t=>({getContainer:D(t)}),vD=(t,s,i)=>{ca.getSlot(t,s).each(c=>{A0.getPane(c).each(d=>{i(c)(ML(d.element.dom))})})},eT=(t,s)=>vD(t,s,A0.getOnShow),bD=(t,s)=>vD(t,s,A0.getOnHide);var tT=Cr({factory:(t,s)=>{const h={setViews:(p,x)=>{Tn.set(p,[tW(x,s.backstage.shared.providers)])},whichView:p=>Xn.getCurrent(p).bind(Q_),toggleView:(p,x,E,R)=>Xn.getCurrent(p).exists(B=>{const F=Q_(B),U=F.exists(X=>R===X),j=ca.getSlot(B,R).isSome();return j&&(ca.hideAllSlots(B),U?(nW(p),x()):(E(),oW(p),ca.showSlot(B,R),eT(B,R)),F.each(X=>bD(B,X))),j})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:at([Tn.config({}),Xn.config({find:p=>{const x=Tn.contents(p);return ln(x)}})]),apis:h}},name:"silver.ViewWrapper",configFields:[je("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,c,d)=>t.toggleView(s,i,c,d),whichView:(t,s)=>t.whichView(s)}});const PL=(t,s,i)=>{let c=!1;const d=p=>{xf(p,".tox-statusbar").each(x=>{I(x,"display")==="none"&&Ss(x,"aria-hidden")==="true"?(se(x,"display"),bs(x,"aria-hidden")):(b(x,"display","none"),Et(x,"aria-hidden","true"))})},h={getSocket:p=>xr.getPart(p,t,"socket"),setSidebar:(p,x,E)=>{xr.getPart(p,t,"sidebar").each(R=>SU(R,x,E))},toggleSidebar:(p,x)=>{xr.getPart(p,t,"sidebar").each(E=>EU(E,x))},whichSidebar:p=>xr.getPart(p,t,"sidebar").bind(_U).getOrNull(),getHeader:p=>xr.getPart(p,t,"header"),getToolbar:p=>xr.getPart(p,t,"toolbar"),setToolbar:(p,x)=>{xr.getPart(p,t,"toolbar").each(E=>{const R=Ze(x,m2);E.getApis().setGroups(E,R)})},setToolbars:(p,x)=>{xr.getPart(p,t,"multiple-toolbar").each(E=>{const R=Ze(x,B=>Ze(B,m2));z_.setItems(E,R)})},refreshToolbar:p=>{xr.getPart(p,t,"toolbar").each(E=>E.getApis().refresh(E))},toggleToolbarDrawer:p=>{xr.getPart(p,t,"toolbar").each(x=>{Xo(x.getApis().toggle,E=>E(x))})},toggleToolbarDrawerWithoutFocusing:p=>{xr.getPart(p,t,"toolbar").each(x=>{Xo(x.getApis().toggleWithoutFocusing,E=>E(x))})},isToolbarDrawerToggled:p=>xr.getPart(p,t,"toolbar").bind(x=>M.from(x.getApis().isOpen).map(E=>E(x))).getOr(!1),getThrobber:p=>xr.getPart(p,t,"throbber"),focusToolbar:p=>{xr.getPart(p,t,"toolbar").orThunk(()=>xr.getPart(p,t,"multiple-toolbar")).each(E=>{Jt.focusIn(E)})},setMenubar:(p,x)=>{xr.getPart(p,t,"menubar").each(E=>{j_.setMenus(E,x)})},focusMenubar:p=>{xr.getPart(p,t,"menubar").each(x=>{j_.focus(x)})},setViews:(p,x)=>{xr.getPart(p,t,"viewWrapper").each(E=>{tT.setViews(E,x)})},toggleView:(p,x)=>xr.getPart(p,t,"viewWrapper").exists(E=>tT.toggleView(E,()=>h.showMainView(p),()=>h.hideMainView(p),x)),whichView:p=>xr.getPart(p,t,"viewWrapper").bind(tT.whichView).getOrNull(),hideMainView:p=>{c=h.isToolbarDrawerToggled(p),c&&h.toggleToolbarDrawer(p),xr.getPart(p,t,"editorContainer").each(x=>{const E=x.element;d(E),b(E,"display","none"),Et(E,"aria-hidden","true")})},showMainView:p=>{c&&h.toggleToolbarDrawer(p),xr.getPart(p,t,"editorContainer").each(x=>{const E=x.element;d(E),se(E,"display"),bs(E,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:h,behaviours:t.behaviours}},sW=jf.optional({factory:j_,name:"menubar",schema:[je("backstage")]}),rW=t=>t.type===Xl.sliding?GU:t.type===Xl.floating?mD:j1,iW=jf.optional({factory:{sketch:t=>z_.sketch({uid:t.uid,dom:t.dom,listBehaviours:at([Jt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>j1({type:t.type,uid:Nt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),M.some(!0))}),setupItem:(s,i,c,d)=>{Jd.setGroups(i,c)},shell:!0})},name:"multiple-toolbar",schema:[je("dom"),je("onEscape")]}),NL=jf.optional({factory:{sketch:t=>{const s=rW(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),M.some(!0)),onToggled:(c,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[je("dom"),je("onEscape"),je("getSink")]}),aW=jf.optional({factory:{sketch:fU},name:"header",schema:[je("dom")]}),cW=jf.optional({factory:{sketch:bU},name:"promotion",schema:[je("dom")]}),yD=jf.optional({name:"socket",schema:[je("dom")]}),lW=jf.optional({factory:{sketch:TU},name:"sidebar",schema:[je("dom")]}),uW=jf.optional({factory:{sketch:mL},name:"throbber",schema:[je("dom")]}),BL=jf.optional({factory:tT,name:"viewWrapper",schema:[je("backstage")]}),dW=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),IL=jf.optional({factory:{sketch:dW},name:"editorContainer",schema:[]});var ns=Ti({name:"OuterContainer",factory:PL,configFields:[je("dom"),je("behaviours")],partFields:[aW,sW,NL,iW,yD,lW,cW,uW,BL,IL],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,c)=>{t.setSidebar(s,i,c)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const LL="file edit view insert format tools table help",$L={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},fW=(t,s,i)=>{const c=eP(i).split(/[ ,]/);return{text:t.title,getItems:()=>Ae(t.items,d=>{const h=d.toLowerCase();return h.trim().length===0?[]:Tr(c,p=>p===h)?[]:h==="separator"||h==="|"?[{type:"separator"}]:s.menuItems[h]?[s.menuItems[h]]:[]})}},wD=t=>t.split(" "),CD=(t,s)=>{const i={...$L,...s.menus},c=xs(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?wD(LL):wD(s.menubar===!1?"":s.menubar),h=ao(d,x=>{const E=io($L,x);return c?E||wt(s.menus,x).exists(R=>io(R,"items")):E}),p=Ze(h,x=>{const E=i[x];return fW({title:E.title,items:wD(E.items)},s,t)});return ao(p,x=>{const E=R=>ve(R)||R.type!=="separator";return x.getItems().length>0&&Tr(x.getItems(),E)})},mW=t=>{const s=()=>{t._skinLoaded=!0,bN(t)};return()=>{t.initialized?s():t.on("init",s)}},hW=(t,s)=>()=>Gu(t,{message:s}),FL=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),p2=(t,s,i,c)=>(t.on("remove",()=>c.unloadRawCss(s)),c.loadRawCss(s,i)),xD=async(t,s)=>{const c="ui/"+EE(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(ve(d))return Promise.resolve(p2(t,c,d,t.ui.styleSheetLoader));{const h=s+"/skin.min.css";return FL(t,h,t.ui.styleSheetLoader)}},pW=async(t,s)=>{if(j0(be.fromDom(t.getElement()))){const d="ui/"+EE(t).getOr("default")+"/skin.shadowdom.css",h=tinymce.Resource.get(d);if(ve(h))return p2(t,d,h,jb.DOM.styleSheetLoader),Promise.resolve();{const p=s+"/skin.shadowdom.min.css";return FL(t,p,jb.DOM.styleSheetLoader)}}},gW=async(t,s)=>{EE(s).fold(()=>{const c=SE(s);c&&s.contentCSS.push(c+(t?"/content.inline":"/content")+".min.css")},c=>{const d="ui/"+c+(t?"/content.inline":"/content")+".css",h=tinymce.Resource.get(d);if(ve(h))p2(s,d,h,s.ui.styleSheetLoader);else{const p=SE(s);p&&s.contentCSS.push(p+(t?"/content.inline":"/content")+".min.css")}});const i=SE(s);if(!PO(s)&&ve(i))return Promise.all([xD(s,i),pW(s,i)]).then()},HL=(t,s)=>gW(t,s).then(mW(s),hW(s,"Skin could not be loaded")),vW=_n(HL,!1),bW=_n(HL,!0),O0=(t,s,i)=>Wo(i)?t.translate(s):t.translate([s,t.translate(i)]),yW=(t,s)=>{const i=(p,x,E,R)=>{const B=t.shared.providers.translate(p.title);if(p.type==="separator")return M.some({type:"separator",text:B});if(p.type==="submenu"){const F=Ae(p.getStyleItems(),U=>c(U,x,R));return x===0&&F.length<=0?M.none():M.some({type:"nestedmenuitem",text:B,enabled:F.length>0,getSubmenuItems:()=>Ae(p.getStyleItems(),U=>c(U,x,R))})}else return M.some({type:"togglemenuitem",text:B,icon:p.icon,active:p.isSelected(R),enabled:!E,onAction:s.onAction(p),...p.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},c=(p,x,E)=>{const R=p.type==="formatter"&&s.isInvalid(p);return x===0?R?[]:i(p,x,!1,E).toArray():i(p,x,R,E).toArray()},d=p=>{const x=s.getCurrentValue(),E=s.shouldHide?0:1;return Ae(p,R=>c(R,E,x))};return{validateItems:d,getFetch:(p,x)=>(E,R)=>{const B=x(),F=d(B),U=h0(F,Wd.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:M.none()});R(U)}}},D0=(t,s)=>{const i=s.dataset,c=i.type==="basic"?()=>Ze(i.data,d=>p5(d,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:yW(t,s),getStyleItems:c}},g2=(t,s,i,c,d,h)=>{const{items:p,getStyleItems:x}=D0(s,i),E=Xt(i.tooltip),R=F=>({getComponent:D(F),setTooltip:U=>{const j=s.shared.providers.translate(U);Et(F.element,"aria-label",j),E.set(U)}}),B=F=>{const U=j=>F.setTooltip(O0(t,c(j.value),j.value));return t.on(d,U),OC(O1(t,"NodeChange",j=>{const X=j.getComponent();i.updateText(X),fn.set(j.getComponent(),!t.selection.isEditable())})(F),()=>t.off(d,U))};return O_({text:i.icon.isSome()?M.none():i.text,icon:i.icon,ariaLabel:M.some(i.tooltip),tooltip:M.none(),role:M.none(),fetch:p.getFetch(s,x),onSetup:B,getApi:R,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ai.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:F=>{if(i.tooltip!==E.get()){const U=s.shared.providers.translate(E.get());Ai.setComponents(F,s.shared.providers.tooltips.getComponents({tooltipText:U}))}}})})]},"tox-tbtn",s.shared,h)},zL=t=>Ze(t,s=>{let i=s,c=s;const d=s.split("=");return d.length>1&&(i=d[0],c=d[1]),{title:i,format:c}}),nT=t=>({type:"basic",data:t});var Hp;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Hp||(Hp={}));const VL=(t,s)=>s===Hp.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),Gf=(t,s,i)=>{const c=t.options.get(s);return{type:"basic",data:zL(VL(c,i))}},UL="Align",WL=D("Alignment {0}"),ZL="left",SD=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],jL=t=>{const s=()=>gn(SD,x=>t.formatter.match(x.format)),i=x=>()=>t.formatter.match(x),c=x=>M.none,d=x=>{const R=s().fold(D(ZL),B=>B.title.toLowerCase());Gt(x,V1,{icon:`align-${R}`}),O7(t,{value:R})},h=nT(SD),p=x=>()=>gn(SD,E=>E.format===x.format).each(E=>t.execCommand(E.command));return{tooltip:O0(t,WL(),ZL),text:M.none(),icon:M.some("align-left"),isSelectedFor:i,getCurrentValue:M.none,getPreviewFor:c,onAction:p,updateText:d,dataset:h,shouldHide:!1,isInvalid:x=>!t.formatter.canApply(x.format)}},wW=(t,s)=>g2(t,s,jL(t),WL,"AlignTextUpdate","align"),CW=(t,s)=>{const i=D0(s,jL(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(UL),onSetup:aa(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},qL=(t,s)=>{const i=s(),c=Ze(i,d=>d.format);return M.from(t.formatter.closest(c)).bind(d=>gn(i,h=>h.format===d))},GL="Blocks",KL=D("Block {0}"),ED="Paragraph",oT=t=>{const s=h=>()=>t.formatter.match(h),i=h=>()=>{const p=t.formatter.get(h);return p?M.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):M.none()},c=h=>{const x=qL(t,()=>d.data).fold(D(ED),E=>E.title);Gt(h,tu,{text:x}),M7(t,{value:x})},d=Gf(t,"block_formats",Hp.SemiColon);return{tooltip:O0(t,KL(),ED),text:M.some(ED),icon:M.none(),isSelectedFor:s,getCurrentValue:M.none,getPreviewFor:i,onAction:EN(t),updateText:c,dataset:d,shouldHide:!1,isInvalid:h=>!t.formatter.canApply(h.format)}},xW=(t,s)=>g2(t,s,oT(t),KL,"BlocksTextUpdate","blocks"),SW=(t,s)=>{const i=D0(s,oT(t));t.ui.registry.addNestedMenuItem("blocks",{text:GL,onSetup:aa(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},EW="Fonts",XL=D("Font {0}"),_D="System Font",_W=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],TD=t=>{const s=t.split(/\s*,\s*/);return Ze(s,i=>i.replace(/^['"]+|['"]+$/g,""))},kD=(t,s)=>s.length>0&&li(s,i=>t.indexOf(i.toLowerCase())>-1),YL=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const i=TD(t.toLowerCase());return kD(i,_W)||kD(i,s)}else return!1},JL=t=>{const s=()=>{const E=X=>X?TD(X)[0]:"",R=t.queryCommandValue("FontName"),B=x.data,F=R?R.toLowerCase():"",U=CE(t);return{matchOpt:gn(B,X=>{const oe=X.format;return oe.toLowerCase()===F||E(oe).toLowerCase()===E(F).toLowerCase()}).orThunk(()=>en(YL(F,U),{title:_D,format:F})),font:R}},i=E=>R=>R.exists(B=>B.format===E),c=()=>{const{matchOpt:E}=s();return E},d=E=>()=>M.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}}),h=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,E.format)})},p=E=>{const{matchOpt:R,font:B}=s(),F=R.fold(D(B),U=>U.title);Gt(E,tu,{text:F}),P7(t,{value:F})},x=Gf(t,"font_family_formats",Hp.SemiColon);return{tooltip:O0(t,XL(),_D),text:M.some(_D),icon:M.none(),isSelectedFor:i,getCurrentValue:c,getPreviewFor:d,onAction:h,updateText:p,dataset:x,shouldHide:!1,isInvalid:Gn}},QL=(t,s)=>g2(t,s,JL(t),XL,"FontFamilyTextUpdate","fontfamily"),TW=(t,s)=>{const i=D0(s,JL(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(EW),onSetup:aa(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},kW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},AW=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),c="\\.",d=x=>`(?:${x})?`,p=`[+-]?(?:${["Infinity",t+c+d(t)+d(i),c+t+d(i),t+d(i)].join("|")})`;return new RegExp(`^(${p})(.*)$`)})(),e$=(t,s)=>Tr(s,i=>Tr(kW[i],c=>t===c)),sT=(t,s)=>M.from(AW.exec(t)).bind(c=>{const d=Number(c[1]),h=c[2];return e$(h,s)?M.some({value:d,unit:h}):M.none()}),t$=(t,s)=>sT(t,s).map(({value:i,unit:c})=>i+c),n$={tab:D(9),escape:D(27),enter:D(13),backspace:D(8),delete:D(46),left:D(37),up:D(38),right:D(39),down:D(40),space:D(32),home:D(36),end:D(35),pageUp:D(33),pageDown:D(34)},OW=(t,s,i,c)=>{let d=M.none();const h=me=>me.map(We=>kt.getValue(We)).getOr(""),p=O1(t,"NodeChange SwitchMode",me=>{const We=me.getComponent();d=M.some(We),i.updateInputValue(We),fn.set(We,!t.selection.isEditable())}),x=me=>({getComponent:D(me)}),E=Xt(ae),R=Nt("custom-number-input-events"),B=(me,We,ze)=>{const Ye=h(d),pt=i.getNewValue(Ye,me),$e=Ye.length-`${pt}`.length,yn=d.map(on=>on.element.dom.selectionStart-$e),Mt=d.map(on=>on.element.dom.selectionEnd-$e);i.onAction(pt,ze),d.each(on=>{kt.setValue(on,pt),We&&(yn.each(qt=>on.element.dom.selectionStart=qt),Mt.each(qt=>on.element.dom.selectionEnd=qt))})},F=(me,We)=>B((ze,Ye)=>ze-Ye,me,We),U=(me,We)=>B((ze,Ye)=>ze+Ye,me,We),j=me=>Qa(me.element).fold(M.none,We=>(_c(We),M.some(!0))),X=me=>ip(me.element)?(Sh(me.element).each(We=>_c(We)),M.some(!0)):M.none(),oe=(me,We,ze,Ye)=>{const pt=Xt(ae),$e=s.shared.providers.translate(ze),yn=Nt("altExecuting"),Mt=O1(t,"NodeChange SwitchMode",qt=>{fn.set(qt.getComponent(),!t.selection.isEditable())}),on=qt=>{fn.isDisabled(qt)||me(!0)};return ii.sketch({dom:{tag:"button",attributes:{"aria-label":$e,"data-mce-name":We},classes:Ye.concat(We)},components:[d3(We,s.shared.providers.icons)],buttonBehaviours:at([fn.config({}),Ai.config(s.shared.providers.tooltips.getConfig({tooltipText:$e})),On(yn,[vi({onSetup:Mt,getApi:x},pt),Da({getApi:x},pt),Ie(tl(),(qt,lo)=>{(lo.event.raw.keyCode===n$.space()||lo.event.raw.keyCode===n$.enter())&&(fn.isDisabled(qt)||me(!1))}),Ie(yf(),on),Ie(wu(),on)])]),eventOrder:{[tl()]:[yn,"keying"],[yf()]:[yn,"alloy.base.behaviour"],[wu()]:[yn,"alloy.base.behaviour"],[Fa()]:["alloy.base.behaviour",yn,"tooltipping"],[$l()]:[yn,"tooltipping"]}})},Se=So(oe(me=>F(!1,me),"minus","Decrease font size",[])),ue=So(oe(me=>U(!1,me),"plus","Increase font size",[])),ye=So({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[x1.sketch({inputBehaviours:at([fn.config({}),On(R,[vi({onSetup:p,getApi:x},E),Da({getApi:x},E)]),On("input-update-display-text",[Ie(tu,(me,We)=>{kt.setValue(me,We.event.text)}),Ie(Vh(),me=>{i.onAction(kt.getValue(me))}),Ie(nl(),me=>{i.onAction(kt.getValue(me))})]),Jt.config({mode:"special",onEnter:me=>(B(pn,!0,!0),M.some(!0)),onEscape:j,onUp:me=>(U(!0,!1),M.some(!0)),onDown:me=>(F(!0,!1),M.some(!0)),onLeft:(me,We)=>(We.cut(),M.none()),onRight:(me,We)=>(We.cut(),M.none())})])})],behaviours:at([tn.config({}),Jt.config({mode:"special",onEnter:X,onSpace:X,onEscape:j}),On("input-wrapper-events",[Ie(Cu(),me=>{Tt([Se,ue],We=>{const ze=be.fromDom(We.get(me).element.dom);ip(ze)&&Xv(ze)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Xe(c)?{"data-mce-name":c}:{}}},components:[Se.asSpec(),ye.asSpec(),ue.asSpec()],behaviours:at([tn.config({}),Jt.config({mode:"flow",focusInside:th.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:me=>ip(me.element)?M.none():(_c(me.element),M.some(!0))})])}},DW="Font sizes",o$=D("Font size {0}"),s$="12pt",RW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},MW={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},r$=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},PW=(t,s)=>/[0-9.]+px$/.test(t)?r$(parseInt(t,10)*72/96,s||0)+"pt":wt(MW,t).getOr(t),NW=t=>wt(RW,t).getOr(""),i$=t=>{const s=()=>{let E=M.none();const R=x.data,B=t.queryCommandValue("FontSize");if(B)for(let F=3;E.isNone()&&F>=0;F--){const U=PW(B,F),j=NW(U);E=gn(R,X=>X.format===B||X.format===U||X.format===j)}return{matchOpt:E,size:B}},i=E=>R=>R.exists(B=>B.format===E),c=()=>{const{matchOpt:E}=s();return E},d=D(M.none),h=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,E.format)})},p=E=>{const{matchOpt:R,size:B}=s(),F=R.fold(D(B),U=>U.title);Gt(E,tu,{text:F}),D7(t,{value:F})},x=Gf(t,"font_size_formats",Hp.Space);return{tooltip:O0(t,o$(),s$),text:M.some(s$),icon:M.none(),isSelectedFor:i,getPreviewFor:d,getCurrentValue:c,onAction:h,updateText:p,dataset:x,shouldHide:!1,isInvalid:Gn}},BW=(t,s)=>g2(t,s,i$(t),o$,"FontSizeTextUpdate","fontsize"),IW=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},LW=16,$W=t=>t>=0,a$=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:c=>Gt(c,tu,{text:s()}),onAction:(c,d)=>t.execCommand("FontSize",!1,c,{skip_focus:!d}),getNewValue:(c,d)=>{sT(c,["unsupportedLength","empty"]);const h=s(),p=sT(c,["unsupportedLength","empty"]).or(sT(h,["unsupportedLength","empty"])),x=p.map(U=>U.value).getOr(LW),E=RO(t),R=p.map(U=>U.unit).filter(U=>U!=="").getOr(E),B=d(x,IW(R).step),F=`${$W(B)?B:x}${R}`;return F!==h&&R7(t,{value:F}),F}}},FW=(t,s)=>OW(t,s,a$(t),"fontsizeinput"),HW=(t,s)=>{const i=D0(s,i$(t));t.ui.registry.addNestedMenuItem("fontsize",{text:DW,onSetup:aa(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},c$="Formats",l$=t=>Wo(t)?"Formats":"Format {0}",AD=(t,s)=>{const i="Formats",c=p=>()=>t.formatter.match(p),d=p=>()=>{const x=t.formatter.get(p);return x!==void 0?M.some({tag:x.length>0&&(x[0].inline||x[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):M.none()},h=p=>{const x=F=>B3(F)?Ae(F.items,x):I3(F)?[{title:F.title,format:F.format}]:[],E=Ae(h5(t),x),B=qL(t,D(E)).fold(D({title:i,tooltipLabel:""}),F=>({title:F.title,tooltipLabel:F.title}));Gt(p,tu,{text:B.title}),xN(t,{value:B.tooltipLabel})};return{tooltip:O0(t,l$(""),""),text:M.some(i),icon:M.none(),isSelectedFor:c,getCurrentValue:M.none,getPreviewFor:d,onAction:EN(t),updateText:h,shouldHide:TO(t),isInvalid:p=>!t.formatter.canApply(p.format),dataset:s}},u$=(t,s)=>{const i={type:"advanced",...s.styles};return g2(t,s,AD(t,i),l$,"StylesTextUpdate","styles")},zW=(t,s)=>{const i={type:"advanced",...s.styles},c=D0(s,AD(t,i));t.ui.registry.addNestedMenuItem("styles",{text:c$,onSetup:aa(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},VW=D([je("toggleClass"),je("fetch"),$m("onExecute"),xe("getHotspot",M.some),xe("getAnchorOverrides",D({})),ul(),$m("onItemExecute"),bo("lazySink"),je("dom"),oo("onOpen"),Rr("splitDropdownBehaviours",[Zs,Jt,tn]),xe("matchWidth",!1),xe("useMinWidth",!1),xe("eventOrder",{}),bo("role")].concat(D4())),UW=Ao({factory:ii,schema:[je("dom")],name:"arrow",defaults:()=>({buttonBehaviours:at([tn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Tu)},buttonBehaviours:at([Nn.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),R0=Ao({factory:ii,schema:[je("dom")],name:"button",defaults:()=>({buttonBehaviours:at([tn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),WW=D([UW,R0,Za({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[je("text")],name:"aria-descriptor"}),ml({schema:[Ny()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(c=>{t.onItemExecute(c,s,i)})}})}),WN()]),ZW=(t,s,i,c)=>{const d=B=>{Xn.getCurrent(B).each(F=>{fo.highlightFirst(F),Jt.focusIn(F)})},h=B=>{A4(t,pn,B,c,d,ra.HighlightMenuAndItem).get(ae)},p=B=>(h(B),M.some(!0)),x=B=>{const F=Fd(B,t,"button");return Tu(F),M.some(!0)},E={...Qo([gs((B,F)=>{Ro(B,t,"aria-descriptor").each(j=>{const X=Nt("aria");Et(j.element,"id",X),Et(B.element,"aria-describedby",X)})})]),...zd(M.some(h))},R={repositionMenus:B=>{Nn.isOn(B)&&GN(B)}};return{uid:t.uid,dom:t.dom,components:s,apis:R,eventOrder:{...t.eventOrder,[$a()]:["disabling","toggling","alloy.base.behaviour"]},events:E,behaviours:Mr(t.splitDropdownBehaviours,[Zs.config({others:{sandbox:B=>{const F=Fd(B,t,"arrow");return O4(t,B,{onOpen:()=>{Nn.on(F),Nn.on(B)},onClose:()=>{Nn.off(F),Nn.off(B)}})}}}),Jt.config({mode:"special",onSpace:x,onEnter:x,onDown:p}),tn.config({}),Nn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},rT=Ti({name:"SplitDropdown",configFields:VW(),partFields:WW(),factory:ZW,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),d$=t=>({isEnabled:()=>!fn.isDisabled(t),setEnabled:s=>fn.set(t,!s),setText:s=>Gt(t,tu,{text:s}),setIcon:s=>Gt(t,V1,{icon:s})}),jW=t=>({setActive:s=>{Nn.set(t,s)},isActive:()=>Nn.isOn(t),isEnabled:()=>!fn.isDisabled(t),setEnabled:s=>fn.set(t,!s),setText:s=>Gt(t,tu,{text:s}),setIcon:s=>Gt(t,V1,{icon:s})}),f$=(t,s)=>t.map(i=>({"aria-label":s.translate(i)})).getOr({}),m$=Nt("focus-button"),OD=(t,s,i,c,d,h)=>{const p=s.map(E=>So(CI(E,"tox-tbtn",d))),x=t.map(E=>So(dh(E,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...f$(i,d),...Xe(h)?{"data-mce-name":h}:{}}},components:Pp([x.map(E=>E.asSpec()),p.map(E=>E.asSpec())]),eventOrder:{[_a()]:["focusing","alloy.base.behaviour",$p],[Fa()]:[$p,"toolbar-group-button-events"]},buttonBehaviours:at([ju.toolbarButton(d.isDisabled),Gr(),On($p,[gs((E,R)=>u3(E)),Ie(tu,(E,R)=>{p.bind(B=>B.getOpt(E)).each(B=>{Tn.set(B,[Vs(d.translate(R.event.text))])})}),Ie(V1,(E,R)=>{x.bind(B=>B.getOpt(E)).each(B=>{Tn.set(B,[dh(R.event.icon,d.icons)])})}),Ie(_a(),(E,R)=>{R.event.prevent(),Mn(E,m$)})])].concat(c.getOr([])))}},DD=(t,s,i,c,d)=>{const h=s.shared,p=Xt(ae),x={toolbarButtonBehaviours:[],getApi:d$,onSetup:t.onSetup},E=[On("toolbar-group-button-events",[vi(x,p),Da(x,p)])];return mh.sketch({lazySink:h.getSink,fetch:()=>bi.nu(R=>{R(Ze(i(t.items),m2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:OD(t.icon,t.text,t.tooltip,M.some(E),h.providers,d),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},h$=(t,s,i,c)=>{var d;const h=Xt(ae),p=OD(t.icon,t.text,t.tooltip,M.none(),i,c);return ii.sketch({dom:p.dom,components:p.components,eventOrder:wI,buttonBehaviours:{...at([On("toolbar-button-events",[yI({onAction:t.onAction,getApi:s.getApi}),vi(s,h),Da(s,h)]),...t.tooltip.map(x=>Ai.config(i.tooltips.getConfig({tooltipText:i.translate(x)+t.shortcut.map(E=>` (${k1(E)})`).getOr("")}))).toArray(),ju.toolbarButton(()=>!t.enabled||i.isDisabled()),Gr()].concat(s.toolbarButtonBehaviours)),[$p]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[$p]}})},qW=(t,s,i)=>RD(t,s,[],i),RD=(t,s,i,c)=>h$(t,{toolbarButtonBehaviours:i.length>0?[On("toolbarButtonWith",i)]:[],getApi:d$,onSetup:t.onSetup},s,c),p$=(t,s,i)=>g$(t,s,[],i),g$=(t,s,i,c)=>h$(t,{toolbarButtonBehaviours:[Tn.config({}),Nn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[On("toolbarToggleButtonWith",i)]:[]),getApi:jW,onSetup:t.onSetup},s,c),GW=(t,s,i)=>c=>bi.nu(d=>s.fetch(d)).map(d=>M.from(R4(Yo(YE(Nt("menu-value"),d,h=>{s.onItemAction(t(c),h)},s.columns,s.presets,Wd.CLOSE_ON_EXECUTE,s.select.getOr(Gn),i),{movement:c0(s.columns,s.presets),menuBehaviours:CC.unnamedEvents(s.columns!=="auto"?[]:[gs((h,p)=>{n4(h,4,wP(s.presets)).each(({numRows:x,numColumns:E})=>{Jt.setGridSize(h,x,E)})})])})))),KW=(t,s,i)=>{const c=Xt(t.tooltip.getOr("")),d=x=>({isEnabled:()=>!fn.isDisabled(x),setEnabled:E=>fn.set(x,!E),setIconFill:(E,R)=>{us(x.element,`svg path[class="${E}"], rect[class="${E}"]`).each(B=>{Et(B,"fill",R)})},setActive:E=>{Et(x.element,"aria-pressed",E),us(x.element,"span").each(R=>{x.getSystem().getByDom(R).each(B=>Nn.set(B,E))})},isActive:()=>us(x.element,"span").exists(E=>x.getSystem().getByDom(E).exists(Nn.isOn)),setText:E=>us(x.element,"span").each(R=>x.getSystem().getByDom(R).each(B=>Gt(B,tu,{text:E}))),setIcon:E=>us(x.element,"span").each(R=>x.getSystem().getByDom(R).each(B=>Gt(B,V1,{icon:E}))),setTooltip:E=>{const R=s.providers.translate(E);Et(x.element,"aria-label",R),c.set(E)}}),h=Xt(ae),p={getApi:d,onSetup:t.onSetup};return rT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...f$(t.tooltip,s.providers),...Xe(i)?{"data-mce-name":i}:{}}},onExecute:x=>{const E=d(x);E.isEnabled()&&t.onAction(E)},onItemExecute:(x,E,R)=>{},splitDropdownBehaviours:at([ju.splitButton(s.providers.isDisabled),Gr(),On("split-dropdown-events",[gs((x,E)=>u3(x)),Ie(m$,tn.focus),vi(p,h),Da(p,h)]),LC.config({}),...t.tooltip.map(x=>Ai.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(x),onShow:E=>{if(c.get()!==x){const R=s.providers.translate(c.get());Ai.setComponents(E,s.providers.tooltips.getComponents({tooltipText:R}))}}})})).toArray()]),eventOrder:{[Fa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[$l()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:GW(d,t,s.providers),parts:{menu:pC(!1,t.columns,t.presets)},components:[rT.parts.button(OD(t.icon,t.text,M.none(),M.some([Nn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),rT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:jM("chevron-down",s.providers.icons)},buttonBehaviours:at([ju.splitButton(s.providers.isDisabled),Gr(),yO()])}),rT.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},XW=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],v2=(t,s)=>(i,c,d,h)=>{const p=t(i).mapError(x=>Ih(x)).getOrDie();return s(p,c,d,h)},YW={button:v2(JO,(t,s,i,c)=>qW(t,s.shared.providers,c)),togglebutton:v2(QO,(t,s,i,c)=>p$(t,s.shared.providers,c)),menubutton:v2(W_,(t,s,i,c)=>g0(t,"tox-tbtn",s,M.none(),!1,c)),splitbutton:v2(Z_,(t,s,i,c)=>KW(t,s.shared,c)),grouptoolbarbutton:v2(hU,(t,s,i,c)=>{const d=i.ui.registry.getAll().buttons,h=x=>q1(i,{buttons:d,toolbar:x,allowToolbarGroups:!1},s,M.none()),p={[nb]:s.shared.header.isPositionedAtTop()?Iu.TopToBottom:Iu.BottomToTop};switch(Ap(i)){case Xl.floating:return DD(t,s,h,p,c);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},v$=(t,s,i,c)=>wt(YW,t.type).fold(()=>(console.error("skipping button defined by",t),M.none()),d=>M.some(d(t,s,i,c))),b$={styles:u$,fontsize:BW,fontsizeinput:FW,fontfamily:QL,blocks:xW,align:wW},JW=t=>{const s=Ze(XW,i=>{const c=ao(i.items,d=>io(t,d)||io(b$,d));return{name:i.name,items:c}});return ao(s,i=>i.items.length>0)},QW=t=>{const s=t.split("|");return Ze(s,i=>({items:i.trim().split(" ")}))},eZ=t=>yo(t,s=>io(s,"name")&&io(s,"items")),iT=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?JW(i):ve(s)?QW(s):eZ(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},tZ=(t,s,i,c,d,h)=>wt(s,i.toLowerCase()).orThunk(()=>h.bind(p=>hr(p,x=>wt(s,x+i.toLowerCase())))).fold(()=>wt(b$,i.toLowerCase()).map(p=>p(t,d)),p=>p.type==="grouptoolbarbutton"&&!c?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),M.none()):v$(p,d,t,i.toLowerCase())),q1=(t,s,i,c)=>{const d=iT(s),h=Ze(d,p=>{const x=Ae(p.items,E=>E.trim().length===0?[]:tZ(t,s.buttons,E,s.allowToolbarGroups,i,c).toArray());return{title:M.from(t.translate(p.name)),items:x}});return ao(h,p=>p.items.length>0)},b2=(t,s,i,c)=>{const d=s.mainUi.outerContainer,h=i.toolbar,p=i.buttons;if(yo(h,ve)){const x=h.map(E=>{const R={toolbar:E,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return q1(t,R,c,M.none())});ns.setToolbars(d,x)}else ns.setToolbar(d,q1(t,i,c,M.none()))},MD=jt(),nZ=MD.os.isiOS()&&MD.os.version.major<=12,oZ=(t,s)=>{const{uiMotherships:i}=s,c=t.dom;let d=t.getWin();const h=t.getDoc().documentElement,p=Xt(vn(d.innerWidth,d.innerHeight)),x=Xt(vn(h.offsetWidth,h.offsetHeight)),E=()=>{const U=p.get();(U.left!==d.innerWidth||U.top!==d.innerHeight)&&(p.set(vn(d.innerWidth,d.innerHeight)),AC(t))},R=()=>{const U=t.getDoc().documentElement,j=x.get();(j.left!==U.offsetWidth||j.top!==U.offsetHeight)&&(x.set(vn(U.offsetWidth,U.offsetHeight)),AC(t))},B=U=>{yN(t,U)};c.bind(d,"resize",E),c.bind(d,"scroll",B);const F=wr(be.fromDom(t.getBody()),"load",R);t.on("hide",()=>{Tt(i,U=>{b(U.element,"display","none")})}),t.on("show",()=>{Tt(i,U=>{se(U.element,"display")})}),t.on("NodeChange",R),t.on("remove",()=>{F.unbind(),c.unbind(d,"resize",E),c.unbind(d,"scroll",B),d=null})},sZ=(t,s,i)=>{Dp(t)&&gp(i.mainUi.mothership.element,i.popupUi.mothership),pp(s,i.dialogUi.mothership)};var rZ=Object.freeze({__proto__:null,render:(t,s,i,c,d)=>{const{mainUi:h,uiMotherships:p}=s,x=Xt(0),E=h.outerContainer;vW(t);const R=be.fromDom(d.targetNode),B=ec(ms(R));gp(R,h.mothership),sZ(t,B,s),t.on("SkinLoaded",()=>{ns.setSidebar(E,i.sidebar,wE(t)),b2(t,s,i,c),x.set(t.getWin().innerWidth),ns.setMenubar(E,CD(t,i)),ns.setViews(E,i.views),oZ(t,s)});const F=ns.getSocket(E).getOrDie("Could not find expected socket element");if(nZ){_(F.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const oe=aI(()=>{t.dispatch("ScrollContent")},20),Se=gi(F.element,"scroll",oe.throttle);t.on("remove",Se.unbind)}nN(t,s),t.addCommand("ToggleSidebar",(oe,Se)=>{ns.toggleSidebar(E,Se),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var oe;return(oe=ns.whichSidebar(E))!==null&&oe!==void 0?oe:""}),t.addCommand("ToggleView",(oe,Se)=>{if(ns.toggleView(E,Se)){const ue=E.element;h.mothership.broadcastOn([Df()],{target:ue}),Tt(p,ye=>{ye.broadcastOn([Df()],{target:ue})}),ft(ns.whichView(E))&&(t.focus(),t.nodeChanged(),ns.refreshToolbar(E))}}),t.addQueryValueHandler("ToggleView",()=>{var oe;return(oe=ns.whichView(E))!==null&&oe!==void 0?oe:""});const U=Ap(t),j=()=>{ns.refreshToolbar(s.mainUi.outerContainer)};(U===Xl.sliding||U===Xl.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const oe=t.getWin().innerWidth;oe!==x.get()&&(j(),x.set(oe))});const X={setEnabled:oe=>{$E(s,!oe)},isEnabled:()=>!fn.isDisabled(E)};return{iframeContainer:F.element.dom,editorContainer:E.element.dom,api:X}}});const y2=t=>/^[0-9\.]+(|px)$/i.test(""+t)?M.some(parseInt(""+t,10)):M.none(),aT=t=>Pt(t)?t+"px":t,w2=(t,s,i)=>{const c=s.filter(h=>t<h),d=i.filter(h=>t>h);return c.or(d).getOr(t)},y$=t=>{const s=xO(t),i=EO(t),c=_O(t);return y2(s).map(d=>w2(d,i,c))},w$=t=>y$(t).getOr(xO(t)),C$=t=>{const s=Gb(t),i=SO(t),c=vE(t);return y2(s).map(d=>w2(d,i,c))},x$=t=>C$(t).getOr(Gb(t)),{ToolbarLocation:PD,ToolbarMode:S$}=hP,iZ=40,aZ=(t,s,i,c,d)=>{const{mainUi:h,uiMotherships:p}=i,x=jb.DOM,E=Xb(t),R=mC(t),B=vE(t).or(C$(t)),F=c.shared.header,U=F.isPositionedAtTop,j=150,X=Ap(t),oe=X===S$.sliding||X===S$.floating,Se=Xt(!1),ue=()=>Se.get()&&!t.removed,ye=Hn=>oe?Hn.fold(D(0),dt=>dt.components().length>1?Pe(dt.components()[1].element):0):0,me=Hn=>{switch(kO(t)){case PD.auto:const dt=ns.getToolbar(h.outerContainer),Bt=ye(dt),kn=Pe(Hn.element)-Bt,cn=Ps(s);if(cn.y>kn)return"top";{const Sn=jc(s),Io=Math.max(Sn.dom.scrollHeight,Pe(Sn));return cn.bottom<Io-kn||Li().bottom<cn.bottom-kn?"bottom":"top"}case PD.bottom:return"bottom";case PD.top:default:return"top"}},We=Hn=>{d.on(dt=>{rr.setModes(dt,[Hn]),F.setDockingMode(Hn);const Bt=U()?Iu.TopToBottom:Iu.BottomToTop;Et(dt.element,nb,Bt)})},ze=()=>{d.on(Hn=>{const dt=B.getOrThunk(()=>rg().width-Fr(s).left-10);b(Hn.element,"max-width",dt+"px")})},Ye=(Hn,dt)=>{d.on(Bt=>{const kn=ns.getToolbar(h.outerContainer),cn=ye(kn),Kt=Ps(s),Sn=pt(t,h.outerContainer.element),Io=()=>Sn.fold(()=>Kt.x,Ki=>{const _l=Ps(Ki);return uo(Ki,Xr())?Kt.x:Kt.x-_l.x}),mo=()=>Sn.fold(()=>U()?Math.max(Kt.y-Pe(Bt.element)+cn,0):Kt.bottom,Ki=>{var _l;const cu=Ps(Ki),uc=(_l=Ki.dom.scrollTop)!==null&&_l!==void 0?_l:0,ov=uo(Ki,Xr())?Math.max(Kt.y-Pe(Bt.element)+cn,0):Kt.y-cu.y+uc-Pe(Bt.element)+cn;return U()?ov:Kt.bottom}),fa=Io(),El=en(Hn,Math.ceil(h.outerContainer.element.dom.getBoundingClientRect().width)).filter(Ki=>Ki>j).map(Ki=>{const _l=dt.getOr(Qi()),cu=window.innerWidth-(fa-_l.left),uc=Math.max(Math.min(Ki,cu),j);return cu<Ki&&b(h.outerContainer.element,"width",uc+"px"),{width:uc+"px"}}).getOr({width:"max-content"}),of={position:"absolute",left:Math.round(fa)+"px",top:mo()+"px"};_(h.outerContainer.element,{...of,...El})})},pt=(Hn,dt)=>Dp(Hn)?Z3(dt):M.none(),$e=()=>{Tt(p,Hn=>{Hn.broadcastOn([vp()],{})})},yn=()=>!E&&(Ys(h.outerContainer.element).left+hs(h.outerContainer.element)>=window.innerWidth-iZ||Z(h.outerContainer.element,"width").isSome())?(b(h.outerContainer.element,"position","absolute"),b(h.outerContainer.element,"left","0px"),se(h.outerContainer.element,"width"),!0):!1,Mt=Hn=>{if(!ue())return;E||ze();const dt=Qi(),Bt=E?!1:yn();if(oe&&ns.refreshToolbar(h.outerContainer),!E){const kn=Qi(),cn=en(dt.left!==kn.left,dt);Ye(Bt,cn),cn.each(Kt=>{fv(Kt.left,kn.top)})}R&&d.on(Hn),$e()},on=()=>E||!R||!ue()?!1:d.get().exists(Hn=>{const dt=F.getDockingMode(),Bt=me(Hn);return Bt!==dt?(We(Bt),!0):!1});return{isVisible:ue,isPositionedAtTop:U,show:()=>{Se.set(!0),b(h.outerContainer.element,"display","flex"),x.addClass(t.getBody(),"mce-edit-focus"),Tt(p,Hn=>{se(Hn.element,"display")}),on(),Dp(t)?Mt(Hn=>rr.isDocked(Hn)?rr.reset(Hn):rr.refresh(Hn)):Mt(rr.refresh)},hide:()=>{Se.set(!1),b(h.outerContainer.element,"display","none"),x.removeClass(t.getBody(),"mce-edit-focus"),Tt(p,Hn=>{b(Hn.element,"display","none")})},update:Mt,updateMode:()=>{on()&&Mt(rr.reset)},repositionPopups:$e}},E$=(t,s)=>{const i=Ps(t);return{pos:s?i.y:i.bottom,bounds:i}},C2=(t,s,i,c)=>{const d=Xt(E$(s,i.isPositionedAtTop())),h=R=>{const{pos:B,bounds:F}=E$(s,i.isPositionedAtTop()),{pos:U,bounds:j}=d.get(),X=F.height!==j.height||F.width!==j.width;d.set({pos:B,bounds:F}),X&&AC(t,R),i.isVisible()&&(U!==B?i.update(rr.reset):X&&(i.updateMode(),i.repositionPopups()))};c||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(rr.reset)),t.on("NodeChange keydown",R=>{requestAnimationFrame(()=>h(R))});let p=0;const x=H1(()=>i.update(rr.refresh),33);t.on("ScrollWindow",()=>{const R=Qi().left;R!==p&&(p=R,x.throttle()),i.updateMode()}),Dp(t)&&t.on("ElementScroll",R=>{i.update(rr.refresh)});const E=ap();E.set(wr(be.fromDom(t.getBody()),"load",R=>h(R.raw))),t.on("remove",()=>{E.clear()})};var cZ=Object.freeze({__proto__:null,render:(t,s,i,c,d)=>{const{mainUi:h}=s,p=ts(),x=be.fromDom(d.targetNode),E=aZ(t,x,s,c,p),R=OO(t);bW(t);const B=()=>{if(p.isSet()){E.show();return}p.set(ns.getHeader(h.outerContainer).getOrDie());const U=IO(t);Dp(t)?(gp(x,h.mothership),gp(x,s.popupUi.mothership)):pp(U,h.mothership),pp(U,s.dialogUi.mothership);const j=()=>{b2(t,s,i,c),ns.setMenubar(h.outerContainer,CD(t,i)),E.show(),C2(t,x,E,R),t.nodeChanged()};R?t.once("SkinLoaded",j):j()};t.on("show",B),t.on("hide",E.hide),R||(t.on("focus",B),t.on("blur",E.hide)),t.on("init",()=>{(t.hasFocus()||R)&&B()}),nN(t,s);const F={show:B,hide:E.hide,setEnabled:U=>{$E(s,!U)},isEnabled:()=>!fn.isDisabled(h.outerContainer)};return{editorContainer:h.outerContainer.element.dom,api:F}}});const lZ=()=>{const t=ts(),s=ts(),i=ts();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const h=t.get().map(x=>x.mothership),p=s.get().map(x=>x.mothership);return h.fold(()=>p.toArray(),x=>p.fold(()=>[x],E=>uo(x.element,E.element)?[x]:[x,E]))},lazyGetInOuterOrDie:(h,p)=>()=>i.get().bind(x=>p(x.outerContainer)).getOrDie(`Could not find ${h} element in OuterContainer`)}},_$="contexttoolbar-show",T$="contexttoolbar-hide",k$=t=>({hide:()=>Mn(t,hg()),getValue:()=>kt.getValue(t)}),A$=(t,s)=>Ie(bI,(i,c)=>{const d=t.get(i),h=k$(d);s.onAction(h,c.event.buttonApi)}),uZ=(t,s,i)=>{const{primary:c,...d}=s.original,h=Bl(JO({...d,type:"button",onAction:ae}));return RD(h,i,[A$(t,s)])},dZ=(t,s,i)=>{const{primary:c,...d}=s.original,h=Bl(QO({...d,type:"togglebutton",onAction:ae}));return g$(h,i,[A$(t,s)])},fZ=t=>t.type==="contextformtogglebutton",mZ=(t,s,i)=>fZ(s)?dZ(t,s,i):uZ(t,s,i),x2=(t,s,i)=>{const c=Ze(s,p=>So(mZ(t,p,i)));return{asSpecs:()=>Ze(c,p=>p.asSpec()),findPrimary:p=>hr(s,(x,E)=>x.primary?M.from(c[E]).bind(R=>R.getOpt(p)).filter(Ne(fn.isDisabled)):M.none())}},ND=(t,s)=>{const i=t.label.fold(()=>({}),h=>({"aria-label":h})),c=So(x1.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:at([Jt.config({mode:"special",onEnter:h=>d.findPrimary(h).map(p=>(Tu(p),!0)),onLeft:(h,p)=>(p.cut(),M.none()),onRight:(h,p)=>(p.cut(),M.none())})])})),d=x2(c,t.commands,s);return[{title:M.none(),items:[c.asSpec()]},{title:M.none(),items:d.asSpecs()}]},hZ={renderContextForm:(t,s,i)=>j1({type:t,uid:Nt("context-toolbar"),initGroups:ND(s,i),onEscape:M.none,cyclicKeying:!0,providers:i}),buildInitGroups:ND},BD=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,ID=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=im(be.fromDom(t.startContainer),t.startOffset).element;return(Ni(i)?Ja(i):M.some(i)).filter($o).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},cT=t=>{const s=t.selection.getRng(),i=ID(s);if(t.inline){const c=Qi();return vr(c.left+i.left,c.top+i.top,i.width,i.height)}else{const c=Ii(be.fromDom(t.getBody()));return vr(c.x+i.left,c.y+i.top,i.width,i.height)}},O$=(t,s)=>s.filter(i=>cr(i)&&af(i)).map(Ii).getOrThunk(()=>cT(t)),pZ=(t,s,i)=>{const c=Math.max(t.x+i,s.x),d=Math.min(t.right-i,s.right);return{x:c,width:d-c}},M0=(t,s,i,c,d,h)=>{const p=be.fromDom(t.getContainer()),x=us(p,".tox-editor-header").getOr(p),E=Ps(x),R=E.y>=s.bottom,B=c&&!R;if(t.inline&&B)return{y:Math.max(E.bottom+h,i.y),bottom:i.bottom};if(t.inline&&!B)return{y:i.y,bottom:Math.min(E.y-h,i.bottom)};const F=d==="line"?Ps(p):s;return B?{y:Math.max(E.bottom+h,i.y),bottom:Math.min(F.bottom-h,i.bottom)}:{y:Math.max(F.y+h,i.y),bottom:Math.min(E.y-h,i.bottom)}},S2=(t,s,i,c=0)=>{const d=rg(window),h=Ps(be.fromDom(t.getContentAreaContainer())),p=xE(t)||_E(t)||dC(t),{x,width:E}=pZ(h,d,c);if(t.inline&&!p)return vr(x,d.y,E,d.height);{const R=s.header.isPositionedAtTop(),{y:B,bottom:F}=M0(t,h,d,R,i,c);return vr(x,B,E,F-B)}},G1=12,lT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},uT={maxHeightFunction:Um(),maxWidthFunction:cD()},D$=(t,s)=>{const i=t.selection.getRng(),c=im(be.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&uo(c.element,s)},dT=(t,s,i)=>{const c=Z(t,"position");b(t,"position",s);const d=i(t);return c.each(h=>b(t,"position",h)),d},LD=t=>t==="node",R$=(t,s,i,c,d)=>{const h=cT(t),p=c.lastElement().exists(x=>uo(i,x));if(D$(t,i))return p?u5:wl;if(p)return dT(s,c.getMode(),()=>BD(h,Ps(s),-20)&&!c.isReposition()?g9:u5);{const x=c.getMode()==="fixed"?d.y+Qi().top:d.y,E=Pe(s)+G1;return x+E<=h.y?wl:QC}},$D=(t,s,i,c)=>{const d=E=>(R,B,F,U,j)=>{const X=R$(t,U,E,i,j),oe={...R,y:j.y,height:j.height};return{...X(oe,B,F,U,j),alwaysFit:!0}},h=E=>LD(c)?[d(E)]:[];return s?{onLtr:E=>[Ws,dr,or,es,yr,jr].concat(h(E)),onRtl:E=>[Ws,or,dr,yr,es,jr].concat(h(E))}:{onLtr:E=>[jr,Ws,es,dr,yr,or].concat(h(E)),onRtl:E=>[jr,Ws,yr,or,es,dr].concat(h(E))}},gZ=(t,s,i,c)=>s==="line"?{bubble:ll(G1,0,lT),layouts:{onLtr:()=>[zy],onRtl:()=>[qv]},overrides:uT}:{bubble:ll(0,G1,lT,1/G1),layouts:$D(t,i,c,s),overrides:uT},fT=(t,s)=>{const i=ao(s,h=>h.predicate(t.dom)),{pass:c,fail:d}=mc(i,h=>h.type==="contexttoolbar");return{contextToolbars:c,contextForms:d}},vZ=t=>{if(t.length<=1)return t;{const s=h=>Tr(t,p=>p.position===h),i=h=>ao(t,p=>p.position===h),c=s("selection"),d=s("node");if(c||d)if(d&&c){const h=i("node"),p=Ze(i("selection"),x=>({...x,position:"node"}));return h.concat(p)}else return i(c?"selection":"node");else return i("line")}},bZ=t=>{if(t.length<=1)return t;{const s=c=>gn(t,d=>d.position===c);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(c=>c.position).fold(()=>[],c=>ao(t,d=>d.position===c))}},mT=(t,s,i)=>{const c=fT(t,s);if(c.contextForms.length>0)return M.some({elem:t,toolbars:[c.contextForms[0]]});{const d=fT(t,i);if(d.contextForms.length>0)return M.some({elem:t,toolbars:[d.contextForms[0]]});if(c.contextToolbars.length>0||d.contextToolbars.length>0){const h=vZ(c.contextToolbars.concat(d.contextToolbars));return M.some({elem:t,toolbars:h})}else return M.none()}},M$=(t,s,i)=>t(s)?M.none():zh(s,c=>{if($o(c)){const{contextToolbars:d,contextForms:h}=fT(c,i.inNodeScope),p=h.length>0?h:bZ(d);return p.length>0?M.some({elem:c,toolbars:p}):M.none()}else return M.none()},t),yZ=(t,s)=>{const i=be.fromDom(s.getBody()),c=p=>uo(p,i),d=p=>!c(p)&&!Na(i,p),h=be.fromDom(s.selection.getNode());return d(h)?M.none():mT(h,t.inNodeScope,t.inEditorScope).orThunk(()=>M$(c,h,t))},wZ=(t,s)=>{const i={},c=[],d=[],h={},p={},x=(B,F)=>{const U=Bl(e7(F));i[B]=U,U.launch.map(j=>{h["form:"+B]={...F.launch,type:j.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(U)}}}),U.scope==="editor"?d.push(U):c.push(U),p[B]=U},E=(B,F)=>{n7(F).each(U=>{F.scope==="editor"?d.push(U):c.push(U),p[B]=U})},R=xs(t);return Tt(R,B=>{const F=t[B];F.type==="contextform"?x(B,F):F.type==="contexttoolbar"&&E(B,F)}),{forms:i,inNodeScope:c,inEditorScope:d,lookupTable:p,formNavigators:h}},P$=Nt("forward-slide"),N$=Nt("backward-slide"),FD=Nt("change-slide-event"),hT="tox-pop--resizing",B$=t=>{const s=Xt([]);return Ds.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),Ds.getContent(i).each(c=>{se(c.element,"visibility")}),Os(i.element,hT),se(i.element,"width")},inlineBehaviours:at([On("context-toolbar-events",[Zh(Ll(),(i,c)=>{c.event.raw.propertyName==="width"&&(Os(i.element,hT),se(i.element,"width"))}),Ie(FD,(i,c)=>{const d=i.element;se(d,"width");const h=to(d);Ds.setContent(i,c.event.contents),Ts(d,hT);const p=to(d);b(d,"width",h+"px"),Ds.getContent(i).each(x=>{c.event.focus.bind(E=>(_c(E),ni(d))).orThunk(()=>(Jt.focusIn(x),al(ms(d))))}),setTimeout(()=>{b(i.element,"width",p+"px")},0)}),Ie(P$,(i,c)=>{Ds.getContent(i).each(d=>{s.set(s.get().concat([{bar:d,focus:al(ms(i.element))}]))}),Gt(i,FD,{contents:c.event.forwardContents,focus:M.none()})}),Ie(N$,(i,c)=>{Br(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),Gt(i,FD,{contents:xc(d.bar),focus:d.focus})})})]),Jt.config({mode:"special",onEscape:i=>Br(s.get()).fold(()=>t.onEscape(),c=>(Mn(i,N$),M.some(!0)))})]),lazySink:()=>An.value(t.sink)})},pT="tox-pop--transition",I$=(t,s,i,c)=>{const d=c.backstage,h=d.shared,p=jt().deviceType.isTouch,x=ts(),E=ts(),R=ts(),B=Wr(B$({sink:i,onEscape:()=>(t.focus(),M.some(!0))})),F=()=>{const Mt=R.get().getOr("node"),on=LD(Mt)?1:0;return S2(t,h,Mt,on)},U=()=>!t.removed&&!(p()&&d.isContextMenuOpen()),j=Mt=>Yi(lu(Mt,x.get(),uo),!0),X=()=>{if(U()){const Mt=F(),on=Yi(R.get(),"node")?O$(t,x.get()):cT(t);return Mt.height<=0||!BD(on,Mt,.01)}else return!0},oe=()=>{x.clear(),E.clear(),R.clear(),Ds.hide(B)},Se=()=>{if(Ds.isOpen(B)){const Mt=B.element;se(Mt,"display"),X()?b(Mt,"display","none"):(E.set(0),Ds.reposition(B))}},ue=Mt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Mt],behaviours:at([Jt.config({mode:"acyclic"}),On("pop-dialog-wrap-events",[gs(on=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Jt.focusIn(on))}),ku(on=>{t.shortcuts.remove("ctrl+F9")})])])}),ye=ba(()=>wZ(s,Mt=>{const on=ze([Mt]);Gt(B,P$,{forwardContents:ue(on)})})),me=(Mt,on)=>q1(t,{buttons:Mt,toolbar:on.items,allowToolbarGroups:!1},c.backstage,M.some(["form:"])),We=(Mt,on)=>hZ.buildInitGroups(Mt,on),ze=Mt=>{const{buttons:on}=t.ui.registry.getAll(),qt=ye(),lo={...on,...qt.formNavigators},so=Ap(t)===Xl.scrolling?Xl.scrolling:Xl.default,Hn=mn(Ze(Mt,dt=>dt.type==="contexttoolbar"?me(lo,dt):We(dt,h.providers)));return j1({type:so,uid:Nt("context-toolbar"),initGroups:Hn,onEscape:M.none,cyclicKeying:!0,providers:h.providers})},Ye=(Mt,on)=>{const qt=Mt==="node"?h.anchors.node(on):h.anchors.cursor(),lo=gZ(t,Mt,p(),{lastElement:x.get,isReposition:()=>Yi(E.get(),0),getMode:()=>oi.getMode(i)});return Yo(qt,lo)},pt=(Mt,on)=>{if(yn.cancel(),!U())return;const qt=ze(Mt),lo=Mt[0].position,so=Ye(lo,on);R.set(lo),E.set(1);const Hn=B.element;se(Hn,"display"),j(on)||(Os(Hn,pT),oi.reset(i,B)),Ds.showWithinBounds(B,ue(qt),{anchor:so,transition:{classes:[pT],mode:"placement"}},()=>M.some(F())),on.fold(x.clear,x.set),X()&&b(Hn,"display","none")};let $e=!1;const yn=H1(()=>{if(!(!t.hasFocus()||t.removed||$e))if(za(B.element,pT))yn.throttle();else{const Mt=ye();yZ(Mt,t).fold(oe,on=>{pt(on.toolbars,M.some(on.elem))})}},17);t.on("init",()=>{t.on("remove",oe),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Se),t.on("click keyup focus SetContent",yn.throttle),t.on(T$,oe),t.on(_$,Mt=>{const on=ye();wt(on.lookupTable,Mt.toolbarKey).each(qt=>{pt([qt],en(Mt.target!==t,Mt.target)),Ds.getContent(B).each(Jt.focusIn)})}),t.on("focusout",Mt=>{eC.setEditorTimeout(t,()=>{ni(i.element).isNone()&&ni(B.element).isNone()&&oe()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&oe()}),t.on("ExecCommand",({command:Mt})=>{Mt.toLowerCase()==="toggleview"&&oe()}),t.on("AfterProgressState",Mt=>{Mt.state?oe():t.hasFocus()&&yn.throttle()}),t.on("dragstart",()=>{$e=!0}),t.on("dragend drop",()=>{$e=!1}),t.on("NodeChange",Mt=>{ni(B.element).fold(yn.throttle,ae)})})},CZ=t=>{Tt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:ji(t,i.cmd),onSetup:jE(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:aa(t),onAction:ji(t,"JustifyNone")})},HD=(t,s)=>{const i=()=>{const c=s.getOptions(t),d=s.getCurrent(t).map(s.hash),h=ts();return Ze(c,p=>({type:"togglemenuitem",text:s.display(p),onSetup:x=>{const E=B=>{B&&(h.on(F=>F.setActive(!1)),h.set(x)),x.setActive(B)};E(Yi(d,s.hash(p)));const R=s.watcher(t,p,E);return()=>{h.clear(),R()}},onAction:()=>s.setCurrent(t,p)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:c=>c(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},L$=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:dP,hash:s=>t$(s,["fixed","relative","empty"]).getOr(s),display:pn,watcher:(s,i,c)=>s.formatter.formatChanged("lineheight",c,!1,{value:i}).unbind,getCurrent:s=>M.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:aa(t),onMenuSetup:aa(t)}),xZ=t=>M.from(QM(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:D(i),hash:c=>wn(c.customCode)?c.code:`${c.code}/${c.customCode}`,display:c=>c.title,watcher:(c,d,h)=>{var p;return c.formatter.formatChanged("lang",h,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:c=>{const d=be.fromDom(c.selection.getNode());return wm(d,h=>M.some(h).filter($o).bind(p=>Xs(p,"lang").map(E=>{const R=Xs(p,"data-mce-lang").getOrUndefined();return{code:E,customCode:R,title:""}})))},setCurrent:(c,d)=>c.execCommand("Lang",!1,d),onToolbarSetup:c=>{const d=ap();return c.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",c.setActive,!0)),OC(d.clear,aa(t)(c))},onMenuSetup:aa(t)})),pK=t=>{HD(t,L$(t)),xZ(t).each(s=>HD(t,s))},SZ=(t,s)=>{CW(t,s),TW(t,s),zW(t,s),SW(t,s),HW(t,s)},EZ=t=>O1(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),_Z=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:EZ(t),onAction:ji(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:aa(t),onAction:ji(t,"indent")})},TZ=t=>{_Z(t)},$$=(t,s)=>i=>{i.setActive(s.get());const c=d=>{s.set(d.state),i.setActive(d.state)};return t.on("PastePlainTextToggle",c),OC(()=>t.off("PastePlainTextToggle",c),aa(t)(i))},kZ=t=>{const s=Xt(cP(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:$$(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:$$(t,s)})},zD=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},AZ=t=>{Uf.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:jE(t,s.name),onAction:zD(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,c=`Access+${s}`;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:jE(t,i),onAction:zD(t,i),shortcut:c})}},OZ=t=>{Uf.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ji(t,s.action),shortcut:s.shortcut})}),Uf.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:aa(t),onAction:ji(t,s.action)})})},DZ=t=>{Uf.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ji(t,s.action),onSetup:jE(t,s.name)})})},RZ=t=>{AZ(t),OZ(t),DZ(t)},MZ=t=>{Uf.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:ji(t,s.action)})}),Uf.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:aa(t),onAction:ji(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:aa(t),onAction:zD(t,"code")})},PZ=t=>{RZ(t),MZ(t)},E2=(t,s)=>O1(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),NZ=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:E2(t,"hasUndo"),onAction:ji(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:E2(t,"hasRedo"),onAction:ji(t,"redo")})},BZ=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:E2(t,"hasUndo"),onAction:ji(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:E2(t,"hasRedo"),onAction:ji(t,"redo"),shortcut:"Meta+Y"})},IZ=t=>{NZ(t),BZ(t)},LZ=t=>O1(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),$Z=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:LZ(t),onAction:ji(t,"mceToggleVisualAid")})},FZ=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ji(t,"mceToggleVisualAid")})},HZ=t=>{FZ(t),$Z(t)},zZ=(t,s)=>{CZ(t),PZ(t),SZ(t,s),IZ(t),FN(t),HZ(t),TZ(t),pK(t),kZ(t)},VZ=t=>ve(t)?t.split(/[ ,]/):t,gT=t=>s=>s.options.get(t),UZ=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:ve(i)||yo(i,ve)?{value:VZ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},F$=gT("contextmenu_never_use_native"),VD=gT("contextmenu_avoid_overlap"),H$=t=>UD(t).length===0,UD=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:ao(i,c=>io(s,c))},_2=(t,s)=>({type:"makeshift",x:t,y:s}),WZ=(t,s,i)=>_2(t.x+s,t.y+i),z$=t=>t.type==="longpress"||t.type.indexOf("touch")===0,ZZ=t=>{if(z$(t)){const s=t.touches[0];return _2(s.pageX,s.pageY)}else return _2(t.pageX,t.pageY)},jZ=t=>{if(z$(t)){const s=t.touches[0];return _2(s.clientX,s.clientY)}else return _2(t.clientX,t.clientY)},WD=(t,s)=>{const i=jb.DOM.getPos(t);return WZ(s,i.x,i.y)},qZ=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?ZZ(s):WD(t.getContentAreaContainer(),jZ(s)):ZD(t),ZD=t=>({type:"selection",root:be.fromDom(t.selection.getNode())}),GZ=t=>({type:"node",node:M.some(be.fromDom(t.selection.getNode())),root:be.fromDom(t.getBody())}),V$=(t,s,i)=>{switch(i){case"node":return GZ(t);case"point":return qZ(t,s);case"selection":return ZD(t)}},jD=(t,s,i,c,d,h)=>{const p=i(),x=V$(t,s,h);h0(p,Wd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:M.none()}).map(E=>{s.preventDefault(),Ds.showMenuAt(d,{anchor:x},{menu:{markers:C1("normal")},data:E})})},KZ={onLtr:()=>[Ws,dr,or,es,yr,jr,wl,QC,C0,$_,W1,w0],onRtl:()=>[Ws,or,dr,yr,es,jr,wl,QC,W1,w0,C0,$_]},U$=12,XZ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YZ=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const c=s.touches[0],d=i.getRng();return bS(t.getWin(),Hg.domRange(d)).exists(p=>p.left<=c.clientX&&p.right>=c.clientX&&p.top<=c.clientY&&p.bottom>=c.clientY)}},qD=t=>{const s=t.selection.getRng(),i=()=>{eC.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),h()};t.once("touchend",i);const c=p=>{p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",c,!0);const d=()=>h();t.once("longpresscancel",d);const h=()=>{t.off("touchend",i),t.off("longpresscancel",d),t.off("mousedown",c)}},JZ=(t,s,i)=>{const c=V$(t,s,i);return{bubble:ll(0,i==="point"?U$:0,XZ),layouts:KZ,overrides:{maxWidthFunction:cD(),maxHeightFunction:Um()},...c}},QZ=(t,s,i,c,d,h,p)=>{const x=JZ(t,s,h);h0(i,Wd.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!0,search:M.none()}).map(E=>{s.preventDefault();const R=p?ra.HighlightMenuAndItem:ra.HighlightNone;Ds.showMenuWithinBounds(d,{anchor:x},{menu:{markers:C1("normal"),highlightOnOpen:R},data:E,type:"horizontal"},()=>M.some(S2(t,c.shared,h==="node"?"node":"selection"))),t.dispatch(T$)})},ej=(t,s,i,c,d,h)=>{const p=jt(),x=p.os.isiOS(),E=p.os.isMacOS(),R=p.os.isAndroid(),B=p.deviceType.isTouch(),F=()=>!(R||x||E&&B),U=()=>{const j=i();QZ(t,s,j,c,d,h,F())};if((E||x)&&h!=="node"){const j=()=>{qD(t),U()};YZ(t,s)?j():(t.once("selectionchange",j),t.once("touchend",()=>t.off("selectionchange",j)))}else U()},W$=t=>ve(t)?t==="|":t.type==="separator",GD={type:"separator"},KD=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(ve(t))return t;switch(t.type){case"separator":return GD;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const c=t.getSubmenuItems();return ve(c)?c:Ze(c,KD)}};default:const i=t;return{type:"menuitem",...s(i),onAction:Ft(i.onAction)}}},Z$=(t,s)=>{if(s.length===0)return t;const c=Br(t).filter(d=>!W$(d)).fold(()=>[],d=>[GD]);return t.concat(c).concat(s).concat([GD])},tj=(t,s,i)=>{const c=ko(s,(d,h)=>wt(t,h.toLowerCase()).map(p=>{const x=p.update(i);if(ve(x)&&ga(Vc(x)))return Z$(d,x.split(" "));if(et(x)&&x.length>0){const E=Ze(x,KD);return Z$(d,E)}else return d}).getOrThunk(()=>d.concat([h])),[]);return c.length>0&&W$(c[c.length-1])&&c.pop(),c},nj=(t,s)=>s.ctrlKey&&!F$(t),oj=t=>t.type==="longpress"||io(t,"touches"),j$=(t,s)=>!oj(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),q$=(t,s)=>j$(t,s)?t.selection.getStart(!0):s.target,sj=(t,s)=>{const i=VD(t),c=j$(t,s)?"selection":"point";if(ga(i)){const d=q$(t,s);return MC(be.fromDom(d),i)?"node":c}else return c},rj=(t,s,i)=>{const d=jt().deviceType.isTouch,h=Wr(Ds.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:at([On("dismissContextMenu",[Ie(_u(),(E,R)=>{$n.close(E),t.focus()})])])})),p=()=>Ds.hide(h),x=E=>{if(F$(t)&&E.preventDefault(),nj(t,E)||H$(t))return;const R=sj(t,E),B=()=>{const U=q$(t,E),j=t.ui.registry.getAll(),X=UD(t);return tj(j.contextMenus,X,U)};(d()?ej:jD)(t,E,B,i,h,R)};t.on("init",()=>{const E="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(E,p),t.on("longpress contextmenu",x)})},vT=Il.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),bT=t=>s=>s.translate(-t.left,-t.top),T2=t=>s=>s.translate(t.left,t.top),hh=t=>(s,i)=>ko(t,(c,d)=>d(c),vn(s,i)),yT=(t,s,i)=>t.fold(hh([T2(i),bT(s)]),hh([bT(s)]),hh([])),P0=(t,s,i)=>t.fold(hh([T2(i)]),hh([]),hh([T2(s)])),zp=(t,s,i)=>t.fold(hh([]),hh([bT(i)]),hh([T2(s),bT(i)])),G$=(t,s,i,c,d,h)=>{const p=P0(t,d,h),x=P0(s,d,h);return Math.abs(p.left-x.left)<=i&&Math.abs(p.top-x.top)<=c},ij=(t,s,i,c,d,h)=>{const p=P0(t,d,h),x=P0(s,d,h),E=Math.abs(p.left-x.left),R=Math.abs(p.top-x.top);return vn(E,R)},K$=(t,s,i)=>{const c=t.fold((d,h)=>({position:M.some("absolute"),left:M.some(d+"px"),top:M.some(h+"px")}),(d,h)=>({position:M.some("absolute"),left:M.some(d-i.left+"px"),top:M.some(h-i.top+"px")}),(d,h)=>({position:M.some("fixed"),left:M.some(d+"px"),top:M.some(h+"px")}));return{right:M.none(),bottom:M.none(),...c}},aj=(t,s,i)=>t.fold((c,d)=>k2(c+s,d+i),(c,d)=>Vp(c+s,d+i),(c,d)=>K1(c+s,d+i)),XD=(t,s,i,c)=>{const d=(h,p)=>(x,E)=>{const R=h(s,i,c);return p(x.getOr(R.left),E.getOr(R.top))};return t.fold(d(zp,k2),d(P0,Vp),d(yT,K1))},k2=vT.offset,Vp=vT.absolute,K1=vT.fixed,X$=(t,s)=>{const i=Ss(t,s);return wn(i)?NaN:parseInt(i,10)},cj=(t,s)=>{const i=t.element,c=X$(i,s.leftAttr),d=X$(i,s.topAttr);return isNaN(c)||isNaN(d)?M.none():M.some(vn(c,d))},lj=(t,s,i)=>{const c=t.element;Et(c,s.leftAttr,i.left+"px"),Et(c,s.topAttr,i.top+"px")},uj=(t,s)=>{const i=t.element;bs(i,s.leftAttr),bs(i,s.topAttr)},dj=(t,s,i,c)=>cj(t,s).fold(()=>i,d=>K1(d.left+c.left,d.top+c.top)),fj=(t,s,i,c,d,h)=>{const p=dj(t,s,i,c),x=s.mustSnap?J$(t,s,p,d,h):Q$(t,s,p,d,h),E=yT(p,d,h);return lj(t,s,E),x.fold(()=>({coord:K1(E.left,E.top),extra:M.none()}),R=>({coord:R.output,extra:R.extra}))},mj=(t,s)=>{uj(t,s)},Y$=(t,s,i,c)=>hr(t,d=>{const h=d.sensor;return G$(s,h,d.range.left,d.range.top,i,c)?M.some({output:XD(d.output,s,i,c),extra:d.extra}):M.none()}),J$=(t,s,i,c,d)=>{const h=s.getSnapPoints(t);return Y$(h,i,c,d).orThunk(()=>ko(h,(E,R)=>{const B=R.sensor,F=ij(i,B,R.range.left,R.range.top,c,d);return E.deltas.fold(()=>({deltas:M.some(F),snap:M.some(R)}),U=>{const j=(F.left+F.top)/2,X=(U.left+U.top)/2;return j<=X?{deltas:M.some(F),snap:M.some(R)}:E})},{deltas:M.none(),snap:M.none()}).snap.map(E=>({output:XD(E.output,i,c,d),extra:E.extra})))},Q$=(t,s,i,c,d)=>{const h=s.getSnapPoints(t);return Y$(h,i,c,d)},hj=(t,s,i)=>({coord:XD(t.output,t.output,s,i),extra:t.extra});var pj=Object.freeze({__proto__:null,snapTo:(t,s,i,c)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const h=va(t.element),p=Qi(h),x=H5(d),E=hj(c,p,x),R=K$(E.coord,p,x);O(d,R)}}});const YD="data-initial-z-index",JD=t=>{Ja(t.element).filter($o).each(s=>{Xs(s,YD).fold(()=>se(s,"z-index"),i=>b(s,"z-index",i)),bs(s,YD)})},gj=t=>{Ja(t.element).filter($o).each(s=>{Z(s,"z-index").each(i=>{Et(s,YD,i)}),b(s,"z-index",I(t.element,"z-index"))})},eF=(t,s)=>{t.getSystem().addToGui(s),gj(s)},vj=t=>{JD(t),t.getSystem().removeFromGui(t)},tF=(t,s,i)=>t.getSystem().build(Ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var bj=Ea("snaps",[je("getSnapPoints"),oo("onSensor"),je("leftAttr"),je("topAttr"),xe("lazyViewport",Li),xe("mustSnap",!1)]);const QD=[xe("useFixed",Gn),je("blockerClass"),xe("getTarget",pn),xe("onDrag",ae),xe("repositionTarget",!0),xe("onDrop",ae),_s("getBounds",Li),bj],yj=t=>ld(Z(t,"left"),Z(t,"top"),Z(t,"position"),(s,i,c)=>(c==="fixed"?K1:k2)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Ys(t);return Vp(s.left,s.top)}),wj=(t,s,i,c,d)=>{const h=d.bounds,p=P0(s,i,c),x=Ls(p.left,h.x,h.x+h.width-d.width),E=Ls(p.top,h.y,h.y+h.height-d.height),R=Vp(x,E);return s.fold(()=>{const B=zp(R,i,c);return k2(B.left,B.top)},D(R),()=>{const B=yT(R,i,c);return K1(B.left,B.top)})},Cj=(t,s,i,c,d,h,p)=>{const x=s.fold(()=>{const E=aj(i,h.left,h.top),R=yT(E,c,d);return K1(R.left,R.top)},E=>{const R=fj(t,E,i,h,c,d);return R.extra.each(B=>{E.onSensor(t,B)}),R.coord});return wj(t,x,c,d,p)},xj=(t,s,i,c)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const h=va(t.element),p=Qi(h),x=H5(d),E=yj(d),R=Cj(t,s.snaps,E,p,x,c,i),B=K$(R,p,x);O(d,B)}s.onDrag(t,d,c)},nF=(t,s)=>({bounds:t.getBounds(),height:At(s.element),width:hs(s.element)}),eR=(t,s,i,c,d)=>{const h=i.update(c,d),p=i.getStartData().getOrThunk(()=>nF(s,t));h.each(x=>{xj(t,s,p,x)})},oF=(t,s,i,c)=>{s.each(vj),i.snaps.each(h=>{mj(t,h)});const d=i.getTarget(t.element);c.reset(),i.onDrop(t,d)},tR=t=>(s,i)=>{const c=d=>{i.setStartData(nF(s,d))};return Qo([Ie(Av(),d=>{i.getStartData().each(()=>c(d))}),...t(s,i,c)])},Sj=t=>Qo([Ie(_a(),t.forceDrop),Ie(dy(),t.drop),Ie(dg(),(s,i)=>{t.move(i.event)}),Ie(fg(),t.delayDrop)]);var CT=Object.freeze({__proto__:null,getData:t=>M.from(vn(t.x,t.y)),getDelta:(t,s)=>vn(s.left-t.left,s.top-t.top)});const sF=(t,s,i)=>[Ie(_a(),(c,d)=>{if(d.event.raw.button!==0)return;d.stop();const p=()=>oF(c,M.some(R),t,s),x=nB(p,200),E={drop:p,delayDrop:x.schedule,forceDrop:p,move:F=>{x.cancel(),eR(c,t,s,CT,F)}},R=tF(c,t.blockerClass,Sj(E));(()=>{i(c),eF(c,R)})()})],Ej=[...QD,ds("dragger",{handlers:tR(sF)})],_j=t=>Qo([Ie(yu(),t.forceDrop),Ie(wu(),t.drop),Ie(Ev(),t.drop),Ie(Sv(),(s,i)=>{t.move(i.event)})]),Tj=t=>{const s=t[0];return M.some(vn(s.clientX,s.clientY))};var nR=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?Tj(i):M.none()},getDelta:(t,s)=>vn(s.left-t.left,s.top-t.top)});const rF=(t,s,i)=>{const c=ts(),d=h=>{oF(h,c.get(),t,s),c.clear()};return[Ie(yu(),(h,p)=>{p.stop();const x=()=>d(h),E={drop:x,delayDrop:ae,forceDrop:x,move:F=>{eR(h,t,s,nR,F)}},R=tF(h,t.blockerClass,_j(E));c.set(R),(()=>{i(h),eF(h,R)})()}),Ie(Sv(),(h,p)=>{p.stop(),eR(h,t,s,nR,p.event)}),Ie(wu(),(h,p)=>{p.stop(),d(h)}),Ie(Ev(),d)]},kj=[...QD,ds("dragger",{handlers:tR(rF)})],Aj=(t,s,i)=>[...sF(t,s,i),...rF(t,s,i)],Oj=[...QD,ds("dragger",{handlers:tR(Aj)})];var Rj=Object.freeze({__proto__:null,mouse:Ej,touch:kj,mouseOrTouch:Oj}),Mj=Object.freeze({__proto__:null,init:()=>{let t=M.none(),s=M.none();const i=()=>{t=M.none(),s=M.none()},c=(E,R)=>{const B=t.map(F=>E.getDelta(F,R));return t=M.some(R),B},d=(E,R)=>E.getData(R).bind(B=>c(E,B)),h=E=>{s=M.some(E)},p=()=>s,x=D({});return wc({readState:x,reset:i,update:d,getStartData:p,setStartData:h})}});const X1=jy({branchKey:"mode",branches:Rj,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:M.from(t.extra)})},state:Mj,apis:pj}),oR=40,xT=oR/2,aF=(t,s,i,c,d,h)=>t.fold(()=>X1.snap({sensor:Vp(i-xT,c-xT),range:vn(d,h),output:Vp(M.some(i),M.some(c)),extra:{td:s}}),p=>{const x=i-xT,E=c-xT,R=oR,B=oR,F=p.element.dom.getBoundingClientRect();return X1.snap({sensor:Vp(x,E),range:vn(R,B),output:Vp(M.some(i-F.width/2),M.some(c-F.height/2)),extra:{td:s}})}),cF=(t,s,i)=>{const c=(d,h)=>d.exists(p=>uo(p,h));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,h)=>{const p=h.td;c(s.get(),p)||(s.set(p),i(p))},mustSnap:!0}},lF=t=>So(ii.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:at([X1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),LC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Pj=(t,s)=>{const i=Xt([]),c=Xt([]),d=Xt(!1),h=ts(),p=ts(),x=pt=>{const $e=Ii(pt);return aF(j.getOpt(s),pt,$e.x,$e.y,$e.width,$e.height)},E=()=>Ze(i.get(),pt=>x(pt)),R=pt=>{const $e=Ii(pt);return aF(X.getOpt(s),pt,$e.right,$e.bottom,$e.width,$e.height)},B=()=>Ze(c.get(),pt=>R(pt)),F=cF(E,h,pt=>{p.get().each($e=>{t.dispatch("TableSelectorChange",{start:pt,finish:$e})})}),U=cF(B,p,pt=>{h.get().each($e=>{t.dispatch("TableSelectorChange",{start:$e,finish:pt})})}),j=lF(F),X=lF(U),oe=Wr(j.asSpec()),Se=Wr(X.asSpec()),ue=(pt,$e,yn,Mt)=>{const on=$e.dom.getBoundingClientRect();se(pt.element,"display");const qt=Al(be.fromDom(t.getBody())).dom.innerHeight,lo=yn(on),so=Mt(on,qt);(lo||so)&&b(pt.element,"display","none")},ye=(pt,$e,yn,Mt)=>{const on=yn($e);X1.snapTo(pt,on),ue(pt,$e,so=>so[Mt]<0,(so,Hn)=>so[Mt]>Hn)},me=pt=>ye(oe,pt,x,"top"),We=()=>h.get().each(me),ze=pt=>ye(Se,pt,R,"bottom"),Ye=()=>p.get().each(ze);if(jt().deviceType.isTouch()){const pt=$e=>Ze($e,be.fromDom);t.on("TableSelectionChange",$e=>{d.get()||(Vl(s,oe),Vl(s,Se),d.set(!0));const yn=be.fromDom($e.start),Mt=be.fromDom($e.finish);h.set(yn),p.set(Mt),M.from($e.otherCells).each(on=>{i.set(pt(on.upOrLeftCells)),c.set(pt(on.downOrRightCells)),me(yn),ze(Mt)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{We(),Ye()}),t.on("TableSelectionClear",()=>{d.get()&&($u(oe),$u(Se),d.set(!1)),h.clear(),p.clear()})}};var Nj=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Bj=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",Ij=(t,s,i)=>{var c;const d=(c=s.delimiter)!==null&&c!==void 0?c:"",h=(R,B,F)=>ii.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":F,"aria-level":F+1}},components:[Vs(R)],action:U=>{t.focus(),t.selection.select(B),t.nodeChanged()},buttonBehaviours:at([ju.button(i.isDisabled),Gr()])}),p=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Vs(` ${d} `)]}),x=R=>ko(R,(B,F,U)=>{const j=h(F.name,F.element,U);return U===0?B.concat([j]):B.concat([p(),j])},[]),E=R=>{const B=[];let F=R.length;for(;F-- >0;){const U=R[F];if(U.nodeType===1&&!Bj(U)){const j=wN(t,U);if(j.isDefaultPrevented()||B.push({name:j.name,element:U}),j.isPropagationStopped())break}}return B};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:at([Jt.config({mode:"flow",selector:"div[role=button]"}),fn.config({disabled:i.isDisabled}),Gr(),fs.config({}),Tn.config({}),On("elementPathEvents",[gs((R,B)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Jt.focusIn(R)),t.on("NodeChange",F=>{const U=E(F.parents),j=U.length>0?x(U):[];Tn.set(R,j)})})])]),components:[]}};var Up;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Up||(Up={}));const uF=(t,s,i,c,d)=>{const h={height:w2(c+s.top,EO(t),_O(t))};return i===Up.Both&&(h.width=w2(d+s.left,SO(t),vE(t))),h},dF=(t,s,i)=>{const c=be.fromDom(t.getContainer()),d=uF(t,s,i,Pe(c),to(c));ar(d,(h,p)=>{Pt(h)&&b(c,p,aT(h))}),k7(t)},Lj=t=>{const s=yE(t);return s===!1?Up.None:s==="both"?Up.Both:Up.Vertical},ST=(t,s,i,c)=>{const h=vn(i*20,c*20);return dF(t,h,s),M.some(!0)},$j=(t,s)=>{const i=Lj(t);if(i===Up.None)return M.none();const c=i===Up.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return M.some(Kl("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(c),"data-mce-name":"resize-handle"},behaviours:[X1.config({mode:"mouse",repositionTarget:!1,onDrag:(d,h,p)=>dF(t,p,i),blockerClass:"tox-blocker"}),Jt.config({mode:"special",onLeft:()=>ST(t,i,-1,0),onRight:()=>ST(t,i,1,0),onUp:()=>ST(t,i,0,-1),onDown:()=>ST(t,i,0,1)}),fs.config({}),tn.config({}),Ai.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},Fj=(t,s)=>{const i=(c,d,h)=>Tn.set(c,[Vs(s.translate(["{0} "+h,d[h]]))]);return ii.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:at([ju.button(s.isDisabled),Gr(),fs.config({}),Tn.config({}),kt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),On("wordcount-events",[Fl(c=>{const d=kt.getValue(c),h=d.mode==="words"?"characters":"words";kt.setValue(c,{mode:h,count:d.count}),i(c,d.count,h)}),gs(c=>{t.on("wordCountUpdate",d=>{const{mode:h}=kt.getValue(c);kt.setValue(c,{mode:h,count:d.wordCount}),i(c,d.wordCount,h)})})])]),eventOrder:{[$a()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Hj=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":vl.translate(["Powered by {0}","Tiny"])},innerHtml:Nj.trim()},behaviours:at([tn.config({})])}]}),c=()=>{const x=k1("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Vs(vl.translate(["Press {0} for help",x]))]}},d=()=>{const x=[];return t.hasPlugin("wordcount")&&x.push(Fj(t,s)),uC(t)&&x.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}},h=()=>{const x=[],E=uP(t),R=aP(t),B=uC(t)||t.hasPlugin("wordcount"),F=()=>{const U="tox-statusbar__text-container--flex-start",j="tox-statusbar__text-container--flex-end",X="tox-statusbar__text-container--space-around";if(E){const oe="tox-statusbar__text-container-3-cols";return!B&&!R?[oe,X]:B&&!R?[oe,j]:[oe,U]}return[B&&!R?j:U]};return R&&x.push(Ij(t,{},s)),E&&x.push(c()),B&&x.push(d()),x.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...F()]},components:x}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const x=h(),E=$j(t,s);return x.concat(E.toArray())})()}},fF=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),zj=(t,s)=>{const i=t.inline,c=i?cZ:rZ,d=mC(t)?dU:K9,h=lZ(),p=ts(),x=ts(),E=ts(),U=jt().deviceType.isTouch()?["tox-platform-touch"]:[],j=BO(t),X=Ap(t),oe=So({dom:{tag:"div",classes:["tox-anchorbar"]}}),Se=So({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ue=()=>h.mainUi.get().map(Kt=>Kt.outerContainer).bind(ns.getHeader),ye=()=>An.fromOption(h.dialogUi.get().map(Kt=>Kt.sink),"UI has not been rendered"),me=()=>An.fromOption(h.popupUi.get().map(Kt=>Kt.sink),"(popup) UI has not been rendered"),We=h.lazyGetInOuterOrDie("anchor bar",oe.getOpt),ze=h.lazyGetInOuterOrDie("bottom anchor bar",Se.getOpt),Ye=h.lazyGetInOuterOrDie("toolbar",ns.getToolbar),pt=h.lazyGetInOuterOrDie("throbber",ns.getThrobber),$e=U9({popup:me,dialog:ye},t,We,ze),yn=()=>{const Kt={attributes:{[nb]:j?Iu.BottomToTop:Iu.TopToBottom}},Sn=ns.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:$e.popup,onEscape:()=>{t.focus()}}),Io=ns.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:$e.popup.shared.getSink,providers:$e.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:ov=>{CN(t,ov)},type:X,lazyToolbar:Ye,lazyHeader:()=>ue().getOrDie("Could not find header element"),...Kt}),mo=ns.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:$e.popup.shared.providers,onEscape:()=>{t.focus()},type:X}),fa=dC(t),El=_E(t),of=xE(t),Ki=lP(t),_l=Mt(),cu=fa||El||of,uc=()=>fa?[mo]:El?[Io]:[],Xf=Ki?[_l,Sn]:[Sn];return ns.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(cu?[]:["tox-editor-header--empty"]),...Kt},components:mn([of?Xf:[],uc(),Xb(t)?[]:[oe.asSpec()]]),sticky:mC(t),editor:t,sharedBackstage:$e.popup.shared})},Mt=()=>ns.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),on=()=>{const Kt=ns.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Sn=ns.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Kt,Sn]}},qt=()=>{const Kt=IO(t),Sn=uo(Xr(),Kt)&&I(Kt,"display")==="grid",Io={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(U),attributes:{...vl.isRtl()?{dir:"rtl"}:{}}},behaviours:at([oi.config({useFixed:()=>d.isDocked(ue)})])},mo={dom:{styles:{width:document.body.clientWidth+"px"}},events:Qo([Ie(Sm(),of=>{b(of.element,"width",document.body.clientWidth+"px")})])},fa=Wr(Yo(Io,Sn?mo:{})),El=B4(fa);return x.set(El),{sink:fa,mothership:El}},lo=()=>{const Kt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(U),attributes:{...vl.isRtl()?{dir:"rtl"}:{}}},behaviours:at([oi.config({useFixed:()=>d.isDocked(ue),getBounds:()=>s.getPopupSinkBounds()})])},Sn=Wr(Kt),Io=B4(Sn);return E.set(Io),{sink:Sn,mothership:Io}},so=()=>{const Kt=yn(),Sn=on(),Io=ns.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:$e.popup}),mo=ns.parts.viewWrapper({backstage:$e.popup}),fa=iP(t)&&!i?M.some(Hj(t,$e.popup.shared.providers)):M.none(),El=mn([j?[]:[Kt],i?[]:[Sn],j?[Kt]:[]]),of=ns.parts.editorContainer({components:mn([El,i?[]:[Se.asSpec()]])}),Ki=fC(t),_l={role:"application",...vl.isRtl()?{dir:"rtl"}:{},...Ki?{"aria-hidden":"true"}:{}},cu=Wr(ns.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(j?["tox-tinymce--toolbar-bottom"]:[]).concat(U),styles:{visibility:"hidden",...Ki?{opacity:"0",border:"0"}:{}},attributes:_l},components:[of,...i?[]:[mo,...fa.toArray()],Io],behaviours:at([Gr(),fn.config({disableClass:"tox-tinymce--disabled"}),Jt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),uc=B4(cu);return p.set(uc),{mothership:uc,outerContainer:cu}},Hn=Kt=>{const Sn=aT(w$(t)),Io=aT(x$(t));return t.inline||(ge("div","width",Io)&&b(Kt.element,"width",Io),ge("div","height",Sn)?b(Kt.element,"height",Sn):b(Kt.element,"height","400px")),Sn},dt=Kt=>{t.addShortcut("alt+F9","focus menubar",()=>{ns.focusMenubar(Kt)}),t.addShortcut("alt+F10","focus toolbar",()=>{ns.focusToolbar(Kt)}),t.addCommand("ToggleToolbarDrawer",(Sn,Io)=>{Io!=null&&Io.skipFocus?ns.toggleToolbarDrawerWithoutFocusing(Kt):ns.toggleToolbarDrawer(Kt)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>ns.isToolbarDrawerToggled(Kt))},Bt=Kt=>{const{mainUi:Sn,popupUi:Io,uiMotherships:mo}=Kt;os(Op(t),($0,BT)=>{t.ui.registry.addGroupToolbarButton(BT,$0)});const{buttons:fa,menuItems:El,contextToolbars:of,sidebars:Ki,views:_l}=t.ui.registry.getAll(),cu=NO(t),uc={menuItems:El,menus:mP(t),menubar:nP(t),toolbar:cu.getOrThunk(()=>lC(t)),allowToolbarGroups:X===Xl.floating,buttons:fa,sidebar:Ki,views:_l};dt(Sn.outerContainer),V3(t,Sn.mothership,mo),d.setup(t,$e.popup.shared,ue),zZ(t,$e.popup),rj(t,$e.popup.shared.getSink,$e.popup),xU(t),f2(t,pt,$e.popup.shared),I$(t,of,Io.sink,{backstage:$e.popup}),Pj(t,Io.sink);const Xf=t.getElement(),ov=Hn(Sn.outerContainer),yR={targetNode:Xf,height:ov};return c.render(t,Kt,uc,$e.popup,yR)},kn=Kt=>(E.set(Kt.mothership),Kt),cn=()=>{const Kt=so(),Sn=qt(),Io=Dp(t)?lo():kn(Sn);h.dialogUi.set(Sn),h.popupUi.set(Io),h.mainUi.set(Kt);const mo={popupUi:Io,dialogUi:Sn,mainUi:Kt,uiMotherships:h.getUiMotherships()};return Bt(mo)};return{popups:{backstage:$e.popup,getMothership:()=>fF("popups",E)},dialogs:{backstage:$e.dialog,getMothership:()=>fF("dialogs",x)},renderUI:cn}},mF=(t,s)=>{const i=Xs(t,"id").fold(()=>{const c=Nt("dialog-label");return Et(s,"id",c),c},pn);Et(t,"aria-labelledby",i)},hF=D([je("lazySink"),bo("dragBlockClass"),_s("getBounds",Li),xe("useTabstopAt",Zt),xe("firstTabstop",0),xe("eventOrder",{}),Rr("modalBehaviours",[Jt]),ta("onExecute"),By("onEscape")]),ph={sketch:pn},Vj=D([Za({name:"draghandle",overrides:(t,s)=>({behaviours:at([X1.config({mode:"mouse",getTarget:i=>oc(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Ao({schema:[je("dom")],name:"title"}),Ao({factory:ph,schema:[je("dom")],name:"close"}),Ao({factory:ph,schema:[je("dom")],name:"body"}),Za({factory:ph,schema:[je("dom")],name:"footer"}),ml({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[xe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),xe("components",[])],name:"blocker"})]),sR=(t,s,i,c)=>{const d=ts(),h=j=>{d.set(j);const X=t.lazySink(j).getOrDie(),oe=c.blocker(),Se=X.getSystem().build({...oe,components:oe.components.concat([xc(j)]),behaviours:at([tn.config({}),On("dialog-blocker-events",[Zh(el(),()=>{td.isBlocked(j)?ae():Jt.focusIn(j)})])])});Vl(X,Se),Jt.focusIn(j)},p=j=>{d.clear(),Ja(j.element).each(X=>{j.getSystem().getByDom(X).each(oe=>{$u(oe)})})},x=j=>Fd(j,t,"body"),E=j=>Ro(j,t,"footer"),R=(j,X)=>{td.block(j,X)},B=j=>{td.unblock(j)},F=Nt("modal-events"),U={...t.eventOrder,[Fa()]:[F].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:h,hide:p,getBody:x,getFooter:E,setIdle:B,setBusy:R},eventOrder:U,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Mr(t.modalBehaviours,[Tn.config({}),Jt.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),td.config({getRoot:d.get}),On(F,[gs(j=>{mF(j.element,Fd(j,t,"title").element)})])])}},fr=Ti({name:"ModalDialog",configFields:hF(),partFields:Vj(),factory:sR,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),Uj=sn([sr,jO].concat(T1)),Wj=Nh,rR=[KO("button"),Bc,Bs("align","end",["start","end"]),bC,Yl,X2("buttonType",["primary","secondary"])],pF=[...rR,If],iR=[Jo("type",["submit","cancel","custom"]),...pF],Y1=[Jo("type",["menu"]),Lf,Qb,Bc,Ar("items",Uj),...rR],gF=[...rR,Jo("type",["togglebutton"]),Qb,Bc,Lf,Ei("active",!1)],Zj=br("type",{submit:iR,cancel:iR,custom:iR,menu:Y1,togglebutton:gF}),jj=[sr,If,Jo("level",["info","warn","error","success"]),NP,xe("url","")],qj=sn(jj),Gj=t=>[sr,t],Kj=[sr,If,Yl,KO("button"),Bc,GH,X2("buttonType",["primary","secondary","toolbar"]),bC],Xj=sn(Kj),N0=[sr,jO],Qd=N0.concat([ME]),aR=N0.concat([qO,Yl]),A2=sn(aR),cR=Nh,ET=Qd.concat([Mp("auto")]),J1=sn(ET),_T=G2([Jb,If,NP]),Yj=Qd.concat([Si("storageKey","default")]),vF=sn(Yj),bF=Qr,Qj=sn(Qd),eq=Qr,tq=N0.concat([Si("tag","textarea"),er("scriptId"),er("scriptUrl"),hf("onFocus"),$h("settings",void 0)]),yF=N0.concat([Si("tag","textarea"),kr("init")]),wF=Bh(t=>ls("customeditor.old",Sa(yF),t).orThunk(()=>ls("customeditor.new",Sa(tq),t))),lR=Qr,nq=sn(Qd),oq=yd(),CF=t=>[sr,Lh("columns"),t],sq=[sr,er("html"),Bs("presets","presentation",["presentation","document"])],rq=sn(sq),iq=Qd.concat([Ei("border",!1),Ei("sandboxed",!0),Ei("streamContent",!1),Ei("transparent",!0)]),uR=sn(iq),dR=Qr,aq=sn(N0.concat([xi("height")])),xF=sn([er("url"),lg("zoom"),lg("cachedWidth"),lg("cachedHeight")]),cq=Qd.concat([xi("inputMode"),xi("placeholder"),Ei("maximized",!1),Yl]),lq=sn(cq),SF=Qr,uq=t=>[sr,qO,t,Bs("align","start",["start","center","end"])],dq=[If,Jb],Q1=[If,Ar("items",ry("items",()=>fR))],fR=bd([sn(dq),sn(Q1)]),fq=Qd.concat([Ar("items",fR),Yl]),TT=sn(fq),B0=Qr,kT=Qd.concat([K2("items",[If,Jb]),ug("size",1),Yl]),EF=sn(kT),AT=Qr,lc=Qd.concat([Ei("constrain",!0),Yl]),OT=sn(lc),mR=sn([er("width"),er("height")]),_F=N0.concat([qO,ug("min",0),ug("max",0)]),mq=sn(_F),hq=vm,Wp=[sr,Ar("header",Qr),Ar("cells",Ns(Qr))],SK=sn(Wp),pq=Qd.concat([xi("placeholder"),Ei("maximized",!1),Yl]),TF=sn(pq),I0=Qr,O2=[Jo("type",["directory","leaf"]),PP,er("id"),Qc("menu",eD)],kF=sn(O2),vq=O2.concat([Ar("children",ry("children",()=>It("type",{directory:AF,leaf:kF})))]),AF=sn(vq),bq=It("type",{directory:AF,leaf:kF}),L0=[sr,Ar("items",bq),hf("onLeafAction"),hf("onToggleExpand"),wd("defaultExpandedIds",[],Qr),xi("defaultSelectedId")],EK=sn(L0),yq=Qd.concat([Bs("filetype","file",["image","media","file"]),Yl,xi("picker_text")]),wq=sn(yq),_K=sn([Jb,GO]),hR=t=>Vr("items","items",vo(),Ns(Bh(s=>ls(`Checking item of ${t}`,pR,s).fold(i=>An.error(Ih(i)),i=>An.value(i))))),pR=pi(()=>It("type",{alertbanner:qj,bar:sn(Gj(hR("bar"))),button:Xj,checkbox:A2,colorinput:vF,colorpicker:Qj,dropzone:nq,grid:sn(CF(hR("grid"))),iframe:uR,input:lq,listbox:TT,selectbox:EF,sizeinput:OT,slider:mq,textarea:TF,urlinput:wq,customeditor:wF,htmlpanel:rq,imagepreview:aq,collection:J1,label:sn(uq(hR("label"))),table:SK,tree:EK,panel:OF})),D2=[sr,xe("classes",[]),Ar("items",pR)],OF=sn(D2),Cq=[KO("tab"),PP,Ar("items",pR)],DF=[sr,K2("tabs",Cq)],xq=sn(DF),TK=pF,e=Zj,n=sn([er("title"),ei("body",It("type",{panel:OF,tabpanel:xq})),Si("size","normal"),wd("buttons",[],e),xe("initialData",{}),_s("onAction",ae),_s("onChange",ae),_s("onSubmit",ae),_s("onClose",ae),_s("onCancel",ae),_s("onTabChange",ae)]),o=t=>ls("dialog",n,t),r=sn([Jo("type",["cancel","custom"]),...TK]),a=sn([er("title"),er("url"),lg("height"),lg("width"),Y2("buttons",r),_s("onAction",ae),_s("onCancel",ae),_s("onClose",ae),_s("onMessage",ae)]),u=t=>ls("dialog",a,t),m=t=>He(t)?[t].concat(Ae(Xp(t),m)):et(t)?Ae(t,m):[],v=t=>ve(t.type)&&ve(t.name),C={checkbox:cR,colorinput:bF,colorpicker:eq,dropzone:oq,input:SF,iframe:dR,imagepreview:xF,selectbox:AT,sizeinput:mR,slider:hq,listbox:B0,size:mR,textarea:I0,urlinput:_K,customeditor:lR,collection:_T,togglemenuitem:Wj},k=t=>M.from(C[t.type]),L=t=>ao(m(t),v),$=t=>{const s=L(t),i=Ae(s,c=>k(c).fold(()=>[],d=>[ei(c.name,d)]));return sn(i)},H=t=>{var s;const i=Bl(o(t)),c=$(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:c,initialData:d}},K={open:(t,s)=>{const i=H(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Bl(u(s));return t(i)},redial:t=>H(t)};var Y=Object.freeze({__proto__:null,events:(t,s)=>{const i=(c,d)=>{t.updateState.each(h=>{const p=h(c,d);s.set(p)}),t.renderComponents.each(h=>{const p=h(d,s.get());(t.reuseDom?Aa:KA)(c,p)})};return Qo([Ie(Eu(),(c,d)=>{const h=d;if(!h.universal){const p=t.channel;Uo(h.channels,p)&&i(c,h.data)}}),gs((c,d)=>{t.initialData.each(h=>{i(c,h)})})])}}),fe=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),he=[je("channel"),bo("renderComponents"),bo("updateState"),bo("initialData"),Ei("reuseDom",!0)],Ee=Object.freeze({__proto__:null,init:()=>{const t=Xt(M.none()),s=()=>t.set(M.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Be=qr({fields:he,name:"reflecting",active:Y,apis:fe,state:Ee}),it=t=>{const s=[],i={};return ar(t,(c,d)=>{c.fold(()=>{s.push(d)},h=>{i[d]=h})}),s.length>0?An.error(s):An.value(i)},Ct=(t,s,i)=>{const c=So(f0.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ze(t.items,h=>D3(d,h,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[c.asSpec()]}],behaviours:at([Jt.config({mode:"acyclic",useTabstopAt:Ne(m0)}),yl.memento(c),WC(c,{postprocess:d=>it(d).fold(h=>(console.error(h),{}),pn)}),On("dialog-body-panel",[Ie(el(),(d,h)=>{d.getSystem().broadcastOn([jC],{newFocus:M.some(h.event.target)})})])])}},Qe=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:zd(t.action),behaviours:Mr(t.tabButtonBehaviours,[tn.config({}),Jt.config({mode:"execution",useSpace:!0,useEnter:!0}),kt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Me=Cr({name:"TabButton",configFields:[xe("uid",void 0),je("value"),Vr("dom","dom",Y0(()=>({attributes:{role:"tab",id:Nt("aria"),"aria-selected":"false"}})),bu()),bo("action"),xe("domModification",{}),Rr("tabButtonBehaviours",[tn,Jt,kt]),je("view")],factory:Qe}),Le=D([je("tabs"),je("dom"),xe("clickToDismiss",!1),Rr("tabbarBehaviours",[fo,Jt]),il(["tabClass","selectedClass"])]),yt=hl({factory:Me,name:"tabs",unit:"tab",overrides:t=>{const s=(c,d)=>{fo.dehighlight(c,d),Gt(c,py(),{tabbar:c,button:d})},i=(c,d)=>{fo.highlight(c,d),Gt(c,hy(),{tabbar:c,button:d})};return{action:c=>{const d=c.getSystem().getByUid(t.uid).getOrDie(),h=fo.isHighlighted(d,c);(h&&t.clickToDismiss?s:h?ae:i)(d,c)},domModification:{classes:[t.markers.tabClass]}}}}),zt=D([yt]),Rn=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Mr(t.tabbarBehaviours,[fo.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,h)=>{Et(h.element,"aria-selected","true")},onDehighlight:(d,h)=>{Et(h.element,"aria-selected","false")}}),Jt.config({mode:"flow",getInitial:d=>fo.getHighlighted(d).map(h=>h.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Wn=Ti({name:"Tabbar",configFields:Le(),partFields:zt(),factory:Rn}),_o=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Mr(t.tabviewBehaviours,[Tn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),No=Cr({name:"Tabview",configFields:[Rr("tabviewBehaviours",[Tn])],factory:_o}),rs=D([xe("selectFirst",!0),oo("onChangeTab"),oo("onDismissTab"),xe("tabs",[]),Rr("tabSectionBehaviours",[])]),Oi=Ao({factory:Wn,schema:[je("dom"),Jc("markers",[je("tabClass"),je("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Bo=Ao({factory:No,name:"tabview"}),gt=D([Oi,Bo]),Ht=(t,s,i,c)=>{const d=p=>{const x=kt.getValue(p);Ro(p,t,"tabview").each(E=>{gn(t.tabs,B=>B.value===x).each(B=>{const F=B.view();Xs(p.element,"id").each(U=>{Et(E.element,"aria-labelledby",U)}),Tn.set(E,F),t.onChangeTab(E,p,F)})})},h=(p,x)=>{Ro(p,t,"tabbar").each(E=>{x(E).each(Tu)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:$d(t.tabSectionBehaviours),events:Qo(mn([t.selectFirst?[gs((p,x)=>{h(p,fo.getFirst)})]:[],[Ie(hy(),(p,x)=>{const E=x.event.button;d(E)}),Ie(py(),(p,x)=>{const E=x.event.button;t.onDismissTab(p,E)})]])),apis:{getViewItems:p=>Ro(p,t,"tabview").map(x=>Tn.contents(x)).getOr([]),showTab:(p,x)=>{h(p,R=>{const B=fo.getCandidates(R);return gn(B,U=>kt.getValue(U)===x).filter(U=>!fo.isHighlighted(R,U))})}}}},Zn=Ti({name:"TabSection",configFields:rs(),partFields:gt(),factory:Ht,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),bt=(t,s,i)=>Ze(t,(c,d)=>{Tn.set(i,t[d].view());const h=s.dom.getBoundingClientRect();return Tn.set(i,[]),h.height}),Qt=t=>ln(Ka(t,(s,i)=>s>i?-1:s<i?1:0)),Fn=(t,s,i)=>{const c=jc(t).dom,d=oc(t,".tox-dialog-wrap").getOr(t),h=I(d,"position")==="fixed";let p;h?p=Math.max(c.clientHeight,window.innerHeight):p=Math.max(c.offsetHeight,c.scrollHeight);const x=Pe(s),R=s.dom.offsetLeft>=i.dom.offsetLeft+to(i)?Math.max(Pe(i),x):x,B=parseInt(I(t,"margin-top"),10)||0,F=parseInt(I(t,"margin-bottom"),10)||0,j=Pe(t)+B+F-R;return p-j},_t=(t,s)=>{ln(t).each(i=>Zn.showTab(s,i.value))},In=(t,s)=>{b(t,"height",s+"px"),b(t,"flex-basis",s+"px")},Ln=(t,s,i)=>{oc(t,'[role="dialog"]').each(c=>{us(c,'[role="tablist"]').each(d=>{i.get().map(h=>(b(s,"height","0"),b(s,"flex-basis","0"),Math.min(h,Fn(c,s,d)))).each(h=>{In(s,h)})})})},Sr=t=>us(t,'[role="tabpanel"]'),To=t=>{const s=ts();return{extraEvents:[gs(d=>{const h=d.element;Sr(h).each(p=>{b(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(x=>{const E=bt(t,p,x);Qt(E).fold(s.clear,s.set)}),Ln(h,p,s),se(p,"visibility"),_t(t,d),requestAnimationFrame(()=>{Ln(h,p,s)})})}),Ie(Sm(),d=>{const h=d.element;Sr(h).each(p=>{Ln(h,p,s)})}),Ie(dB,(d,h)=>{const p=d.element;Sr(p).each(x=>{const E=al(ms(x));b(x,"visibility","hidden");const R=Z(x,"height").map(U=>parseInt(U,10));se(x,"height"),se(x,"flex-basis");const B=x.dom.getBoundingClientRect().height;R.forall(U=>B>U)?(s.set(B),Ln(p,x,s)):R.each(U=>{In(x,U)}),se(x,"visibility"),E.each(_c)})})],selectFirst:!1}},Er="send-data-to-section",xl="send-data-to-view",ef=(t,s,i)=>{const c=Xt({}),d=R=>{const B=kt.getValue(R),F=it(B).getOr({}),U=c.get(),j=Yo(U,F);c.set(j)},h=R=>{const B=c.get();kt.setValue(R,B)},p=Xt(null),x=Ze(t.tabs,R=>({value:R.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Vs(i.shared.providers.translate(R.title))],view:()=>[f0.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:Ze(R.items,F=>D3(B,F,s,i)),formBehaviours:at([Jt.config({mode:"acyclic",useTabstopAt:Ne(m0)}),On("TabView.form.events",[gs(h),ku(d)]),Wa.config({channels:Fh([{key:Er,value:{onReceive:d}},{key:xl,value:{onReceive:h}}])})])}))]})),E=To(x);return Zn.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(R,B,F)=>{const U=kt.getValue(B);Gt(R,uB,{name:U,oldName:p.get()}),p.set(U)},tabs:x,components:[Zn.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Wn.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:at([fs.config({})])}),Zn.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:at([On("tabpanel",E.extraEvents),Jt.config({mode:"acyclic"}),Xn.config({find:R=>ln(Zn.getViewItems(R))}),Xd(M.none(),R=>(R.getSystem().broadcastOn([Er],{}),c.get()),(R,B)=>{c.set(B),R.getSystem().broadcastOn([xl],{})})])})},la=(t,s,i,c,d)=>{const h=E=>{const R=E.body;switch(R.type){case"tabpanel":return[ef(R,E.initialData,c)];default:return[Ct(R,E.initialData,c)]}},p=(E,R)=>M.some({isTabPanel:()=>R.body.type==="tabpanel"}),x={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(E=>({id:E})).getOr({}),...d?x:{}}},components:[],behaviours:at([yl.childAt(0),Be.config({channel:`${E_}-${s}`,updateState:p,renderComponents:h,initialData:t})])}},$c=(t,s,i,c,d)=>la(t,s,M.some(i),c,d),su=(t,s,i)=>{const c=la(t,s,M.none(),i,!1);return fr.parts.body(c)},Fc=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[lI(M.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:at([fs.config({}),tn.config({})])})]}],behaviours:at([Jt.config({mode:"acyclic",useTabstopAt:Ne(m0)})])};return fr.parts.body(s)},ru=qb.deviceType.isTouch(),Wt=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Jn=(t,s)=>fr.parts.close(ii.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:at([fs.config({})])})),ws=()=>fr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),$s=(t,s)=>fr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ih(`<p>${ZM(s.translate(t))}</p>`)}]}]}),mr=t=>fr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),ai=(t,s)=>[Ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],js=t=>{const s="tox-dialog",i=s+"-wrap",c=i+"__backdrop",d=s+"__disable-scroll";return fr.sketch({lazySink:t.lazySink,onEscape:h=>(t.onEscape(h),M.some(!0)),useTabstopAt:h=>!m0(h),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:ih(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:ru?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:i,modalBehaviours:at([tn.config({}),On("dialog-events",t.dialogEvents.concat([Zh(el(),(h,p)=>{td.isBlocked(h)?ae():Jt.focusIn(h)}),Ie(ol(),(h,p)=>{h.getSystem().broadcastOn([jC],{newFocus:p.event.newFocus})})])),On("scroll-lock",[gs(()=>{Ts(Xr(),d)}),ku(()=>{Os(Xr(),d)})]),...t.extraBehaviours]),eventOrder:{[$a()]:["dialog-events"],[Fa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[$l()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},ir=t=>ii.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:at([fs.config({}),Ai.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Kl("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Mn(s,lh)}}),ua=(t,s,i,c)=>{const d=h=>[Vs(c.translate(h.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(h=>({id:h})).getOr({})}},components:[],behaviours:at([Be.config({channel:`${l3}-${s}`,initialData:t,renderComponents:d})])}},iu=()=>({dom:ih('<div class="tox-dialog__draghandle"></div>')}),nd=(t,s,i,c)=>Ku.sketch({dom:ih('<div class="tox-dialog__header"></div>'),components:[ua(t,s,M.some(i),c),iu(),ir(c)],containerBehaviours:at([X1.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>Hl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),od=(t,s,i)=>{const c=fr.parts.title(ua(t,s,M.none(),i)),d=fr.parts.draghandle(iu()),h=fr.parts.close(ir(i)),p=[c].concat(t.draggable?[d]:[]).concat([h]);return Ku.sketch({dom:ih('<div class="tox-dialog__header"></div>'),components:p})},Sl=(t,s,i)=>od({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),gh=(t,s,i,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${c.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:ih('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),ev=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:c=>{const d=us(t().element,".tox-dialog__header").map(h=>Pe(h));fr.setBusy(t(),(h,p)=>gh(c.message,p,s,d))},onUnblock:()=>{fr.setIdle(t())}}),tv="tox-dialog--fullscreen",R2="tox-dialog--width-lg",tf="tox-dialog--width-md",nv=t=>{switch(t){case"large":return M.some(R2);case"medium":return M.some(tf);default:return M.none()}},gR=(t,s)=>{const i=be.fromDom(s.element.dom);za(i,tv)||(Va(i,[R2,tf]),nv(t).each(c=>Ts(i,c)))},Gi=(t,s)=>{const i=be.fromDom(t.element.dom),c=ep(i),d=gn(c,h=>h===R2||h===tf).or(nv(s));gx(i,[tv,...d.toArray()])},Zp=(t,s,i)=>Wr(js({...t,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[ZC({}),...t.extraBehaviours],onEscape:c=>{Mn(c,lh)},dialogEvents:s,eventOrder:{[Eu()]:[Be.name(),Wa.name()],[Fa()]:["scroll-lock",Be.name(),"messages","dialog-events","alloy.base.behaviour"],[$l()]:["alloy.base.behaviour","dialog-events","messages",Be.name(),"scroll-lock"]}})),DT=(t,s={})=>{const i=c=>{const d=Ze(c.items,h=>{const p=wt(s,h.name).getOr(Xt(!1));return{...h,storage:p}});return{...c,items:d}};return Ze(t,c=>c.type==="menu"?i(c):c)},RT=t=>ko(t,(s,i)=>i.type==="menu"?ko(i.items,(d,h)=>(d[h.name]=h.storage,d),s):s,{}),nf=(t,s)=>[km(el(),oV),t(Ff,(i,c,d,h)=>{al(ms(h.element)).fold(ae,Xv),s.onClose(),c.onClose()}),t(lh,(i,c,d,h)=>{c.onCancel(i),Mn(h,Ff)}),Ie(L4,(i,c)=>s.onUnblock()),Ie(I4,(i,c)=>s.onBlock(c.event))],M2=(t,s)=>{const i=(d,h)=>Ie(d,(p,x)=>{c(p,(E,R)=>{h(t(),E,x.event,p)})}),c=(d,h)=>{Be.getState(d).get().each(p=>{h(p,d)})};return[...nf(i,s),i(Gd,(d,h,p)=>{h.onAction(d,{name:p.name})})]},Te=(t,s,i)=>{const c=(h,p)=>Ie(h,(x,E)=>{d(x,(R,B)=>{p(t(),R,E.event,x)})}),d=(h,p)=>{Be.getState(h).get().each(x=>{p(x.internalDialog,h)})};return[...nf(c,s),c(NC,(h,p)=>p.onSubmit(h)),c(Ra,(h,p,x)=>{p.onChange(h,{name:x.name})}),c(Gd,(h,p,x,E)=>{const R=()=>E.getSystem().isConnected()?Jt.focusIn(E):void 0,B=j=>Th(j,"disabled")||Xs(j,"aria-disabled").exists(X=>X==="true"),F=ms(E.element),U=al(F);p.onAction(h,{name:x.name,value:x.value}),al(F).fold(R,j=>{B(j)||U.exists(X=>Na(j,X)&&B(X))?R():i().toOptional().filter(X=>!Na(X.element,j)).each(R)})}),c(uB,(h,p,x)=>{p.onTabChange(h,{newTabName:x.name,oldTabName:x.oldName})}),ku(h=>{const p=t();kt.setValue(h,p.getData())})]},ke=(t,s)=>JC(t,t.type,s),mt=(t,s,i)=>gn(s,c=>c.name===i).bind(c=>c.memento.getOpt(t)),ot=(t,s)=>{const i=s.map(x=>x.footerButtons).getOr([]),c=mc(i,x=>x.align==="start"),d=(x,E)=>Ku.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${x}`]},components:Ze(E,R=>R.memento.asSpec())}),h=d("start",c.pass),p=d("end",c.fail);return[h,p]},an=(t,s,i)=>{const c=(d,h)=>{const p=Ze(h.buttons,E=>{const R=So(ke(E,i));return{name:E.name,align:E.align,memento:R}}),x=E=>mt(d,p,E);return M.some({lookupByName:x,footerButtons:p})};return{dom:ih('<div class="tox-dialog__footer"></div>'),components:[],behaviours:at([Be.config({channel:`${Wf}-${s}`,initialData:t,updateState:c,renderComponents:ot})])}},jn=(t,s,i)=>an(t,s,i),Cs=(t,s,i)=>fr.parts.footer(an(t,s,i)),au=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const c=Xn.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return f0.getField(c,s).orThunk(()=>t.getFooter().bind(p=>Be.getState(p).get()).bind(p=>p.lookupByName(s)))}else return M.none()},MT=(t,s)=>{const i=t.getRoot();return Be.getState(i).get().map(c=>Bl(ls("data",c.dataValidator,s))).getOr(s)},RF=(t,s,i)=>{const c=X=>{const oe=t.getRoot();oe.getSystem().isConnected()&&X(oe)},j={getData:()=>{const X=t.getRoot(),oe=X.getSystem().isConnected()?t.getFormWrapper():X,Se=kt.getValue(oe),ue=os(i,ye=>ye.get());return{...Se,...ue}},setData:X=>{c(oe=>{const Se=j.getData(),ue=Yo(Se,X),ye=MT(t,ue),me=t.getFormWrapper();kt.setValue(me,ye),ar(i,(We,ze)=>{io(ue,ze)&&We.set(ue[ze])})})},setEnabled:(X,oe)=>{au(t,X).each(oe?fn.enable:fn.disable)},focus:X=>{au(t,X).each(tn.focus)},block:X=>{if(!ve(X))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(oe=>{Gt(oe,I4,{message:X})})},unblock:()=>{c(X=>{Mn(X,L4)})},showTab:X=>{c(oe=>{const Se=t.getBody();Be.getState(Se).get().exists(ye=>ye.isTabPanel())&&Xn.getCurrent(Se).each(ye=>{Zn.showTab(ye,X)})})},redial:X=>{c(oe=>{const Se=t.getId(),ue=s(X),ye=DT(ue.internalDialog.buttons,i);oe.getSystem().broadcastOn([`${S_}-${Se}`],ue),oe.getSystem().broadcastOn([`${l3}-${Se}`],ue.internalDialog),oe.getSystem().broadcastOn([`${E_}-${Se}`],ue.internalDialog),oe.getSystem().broadcastOn([`${Wf}-${Se}`],{...ue.internalDialog,buttons:ye}),j.setData(ue.initialData)})},close:()=>{c(X=>{Mn(X,Ff)})},toggleFullscreen:t.toggleFullscreen};return j},PT=(t,s,i)=>{const c=Nt("dialog"),d=t.internalDialog,h=Sl(d.title,c,i),p=Xt(d.size),x=nv(p.get()).toArray(),E=(ye,me)=>(p.set(me.internalDialog.size),gR(me.internalDialog.size,ye),M.some(me)),R=su({body:d.body,initialData:d.initialData},c,i),B=DT(d.buttons),F=RT(B),U=en(B.length!==0,Cs({buttons:B},c,i)),j=Te(()=>ue,ev(()=>oe,i.shared.providers,s),i.shared.getSink),X={id:c,header:h,body:R,footer:U,extraClasses:x,extraBehaviours:[Be.config({channel:`${S_}-${c}`,updateState:E,initialData:t})],extraStyles:{}},oe=Zp(X,j,i),Se=(()=>{const ye=()=>{const We=fr.getBody(oe);return Xn.getCurrent(We).getOr(We)},me=()=>{Gi(oe,p.get())};return{getId:D(c),getRoot:D(oe),getBody:()=>fr.getBody(oe),getFooter:()=>fr.getFooter(oe),getFormWrapper:ye,toggleFullscreen:me}})(),ue=RF(Se,s.redial,F);return{dialog:oe,instanceApi:ue}},Kf=(t,s,i,c=!1,d)=>{const h=Nt("dialog"),p=Nt("dialog-label"),x=Nt("dialog-content"),E=t.internalDialog,R=Xt(E.size),B=nv(R.get()).toArray(),F=(Ye,pt)=>(R.set(pt.internalDialog.size),gR(pt.internalDialog.size,Ye),d(),M.some(pt)),U=So(nd({title:E.title,draggable:!0},h,p,i.shared.providers)),j=So($c({body:E.body,initialData:E.initialData},h,x,i,c)),X=DT(E.buttons),oe=RT(X),Se=en(X.length!==0,So(jn({buttons:X},h,i))),ue=Te(()=>ze,{onBlock:Ye=>{td.block(me,(pt,$e)=>{const yn=U.getOpt(me).map(Mt=>Pe(Mt.element));return gh(Ye.message,$e,i.shared.providers,yn)})},onUnblock:()=>{td.unblock(me)},onClose:()=>s.closeWindow()},i.shared.getSink),me=Wr({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...B],attributes:{role:"dialog","aria-labelledby":p}},eventOrder:{[Eu()]:[Be.name(),Wa.name()],[$a()]:["execute-on-form"],[Fa()]:["reflecting","execute-on-form"]},behaviours:at([Jt.config({mode:"cyclic",onEscape:Ye=>(Mn(Ye,Ff),M.some(!0)),useTabstopAt:Ye=>!m0(Ye)&&(Hs(Ye)!=="button"||Ss(Ye,"disabled")!=="disabled"),firstTabstop:1}),Be.config({channel:`${S_}-${h}`,updateState:F,initialData:t}),tn.config({}),On("execute-on-form",ue.concat([Zh(el(),(Ye,pt)=>{Jt.focusIn(Ye)}),Ie(ol(),(Ye,pt)=>{Ye.getSystem().broadcastOn([jC],{newFocus:pt.event.newFocus})})])),td.config({getRoot:()=>M.some(me)}),Tn.config({}),ZC({})]),components:[U.asSpec(),j.asSpec(),...Se.map(Ye=>Ye.asSpec()).toArray()]}),We=()=>{Gi(me,R.get())},ze=RF({getId:D(h),getRoot:D(me),getFooter:()=>Se.map(Ye=>Ye.get(me)),getBody:()=>j.get(me),getFormWrapper:()=>{const Ye=j.get(me);return Xn.getCurrent(Ye).getOr(Ye)},toggleFullscreen:We},s.redial,oe);return{dialog:me,instanceApi:ze}};var NT=tinymce.util.Tools.resolve("tinymce.util.URI");const MF=t=>{const s=p=>{t.getSystem().isConnected()&&p(t)};return{block:p=>{if(!ve(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(x=>{Gt(x,I4,{message:p})})},unblock:()=>{s(p=>{Mn(p,L4)})},close:()=>{s(p=>{Mn(p,Ff)})},sendMessage:p=>{s(x=>{x.getSystem().broadcastOn([__],p)})}}},PF=["insertContent","setContent","execCommand","close","block","unblock"],vR=t=>He(t)&&PF.indexOf(t.mceAction)!==-1,Sq=t=>!vR(t)&&He(t)&&io(t,"mceAction"),Vn=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const c=Bn(i.ui)?i.ui:!1;t.execCommand(i.cmd,c,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},Oe=(t,s,i,c)=>{const d=Nt("dialog"),h=Sl(t.title,d,c),p=Fc(t),x=t.buttons.bind(me=>me.length===0?M.none():M.some(Cs({buttons:me},d,c))),E=M2(()=>ye,ev(()=>ue,c.shared.providers,s)),R={...t.height.fold(()=>({}),me=>({height:me+"px","max-height":me+"px"})),...t.width.fold(()=>({}),me=>({width:me+"px","max-width":me+"px"}))},B=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],F=new NT(t.url,{base_uri:new NT(window.location.href)}),U=`${F.protocol}://${F.host}${F.port?":"+F.port:""}`,j=ap(),X=(me,We)=>M.some(We),oe=[Be.config({channel:`${S_}-${d}`,updateState:X,initialData:t}),On("messages",[gs(()=>{const me=gi(be.fromDom(window),"message",We=>{if(F.isSameOrigin(new NT(We.raw.origin))){const ze=We.raw.data;vR(ze)?Vn(i,ye,ze):Sq(ze)&&t.onMessage(ye,ze)}});j.set(me)}),ku(j.clear)]),Wa.config({channels:{[__]:{onReceive:(me,We)=>{us(me.element,"iframe").each(ze=>{const Ye=ze.dom.contentWindow;Xe(Ye)&&Ye.postMessage(We,U)})}}}})],ue=Zp({id:d,header:h,body:p,footer:x,extraClasses:B,extraBehaviours:oe,extraStyles:R},E,c),ye=MF(ue);return{dialog:ue,instanceApi:ye}},$t=t=>{const s=t.shared;return{open:(c,d)=>{const h=()=>{fr.hide(R),d()},p=So(JC({name:"close-alert",text:"OK",primary:!0,buttonType:M.some("primary"),align:"end",enabled:!0,icon:M.none()},"cancel",t)),x=ws(),E=Jn(h,s.providers),R=Wr(js({lazySink:()=>s.getSink(),header:Wt(x,E),body:$s(c,s.providers),footer:M.some(mr(ai([],[p.asSpec()]))),onEscape:h,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ie(lh,h)],eventOrder:{}}));fr.show(R);const B=p.get(R);tn.focus(B)}}},bn=t=>{const s=t.shared;return{open:(c,d)=>{const h=U=>{fr.hide(B),d(U)},p=So(JC({name:"yes",text:"Yes",primary:!0,buttonType:M.some("primary"),align:"end",enabled:!0,icon:M.none()},"submit",t)),x=JC({name:"no",text:"No",primary:!1,buttonType:M.some("secondary"),align:"end",enabled:!0,icon:M.none()},"cancel",t),E=ws(),R=Jn(()=>h(!1),s.providers),B=Wr(js({lazySink:()=>s.getSink(),header:Wt(E,R),body:$s(c,s.providers),footer:M.some(mr(ai([],[x,p.asSpec()]))),onEscape:()=>h(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ie(lh,()=>h(!1)),Ie(NC,()=>h(!0))],eventOrder:{}}));fr.show(B);const F=p.get(B);tn.focus(F)}}},qs=(t,s)=>Bl(ls("data",s,t)),da=t=>MC(t,".tox-alert-dialog")||MC(t,".tox-confirm-dialog"),sd=(t,s,i)=>s&&i?[]:[rr.config({contextual:{lazyContext:()=>M.some(Ps(be.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:c=>M1(t,c.element).map(h=>({bounds:P1(h),optScrollEnv:M.some({currentScrollTop:h.element.dom.scrollTop,scrollElmTop:Ys(h.element).top})})).getOrThunk(()=>({bounds:Li(),optScrollEnv:M.none()}))})],ci=t=>{const s=t.editor,i=mC(s),c=$t(t.backstages.dialog),d=bn(t.backstages.dialog),h=(X,oe,Se)=>{if(!wn(oe)){if(oe.inline==="toolbar")return R(X,t.backstages.popup.shared.anchors.inlineDialog(),Se,oe);if(oe.inline==="bottom")return B(X,t.backstages.popup.shared.anchors.inlineBottomDialog(),Se,oe);if(oe.inline==="cursor")return R(X,t.backstages.popup.shared.anchors.cursor(),Se,oe)}return E(X,Se)},p=(X,oe)=>x(X,oe),x=(X,oe)=>{const Se=ue=>{const ye=Oe(ue,{closeWindow:()=>{fr.hide(ye.dialog),oe(ye.instanceApi)}},s,t.backstages.dialog);return fr.show(ye.dialog),ye.instanceApi};return K.openUrl(Se,X)},E=(X,oe)=>{const Se=(ue,ye,me)=>{const We=ye,Ye=PT({dataValidator:me,initialData:We,internalDialog:ue},{redial:K.redial,closeWindow:()=>{fr.hide(Ye.dialog),oe(Ye.instanceApi)}},t.backstages.dialog);return fr.show(Ye.dialog),Ye.instanceApi.setData(We),Ye.instanceApi};return K.open(Se,X)},R=(X,oe,Se,ue)=>{const ye=(me,We,ze)=>{const Ye=qs(We,ze),pt=ts(),$e=t.backstages.popup.shared.header.isPositionedAtTop(),yn={dataValidator:ze,initialData:Ye,internalDialog:me},Mt=()=>pt.on(so=>{Ds.reposition(so),(!i||!$e)&&rr.refresh(so)}),on=Kf(yn,{redial:K.redial,closeWindow:()=>{pt.on(Ds.hide),s.off("ResizeEditor",Mt),pt.clear(),Se(on.instanceApi)}},t.backstages.popup,ue.ariaAttrs,Mt),qt=Wr(Ds.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ue.persistent?{event:"doNotDismissYet"}:{},...$e?{}:{fireRepositionEventInstead:{}},inlineBehaviours:at([On("window-manager-inline-events",[Ie(_u(),(so,Hn)=>{Mn(on.dialog,lh)})]),...sd(s,i,$e)]),isExtraPart:(so,Hn)=>da(Hn)}));pt.set(qt);const lo=()=>{const so=s.inline?Xr():be.fromDom(s.getContainer()),Hn=Ps(so);return M.some(Hn)};return Ds.showWithinBounds(qt,xc(on.dialog),{anchor:oe},lo),(!i||!$e)&&(rr.refresh(qt),s.on("ResizeEditor",Mt)),on.instanceApi.setData(Ye),Jt.focusIn(on.dialog),on.instanceApi};return K.open(ye,X)},B=(X,oe,Se,ue)=>{const ye=(me,We,ze)=>{const Ye=qs(We,ze),pt=ts(),$e=t.backstages.popup.shared.header.isPositionedAtTop(),yn={dataValidator:ze,initialData:Ye,internalDialog:me},Mt=()=>pt.on(so=>{Ds.reposition(so),rr.refresh(so)}),on=Kf(yn,{redial:K.redial,closeWindow:()=>{pt.on(Ds.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Mt),pt.clear(),Se(on.instanceApi)}},t.backstages.popup,ue.ariaAttrs,Mt),qt=Wr(Ds.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ue.persistent?{event:"doNotDismissYet"}:{},...$e?{}:{fireRepositionEventInstead:{}},inlineBehaviours:at([On("window-manager-inline-events",[Ie(_u(),(so,Hn)=>{Mn(on.dialog,lh)})]),rr.config({contextual:{lazyContext:()=>M.some(Ps(be.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:so=>M1(s,so.element).map(dt=>({bounds:P1(dt),optScrollEnv:M.some({currentScrollTop:dt.element.dom.scrollTop,scrollElmTop:Ys(dt.element).top})})).getOrThunk(()=>({bounds:Li(),optScrollEnv:M.none()}))})]),isExtraPart:(so,Hn)=>da(Hn)}));pt.set(qt);const lo=()=>t.backstages.popup.shared.getSink().toOptional().bind(so=>{const Hn=M1(s,so.element),dt=15,Bt=Hn.map(Kt=>P1(Kt)).getOr(Li()),kn=Ps(be.fromDom(s.getContentAreaContainer())),cn=K0(kn,Bt);return M.some(vr(cn.x,cn.y,cn.width,cn.height-dt))});return Ds.showWithinBounds(qt,xc(on.dialog),{anchor:oe},lo),rr.refresh(qt),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Mt),on.instanceApi.setData(Ye),Jt.focusIn(on.dialog),on.instanceApi};return K.open(ye,X)};return{open:h,openUrl:p,alert:(X,oe)=>{c.open(X,oe)},close:X=>{X.close()},confirm:(X,oe)=>{d.open(X,oe)}}},rd=t=>{CO(t),B7(t),UZ(t)};var bR=()=>{ig.add("silver",t=>{rd(t);let s=()=>Li();const{dialogs:i,popups:c,renderUI:d}=zj(t,{getPopupSinkBounds:()=>s()}),h=()=>{const E=d();return M1(t,c.getMothership().element).each(B=>{s=()=>P1(B)}),E};A8.register(t,c.backstage.shared);const p=ci({editor:t,backstages:{popup:c.backstage,dialog:i.backstage}}),x=()=>XM(t,{backstage:c.backstage},c.getMothership());return{renderUI:h,getWindowManagerImpl:D(p),getNotificationManagerImpl:x}})};bR()})();(function(){var S=tinymce.util.Tools.resolve("tinymce.ModelManager");const y=(l,f,g)=>{var w;return g(l,f.prototype)?!0:((w=l.constructor)===null||w===void 0?void 0:w.name)===f.name},A=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&y(l,String,(g,w)=>w.isPrototypeOf(g))?"string":f},N=l=>f=>A(f)===l,V=l=>f=>typeof f===l,te=l=>f=>l===f,de=N("string"),ve=N("object"),He=N("array"),St=te(null),et=V("boolean"),ft=te(void 0),Bn=l=>l==null,wn=l=>!Bn(l),ct=V("function"),Xe=V("number"),nt=()=>{},Pt=(l,f)=>(...g)=>l(f.apply(null,g)),yo=(l,f)=>g=>l(f(g)),ae=l=>()=>l,Ft=l=>l,Lo=(l,f)=>l===f;function hn(l,...f){return(...g)=>{const w=f.concat(g);return l.apply(null,w)}}const D=l=>f=>!l(f),pn=l=>()=>{throw new Error(l)},En=l=>l(),_n=ae(!1),Ne=ae(!0);class le{constructor(f,g){this.tag=f,this.value=g}static some(f){return new le(!0,f)}static none(){return le.singletonNone}fold(f,g){return this.tag?g(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?le.some(f(this.value)):le.none()}bind(f){return this.tag?f(this.value):le.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:le.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return wn(f)?le.some(f):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const Pn=Array.prototype.slice,Gn=Array.prototype.indexOf,Zt=Array.prototype.push,M=(l,f)=>Gn.call(l,f),ro=(l,f)=>M(l,f)>-1,lt=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];if(f(T,g))return!0}return!1},po=(l,f)=>{const g=[];for(let w=0;w<l;w++)g.push(f(w));return g},un=(l,f)=>{const g=l.length,w=new Array(g);for(let T=0;T<g;T++){const P=l[T];w[T]=f(P,T)}return w},qe=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];f(T,g)}},Uo=(l,f)=>{for(let g=l.length-1;g>=0;g--){const w=l[g];f(w,g)}},Tr=(l,f)=>{const g=[],w=[];for(let T=0,P=l.length;T<P;T++){const z=l[T];(f(z,T)?g:w).push(z)}return{pass:g,fail:w}},qo=(l,f)=>{const g=[];for(let w=0,T=l.length;w<T;w++){const P=l[w];f(P,w)&&g.push(P)}return g},Fs=(l,f,g)=>(Uo(l,(w,T)=>{g=f(g,w,T)}),g),Ze=(l,f,g)=>(qe(l,(w,T)=>{g=f(g,w,T)}),g),Tt=(l,f,g)=>{for(let w=0,T=l.length;w<T;w++){const P=l[w];if(f(P,w))return le.some(P);if(g(P,w))break}return le.none()},W=(l,f)=>Tt(l,f,_n),mc=(l,f)=>{for(let g=0,w=l.length;g<w;g++){const T=l[g];if(f(T,g))return le.some(g)}return le.none()},ao=l=>{const f=[];for(let g=0,w=l.length;g<w;++g){if(!He(l[g]))throw new Error("Arr.flatten item "+g+" was not an array, input: "+l);Zt.apply(f,l[g])}return f},As=(l,f)=>ao(un(l,f)),ko=(l,f)=>{for(let g=0,w=l.length;g<w;++g){const T=l[g];if(f(T,g)!==!0)return!1}return!0},cd=l=>{const f=Pn.call(l,0);return f.reverse(),f},gn=(l,f)=>{const g={};for(let w=0,T=l.length;w<T;w++){const P=l[w];g[String(P)]=f(P,w)}return g},Go=(l,f)=>{const g=Pn.call(l,0);return g.sort(f),g},mn=(l,f)=>f>=0&&f<l.length?le.some(l[f]):le.none(),Ae=l=>mn(l,0),li=l=>mn(l,l.length-1),Nr=(l,f)=>{for(let g=0;g<l.length;g++){const w=f(l[g],g);if(w.isSome())return w}return le.none()},Ut=Object.keys,Ga=Object.hasOwnProperty,wo=(l,f)=>{const g=Ut(l);for(let w=0,T=g.length;w<T;w++){const P=g[w],z=l[P];f(z,P)}},Ka=(l,f)=>Ko(l,(g,w)=>({k:w,v:f(g,w)})),Ko=(l,f)=>{const g={};return wo(l,(w,T)=>{const P=f(w,T);g[P.k]=P.v}),g},ln=l=>(f,g)=>{l[g]=f},Br=(l,f,g,w)=>{wo(l,(T,P)=>{(f(T,P)?g:w)(T,P)})},Ri=(l,f)=>{const g={};return Br(l,f,ln(g),nt),g},hr=(l,f)=>{const g=[];return wo(l,(w,T)=>{g.push(f(w,T))}),g},xs=l=>hr(l,Ft),om=(l,f)=>ar(l,f)?le.from(l[f]):le.none(),ar=(l,f)=>Ga.call(l,f),os=(l,f)=>ar(l,f)&&l[f]!==void 0&&l[f]!==null,ma=l=>{for(const f in l)if(Ga.call(l,f))return!1;return!0},Gs=typeof window<"u"?window:Function("return this;")(),ha=(l,f)=>{let g=f??Gs;for(let w=0;w<l.length&&g!==void 0&&g!==null;++w)g=g[l[w]];return g},Xi=(l,f)=>{const g=l.split(".");return ha(g,f)},Hc=(l,f)=>Xi(l,f),rf=(l,f)=>{const g=Hc(l,f);if(g==null)throw new Error(l+" not available on this browser");return g},ui=Object.getPrototypeOf,Xp=l=>rf("HTMLElement",l),wt=l=>{const f=Xi("ownerDocument.defaultView",l);return ve(l)&&(Xp(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(ui(l).constructor.name))},io=8,pa=9,Yi=11,Ji=1,Ir=3,ss=l=>l.dom.nodeName.toLowerCase(),lu=l=>l.dom.nodeType,ld=l=>f=>lu(f)===l,Xo=l=>lu(l)===io||ss(l)==="#comment",en=l=>Lr(l)&&wt(l.dom),Lr=ld(Ji),Tl=ld(Ir),ud=ld(pa),Yp=ld(Yi),Mi=l=>f=>Lr(f)&&ss(f)===l,di=(l,f,g)=>{if(de(g)||et(g)||Xe(g))l.setAttribute(f,g+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",g,":: Element ",l),new Error("Attribute value was not simple")},Ks=(l,f,g)=>{di(l.dom,f,g)},zc=(l,f)=>{const g=l.dom;wo(f,(w,T)=>{di(g,T,w)})},vh=(l,f)=>{wo(f,(g,w)=>{g.fold(()=>{Wo(l,w)},T=>{di(l.dom,w,T)})})},Vc=(l,f)=>{const g=l.dom.getAttribute(f);return g===null?void 0:g},ga=(l,f)=>le.from(Vc(l,f)),Wo=(l,f)=>{l.dom.removeAttribute(f)},Pa=l=>Ze(l.dom.attributes,(f,g)=>(f[g.name]=g.value,f),{}),Xa=(l,f)=>{const w=(f||document).createElement("div");if(w.innerHTML=l,!w.hasChildNodes()||w.childNodes.length>1){const T="HTML does not have a single root node";throw console.error(T,l),new Error(T)}return Uc(w.childNodes[0])},Jp=(l,f)=>{const w=(f||document).createElement(l);return Uc(w)},bh=(l,f)=>{const w=(f||document).createTextNode(l);return Uc(w)},Uc=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},be={fromHtml:Xa,fromTag:Jp,fromText:bh,fromDom:Uc,fromPoint:(l,f,g)=>le.from(l.dom.elementFromPoint(f,g)).map(Uc)},Pi=(l,f)=>{const g=l.dom;if(g.nodeType!==Ji)return!1;{const w=g;if(w.matches!==void 0)return w.matches(f);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(f);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(f);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},dd=l=>l.nodeType!==Ji&&l.nodeType!==pa&&l.nodeType!==Yi||l.childElementCount===0,Qp=(l,f)=>{const g=f===void 0?document:f.dom;return dd(g)?[]:un(g.querySelectorAll(l),be.fromDom)},yh=(l,f)=>{const g=f===void 0?document:f.dom;return dd(g)?le.none():le.from(g.querySelector(l)).map(be.fromDom)},as=(l,f)=>l.dom===f.dom,sm=(l,f)=>{const g=l.dom,w=f.dom;return g===w?!1:g.contains(w)},Z0=Pi,rm=l=>be.fromDom(l.dom.ownerDocument),fd=l=>ud(l)?l:rm(l),$r=l=>be.fromDom(fd(l).dom.documentElement),Rs=l=>be.fromDom(fd(l).dom.defaultView),Wc=l=>le.from(l.dom.parentNode).map(be.fromDom),Hs=l=>le.from(l.dom.parentElement).map(be.fromDom),Ya=(l,f)=>{const g=ct(f)?f:_n;let w=l.dom;const T=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const P=w.parentNode,z=be.fromDom(P);if(T.push(z),g(z)===!0)break;w=P}return T},uu=l=>le.from(l.dom.previousSibling).map(be.fromDom),af=l=>le.from(l.dom.nextSibling).map(be.fromDom),$o=l=>un(l.dom.childNodes,be.fromDom),Ni=(l,f)=>{const g=l.dom.childNodes;return le.from(g[f]).map(be.fromDom)},cv=l=>Ni(l,0),Zc=(l,f)=>{Wc(l).each(w=>{w.dom.insertBefore(f.dom,l.dom)})},kl=(l,f)=>{af(l).fold(()=>{Wc(l).each(T=>{Ms(T,f)})},w=>{Zc(w,f)})},Bi=(l,f)=>{cv(l).fold(()=>{Ms(l,f)},w=>{l.dom.insertBefore(f.dom,w.dom)})},Ms=(l,f)=>{l.dom.appendChild(f.dom)},hc=(l,f,g)=>{Ni(l,g).fold(()=>{Ms(l,f)},w=>{Zc(w,f)})},wh=(l,f)=>{Zc(l,f),Ms(f,l)},uo=(l,f)=>{qe(f,(g,w)=>{const T=w===0?l:f[w-1];kl(T,g)})},Na=(l,f)=>{qe(f,g=>{Ms(l,g)})},va=l=>{l.dom.textContent="",qe($o(l),f=>{zs(f)})},zs=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},jc=l=>{const f=$o(l);f.length>0&&uo(l,f),zs(l)},Al=(l,f)=>be.fromDom(l.dom.cloneNode(f)),Ja=l=>Al(l,!1),pc=l=>Al(l,!0),Qa=(l,f)=>{const g=be.fromTag(f),w=Pa(l);return zc(g,w),g},Ch=(l,f)=>{const g=Qa(l,f),w=$o(pc(l));return Na(g,w),g},xh=(l,f)=>{const g=Qa(l,f);kl(l,g);const w=$o(l);return Na(g,w),zs(l),g},eg=["tfoot","thead","tbody","colgroup"],gc=l=>ro(eg,l),Ol=(l,f)=>({rows:l,columns:f}),Sh=(l,f)=>({row:l,column:f}),Eh=(l,f,g)=>({element:l,rowspan:f,colspan:g}),im=(l,f,g,w)=>({element:l,rowspan:f,colspan:g,isNew:w}),tg=(l,f,g,w,T,P)=>({element:l,rowspan:f,colspan:g,row:w,column:T,isLocked:P}),am=(l,f,g)=>({element:l,cells:f,section:g}),lv=(l,f,g,w)=>({element:l,cells:f,section:g,isNew:w}),ms=(l,f,g)=>({element:l,isNew:f,isLocked:g}),ec=(l,f,g,w)=>({element:l,cells:f,section:g,isNew:w}),j0=(l,f,g,w)=>({startRow:l,startCol:f,finishRow:g,finishCol:w}),ng=(l,f,g)=>({element:l,colspan:f,column:g}),tc=(l,f)=>({element:l,columns:f}),og=l=>Yp(l)&&wn(l.dom.host),cm=ct(Element.prototype.attachShadow)&&ct(Node.prototype.getRootNode),cr=ae(cm),Xr=cm?l=>be.fromDom(l.dom.getRootNode()):fd,du=l=>{const f=Xr(l);return og(f)?le.some(f):le.none()},_h=l=>be.fromDom(l.dom.host),Et=l=>{if(cr()&&wn(l.target)){const f=be.fromDom(l.target);if(Lr(f)&&uv(f)&&l.composed&&l.composedPath){const g=l.composedPath();if(g)return Ae(g)}}return le.from(l.target)},uv=l=>wn(l.dom.shadowRoot),Ss=l=>{const f=Tl(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const g=f.ownerDocument;return du(be.fromDom(f)).fold(()=>g.body.contains(f),yo(Ss,_h))},Xs=()=>Th(be.fromDom(document)),Th=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return be.fromDom(f)},bs=(l,f,g)=>qo(Ya(l,g),f),q0=(l,f)=>qo($o(l),f),lm=(l,f)=>{let g=[];return qe($o(l),w=>{f(w)&&(g=g.concat([w])),g=g.concat(lm(w,f))}),g},um=(l,f,g)=>bs(l,w=>Pi(w,f),g),b=(l,f)=>q0(l,g=>Pi(g,f)),_=(l,f)=>Qp(f,l);var O=(l,f,g,w,T)=>l(g,w)?le.some(g):ct(T)&&T(g)?le.none():f(g,w,T);const I=(l,f,g)=>{let w=l.dom;const T=ct(g)?g:_n;for(;w.parentNode;){w=w.parentNode;const P=be.fromDom(w);if(f(P))return le.some(P);if(T(P))break}return le.none()},q=(l,f,g)=>O((T,P)=>P(T),I,l,f,g),Z=(l,f)=>{const g=T=>f(be.fromDom(T));return W(l.dom.childNodes,g).map(be.fromDom)},J=(l,f)=>{const g=w=>{for(let T=0;T<w.childNodes.length;T++){const P=be.fromDom(w.childNodes[T]);if(f(P))return le.some(P);const z=g(w.childNodes[T]);if(z.isSome())return z}return le.none()};return g(l.dom)},ge=(l,f,g)=>I(l,w=>Pi(w,f),g),se=(l,f)=>Z(l,g=>Pi(g,f)),_e=(l,f)=>yh(f,l),Ue=(l,f,g)=>O((T,P)=>Pi(T,P),ge,l,f,g),st=(l,f,g=Lo)=>l.exists(w=>g(w,f)),Pe=l=>{const f=[],g=w=>{f.push(w)};for(let w=0;w<l.length;w++)l[w].each(g);return f},At=(l,f)=>l!=null?f(l):le.none(),Qn=(l,f)=>l?le.some(f):le.none(),Fo=(l,f)=>l.substring(f),vn=(l,f,g)=>f===""||l.length>=f.length&&l.substr(g,g+f.length)===f,fi=(l,f)=>Ys(l,f)?Fo(l,f.length):l,Do=(l,f,g=0,w)=>{const T=l.indexOf(f,g);return T!==-1?ft(w)?!0:T+f.length<=w:!1},Ys=(l,f)=>vn(l,f,0),Fr=(l,f)=>vn(l,f,l.length-f.length),Un=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),to=l=>l.length>0,hs=l=>{const f=parseFloat(l);return isNaN(f)?le.none():le.some(f)},qc=l=>l.style!==void 0&&ct(l.style.getPropertyValue),ba=(l,f,g)=>{if(!de(g))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",g,":: Element ",l),new Error("CSS value must be a string: "+g);qc(l)&&l.style.setProperty(f,g)},lr=(l,f)=>{qc(l)&&l.style.removeProperty(f)},Ho=(l,f,g)=>{const w=l.dom;ba(w,f,g)},ya=(l,f)=>{const g=l.dom;wo(f,(w,T)=>{ba(g,T,w)})},wa=(l,f)=>{const g=l.dom,T=window.getComputedStyle(g).getPropertyValue(f);return T===""&&!Ss(l)?Ba(g,f):T},Ba=(l,f)=>qc(l)?l.style.getPropertyValue(f):"",yi=(l,f)=>{const g=l.dom,w=Ba(g,f);return le.from(w).filter(T=>T.length>0)},zo=(l,f)=>{const g=l.dom;lr(g,f),st(ga(l,"style").map(Un),"")&&Wo(l,"style")},wi=(l,f)=>{const g=l.dom,w=f.dom;qc(g)&&qc(w)&&(w.style.cssText=g.style.cssText)},cs=(l,f,g=0)=>ga(l,f).map(w=>parseInt(w,10)).getOr(g),vc=(l,f)=>cs(l,f,1),md=l=>Mi("col")(l)?cs(l,"span",1)>1:vc(l,"colspan")>1,pr=l=>vc(l,"rowspan")>1,go=(l,f)=>parseInt(wa(l,f),10),Dl=ae(10),Ca=ae(10),Gc=(l,f)=>kh(l,f,Ne),kh=(l,f,g)=>As($o(l),w=>Pi(w,f)?g(w)?[w]:[]:kh(w,f,g)),cf=(l,f,g=_n)=>{if(g(f))return le.none();if(ro(l,ss(f)))return le.some(f);const w=T=>Pi(T,"table")||g(T);return ge(f,l.join(","),w)},dm=(l,f)=>cf(["td","th"],l,f),xa=l=>Gc(l,"th,td"),hd=l=>Pi(l,"colgroup")?b(l,"col"):As(mu(l),f=>b(f,"col")),gr=(l,f)=>Ue(l,"table",f),fu=l=>Gc(l,"tr"),mu=l=>gr(l).fold(ae([]),f=>b(f,"colgroup")),Kc=(l,f)=>un(l,g=>{if(ss(g)==="colgroup"){const w=un(hd(g),T=>{const P=cs(T,"span",1);return Eh(T,1,P)});return am(g,w,"colgroup")}else{const w=un(xa(g),T=>{const P=cs(T,"rowspan",1),z=cs(T,"colspan",1);return Eh(T,P,z)});return am(g,w,f(g))}}),fm=l=>Wc(l).map(f=>{const g=ss(f);return gc(g)?g:"tbody"}).getOr("tbody"),pd=l=>{const f=fu(l),w=[...mu(l),...f];return Kc(w,fm)},dv=(l,f)=>Kc(l,()=>f),Rl=l=>{let f=!1,g;return(...w)=>(f||(f=!0,g=l.apply(null,w)),g)},Ah=(l,f,g,w)=>{const T=l.isiOS()&&/ipad/i.test(g)===!0,P=l.isiOS()&&!T,z=l.isiOS()||l.isAndroid(),G=z||w("(pointer:coarse)"),Q=T||!P&&z&&w("(min-device-width:768px)"),ce=P||z&&!Q,Ce=f.isSafari()&&l.isiOS()&&/safari/i.test(g)===!1,tt=!ce&&!Q&&!Ce;return{isiPad:ae(T),isiPhone:ae(P),isTablet:ae(Q),isPhone:ae(ce),isTouch:ae(G),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:ae(Ce),isDesktop:ae(tt)}},hu=(l,f)=>{for(let g=0;g<l.length;g++){const w=l[g];if(w.test(f))return w}},G0=(l,f)=>{const g=hu(l,f);if(!g)return{major:0,minor:0};const w=T=>Number(f.replace(g,"$"+T));return ie(w(1),w(2))},re=(l,f)=>{const g=String(f).toLowerCase();return l.length===0?Oh():G0(l,g)},Oh=()=>ie(0,0),ie=(l,f)=>({major:l,minor:f}),we={nu:ie,detect:re,unknown:Oh},Ve=(l,f)=>Nr(f.brands,g=>{const w=g.brand.toLowerCase();return W(l,T=>{var P;return w===((P=T.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(T=>({current:T.name,version:we.nu(parseInt(g.version,10),0)}))}),Ge=(l,f)=>{const g=String(f).toLowerCase();return W(l,w=>w.search(g))},Fe=(l,f)=>Ge(l,f).map(g=>{const w=we.detect(g.versionRegexes,f);return{current:g.name,version:w}}),Lt=(l,f)=>Ge(l,f).map(g=>{const w=we.detect(g.versionRegexes,f);return{current:g.name,version:w}}),jt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,nn=l=>f=>Do(f,l),dn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>Do(l,"edge/")&&Do(l,"chrome")&&Do(l,"safari")&&Do(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,jt],search:l=>Do(l,"chrome")&&!Do(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>Do(l,"msie")||Do(l,"trident")},{name:"Opera",versionRegexes:[jt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:nn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:nn("firefox")},{name:"Safari",versionRegexes:[jt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(Do(l,"safari")||Do(l,"mobile/"))&&Do(l,"applewebkit")}],ho=[{name:"Windows",search:nn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>Do(l,"iphone")||Do(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:nn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:nn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:nn("linux"),versionRegexes:[]},{name:"Solaris",search:nn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:nn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:nn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dn={browsers:ae(dn),oses:ae(ho)},Kn="Edge",xo="Chromium",zn="IE",Oo="Opera",Yr="Firefox",mi="Safari",Js=()=>Es({current:void 0,version:we.unknown()}),Es=l=>{const f=l.current,g=l.version,w=T=>()=>f===T;return{current:f,version:g,isEdge:w(Kn),isChromium:w(xo),isIE:w(zn),isOpera:w(Oo),isFirefox:w(Yr),isSafari:w(mi)}},Ia={unknown:Js,nu:Es,edge:ae(Kn),chromium:ae(xo),ie:ae(zn),opera:ae(Oo),firefox:ae(Yr),safari:ae(mi)},Hr="Windows",Xc="iOS",Qi="Android",fv="Linux",F2="macOS",sg="Solaris",rg="FreeBSD",mv="ChromeOS",gd=()=>hv({current:void 0,version:we.unknown()}),hv=l=>{const f=l.current,g=l.version,w=T=>()=>f===T;return{current:f,version:g,isWindows:w(Hr),isiOS:w(Xc),isAndroid:w(Qi),isMacOS:w(F2),isLinux:w(fv),isSolaris:w(sg),isFreeBSD:w(rg),isChromeOS:w(mv)}},qT={unknown:gd,nu:hv,windows:ae(Hr),ios:ae(Xc),android:ae(Qi),linux:ae(fv),macos:ae(F2),solaris:ae(sg),freebsd:ae(rg),chromeos:ae(mv)},GT={detect:(l,f,g)=>{const w=Dn.browsers(),T=Dn.oses(),P=f.bind(Q=>Ve(w,Q)).orThunk(()=>Fe(w,l)).fold(Ia.unknown,Ia.nu),z=Lt(T,l).fold(qT.unknown,qT.nu),G=Ah(z,P,l,g);return{browser:P,os:z,deviceType:G}}},pv=l=>window.matchMedia(l).matches;let KT=Rl(()=>GT.detect(navigator.userAgent,le.from(navigator.userAgentData),pv));const mm=()=>KT(),vr=(l,f)=>{const g=(G,Q)=>{if(!Xe(Q)&&!Q.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+Q);const ce=G.dom;qc(ce)&&(ce.style[l]=Q+"px")},w=G=>{const Q=f(G);if(Q<=0||Q===null){const ce=wa(G,l);return parseFloat(ce)||0}return Q},T=w,P=(G,Q)=>Ze(Q,(ce,Ce)=>{const tt=wa(G,Ce),vt=tt===void 0?0:parseInt(tt,10);return isNaN(vt)?ce:ce+vt},0);return{set:g,get:w,getOuter:T,aggregate:P,max:(G,Q,ce)=>{const Ce=P(G,ce);return Q>Ce?Q-Ce:0}}},Ps=(l,f)=>hs(l).getOr(f),Ii=(l,f,g)=>Ps(wa(l,f),g),K0=(l,f,g,w)=>{const T=Ii(l,`padding-${g}`,0),P=Ii(l,`padding-${w}`,0),z=Ii(l,`border-${g}-width`,0),G=Ii(l,`border-${w}-width`,0);return f-T-P-z-G},XT=(l,f)=>{const g=l.dom,w=g.getBoundingClientRect().width||g.offsetWidth;return f==="border-box"?w:K0(l,w,"left","right")},Li=l=>Ii(l,"height",l.dom.offsetHeight),ig=l=>Ii(l,"width",l.dom.offsetWidth),ag=l=>XT(l,"content-box"),lf=vr("width",l=>l.dom.offsetWidth),uf=l=>lf.get(l),An=l=>lf.getOuter(l),La=ag,hm=ig,gv=(l,f,g)=>{const w=l.cells,T=w.slice(0,f),P=w.slice(f),z=T.concat(g).concat(P);return cg(l,z)},H2=(l,f,g)=>gv(l,f,[g]),Dh=(l,f,g)=>{const w=l.cells;w[f]=g},cg=(l,f)=>ec(l.element,f,l.section,l.isNew),pu=(l,f)=>{const g=l.cells,w=un(g,f);return ec(l.element,w,l.section,l.isNew)},nc=(l,f)=>l.cells[f],$i=(l,f)=>nc(l,f).element,bc=l=>l.cells.length,hi=l=>{const f=Tr(l,g=>g.section==="colgroup");return{rows:f.fail,cols:f.pass}},Qs=(l,f,g)=>{const w=un(l.cells,g);return ec(f(l.element),w,l.section,!0)},Ci="data-snooker-locked-cols",vd=l=>ga(l,Ci).bind(f=>le.from(f.match(/\d+/g))).map(f=>gn(f,Ne)),Ml=l=>{const f=Ze(hi(l).rows,(w,T)=>(qe(T.cells,(P,z)=>{P.isLocked&&(w[z]=!0)}),w),{}),g=hr(f,(w,T)=>parseInt(T,10));return Go(g)},ur=(l,f)=>l+","+f,z2=(l,f,g)=>le.from(l.access[ur(f,g)]),V2=(l,f,g)=>{const w=Yo(l,T=>g(f,T.element));return w.length>0?le.some(w[0]):le.none()},Yo=(l,f)=>{const g=As(l.all,w=>w.cells);return qo(g,f)},pm=l=>{const f={};let g=0;return qe(l.cells,w=>{const T=w.colspan;po(T,P=>{const z=g+P;f[z]=ng(w.element,T,z)}),g+=T}),f},vo=l=>{const f={},g=[],T=Ae(l).map(ht=>ht.element).bind(gr).bind(vd).getOr({});let P=0,z=0,G=0;const{pass:Q,fail:ce}=Tr(l,ht=>ht.section==="colgroup");qe(ce,ht=>{const rt=[];qe(ht.cells,Ot=>{let Je=0;for(;f[ur(G,Je)]!==void 0;)Je++;const ut=os(T,Je.toString()),Yt=tg(Ot.element,Ot.rowspan,Ot.colspan,G,Je,ut);for(let rn=0;rn<Ot.colspan;rn++)for(let co=0;co<Ot.rowspan;co++){const vs=G+co,ys=Je+rn,ki=ur(vs,ys);f[ki]=Yt,z=Math.max(z,ys+1)}rt.push(Yt)}),P++,g.push(am(ht.element,rt,ht.section)),G++});const{columns:Ce,colgroups:tt}=li(Q).map(ht=>{const rt=pm(ht);return{colgroups:[tc(ht.element,xs(rt))],columns:rt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ol(P,z),access:f,all:g,columns:Ce,colgroups:tt}},no={fromTable:l=>{const f=pd(l);return vo(f)},generate:vo,getAt:z2,findItem:V2,filterItems:Yo,justCells:l=>As(l.all,f=>f.cells),justColumns:l=>xs(l.columns),hasColumns:l=>Ut(l.columns).length>0,getColumnAt:(l,f)=>le.from(l.columns[f])},bv=(l,f=Ne)=>{const g=l.grid,w=po(g.columns,Ft),T=po(g.rows,Ft);return un(w,P=>YT(()=>As(T,ce=>no.getAt(l,ce,P).filter(Ce=>Ce.column===P).toArray()),ce=>ce.colspan===1&&f(ce.element),()=>no.getAt(l,0,P)))},YT=(l,f,g)=>{const w=l();return W(w,f).orThunk(()=>le.from(w[0]).orThunk(g)).map(z=>z.element)},JT=l=>{const f=l.grid,g=po(f.rows,Ft),w=po(f.columns,Ft);return un(g,T=>YT(()=>As(w,Q=>no.getAt(l,T,Q).filter(ce=>ce.row===T).fold(ae([]),ce=>[ce])),Q=>Q.rowspan===1,()=>no.getAt(l,T,0)))},U2=(l,f)=>{if(f<0||f>=l.length-1)return le.none();const g=l[f].fold(()=>{const T=cd(l.slice(0,f));return Nr(T,(P,z)=>P.map(G=>({value:G,delta:z+1})))},T=>le.some({value:T,delta:0})),w=l[f+1].fold(()=>{const T=l.slice(f+1);return Nr(T,(P,z)=>P.map(G=>({value:G,delta:z+1})))},T=>le.some({value:T,delta:1}));return g.bind(T=>w.map(P=>{const z=P.delta+T.delta;return Math.abs(P.value-T.value)/z}))},yv=(l,f)=>g=>QT(g)==="rtl"?f:l,QT=l=>wa(l,"direction")==="rtl"?"rtl":"ltr",gm=vr("height",l=>{const f=l.dom;return Ss(l)?f.getBoundingClientRect().height:f.offsetHeight}),vu=l=>gm.get(l),W2=l=>gm.getOuter(l),wv=Li,Z2=(l,f)=>({left:l,top:f,translate:(w,T)=>Z2(l+w,f+T)}),Pl=Z2,df=l=>{const f=l.getBoundingClientRect();return Pl(f.left,f.top)},Rh=(l,f)=>l!==void 0?l:f!==void 0?f:0,Mh=l=>{const f=l.dom.ownerDocument,g=f.body,w=f.defaultView,T=f.documentElement;if(g===l.dom)return Pl(g.offsetLeft,g.offsetTop);const P=Rh(w==null?void 0:w.pageYOffset,T.scrollTop),z=Rh(w==null?void 0:w.pageXOffset,T.scrollLeft),G=Rh(T.clientTop,g.clientTop),Q=Rh(T.clientLeft,g.clientLeft);return j2(l).translate(z-Q,P-G)},j2=l=>{const f=l.dom,w=f.ownerDocument.body;return w===f?Pl(w.offsetLeft,w.offsetTop):Ss(l)?df(f):Pl(0,0)},Q0=(l,f)=>({row:l,y:f}),ey=(l,f)=>({col:l,x:f}),q2=l=>Mh(l).left+An(l),ty=l=>Mh(l).left,pi=(l,f)=>ey(l,ty(f)),ny=(l,f)=>ey(l,q2(f)),Sa=l=>Mh(l).top,sn=(l,f)=>Q0(l,Sa(f)),Ns=(l,f)=>Q0(l,Sa(f)+W2(f)),bd=(l,f,g)=>{if(g.length===0)return[];const w=un(g.slice(1),(P,z)=>P.map(G=>l(z,G))),T=g[g.length-1].map(P=>f(g.length-1,P));return w.concat([T])},Jr=l=>-l,Ph={delta:Ft,positions:l=>bd(sn,Ns,l),edge:Sa},Nl=yv({delta:Ft,edge:ty,positions:l=>bd(pi,ny,l)},{delta:Jr,edge:q2,positions:l=>bd(ny,pi,l)}),vm={delta:(l,f)=>Nl(f).delta(l,f),positions:(l,f)=>Nl(f).positions(l,f),edge:l=>Nl(l).edge(l)},Qr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nh=(()=>{const l="[0-9]+",g="[eE]"+("[+-]?"+l),w="\\.",T=G=>`(?:${G})?`,z=`[+-]?(?:${["Infinity",l+w+T(l)+T(g),w+l+T(g),l+T(g)].join("|")})`;return new RegExp(`^(${z})(.*)$`)})(),oy=(l,f)=>lt(f,g=>lt(Qr[g],w=>l===w)),sy=(l,f)=>le.from(Nh.exec(l)).bind(w=>{const T=Number(w[1]),P=w[2];return oy(P,f)?le.some({value:T,unit:P}):le.none()}),ff=/(\d+(\.\d+)?)%/,Cv=/(\d+(\.\d+)?)px|em/,It=Mi("col"),yd=Mi("tr"),Bh=(l,f,g)=>{const w=Hs(l).getOrThunk(()=>Th(rm(l)));return f(l)/g(w)*100},bm=(l,f)=>{Ho(l,"width",f+"px")},Yc=(l,f)=>{Ho(l,"width",f+"%")},ls=(l,f)=>{Ho(l,"height",f+"px")},Bl=l=>{zo(l,"height")},zr=l=>wv(l)+"px",Ih=(l,f,g,w)=>{const T=gr(l).map(P=>{const z=g(P);return Math.floor(f/100*z)}).getOr(f);return w(l,T),T},br=(l,f,g,w)=>{const T=parseFloat(l);return Fr(l,"%")&&ss(f)!=="table"?Ih(f,T,g,w):T},ry=l=>{const f=zr(l);return f?br(f,l,vu,ls):vu(l)},Vr=(l,f,g)=>{const w=g(l),T=vc(l,f);return w/T},Ke=(l,f)=>yi(l,f).orThunk(()=>ga(l,f).map(g=>g+"px")),mf=l=>Ke(l,"width"),je=l=>Ke(l,"height"),ei=l=>Bh(l,uf,La),Lh=l=>It(l)?uf(l):hm(l),er=l=>yd(l)?vu(l):Vr(l,"rowspan",ry),Jo=l=>mf(l).bind(g=>sy(g,["fixed","relative","empty"])),iy=(l,f,g)=>{Ho(l,"width",f+g)},kr=l=>uf(l)+"px",ps=l=>vu(l)+"px",Jc=l=>Bh(l,uf,La)+"%",K2=l=>mf(l).exists(f=>ff.test(f)),Ar=l=>mf(l).exists(f=>Cv.test(f)),bo=l=>mf(l).isNone(),Qc=ae(ff),lg=Mi("col"),xi=l=>mf(l).getOrThunk(()=>Lh(l)+"px"),X2=l=>je(l).getOrThunk(()=>er(l)+"px"),hf=l=>un(no.justColumns(l),f=>le.from(f.element)),Y2=l=>{const f=mm().browser,g=f.isChromium()||f.isFirefox();return lg(l)?g:!0},Ea=(l,f,g,w,T,P)=>l.filter(w).fold(()=>P(U2(g,f)),z=>T(z)),ay=(l,f,g,w)=>{const T=bv(l),P=no.hasColumns(l)?hf(l):T,z=[le.some(vm.edge(f))].concat(un(vm.positions(T,f),Q=>Q.map(ce=>ce.x))),G=D(md);return un(P,(Q,ce)=>Ea(Q,ce,z,G,Ce=>{if(Y2(Ce))return g(Ce);{const tt=At(T[ce],Ft);return Ea(tt,ce,z,G,vt=>w(le.some(uf(vt))),w)}},w))},xe=l=>l.map(f=>f+"px").getOr(""),yc=(l,f)=>ay(l,f,xi,xe),ug=(l,f,g)=>ay(l,f,ei,w=>w.fold(()=>g.minCellWidth(),T=>T/g.pixelWidth()*100)),Si=(l,f,g)=>ay(l,f,Lh,w=>w.getOrThunk(g.minCellWidth)),Bs=(l,f,g,w)=>{const T=JT(l),P=un(l.all,G=>le.some(G.element)),z=[le.some(Ph.edge(f))].concat(un(Ph.positions(T,f),G=>G.map(Q=>Q.y)));return un(P,(G,Q)=>Ea(G,Q,z,Ne,g,w))},Ei=(l,f)=>Bs(l,f,er,g=>g.getOrThunk(Ca)),_s=(l,f)=>Bs(l,f,X2,xe),$h=(l,f)=>()=>Ss(l)?f(l):parseFloat(yi(l,"width").getOr("0")),wd=l=>{const f=$h(l,uf),g=ae(0);return{width:f,pixelWidth:f,getWidths:(T,P)=>Si(T,l,P),getCellDelta:g,singleColumnWidth:ae([0]),minCellWidth:g,setElementWidth:nt,adjustTableWidth:nt,isRelative:!0,label:"none"}},xv=l=>{const f=$h(l,Q=>parseFloat(Jc(Q))),g=$h(l,uf);return{width:f,pixelWidth:g,getWidths:(Q,ce)=>ug(Q,l,ce),getCellDelta:Q=>Q/g()*100,singleColumnWidth:(Q,ce)=>[100-Q],minCellWidth:()=>Dl()/g()*100,setElementWidth:Yc,adjustTableWidth:Q=>{const ce=f(),Ce=Q/100*ce,tt=ce+Ce;Yc(l,tt)},isRelative:!0,label:"percent"}},Xt=l=>{const f=$h(l,uf);return{width:f,pixelWidth:f,getWidths:(z,G)=>Si(z,l,G),getCellDelta:Ft,singleColumnWidth:(z,G)=>[Math.max(Dl(),z+G)-z],minCellWidth:Dl,setElementWidth:bm,adjustTableWidth:z=>{const G=f()+z;bm(l,G)},isRelative:!1,label:"pixel"}},cy=(l,f)=>Qc().exec(f)!==null?xv(l):Xt(l),pf={getTableSize:l=>mf(l).fold(()=>wd(l),g=>cy(l,g)),pixelSize:Xt,percentageSize:xv,noneSize:wd},J2=(l,f,g,w,T,P)=>({minRow:l,minCol:f,maxRow:g,maxCol:w,allCells:T,selectedCells:P}),Q2=(l,f)=>{const g=l.grid.columns;let T=l.grid.rows,P=g,z=0,G=0;const Q=[],ce=[];return wo(l.access,Ce=>{if(Q.push(Ce),f(Ce)){ce.push(Ce);const tt=Ce.row,vt=tt+Ce.rowspan-1,ht=Ce.column,rt=ht+Ce.colspan-1;tt<T?T=tt:vt>z&&(z=vt),ht<P?P=ht:rt>G&&(G=rt)}}),J2(T,P,z,G,Q,ce)},ex=(l,f,g)=>{const w=l[g].element,T=be.fromTag("td");Ms(T,be.fromTag("br")),(f?Ms:Bi)(w,T)},ek=(l,f,g,w)=>{const T=qo(l,G=>G.section!=="colgroup"),P=f.grid.columns,z=f.grid.rows;for(let G=0;G<z;G++){let Q=!1;for(let ce=0;ce<P;ce++)G<g.minRow||G>g.maxRow||ce<g.minCol||ce>g.maxCol||(no.getAt(f,G,ce).filter(w).isNone()?ex(T,Q,G):Q=!0)}},ym=(l,f,g,w)=>{wo(g.columns,z=>{(z.column<f.minCol||z.column>f.maxCol)&&zs(z.element)});const T=qo(Gc(l,"tr"),z=>z.dom.childElementCount===0);qe(T,zs),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&qe(Gc(l,"th,td"),z=>{Wo(z,"rowspan"),Wo(z,"colspan")}),Wo(l,Ci),Wo(l,"data-snooker-col-series"),pf.getTableSize(l).adjustTableWidth(w)},Fh=(l,f,g,w)=>{if(w.minCol===0&&f.grid.columns===w.maxCol+1)return 0;const T=Si(f,l,g),P=Ze(T,(ce,Ce)=>ce+Ce,0),Q=Ze(T.slice(w.minCol,w.maxCol+1),(ce,Ce)=>ce+Ce,0)/P*g.pixelWidth()-g.pixelWidth();return g.getCellDelta(Q)},ly=(l,f)=>{const g=vt=>Pi(vt.element,f),w=pc(l),T=pd(w),P=pf.getTableSize(l),z=no.generate(T),G=Q2(z,g),Q="th:not("+f+"),td:not("+f+")",ce=kh(w,"th,td",vt=>Pi(vt,Q));qe(ce,zs),ek(T,z,G,g);const Ce=no.fromTable(l),tt=Fh(l,Ce,P,G);return ym(w,G,z,tt),w},tk="",Hh=((l,f)=>{const g=P=>{if(!l(P))throw new Error("Can only get "+f+" value of a "+f+" node");return w(P).getOr("")},w=P=>l(P)?le.from(P.dom.nodeValue):le.none();return{get:g,getOption:w,set:(P,z)=>{if(!l(P))throw new Error("Can only set raw "+f+" value of a "+f+" node");P.dom.nodeValue=z}}})(Tl,"text"),zh=l=>Hh.get(l),wm=l=>Hh.getOption(l),gf=(l,f)=>Hh.set(l,f),vf=l=>ss(l)==="img"?1:wm(l).fold(()=>$o(l).length,f=>f.length),bf=l=>wm(l).filter(f=>f.trim().length!==0||f.indexOf(tk)>-1).isSome(),nk=l=>en(l)&&Vc(l,"contenteditable")==="false",tx=["img","br"],nx=l=>bf(l)||ro(tx,ss(l))||nk(l),uy=l=>J(l,nx),ti=l=>yu(l,nx),yu=(l,f)=>{const g=w=>{const T=$o(w);for(let P=T.length-1;P>=0;P--){const z=T[P];if(f(z))return le.some(z);const G=g(z);if(G.isSome())return G}return le.none()};return g(l)},Sv={scope:["row","col"]},wu=l=>()=>{const f=be.fromTag("td",l.dom);return Ms(f,be.fromTag("br",l.dom)),f},Ev=l=>()=>be.fromTag("col",l.dom),_a=l=>()=>be.fromTag("colgroup",l.dom),dg=l=>()=>be.fromTag("tr",l.dom),fg=(l,f,g)=>{const w=Ch(l,f);return wo(g,(T,P)=>{T===null?Wo(w,P):Ks(w,P,T)}),w},dy=l=>l,Cu=(l,f,g)=>uy(l).map(T=>{const P=g.join(","),z=um(T,P,G=>as(G,l));return Fs(z,(G,Q)=>{const ce=Ja(Q);return Ms(G,ce),ce},f)}).getOr(f),el=(l,f)=>{wo(Sv,(g,w)=>ga(l,w).filter(T=>ro(g,T)).each(T=>Ks(f,w,T)))},Vh=(l,f,g)=>{const w=(z,G)=>{wi(z.element,G),zo(G,"height"),z.colspan!==1&&zo(G,"width")},T=z=>{const G=be.fromTag(ss(z.element),f.dom),Q=g.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ce=Q.length>0?Cu(z.element,G,Q):G;return Ms(ce,be.fromTag("br")),w(z,G),el(z.element,G),l(z.element,G),G};return{col:z=>{const G=be.fromTag(ss(z.element),f.dom);return w(z,G),l(z.element,G),G},colgroup:_a(f),row:dg(f),cell:T,replace:fg,colGap:Ev(f),gap:wu(f)}},tl=l=>({col:Ev(l),colgroup:_a(l),row:dg(l),cell:wu(l),replace:dy,colGap:Ev(l),gap:wu(l)}),_v=(l,f)=>{const w=(f||document).createElement("div");return w.innerHTML=l,$o(be.fromDom(w))},xu=l=>un(l,be.fromDom),nl=l=>f=>f.options.get(l),yf="100%",ox=l=>{var f;const g=l.dom,w=(f=g.getParent(l.selection.getStart(),g.isBlock))!==null&&f!==void 0?f:l.getBody();return La(be.fromDom(w))+"px"},Ll=(l,f)=>Or(l)||!Tv(l)?f:ea(l)?{...f,width:ox(l)}:{...f,width:yf},ok=(l,f)=>Or(l)||Tv(l)?f:ea(l)?{...f,width:ox(l)}:{...f,width:yf},sk=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:g=>{const w=ro(["section","cells","sectionCells","auto"],g);return w?{value:g,valid:w}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:g=>{const w=ro(["preservetable","resizetable"],g);return w?{value:g,valid:w}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},Is=l=>le.from(l.options.get("table_clone_elements")),fy=l=>{const f=l.options.get("object_resizing");return ro(f.split(","),"table")},Su=nl("table_header_type"),Cm=nl("table_column_resizing"),mg=l=>Cm(l)==="preservetable",Eu=l=>Cm(l)==="resizetable",$a=nl("table_sizing_mode"),xm=l=>$a(l)==="relative",ea=l=>$a(l)==="fixed",Or=l=>$a(l)==="responsive",hg=nl("table_resize_bars"),Tv=nl("table_style_by_css"),kv=nl("table_merge_content_on_paste"),rk=l=>{const f=l.options,g=f.get("table_default_attributes");return f.isSet("table_default_attributes")?g:ok(l,g)},sx=l=>{const f=l.options,g=f.get("table_default_styles");return f.isSet("table_default_styles")?g:Ll(l,g)},Av=nl("table_use_colgroups"),Sm=l=>Ue(l,"[contenteditable]"),Fa=(l,f=!1)=>Ss(l)?l.dom.isContentEditable:Sm(l).fold(ae(f),g=>$l(g)==="true"),$l=l=>l.dom.contentEditable,_u=l=>be.fromDom(l.getBody()),Em=l=>f=>as(f,_u(l)),ol=l=>{Wo(l,"data-mce-style");const f=g=>Wo(g,"data-mce-style");qe(xa(l),f),qe(hd(l),f),qe(fu(l),f)},Uh=l=>be.fromDom(l.selection.getStart()),my=l=>l.getBoundingClientRect().width,hy=l=>l.getBoundingClientRect().height,py=l=>(f,g)=>{const w=f.dom.getStyle(g,l)||f.dom.getAttrib(g,l);return le.from(w).filter(to)},Wh=py("width"),_m=py("height"),Mn=l=>/^(\d+(\.\d+)?)%$/.test(l),Gt=l=>/^(\d+(\.\d+)?)px$/.test(l),Tu=l=>q(l,Mi("table")).exists(Fa),Ov=(l,f)=>{const g=f.column,w=f.column+f.colspan-1,T=f.row,P=f.row+f.rowspan-1;return g<=l.finishCol&&w>=l.startCol&&T<=l.finishRow&&P>=l.startRow},Dv=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,gy=(l,f)=>{let g=!0;const w=hn(Dv,f);for(let T=f.startRow;T<=f.finishRow;T++)for(let P=f.startCol;P<=f.finishCol;P++)g=g&&no.getAt(l,T,P).exists(w);return g?le.some(f):le.none()},Cd=(l,f)=>j0(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),Qo=(l,f,g)=>{const w=no.findItem(l,f,as),T=no.findItem(l,g,as);return w.bind(P=>T.map(z=>Cd(P,z)))},rx=(l,f,g)=>Qo(l,f,g).bind(w=>gy(l,w)),vy=(l,f,g,w)=>no.findItem(l,f,as).bind(T=>{const P=g>0?T.row+T.rowspan-1:T.row,z=w>0?T.column+T.colspan-1:T.column;return no.getAt(l,P+g,z+w).map(Q=>Q.element)}),by=(l,f,g)=>Qo(l,f,g).map(w=>{const T=no.filterItems(l,hn(Ov,w));return un(T,P=>P.element)}),Ie=(l,f)=>{const g=(w,T)=>sm(T,w);return no.findItem(l,f,g).map(w=>w.element)},yy=(l,f,g)=>gr(l).bind(w=>{const T=xd(w);return vy(T,l,f,g)}),ix=(l,f,g)=>{const w=xd(l);return by(w,f,g)},Tm=(l,f,g,w,T)=>{const P=xd(l),z=as(l,g)?le.some(f):Ie(P,f),G=as(l,T)?le.some(w):Ie(P,w);return z.bind(Q=>G.bind(ce=>by(P,Q,ce)))},ax=(l,f,g)=>{const w=xd(l);return rx(w,f,g)},xd=no.fromTable;var km=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],sl=()=>{const l=ce=>be.fromDom(ce.dom.cloneNode(!1)),f=ce=>fd(ce).dom,g=ce=>Lr(ce)?ss(ce)==="body"?!0:ro(km,ss(ce)):!1,w=ce=>Lr(ce)?ro(["br","img","hr","input"],ss(ce)):!1,T=ce=>Lr(ce)&&Vc(ce,"contenteditable")==="false",P=(ce,Ce)=>ce.dom.compareDocumentPosition(Ce.dom),z=(ce,Ce)=>{const tt=Pa(ce);zc(Ce,tt)},G=ce=>{const Ce=ss(ce);return ro(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ce)},Q=ce=>Lr(ce)?ga(ce,"lang"):le.none();return{up:ae({selector:ge,closest:Ue,predicate:I,all:Ya}),down:ae({selector:_,predicate:lm}),styles:ae({get:wa,getRaw:yi,set:Ho,remove:zo}),attrs:ae({get:Vc,set:Ks,remove:Wo,copyTo:z}),insert:ae({before:Zc,after:kl,afterAll:uo,append:Ms,appendAll:Na,prepend:Bi,wrap:wh}),remove:ae({unwrap:jc,remove:zs}),create:ae({nu:be.fromTag,clone:l,text:be.fromText}),query:ae({comparePosition:P,prevSibling:uu,nextSibling:af}),property:ae({children:$o,name:ss,parent:Wc,document:f,isText:Tl,isComment:Xo,isElement:Lr,isSpecial:G,getLanguage:Q,getText:zh,setText:gf,isBoundary:g,isEmptyTag:w,isNonEditable:T}),eq:as,is:Z0}};const ik=(l,f,g,w)=>{const T=g[0],P=g.slice(1);return w(l,f,T,P)},Zh=(l,f,g)=>g.length>0?ik(l,f,g,gs):le.none(),gs=(l,f,g,w)=>{const T=f(l,g);return Fs(w,(P,z)=>{const G=f(l,z);return ku(l,P,G)},T)},ku=(l,f,g)=>f.bind(w=>g.filter(hn(l.eq,w))),cx=(l,f)=>hn(l.eq,f),Fl=(l,f,g,w=_n)=>{const T=[f].concat(l.up().all(f)),P=[g].concat(l.up().all(g)),z=Ce=>mc(Ce,w).fold(()=>Ce,vt=>Ce.slice(0,vt+1)),G=z(T),Q=z(P),ce=W(G,Ce=>lt(Q,cx(l,Ce)));return{firstpath:G,secondpath:Q,shared:ce}},ak=Zh,wy=Fl,Sd=sl(),jh=(l,f)=>ak(Sd,(g,w)=>l(w),f),lx=(l,f,g)=>wy(Sd,l,f,g),Am=l=>ge(l,"table"),Rv=(l,f,g)=>{const w=T=>P=>g!==void 0&&g(P)||as(P,T);return as(l,f)?le.some({boxes:le.some([l]),start:l,finish:f}):Am(l).bind(T=>Am(f).bind(P=>{if(as(T,P))return le.some({boxes:ix(T,l,f),start:l,finish:f});if(sm(T,P)){const z=um(f,"td,th",w(T)),G=z.length>0?z[z.length-1]:f;return le.some({boxes:Tm(T,l,T,f,P),start:l,finish:G})}else if(sm(P,T)){const z=um(l,"td,th",w(P)),G=z.length>0?z[z.length-1]:l;return le.some({boxes:Tm(P,l,T,f,P),start:l,finish:G})}else return lx(l,f).shared.bind(z=>Ue(z,"table",g).bind(G=>{const Q=um(f,"td,th",w(G)),ce=Q.length>0?Q[Q.length-1]:f,Ce=um(l,"td,th",w(G)),tt=Ce.length>0?Ce[Ce.length-1]:l;return le.some({boxes:Tm(G,l,T,f,P),start:tt,finish:ce})}))}))},Ed=(l,f)=>{const g=_(l,f);return g.length>0?le.some(g):le.none()},Au=(l,f)=>W(l,g=>Pi(g,f)),ux=(l,f,g)=>_e(l,f).bind(w=>_e(l,g).bind(T=>jh(Am,[w,T]).map(P=>({first:w,last:T,table:P})))),Cy=(l,f)=>ge(l,"table").bind(g=>_e(g,f).bind(w=>Rv(w,l).bind(T=>T.boxes.map(P=>({boxes:P,start:T.start,finish:T.finish}))))),ck=(l,f,g,w,T)=>Au(l,T).bind(P=>yy(P,f,g).bind(z=>Cy(z,w))),Om=(l,f)=>Ed(l,f),Nt=(l,f,g)=>ux(l,f,g).bind(w=>{const T=Q=>as(l,Q),P="thead,tfoot,tbody,table",z=ge(w.first,P,T),G=ge(w.last,P,T);return z.bind(Q=>G.bind(ce=>as(Q,ce)?ax(w.table,w.first,w.last):le.none()))}),Dm=Ft,dx=l=>{const f=(w,T)=>ga(w,T).exists(P=>parseInt(P,10)>1),g=w=>f(w,"rowspan")||f(w,"colspan");return l.length>0&&ko(l,g)?le.some(l):le.none()},lk=(l,f,g)=>f.length<=1?le.none():Nt(l,g.firstSelectedSelector,g.lastSelectedSelector).map(w=>({bounds:w,cells:f})),qh="data-mce-selected",uk="td["+qh+"],th["+qh+"]",Zo="["+qh+"]",Rm="data-mce-first-selected",Gh="td["+Rm+"],th["+Rm+"]",xy="data-mce-last-selected",Mm="td["+xy+"],th["+xy+"]",fx=Zo,Ha={selected:qh,selectedSelector:uk,firstSelected:Rm,firstSelectedSelector:Gh,lastSelected:xy,lastSelectedSelector:Mm},tr=(l,f,g)=>({element:g,mergable:lk(f,l,Ha),unmergable:dx(l),selection:Dm(l)}),Sy=(l,f,g)=>({element:l,clipboard:f,generators:g}),dk=(l,f,g,w)=>({selection:Dm(l),clipboard:g,generators:w}),Mv=l=>gr(l).bind(f=>Om(f,Ha.firstSelectedSelector)).fold(ae(l),f=>f[0]),Pm=l=>(f,g)=>{const w=ss(f),T=w==="col"||w==="colgroup"?Mv(f):f;return Ue(T,l,g)},Ey=Pm("th,td,caption"),pg=Pm("th,td"),rl=l=>xu(l.model.table.getSelectedCells()),Ou=l=>qo(rl(l),f=>Pi(f,Ha.selectedSelector)),wc=l=>gr(l[0]).map(f=>{const g=ly(f,fx);return ol(g),[g]}),BR=(l,f)=>un(f,g=>l.selection.serializer.serialize(g.dom,{})).join(""),IR=l=>un(l,f=>f.dom.innerText).join(""),LR=(l,f)=>{l.on("BeforeGetContent",g=>{const w=T=>{g.preventDefault(),wc(T).each(P=>{g.content=g.format==="text"?IR(P):BR(l,P)})};if(g.selection===!0){const T=Ou(l);T.length>=1&&w(T)}}),l.on("BeforeSetContent",g=>{if(g.selection===!0&&g.paste===!0){const w=rl(l);Ae(w).each(T=>{gr(T).each(P=>{const z=qo(_v(g.content),Q=>ss(Q)!=="meta"),G=Mi("table");if(kv(l)&&z.length===1&&G(z[0])){g.preventDefault();const Q=be.fromDom(l.getDoc()),ce=tl(Q),Ce=Sy(T,z[0],ce);f.pasteCells(P,Ce).each(()=>{l.focus()})}})})}})},gg=(l,f)=>({element:l,offset:f}),Dr=(l,f,g)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?g(f).bind(w=>Dr(l,w,g).orThunk(()=>le.some(w))):le.none(),Fi=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,mx=(l,f)=>{const g=Dr(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(g))return gg(g,Fi(l,g));const w=l.property().children(g);return w.length>0?mx(l,w[w.length-1]):gg(g,Fi(l,g))},fk=mx,wf=sl(),Pv=l=>fk(wf,l),_y=(l,f)=>{md(l)||Jo(l).each(w=>{const T=w.value/2;iy(l,T,w.unit),iy(f,T,w.unit)})},Kh=l=>un(l,ae(0)),Xh=(l,f,g,w,T)=>T(l.slice(0,f)).concat(w).concat(T(l.slice(g))),Cf=l=>(f,g,w,T)=>{if(l(w)){const P=Math.max(T,f[g]-Math.abs(w)),z=Math.abs(P-f[g]);return w>=0?z:-z}else return w},_d=Cf(l=>l<0),vg=Cf(Ne),Yh=()=>{const l=(G,Q,ce,Ce,tt)=>{const vt=_d(G,Q,Ce,tt);return Xh(G,Q,ce+1,[vt,0],Kh)},f=(G,Q,ce,Ce)=>{const tt=(100+ce)/100,vt=Math.max(Ce,(G[Q]+ce)/tt);return un(G,(ht,rt)=>(rt===Q?vt:ht/tt)-ht)},g=(G,Q,ce,Ce,tt,vt)=>vt?f(G,Q,Ce,tt):l(G,Q,ce,Ce,tt);return{resizeTable:(G,Q)=>G(Q),clampTableDelta:_d,calcLeftEdgeDeltas:g,calcMiddleDeltas:(G,Q,ce,Ce,tt,vt,ht)=>g(G,ce,Ce,tt,vt,ht),calcRightEdgeDeltas:(G,Q,ce,Ce,tt,vt)=>{if(vt)return f(G,ce,Ce,tt);{const ht=_d(G,ce,Ce,tt);return Kh(G.slice(0,ce)).concat([ht])}},calcRedestributedWidths:(G,Q,ce,Ce)=>{if(Ce){const vt=(Q+ce)/Q,ht=un(G,rt=>rt/vt);return{delta:vt*100-100,newSizes:ht}}else return{delta:ce,newSizes:G}}}},Nm=()=>{const l=(z,G,Q,ce,Ce)=>{const tt=ce>=0?Q:G,vt=vg(z,tt,ce,Ce);return Xh(z,G,Q+1,[vt,-vt],Kh)};return{resizeTable:(z,G,Q)=>{Q&&z(G)},clampTableDelta:(z,G,Q,ce,Ce)=>{if(Ce){if(Q>=0)return Q;{const tt=Ze(z,(vt,ht)=>vt+ht-ce,0);return Math.max(-tt,Q)}}else return _d(z,G,Q,ce)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(z,G,Q,ce,Ce,tt)=>l(z,Q,ce,Ce,tt),calcRightEdgeDeltas:(z,G,Q,ce,Ce,tt)=>{if(tt)return Kh(z);{const vt=ce/z.length;return un(z,ae(vt))}},calcRedestributedWidths:(z,G,Q,ce)=>({delta:0,newSizes:z})}},bg=l=>no.fromTable(l).grid,yg=Mi("th"),Du=l=>ko(l,f=>yg(f.element)),hx=(l,f)=>l&&f?"sectionCells":l?"section":"cells",Ty=l=>{const f=l.section==="thead",g=st(Nv(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||g?{type:"header",subType:hx(f,g)}:{type:"body"}},Nv=l=>{const f=qo(l,g=>yg(g.element));return f.length===0?le.some("td"):f.length===l.length?le.some("th"):le.none()},mk=l=>{const f=un(l,T=>Ty(T).type),g=ro(f,"header"),w=ro(f,"footer");if(!g&&!w)return le.some("body");{const T=ro(f,"body");return g&&!T&&!w?le.some("header"):!g&&!T&&w?le.some("footer"):le.none()}},hk=l=>Nr(l.all,f=>{const g=Ty(f);return g.type==="header"?le.from(g.subType):le.none()}),wg=(l,f,g)=>ms(g(l.element,f),!0,l.isLocked),Bv=(l,f)=>l.section!==f?ec(l.element,l.cells,f,l.isNew):l,Jh=()=>({transformRow:Bv,transformCell:(l,f,g)=>{const w=g(l.element,f),T=ss(w)!=="td"?xh(w,"td"):w;return ms(T,l.isNew,l.isLocked)}}),Bm=()=>({transformRow:Bv,transformCell:wg}),Iv=()=>({transformRow:(l,f)=>Bv(l,f==="thead"?"tbody":f),transformCell:wg}),Qh={getTableSectionType:(l,f)=>{const g=no.fromTable(l);switch(hk(g).getOr(f)){case"section":return Jh();case"sectionCells":return Bm();case"cells":return Iv()}},section:Jh,sectionCells:Bm,cells:Iv,fallback:()=>({transformRow:Ft,transformCell:wg})},Ts=(l,f,g,w)=>{g===w?Wo(l,f):Ks(l,f,g)},ky=(l,f,g)=>{li(b(l,f)).fold(()=>Bi(l,g),w=>kl(w,g))},Os=(l,f)=>{const g=se(l,f).getOrThunk(()=>{const w=be.fromTag(f,rm(l).dom);return f==="thead"?ky(l,"caption,colgroup",w):f==="colgroup"?ky(l,"caption",w):Ms(l,w),w});return va(g),g},Lm=(l,f)=>{const g=[],w=[],T=ht=>un(ht,rt=>{rt.isNew&&g.push(rt.element);const Ot=rt.element;return va(Ot),qe(rt.cells,Je=>{Je.isNew&&w.push(Je.element),Ts(Je.element,"colspan",Je.colspan,1),Ts(Je.element,"rowspan",Je.rowspan,1),Ms(Ot,Je.element)}),Ot}),P=ht=>As(ht,rt=>un(rt.cells,Ot=>(Ts(Ot.element,"span",Ot.colspan,1),Ot.element))),z=(ht,rt)=>{const Ot=Os(l,rt),ut=(rt==="colgroup"?P:T)(ht);Na(Ot,ut)},G=ht=>{se(l,ht).each(zs)},Q=(ht,rt)=>{ht.length>0?z(ht,rt):G(rt)},ce=[],Ce=[],tt=[],vt=[];return qe(f,ht=>{switch(ht.section){case"thead":ce.push(ht);break;case"tbody":Ce.push(ht);break;case"tfoot":tt.push(ht);break;case"colgroup":vt.push(ht);break}}),Q(vt,"colgroup"),Q(ce,"thead"),Q(Ce,"tbody"),Q(tt,"tfoot"),{newRows:g,newCells:w}},za=l=>un(l,f=>{const g=Ja(f.element);return qe(f.cells,w=>{const T=pc(w.element);Ts(T,"colspan",w.colspan,1),Ts(T,"rowspan",w.rowspan,1),Ms(g,T)}),g}),Td=(l,f)=>un(l,g=>nc(g,f)),Va=(l,f)=>l[f],gx=(l,f)=>{if(l.length===0)return 0;const g=l[0];return mc(l,T=>!f(g.element,T.element)).getOr(l.length)},pk=(l,f,g,w)=>{const T=Va(l,f),P=T.section==="colgroup",z=gx(T.cells.slice(g),w),G=P?1:gx(Td(l.slice(f),g),w);return{colspan:z,rowspan:G}},gk=(l,f)=>{const g=un(l,T=>un(T.cells,_n)),w=(T,P,z,G)=>{for(let Q=T;Q<T+z;Q++)for(let ce=P;ce<P+G;ce++)g[Q][ce]=!0};return un(l,(T,P)=>{const z=As(T.cells,(G,Q)=>{if(g[P][Q]===!1){const ce=pk(l,P,Q,f);return w(P,Q,ce.rowspan,ce.colspan),[im(G.element,ce.rowspan,ce.colspan,G.isNew)]}else return[]});return lv(T.element,z,T.section,T.isNew)})},ep=(l,f,g)=>{const w=[];qe(l.colgroups,T=>{const P=[];for(let z=0;z<l.grid.columns;z++){const G=no.getColumnAt(l,z).map(Q=>ms(Q.element,g,!1)).getOrThunk(()=>ms(f.colGap(),!0,!1));P.push(G)}w.push(ec(T.element,P,"colgroup",g))});for(let T=0;T<l.grid.rows;T++){const P=[];for(let Q=0;Q<l.grid.columns;Q++){const ce=no.getAt(l,T,Q).map(Ce=>ms(Ce.element,g,Ce.isLocked)).getOrThunk(()=>ms(f.gap(),!0,!1));P.push(ce)}const z=l.all[T],G=ec(z.element,P,z.section,g);w.push(G)}return w},kd=(l,f)=>ep(l,f,!1),Ru=l=>gk(l,as),Ay=(l,f)=>Nr(l.all,g=>W(g.cells,w=>as(f,w.element))),Lv=(l,f,g)=>{const w=un(f.selection,P=>dm(P).bind(z=>Ay(l,z)).filter(g)),T=Pe(w);return Qn(T.length>0,T)},nr=(l,f,g,w,T)=>(P,z,G,Q)=>{const ce=no.fromTable(P),Ce=le.from(Q==null?void 0:Q.section).getOrThunk(Qh.fallback);return f(ce,z).map(vt=>{const ht=kd(ce,G),rt=l(ht,vt,as,T(G),Ce),Ot=Ml(rt.grid),Je=Ru(rt.grid);return{info:vt,grid:Je,cursor:rt.cursor,lockedColumns:Ot}}).bind(vt=>{const ht=Lm(P,vt.grid),rt=le.from(Q==null?void 0:Q.sizing).getOrThunk(()=>pf.getTableSize(P)),Ot=le.from(Q==null?void 0:Q.resize).getOrThunk(Nm);return g(P,vt.grid,vt.info,{sizing:rt,resize:Ot,section:Ce}),w(P),Wo(P,Ci),vt.lockedColumns.length>0&&Ks(P,Ci,vt.lockedColumns.join(",")),le.some({cursor:vt.cursor,newRows:ht.newRows,newCells:ht.newCells})})},vx=(l,f)=>dm(f.element).bind(g=>Ay(l,g).map(w=>({...w,generators:f.generators,clipboard:f.clipboard}))),Ad=(l,f)=>Lv(l,f,Ne).map(g=>({cells:g,generators:f.generators,clipboard:f.clipboard})),bx=(l,f)=>f.mergable,$v=(l,f)=>f.unmergable,Cc=(l,f)=>Lv(l,f,Ne),Od=(l,f)=>Lv(l,f,g=>!g.isLocked),Cg=(l,f)=>Ay(l,f).exists(g=>!g.isLocked),xg=(l,f)=>ko(f,g=>Cg(l,g)),vk=(l,f)=>bx(l,f).filter(g=>xg(l,g.cells)),bk=(l,f)=>$v(l,f).filter(g=>xg(l,g)),Sg=(l,f,g,w)=>{const T=hi(l).rows;if(T.length===0)return l;for(let P=f.startRow;P<=f.finishRow;P++)for(let z=f.startCol;z<=f.finishCol;z++){const G=T[P],Q=nc(G,z).isLocked;Dh(G,z,ms(w(),!1,Q))}return l},Dd=(l,f,g,w)=>{const T=hi(l).rows;let P=!0;for(let z=0;z<T.length;z++)for(let G=0;G<bc(T[0]);G++){const Q=T[z],ce=nc(Q,G),Ce=ce.element,tt=g(Ce,f);tt&&!P?Dh(Q,G,ms(w(),!0,ce.isLocked)):tt&&(P=!1)}return l},yk=(l,f)=>Ze(l,(g,w)=>lt(g,T=>f(T.element,w.element))?g:g.concat([w]),[]),Ur=(l,f,g,w)=>(f>0&&f<l[0].cells.length&&qe(l,T=>{const P=T.cells[f-1];let z=0;const G=w();for(;T.cells.length>f+z&&g(P.element,T.cells[f+z].element);)Dh(T,f+z,ms(G,!0,T.cells[f+z].isLocked)),z++}),l),Fv=(l,f,g,w)=>{const T=hi(l).rows;if(f>0&&f<T.length){const P=T[f-1].cells,z=yk(P,g);qe(z,G=>{let Q=le.none();for(let ce=f;ce<T.length;ce++)for(let Ce=0;Ce<bc(T[0]);Ce++){const tt=T[ce],vt=nc(tt,Ce);g(vt.element,G.element)&&(Q.isNone()&&(Q=le.some(w())),Q.each(rt=>{Dh(tt,Ce,ms(rt,!0,vt.isLocked))}))}})}return l},Ua=l=>{const f=P=>P(l),g=ae(l),w=()=>T,T={tag:!0,inner:l,fold:(P,z)=>z(l),isValue:Ne,isError:_n,map:P=>Mu.value(P(l)),mapError:w,bind:f,exists:f,forall:f,getOr:g,or:w,getOrThunk:g,orThunk:w,getOrDie:g,each:P=>{P(l)},toOptional:()=>le.some(l)};return T},yx=l=>{const f=()=>g,g={tag:!1,inner:l,fold:(w,T)=>w(l),isValue:_n,isError:Ne,map:f,mapError:w=>Mu.error(w(l)),bind:f,exists:_n,forall:Ne,getOr:Ft,or:Ft,getOrThunk:En,orThunk:En,getOrDie:pn(String(l)),each:nt,toOptional:le.none};return g},Mu={value:Ua,error:yx,fromOption:(l,f)=>l.fold(()=>yx(f),Ua)},tp=(l,f,g)=>{if(l.row>=f.length||l.column>bc(f[0]))return Mu.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const w=f.slice(l.row),T=w[0].cells.slice(l.column),P=bc(g[0]),z=g.length;return Mu.value({rowDelta:w.length-z,colDelta:T.length-P})},Rd=(l,f)=>{const g=bc(l[0]),w=bc(f[0]);return{rowDelta:0,colDelta:g-w}},Ta=(l,f)=>{const g=l.length,w=f.length;return{rowDelta:g-w,colDelta:0}},Wr=(l,f,g,w)=>{const T=f.section==="colgroup"?g.col:g.cell;return po(l,P=>ms(T(),!0,w(P)))},xc=(l,f,g,w)=>{const T=l[l.length-1];return l.concat(po(f,()=>{const P=T.section==="colgroup"?g.colgroup:g.row,z=Qs(T,P,Ft),G=Wr(z.cells.length,z,g,Q=>ar(w,Q.toString()));return cg(z,G)}))},Hv=(l,f,g,w)=>un(l,T=>{const P=Wr(f,T,g,_n);return gv(T,w,P)}),zv=(l,f,g)=>un(l,w=>Ze(g,(T,P)=>{const z=Wr(1,w,f,Ne)[0];return H2(T,P,z)},w)),np=(l,f,g)=>{const w=f.colDelta<0?Hv:Ft,T=f.rowDelta<0?xc:Ft,P=Ml(l),z=bc(l[0]),G=lt(P,Ce=>Ce===z-1),Q=w(l,Math.abs(f.colDelta),g,G?z-1:z),ce=Ml(Q);return T(Q,Math.abs(f.rowDelta),g,gn(ce,Ne))},Vv=(l,f,g,w)=>{const T=nc(l[f],g),P=hn(w,T.element),z=l[f];return l.length>1&&bc(z)>1&&(g>0&&P($i(z,g-1))||g<z.cells.length-1&&P($i(z,g+1))||f>0&&P($i(l[f-1],g))||f<l.length-1&&P($i(l[f+1],g)))},Eg=(l,f,g,w,T,P)=>{const z=l.row,G=l.column,Q=g.length,ce=bc(g[0]),Ce=z+Q,tt=G+ce+P.length,vt=gn(P,Ne);for(let ht=z;ht<Ce;ht++){let rt=0;for(let Ot=G;Ot<tt;Ot++){if(vt[Ot]){rt++;continue}Vv(f,ht,Ot,T)&&Dd(f,$i(f[ht],Ot),T,w.cell);const Je=Ot-G-rt,ut=nc(g[ht-z],Je),Yt=ut.element,rn=w.replace(Yt);Dh(f[ht],Ot,ms(rn,!0,ut.isLocked))}}return f},wk=(l,f,g)=>{const w=bc(f[0]),T=hi(f).cols.length+l.row,P=po(w-l.column,G=>G+l.column),z=W(P,G=>ko(g,Q=>Q!==G)).getOr(w-1);return{row:T,column:z}},_g=(l,f,g)=>qo(g,w=>w>=l.column&&w<=bc(f[0])+l.column),wx=(l,f,g,w,T)=>{const P=Ml(f),z=wk(l,f,P),G=hi(g).rows,Q=_g(z,G,P);return tp(z,f,G).map(Ce=>{const tt={...Ce,colDelta:Ce.colDelta-Q.length},vt=np(f,tt,w),ht=Ml(vt),rt=_g(z,G,ht);return Eg(z,vt,G,w,T,rt)})},oc=(l,f,g,w,T)=>{Ur(f,l,T,w.cell);const P=Ta(g,f),z=np(g,P,w),G=Ta(f,z),Q=np(f,G,w);return un(Q,(ce,Ce)=>gv(ce,l,z[Ce].cells))},xf=(l,f,g,w,T)=>{Fv(f,l,T,w.cell);const P=Ml(f),z=Rd(f,g),G={...z,colDelta:z.colDelta-P.length},Q=np(f,G,w),{cols:ce,rows:Ce}=hi(Q),tt=Ml(Q),vt=Rd(g,f),ht={...vt,colDelta:vt.colDelta+tt.length},rt=zv(g,w,tt),Ot=np(rt,ht,w);return[...ce,...Ce.slice(0,l),...Ot,...Ce.slice(l,Ce.length)]},Uv=(l,f,g,w)=>Qs(l,T=>w(T,g),f),us=(l,f,g,w,T)=>{const{rows:P,cols:z}=hi(l),G=P.slice(0,f),Q=P.slice(f),ce=Uv(P[g],(Ce,tt)=>f>0&&f<P.length&&w($i(P[f-1],tt),$i(P[f],tt))?nc(P[f],tt):ms(T(Ce.element,w),!0,Ce.isLocked),w,T);return[...z,...G,ce,...Q]},Hl=(l,f,g,w,T,P,z)=>{if(g==="colgroup"||!w){const G=nc(l,T);return ms(z(G.element,P),!0,!1)}else return nc(l,f)},Pu=(l,f,g,w,T)=>un(l,P=>{const z=f>0&&f<bc(P)&&w($i(P,f-1),$i(P,f)),G=Hl(P,f,P.section,z,g,w,T);return H2(P,f,G)}),Tg=(l,f)=>As(l,g=>{const w=g.cells,T=Fs(f,(P,z)=>z>=0&&z<P.length?P.slice(0,z).concat(P.slice(z+1)):P,w);return T.length>0?[ec(g.element,T,g.section,g.isNew)]:[]}),Cx=(l,f,g)=>{const{rows:w,cols:T}=hi(l);return[...T,...w.slice(0,f),...w.slice(g+1)]},Ck=(l,f,g,w)=>$i(l[f],g)!==void 0&&f>0&&w($i(l[f-1],g),$i(l[f],g)),Sf=(l,f,g)=>f>0&&g($i(l,f-1),$i(l,f)),Oy=(l,f,g,w)=>Ck(l,f,g,w)||Sf(l[f],g,w),op=(l,f)=>ko(f,Ft)&&Du(l.cells)?Ne:(w,T,P)=>!(ss(w.element)==="th"&&f[P]),sp=(l,f)=>ko(f,Ft)&&Du(l)?Ne:(w,T,P)=>!(ss(w.element)==="th"&&f[T]),Md=(l,f,g,w)=>{const T=z=>z==="row"?pr(f):md(f),P=z=>T(z)?`${z}group`:z;return l?yg(f)?P(g):null:w&&yg(f)?P(g==="row"?"col":"row"):null},xk=(l,f)=>(g,w,T)=>le.some(Md(l,g.element,"col",f[T])),Sk=(l,f)=>(g,w)=>le.some(Md(l,g.element,"row",f[w])),Dy=(l,f,g)=>ms(g(l.element,f),!0,l.isLocked),Ry=(l,f,g,w,T,P,z)=>{const G=Q=>lt(f,ce=>g(Q.element,ce.element));return un(l,(Q,ce)=>pu(Q,(Ce,tt)=>{if(G(Ce)){const vt=z(Ce,ce,tt)?T(Ce,g,w):Ce;return P(vt,ce,tt).each(ht=>{vh(vt.element,{scope:le.from(ht)})}),vt}else return Ce}))},Wv=(l,f,g)=>As(l,(w,T)=>Oy(l,T,f,g)?[]:[nc(w,f)]),xx=(l,f,g)=>{const w=l[f];return As(w.cells,(T,P)=>Oy(l,f,P,g)?[]:[T])},My=(l,f,g,w,T)=>{const P=hi(l).rows,z=As(f,Ce=>Wv(P,Ce,w)),G=un(P,Ce=>Du(Ce.cells)),Q=sp(z,G),ce=Sk(g,G);return Ry(l,z,w,T,Dy,ce,Q)},Py=(l,f,g,w,T,P,z)=>{const{cols:G,rows:Q}=hi(l),ce=Q[f[0]],Ce=As(f,Je=>xx(Q,Je,T)),tt=un(ce.cells,(Je,ut)=>Du(Wv(Q,ut,T))),vt=[...Q];qe(f,Je=>{vt[Je]=z.transformRow(Q[Je],g)});const ht=[...G,...vt],rt=op(ce,tt),Ot=xk(w,tt);return Ry(ht,Ce,T,P,z.transformCell,Ot,rt)},Sx=(l,f,g,w)=>{const T=hi(l).rows,P=un(f,z=>nc(T[z.row],z.column));return Ry(l,P,g,w,Dy,le.none,Ne)},Ef={generate:l=>{if(!He(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],g={};return qe(l,(w,T)=>{const P=Ut(w);if(P.length!==1)throw new Error("one and only one name per case");const z=P[0],G=w[z];if(g[z]!==void 0)throw new Error("duplicate key detected:"+z);if(z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!He(G))throw new Error("case arguments must be an array");f.push(z),g[z]=(...Q)=>{const ce=Q.length;if(ce!==G.length)throw new Error("Wrong number of arguments to case "+z+". Expected "+G.length+" ("+G+"), got "+ce);return{fold:(...tt)=>{if(tt.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+tt.length);return tt[T].apply(null,Q)},match:tt=>{const vt=Ut(tt);if(f.length!==vt.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+vt.join(","));if(!ko(f,rt=>ro(vt,rt)))throw new Error("Not all branches were specified when using match. Specified: "+vt.join(", ")+`
Required: `+f.join(", "));return tt[z].apply(null,Q)},log:tt=>{console.log(tt,{constructors:f,constructor:z,params:Q})}}}}),g}},il={...Ef.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},sc=(l,f)=>l.length===0?il.none():l.length===1?il.only(0):f===0?il.left(0,1):f===l.length-1?il.right(f-1,f):f>0&&f<l.length-1?il.middle(f-1,f,f+1):il.none(),oo=(l,f,g,w,T)=>{const P=l.slice(0),z=sc(l,f),G=ae(un(P,ae(0))),Q=vt=>w.singleColumnWidth(P[vt],g),ce=(vt,ht)=>T.calcLeftEdgeDeltas(P,vt,ht,g,w.minCellWidth(),w.isRelative),Ce=(vt,ht,rt)=>T.calcMiddleDeltas(P,vt,ht,rt,g,w.minCellWidth(),w.isRelative),tt=(vt,ht)=>T.calcRightEdgeDeltas(P,vt,ht,g,w.minCellWidth(),w.isRelative);return z.fold(G,Q,ce,Ce,tt)},ta=(l,f,g)=>{let w=0;for(let T=l;T<f;T++)w+=g[T]!==void 0?g[T]:0;return w},$m=(l,f)=>{const g=no.justCells(l);return un(g,w=>{const T=ta(w.column,w.column+w.colspan,f);return{element:w.element,width:T,colspan:w.colspan}})},By=(l,f)=>{const g=no.justColumns(l);return un(g,(w,T)=>({element:w.element,width:f[T],colspan:w.colspan}))},ds=(l,f)=>un(l.all,(g,w)=>({element:g.element,height:f[w]})),Iy=l=>Fs(l,(f,g)=>f+g,0),Ly=(l,f)=>no.hasColumns(l)?By(l,f):$m(l,f),Zr=(l,f,g)=>{const w=Ly(l,f);qe(w,T=>{g.setElementWidth(T.element,T.width)})},Nu=(l,f,g,w,T)=>{const P=no.fromTable(l),z=T.getCellDelta(f),G=T.getWidths(P,T),Q=g===P.grid.columns-1,ce=w.clampTableDelta(G,g,z,T.minCellWidth(),Q),Ce=oo(G,g,ce,T,w),tt=un(Ce,(vt,ht)=>vt+G[ht]);Zr(P,tt,T),w.resizeTable(T.adjustTableWidth,ce,Q)},Ex=(l,f,g)=>{const w=no.fromTable(l),T=Ei(w,l),P=un(T,(Q,ce)=>g===ce?Math.max(f+Q,Ca()):Q),z=ds(w,P);qe(z,Q=>{ls(Q.element,Q.height)}),qe(no.justCells(w),Q=>{Bl(Q.element)});const G=Iy(P);ls(l,G)},kg=(l,f,g,w,T)=>{const P=no.generate(f),z=w.getWidths(P,w),G=w.pixelWidth(),{newSizes:Q,delta:ce}=T.calcRedestributedWidths(z,G,g.pixelDelta,w.isRelative);Zr(P,Q,w),w.adjustTableWidth(ce)},Ek=(l,f,g,w)=>{const T=no.generate(f),P=w.getWidths(T,w);Zr(T,P,w)},Sc=l=>Ze(l,(g,w)=>lt(g,P=>P.column===w.column)?g:g.concat([w]),[]).sort((g,w)=>g.column-w.column),rp=Mi("col"),Ag=Mi("colgroup"),Fm=l=>ss(l)==="tr"||Ag(l),Zv=l=>{const f=cs(l,"colspan",1),g=cs(l,"rowspan",1);return{element:l,colspan:f,rowspan:g}},jv=(l,f=Zv)=>{const g=G=>rp(G.element)?l.col(G):l.cell(G),w=G=>Ag(G.element)?l.colgroup(G):l.row(G),T=G=>{if(Fm(G))return w({element:G});{const Q=G,ce=g(f(Q));return P=le.some({item:Q,replacement:ce}),ce}};let P=le.none();return{getOrInit:(G,Q)=>P.fold(()=>T(G),ce=>Q(G,ce.item)?ce.replacement:T(G))}},$y=l=>f=>{const g=[],w=(z,G)=>W(g,Q=>G(Q.item,z)),T=z=>{const G=l==="td"?{scope:null}:{},Q=f.replace(z,l,G);return g.push({item:z,sub:Q}),Q};return{replaceOrInit:(z,G)=>{if(Fm(z)||rp(z))return z;{const Q=z;return w(Q,G).fold(()=>T(Q),ce=>G(z,ce.item)?ce.sub:T(Q))}}}},Og=l=>ga(l,"scope").map(f=>f.substr(0,3)),Ls={modification:jv,transform:$y,merging:l=>({unmerge:w=>{const T=Og(w);return T.each(P=>Ks(w,"scope",P)),()=>{const P=l.cell({element:w,colspan:1,rowspan:1});return zo(P,"width"),zo(w,"width"),T.each(z=>Ks(P,"scope",z)),P}},merge:w=>{const T=()=>{const P=Pe(un(w,Og));if(P.length===0)return le.none();{const z=P[0],G=["row","col"];return lt(P,ce=>ce!==z&&ro(G,ce))?le.none():le.from(z)}};return zo(w[0],"width"),T().fold(()=>Wo(w[0],"scope"),P=>Ks(w[0],"scope",P+"group")),ae(w[0])}})},_x=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Us=(l,f)=>{const g=l.property().name(f);return ro(["ol","ul"],g)},Hm=(l,f)=>{const g=l.property().name(f);return ro(_x,g)},_f=(l,f)=>ro(["br","img","hr","input"],l.property().name(f)),Re=sl(),zm=l=>Hm(Re,l),Tx=l=>Us(Re,l),Fy=l=>_f(Re,l),Rg=l=>{const f=Mi("br"),g=Q=>ko(Q,ce=>f(ce)||Tl(ce)&&zh(ce).trim().length===0),w=Q=>ss(Q)==="li"||I(Q,Tx).isSome(),T=Q=>af(Q).map(ce=>zm(ce)?!0:Fy(ce)?ss(ce)!=="img":!1).getOr(!1),P=Q=>ti(Q).bind(ce=>{const Ce=T(ce);return Wc(ce).map(tt=>Ce===!0||w(tt)||f(ce)||zm(tt)&&!as(Q,tt)?[]:[be.fromTag("br")])}).getOr([]),G=(()=>{const Q=As(l,ce=>{const Ce=$o(ce);return g(Ce)?[]:Ce.concat(P(ce))});return Q.length===0?[be.fromTag("br")]:Q})();va(l[0]),Na(l[0],G)},Ec=l=>Fa(l,!0),Hy=l=>{xa(l).length===0&&zs(l)},Mg=(l,f)=>({grid:l,cursor:f}),dr=l=>Nr(l,f=>Nr(f.cells,g=>{const w=g.element;return Qn(Ec(w),w)})),or=(l,f,g)=>{var w,T;const P=hi(l).rows;return le.from((T=(w=P[f])===null||w===void 0?void 0:w.cells[g])===null||T===void 0?void 0:T.element).filter(Ec).orThunk(()=>dr(P))},es=(l,f,g)=>{const w=or(l,f,g);return Mg(l,w)},yr=l=>Ze(l,(g,w)=>lt(g,P=>P.row===w.row)?g:g.concat([w]),[]).sort((g,w)=>g.row-w.row),jr=(l,f,g,w)=>{const T=f[0].row,P=yr(f),z=Fs(P,(G,Q)=>({grid:us(G.grid,T,Q.row+G.delta,g,w.getOrInit),delta:G.delta+1}),{grid:l,delta:0}).grid;return es(z,T,f[0].column)},Ws=(l,f,g,w)=>{const T=yr(f),P=T[T.length-1],z=P.row+P.rowspan,G=Fs(T,(Q,ce)=>us(Q,z,ce.row,g,w.getOrInit),l);return es(G,z,f[0].column)},zy=(l,f,g,w)=>{const T=f.details,P=Sc(T),z=P[0].column,G=Fs(P,(Q,ce)=>({grid:Pu(Q.grid,z,ce.column+Q.delta,g,w.getOrInit),delta:Q.delta+1}),{grid:l,delta:0}).grid;return es(G,T[0].row,z)},qv=(l,f,g,w)=>{const T=f.details,P=T[T.length-1],z=P.column+P.colspan,G=Sc(T),Q=Fs(G,(ce,Ce)=>Pu(ce,z,Ce.column,g,w.getOrInit),l);return es(Q,T[0].row,z)},kx=(l,f,g,w)=>{const T=Sc(f),P=un(T,G=>G.column),z=My(l,P,!0,g,w.replaceOrInit);return es(z,f[0].row,f[0].column)},Ax=(l,f,g,w)=>{const T=Sx(l,f,g,w.replaceOrInit);return es(T,f[0].row,f[0].column)},Vy=(l,f,g,w)=>{const T=Sc(f),P=un(T,G=>G.column),z=My(l,P,!1,g,w.replaceOrInit);return es(z,f[0].row,f[0].column)},Pg=(l,f,g,w)=>{const T=Sx(l,f,g,w.replaceOrInit);return es(T,f[0].row,f[0].column)},Ng=(l,f)=>(g,w,T,P,z)=>{const G=yr(w),Q=un(G,Ce=>Ce.row),ce=Py(g,Q,l,f,T,P.replaceOrInit,z);return es(ce,w[0].row,w[0].column)},Gv=Ng("thead",!0),_k=Ng("tbody",!1),Ox=Ng("tfoot",!1),Dx=(l,f,g,w)=>{const T=Sc(f.details),P=Tg(l,un(T,G=>G.column)),z=P.length>0?P[0].cells.length-1:0;return es(P,T[0].row,Math.min(T[0].column,z))},Rx=(l,f,g,w)=>{const T=yr(f),P=Cx(l,T[0].row,T[T.length-1].row),z=Math.max(hi(P).rows.length-1,0);return es(P,Math.min(f[0].row,z),f[0].column)},Mx=(l,f,g,w)=>{const T=f.cells;Rg(T);const P=Sg(l,f.bounds,g,w.merge(T));return Mg(P,le.from(T[0]))},Uy=(l,f,g,w)=>{const P=Fs(f,(z,G)=>Dd(z,G,g,w.unmerge(G)),l);return Mg(P,le.from(f[0]))},Px=(l,f,g,w)=>{const P=((Q,ce)=>{const Ce=no.fromTable(Q);return ep(Ce,ce,!0)})(f.clipboard,f.generators),z=Sh(f.row,f.column);return wx(z,l,P,f.generators,g).fold(()=>Mg(l,le.some(f.element)),Q=>es(Q,f.row,f.column))},Kv=(l,f,g)=>{const w=dv(l,g.section),T=no.generate(w);return ep(T,f,!0)},Tk=(l,f,g,w)=>{const T=hi(l).rows,P=f.cells[0].column,z=T[f.cells[0].row],G=Kv(f.clipboard,f.generators,z),Q=oc(P,l,G,f.generators,g);return es(Q,f.cells[0].row,f.cells[0].column)},Nx=(l,f,g,w)=>{const T=hi(l).rows,P=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,z=T[f.cells[0].row],G=Kv(f.clipboard,f.generators,z),Q=oc(P,l,G,f.generators,g);return es(Q,f.cells[0].row,P)},Wy=(l,f,g,w)=>{const T=hi(l).rows,P=f.cells[0].row,z=T[P],G=Kv(f.clipboard,f.generators,z),Q=xf(P,l,G,f.generators,g);return es(Q,f.cells[0].row,f.cells[0].column)},at=(l,f,g,w)=>{const T=hi(l).rows,P=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,z=T[f.cells[0].row],G=Kv(f.clipboard,f.generators,z),Q=xf(P,l,G,f.generators,g);return es(Q,P,f.cells[0].column)},Zy=(l,f)=>{const g=no.fromTable(l);return Cc(g,f).bind(T=>{const P=T[T.length-1],z=T[0].column,G=P.column+P.colspan,Q=ao(un(g.all,ce=>qo(ce.cells,Ce=>Ce.column>=z&&Ce.column<G)));return Nv(Q)}).getOr("")},qr=(l,f)=>{const g=no.fromTable(l);return Cc(g,f).bind(Nv).getOr("")},Bx=(l,f)=>{const g=no.fromTable(l);return Cc(g,f).bind(T=>{const P=T[T.length-1],z=T[0].row,G=P.row+P.rowspan,Q=g.all.slice(z,G);return mk(Q)}).getOr("")},jy=(l,f,g,w)=>Ek(l,f,g,w.sizing),Hi=(l,f,g,w)=>kg(l,f,g,w.sizing,w.resize),Wa=(l,f)=>lt(f,g=>g.column===0&&g.isLocked),Bu=(l,f)=>lt(f,g=>g.column+g.colspan>=l.grid.columns&&g.isLocked),Ix=(l,f)=>{const g=bv(l),w=Sc(f);return Ze(w,(T,P)=>{const G=g[P.column].map(An).getOr(0);return T+G},0)},_c=l=>(f,g)=>Cc(f,g).filter(w=>!(l?Wa:Bu)(f,w)).map(w=>({details:w,pixelDelta:Ix(f,w)})),Xv=(l,f)=>Od(l,f).map(g=>({details:g,pixelDelta:-Ix(l,g)})),ip=l=>(f,g)=>Ad(f,g).filter(w=>!(l?Wa:Bu)(f,w.cells)),al=Ls.transform("th"),ni=Ls.transform("td"),Yv=nr(jr,Cc,nt,nt,Ls.modification),cl=nr(Ws,Cc,nt,nt,Ls.modification),qy=nr(zy,_c(!0),Hi,nt,Ls.modification),Gy=nr(qv,_c(!1),Hi,nt,Ls.modification),Ky=nr(Dx,Xv,Hi,Hy,Ls.modification),Jv=nr(Rx,Cc,nt,Hy,Ls.modification),Lx=nr(kx,Od,nt,nt,al),Xy=nr(Vy,Od,nt,nt,ni),kk=nr(Gv,Od,nt,nt,al),Yy=nr(_k,Od,nt,nt,ni),Dt=nr(Ox,Od,nt,nt,ni),Qv=nr(Ax,Od,nt,nt,al),$x=nr(Pg,Od,nt,nt,ni),Ak=nr(Mx,vk,jy,nt,Ls.merging),Ok=nr(Uy,bk,jy,nt,Ls.merging),Jy=nr(Px,vx,jy,nt,Ls.modification),Fx=nr(Tk,ip(!0),nt,nt,Ls.modification),Hx=nr(Nx,ip(!1),nt,nt,Ls.modification),Dk=nr(Wy,Ad,nt,nt,Ls.modification),Bg=nr(at,Ad,nt,nt,Ls.modification),Rk=Zy,zi=qr,Ig=Bx,zx=(l,f)=>l.dispatch("NewRow",{node:f}),Vx=(l,f)=>l.dispatch("NewCell",{node:f}),Pd=(l,f,g)=>{l.dispatch("TableModified",{...g,table:f})},Mk=(l,f,g,w,T)=>{l.dispatch("TableSelectionChange",{cells:f,start:g,finish:w,otherCells:T})},ap=l=>{l.dispatch("TableSelectionClear")},ts=(l,f,g,w,T)=>{l.dispatch("ObjectResizeStart",{target:f,width:g,height:w,origin:T})},Qy=(l,f,g,w,T)=>{l.dispatch("ObjectResized",{target:f,width:g,height:w,origin:T})},gi={structure:!1,style:!0},wr={structure:!0,style:!1},Ux={structure:!0,style:!0},ew=(l,f)=>xm(l)?pf.percentageSize(f):ea(l)?pf.pixelSize(f):pf.getTableSize(f),eb=(l,f,g)=>{const w=Zi=>ss(_u(Zi))==="table",T=Zi=>!w(l)||bg(Zi).rows>1,P=Zi=>!w(l)||bg(Zi).columns>1,z=Is(l),G=Eu(l)?nt:_y,Q=Zi=>{switch(Su(l)){case"section":return Qh.section();case"sectionCells":return Qh.sectionCells();case"cells":return Qh.cells();default:return Qh.getTableSectionType(Zi,"section")}},ce=(Zi,Ww)=>Ww.cursor.fold(()=>{const Hd=xa(Zi);return Ae(Hd).filter(Ss).map(ql=>{g.clearSelectedCells(Zi.dom);const ri=l.dom.createRng();return ri.selectNode(ql.dom),l.selection.setRng(ri),Ks(ql,"data-mce-selected","1"),ri})},Hd=>{const ql=Pv(Hd),ri=l.dom.createRng();return ri.setStart(ql.element.dom,ql.offset),ri.setEnd(ql.element.dom,ql.offset),l.selection.setRng(ri),g.clearSelectedCells(Zi.dom),le.some(ri)}),Ce=(Zi,Ww,Hd,ql)=>(ri,Zw,jw=!1)=>{ol(ri);const XS=be.fromDom(l.getDoc()),$A=Vh(Hd,XS,z),FA={sizing:ew(l,ri),resize:Eu(l)?Yh():Nm(),section:Q(ri)};return Ww(ri)?Zi(ri,Zw,$A,FA).bind(qw=>{f.refresh(ri.dom),qe(qw.newRows,kp=>{zx(l,kp.dom)}),qe(qw.newCells,kp=>{Vx(l,kp.dom)});const HA=ce(ri,qw);return Ss(ri)&&(ol(ri),jw||Pd(l,ri.dom,ql)),HA.map(kp=>({rng:kp,effect:ql}))}):le.none()},tt=Ce(Jv,T,nt,wr),vt=Ce(Ky,P,nt,wr),ht=Ce(Yv,Ne,nt,wr),rt=Ce(cl,Ne,nt,wr),Ot=Ce(qy,Ne,G,wr),Je=Ce(Gy,Ne,G,wr),ut=Ce(Ak,Ne,nt,wr),Yt=Ce(Ok,Ne,nt,wr),rn=Ce(Fx,Ne,nt,wr),co=Ce(Hx,Ne,nt,wr),vs=Ce(Dk,Ne,nt,wr),ys=Ce(Bg,Ne,nt,wr),ki=Ce(Jy,Ne,nt,Ux),Mc=Ce(Qv,Ne,nt,wr),Nf=Ce($x,Ne,nt,wr),oh=Ce(Lx,Ne,nt,wr),$b=Ce(Xy,Ne,nt,wr),Vo=Ce(kk,Ne,nt,wr),sa=Ce(Yy,Ne,nt,wr),Wi=Ce(Dt,Ne,nt,wr);return{deleteRow:tt,deleteColumn:vt,insertRowsBefore:ht,insertRowsAfter:rt,insertColumnsBefore:Ot,insertColumnsAfter:Je,mergeCells:ut,unmergeCells:Yt,pasteColsBefore:rn,pasteColsAfter:co,pasteRowsBefore:vs,pasteRowsAfter:ys,pasteCells:ki,makeCellsHeader:Mc,unmakeCellsHeader:Nf,makeColumnsHeader:oh,unmakeColumnsHeader:$b,makeRowsHeader:Vo,makeRowsBody:sa,makeRowsFooter:Wi,getTableRowType:Ig,getTableCellType:zi,getTableColType:Rk}},Wx=(l,f,g)=>{const w=cs(l,f,1);g===1||w<=1?Wo(l,f):Ks(l,f,Math.min(g,w))},Zx=(l,f)=>g=>{const w=g.column+g.colspan-1,T=g.column;return w>=l&&T<f},Pk=(l,f,g)=>{if(no.hasColumns(l)){const w=qo(no.justColumns(l),Zx(f,g)),T=un(w,z=>{const G=pc(z.element);return Wx(G,"span",g-f),G}),P=be.fromTag("colgroup");return Na(P,T),[P]}else return[]},tw=(l,f,g)=>un(l.all,w=>{const T=qo(w.cells,Zx(f,g)),P=un(T,G=>{const Q=pc(G.element);return Wx(Q,"colspan",g-f),Q}),z=be.fromTag("tr");return Na(z,P),z}),jx=(l,f)=>{const g=no.fromTable(l);return Od(g,f).map(T=>{const P=T[T.length-1],z=T[0].column,G=P.column+P.colspan,Q=Pk(g,z,G),ce=tw(g,z,G);return[...Q,...ce]})},Nk=(l,f,g)=>{const w=no.fromTable(l);return Cc(w,f).bind(P=>{const z=ep(w,g,!1),Q=hi(z).rows.slice(P[0].row,P[P.length-1].row+P[P.length-1].rowspan),ce=As(Q,tt=>{const vt=qo(tt.cells,ht=>!ht.isLocked);return vt.length>0?[{...tt,cells:vt}]:[]}),Ce=Ru(ce);return Qn(Ce.length>0,Ce)}).map(P=>za(P))},cp=Ef.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),qx=(l,f,g)=>{const w=g.substring(0,g.length-l.length),T=parseFloat(w);return w===T.toString()?f(T):cp.invalid(g)},Vm={...cp,from:l=>Fr(l,"%")?qx("%",cp.percent,l):Fr(l,"px")?qx("px",cp.pixels,l):cp.invalid(l)},Gx=(l,f)=>un(l,g=>Vm.from(g).fold(()=>g,T=>T/f*100+"%",T=>T+"%")),Bk=(l,f,g)=>{const w=g/f;return un(l,T=>Vm.from(T).fold(()=>T,z=>z*w+"px",z=>z/100*g+"px"))},Ik=(l,f)=>{const g=l.fold(()=>ae(""),w=>{const T=w/f;return ae(T+"px")},()=>{const w=100/f;return ae(w+"%")});return po(f,g)},Kx=(l,f,g)=>l.fold(()=>f,w=>Bk(f,g,w),w=>Gx(f,g)),nw=(l,f,g)=>{const w=Vm.from(g),T=ko(l,P=>P==="0px")?Ik(w,l.length):Kx(w,l,f);return lp(T)},ow=(l,f)=>l.length===0?f:Fs(l,(g,w)=>Vm.from(w).fold(ae(0),Ft,Ft)+g,0),Um=(l,f)=>{const g=Math.floor(l);return{value:g+f,remainder:l-g}},Xx=(l,f)=>Vm.from(l).fold(ae(l),g=>g+f+"px",g=>g+f+"%"),lp=l=>{if(l.length===0)return l;const f=Fs(l,(w,T)=>{const P=Vm.from(T).fold(()=>({value:T,remainder:0}),z=>Um(z,"px"),z=>({value:z+"%",remainder:0}));return{output:[P.value].concat(w.output),remainder:w.remainder+P.remainder}},{output:[],remainder:0}),g=f.output;return g.slice(0,g.length-1).concat([Xx(g[g.length-1],Math.round(f.remainder))])},Lk=Vm.from,sw=(l,f,g)=>{qe(f,w=>{const T=l.slice(w.column,w.colspan+w.column),P=ow(T,Dl());Ho(w.element,"width",P+g)})},ll=(l,f,g)=>{qe(f,(w,T)=>{const P=ow([l[T]],Dl());Ho(w.element,"width",P+g)})},Tf=(l,f,g)=>{qe(g,w=>{zo(w.element,"height")}),qe(f,(w,T)=>{Ho(w.element,"height",l[T])})},tb=l=>Lk(l).fold(ae("px"),ae("px"),ae("%")),Lg=(l,f,g)=>{const w=no.fromTable(l),T=w.all,P=no.justCells(w),z=no.justColumns(w);f.each(G=>{const Q=tb(G),ce=uf(l),Ce=yc(w,l),tt=nw(Ce,ce,G);no.hasColumns(w)?ll(tt,z,Q):sw(tt,P,Q),Ho(l,"width",G)}),g.each(G=>{const Q=vu(l),ce=_s(w,l),Ce=nw(ce,Q,G);Tf(Ce,T,P),Ho(l,"height",G)})},Yx=K2,Iu=Ar,nb=bo,Wm=l=>{Wo(l,"width"),Wo(l,"height")},ul=l=>{const f=Jc(l);Lg(l,le.some(f),le.none()),Wm(l)},up=l=>{const f=kr(l);Lg(l,le.some(f),le.none()),Wm(l)},$k=l=>{const f=ps(l);Lg(l,le.none(),le.some(f)),Wm(l)},Jx=l=>{zo(l,"width");const f=hd(l),g=f.length>0?f:xa(l);qe(g,w=>{zo(w,"width"),Wm(w)}),Wm(l)},Fk={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Hk=()=>be.fromTag("th"),rw=()=>be.fromTag("td"),zk=()=>be.fromTag("col"),Qx=(l,f,g,w)=>{const T=be.fromTag("tr");for(let P=0;P<l;P++){const z=w<f||P<g?Hk():rw();P<g&&Ks(z,"scope","row"),w<f&&Ks(z,"scope","col"),Ms(z,be.fromTag("br")),Ms(T,z)}return T},$g=l=>{const f=be.fromTag("colgroup");return po(l,()=>Ms(f,zk())),f},eS=(l,f,g,w)=>po(l,T=>Qx(f,g,w,T)),tS=(l,f,g,w,T,P=Fk)=>{const z=be.fromTag("table"),G=T!=="cells";ya(z,P.styles),zc(z,P.attributes),P.colGroups&&Ms(z,$g(f));const Q=Math.min(l,g);if(G&&g>0){const ht=be.fromTag("thead");Ms(z,ht);const Ot=eS(g,f,T==="sectionCells"?Q:0,w);Na(ht,Ot)}const ce=be.fromTag("tbody");Ms(z,ce);const Ce=G?l-Q:l,vt=eS(Ce,f,G?0:g,w);return Na(ce,vt),z},Vk=l=>l.dom.innerHTML,Uk=l=>{const f=be.fromTag("div"),g=be.fromDom(l.dom.cloneNode(!0));return Ms(f,g),Vk(f)},nS=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},oS=(l,f)=>{_e(f,"td,th").each(hn(nS,l))},iw=(l,f)=>{qe(_(f,"tr"),g=>{zx(l,g.dom),qe(_(g,"th,td"),w=>{Vx(l,w.dom)})})},sS=l=>de(l)&&l.indexOf("%")!==-1,Wk=(l,f,g,w,T)=>{const P=sx(l),z={styles:P,attributes:rk(l),colGroups:Av(l)};return l.undoManager.ignore(()=>{const G=tS(g,f,T,w,Su(l),z);Ks(G,"data-mce-id","__mce");const Q=Uk(G);l.insertContent(Q),l.addVisual()}),_e(_u(l),'table[data-mce-id="__mce"]').map(G=>(ea(l)?up(G):Or(l)?Jx(G):(xm(l)||sS(P.width))&&ul(G),ol(G),Wo(G,"data-mce-id"),iw(l,G),oS(l,G),G.dom)).getOrNull()},Zk=(l,f,g,w={})=>{const T=P=>Xe(P)&&P>0;if(T(f)&&T(g)){const P=w.headerRows||0,z=w.headerColumns||0;return Wk(l,g,f,z,P)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var ob=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const rS="x-tinymce/dom-table-",iS=rS+"rows",Nd=rS+"columns",sb=l=>{const f=ob.FakeClipboardItem(l);ob.write([f])},aw=l=>{var f;const g=(f=ob.read())!==null&&f!==void 0?f:[];return Nr(g,w=>le.from(w.getType(l)))},aS=l=>{aw(l).isSome()&&ob.clear()},cS=l=>{l.fold(jk,f=>sb({[iS]:f}))},lS=()=>aw(iS),jk=()=>aS(iS),uS=l=>{l.fold(qk,f=>sb({[Nd]:f}))},Fg=()=>aw(Nd),qk=()=>aS(Nd),cw=l=>Ey(Uh(l),Em(l)).filter(Tu),Gk=l=>pg(Uh(l),Em(l)).filter(Tu),Kk=(l,f)=>{const g=Em(l),w=()=>cw(l).each(Je=>{gr(Je,g).filter(D(g)).each(ut=>{const Yt=be.fromText("");if(kl(ut,Yt),zs(ut),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const rn=l.dom.createRng();rn.setStart(Yt.dom,0),rn.setEnd(Yt.dom,0),l.selection.setRng(rn),l.nodeChanged()}})}),T=Je=>cw(l).each(ut=>{Or(l)||ea(l)||xm(l)||gr(ut,g).each(rn=>{Je==="relative"&&!Yx(rn)?ul(rn):Je==="fixed"&&!Iu(rn)?up(rn):Je==="responsive"&&!nb(rn)&&Jx(rn),ol(rn),Pd(l,rn.dom,wr)})}),P=Je=>gr(Je,g),z=Je=>Gk(l).bind(ut=>P(ut).map(Yt=>Je(Yt,ut))),G=(Je,ut)=>{z(Yt=>{l.formatter.toggle("tableclass",{value:ut},Yt.dom),Pd(l,Yt.dom,gi)})},Q=(Je,ut)=>{z(Yt=>{const rn=rl(l),vs=ko(rn,ys=>l.formatter.match("tablecellclass",{value:ut},ys.dom))?l.formatter.remove:l.formatter.apply;qe(rn,ys=>vs("tablecellclass",{value:ut},ys.dom)),Pd(l,Yt.dom,gi)})},ce=()=>{cw(l).each(Je=>{gr(Je,g).each(ut=>{se(ut,"caption").fold(()=>{const Yt=be.fromTag("caption");Ms(Yt,be.fromText("Caption")),hc(ut,Yt,0),l.selection.setCursorLocation(Yt.dom,0)},Yt=>{Mi("caption")(Je)&&yh("td",ut).each(rn=>l.selection.setCursorLocation(rn.dom,0)),zs(Yt)}),Pd(l,ut.dom,wr)})})},Ce=Je=>{l.focus()},tt=(Je,ut=!1)=>z((Yt,rn)=>{const co=tr(rl(l),Yt,rn);Je(Yt,co,ut).each(Ce)}),vt=()=>z((Je,ut)=>{const Yt=tr(rl(l),Je,ut),rn=Vh(nt,be.fromDom(l.getDoc()),le.none());return Nk(Je,Yt,rn)}),ht=()=>z((Je,ut)=>{const Yt=tr(rl(l),Je,ut);return jx(Je,Yt)}),rt=(Je,ut)=>ut().each(Yt=>{const rn=un(Yt,co=>pc(co));z((co,vs)=>{const ys=tl(be.fromDom(l.getDoc())),ki=dk(rl(l),vs,rn,ys);Je(co,ki).each(Ce)})}),Ot=Je=>(ut,Yt)=>om(Yt,"type").each(rn=>{tt(Je(rn),Yt.no_events)});wo({mceTableSplitCells:()=>tt(f.unmergeCells),mceTableMergeCells:()=>tt(f.mergeCells),mceTableInsertRowBefore:()=>tt(f.insertRowsBefore),mceTableInsertRowAfter:()=>tt(f.insertRowsAfter),mceTableInsertColBefore:()=>tt(f.insertColumnsBefore),mceTableInsertColAfter:()=>tt(f.insertColumnsAfter),mceTableDeleteCol:()=>tt(f.deleteColumn),mceTableDeleteRow:()=>tt(f.deleteRow),mceTableCutCol:()=>ht().each(Je=>{uS(Je),tt(f.deleteColumn)}),mceTableCutRow:()=>vt().each(Je=>{cS(Je),tt(f.deleteRow)}),mceTableCopyCol:()=>ht().each(Je=>uS(Je)),mceTableCopyRow:()=>vt().each(Je=>cS(Je)),mceTablePasteColBefore:()=>rt(f.pasteColsBefore,Fg),mceTablePasteColAfter:()=>rt(f.pasteColsAfter,Fg),mceTablePasteRowBefore:()=>rt(f.pasteRowsBefore,lS),mceTablePasteRowAfter:()=>rt(f.pasteRowsAfter,lS),mceTableDelete:w,mceTableCellToggleClass:Q,mceTableToggleClass:G,mceTableToggleCaption:ce,mceTableSizingMode:(Je,ut)=>T(ut),mceTableCellType:Ot(Je=>Je==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:Ot(Je=>Je==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:Ot(Je=>{switch(Je){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(Je,ut)=>l.addCommand(ut,Je)),l.addCommand("mceInsertTable",(Je,ut)=>{Zk(l,ut.rows,ut.columns,ut.options)}),l.addCommand("mceTableApplyCellStyle",(Je,ut)=>{const Yt=vs=>"tablecell"+vs.toLowerCase().replace("-","");if(!ve(ut))return;const rn=qo(rl(l),Tu);if(rn.length===0)return;const co=Ri(ut,(vs,ys)=>l.formatter.has(Yt(ys))&&de(vs));ma(co)||(wo(co,(vs,ys)=>{const ki=Yt(ys);qe(rn,Mc=>{vs===""?l.formatter.remove(ki,{value:null},Mc.dom,!0):l.formatter.apply(ki,{value:vs},Mc.dom)})}),P(rn[0]).each(vs=>Pd(l,vs.dom,gi)))})},dS=(l,f)=>{const g=Em(l),w=T=>pg(Uh(l)).bind(P=>gr(P,g).map(z=>{const G=tr(rl(l),z,P);return T(z,G)})).getOr("");wo({mceTableRowType:()=>w(f.getTableRowType),mceTableCellType:()=>w(f.getTableCellType),mceTableColType:()=>w(f.getTableColType)},(T,P)=>l.addQueryValueHandler(P,T))},lw=Ef.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Xk=(l,f,g,w)=>l.fold(f,g,w),Hg=l=>l.fold(Ft,Ft,Ft),Yk=lw.before,fS=lw.on,mS=lw.after,Vi={before:Yk,on:fS,after:mS,cata:Xk,getStart:Hg},dp={create:(l,f)=>({selection:l,kill:f})},Qk=(l,f)=>{const g=l.document.createRange();return g.selectNode(f.dom),g},fp=(l,f)=>{const g=l.document.createRange();return hS(g,f),g},hS=(l,f)=>l.selectNodeContents(f.dom),eA=(l,f)=>{f.fold(g=>{l.setStartBefore(g.dom)},(g,w)=>{l.setStart(g.dom,w)},g=>{l.setStartAfter(g.dom)})},tA=(l,f)=>{f.fold(g=>{l.setEndBefore(g.dom)},(g,w)=>{l.setEnd(g.dom,w)},g=>{l.setEndAfter(g.dom)})},uw=(l,f,g)=>{const w=l.document.createRange();return eA(w,f),tA(w,g),w},mp=(l,f,g,w,T)=>{const P=l.document.createRange();return P.setStart(f.dom,g),P.setEnd(w.dom,T),P},pS=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),na=l=>{const f=l.getClientRects(),g=f.length>0?f[0]:l.getBoundingClientRect();return g.width>0||g.height>0?le.some(g).map(pS):le.none()},zg=Ef.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),gS=(l,f,g)=>f(be.fromDom(g.startContainer),g.startOffset,be.fromDom(g.endContainer),g.endOffset),vS=(l,f)=>f.match({domRange:g=>({ltr:ae(g),rtl:le.none}),relative:(g,w)=>({ltr:Rl(()=>uw(l,g,w)),rtl:Rl(()=>le.some(uw(l,w,g)))}),exact:(g,w,T,P)=>({ltr:Rl(()=>mp(l,g,w,T,P)),rtl:Rl(()=>le.some(mp(l,T,P,g,w)))})}),dw=(l,f)=>{const g=f.ltr();return g.collapsed?f.rtl().filter(T=>T.collapsed===!1).map(T=>zg.rtl(be.fromDom(T.endContainer),T.endOffset,be.fromDom(T.startContainer),T.startOffset)).getOrThunk(()=>gS(l,zg.ltr,g)):gS(l,zg.ltr,g)},fw=(l,f)=>{const g=vS(l,f);return dw(l,g)},rb=(l,f)=>fw(l,f).match({ltr:(w,T,P,z)=>{const G=l.document.createRange();return G.setStart(w.dom,T),G.setEnd(P.dom,z),G},rtl:(w,T,P,z)=>{const G=l.document.createRange();return G.setStart(P.dom,z),G.setEnd(w.dom,T),G}});zg.ltr,zg.rtl;const Vg={create:(l,f,g,w)=>({start:l,soffset:f,finish:g,foffset:w})},yS={create:(l,f,g,w)=>({start:Vi.on(l,f),finish:Vi.on(g,w)})},wS=(l,f)=>{const g=rb(l,f);return Vg.create(be.fromDom(g.startContainer),g.startOffset,be.fromDom(g.endContainer),g.endOffset)},Zm=yS.create,jm=(l,f,g,w,T,P,z)=>as(g,T)&&w===P?le.none():Ue(g,"td,th",f).bind(G=>Ue(T,"td,th",f).bind(Q=>mw(l,f,G,Q,z))),mw=(l,f,g,w,T)=>as(g,w)?le.none():Rv(g,w,f).bind(P=>{const z=P.boxes.getOr([]);return z.length>1?(T(l,z,P.start,P.finish),le.some(dp.create(le.some(Zm(g,0,g,vf(g))),!0))):le.none()}),hw=(l,f,g,w,T)=>{const P=z=>(T.clearBeforeUpdate(g),T.selectRange(g,z.boxes,z.start,z.finish),z.boxes);return ck(w,l,f,T.firstSelectedSelector,T.lastSelectedSelector).map(P)},ib=(l,f)=>({item:l,mode:f}),CS=(l,f,g,w=qm)=>l.property().parent(f).map(T=>ib(T,w)),qm=(l,f,g,w=kf)=>g.sibling(l,f).map(T=>ib(T,w)),kf=(l,f,g,w=kf)=>{const T=l.property().children(f);return g.first(T).map(z=>ib(z,w))},xS=[{current:CS,next:qm,fallback:le.none()},{current:qm,next:kf,fallback:le.some(CS)},{current:kf,next:kf,fallback:le.some(qm)}],ab=(l,f,g,w,T=xS)=>W(T,z=>z.current===g).bind(z=>z.current(l,f,w,z.next).orThunk(()=>z.fallback.bind(G=>ab(l,f,G,w)))),pw={left:()=>({sibling:(g,w)=>g.query().prevSibling(w),first:g=>g.length>0?le.some(g[g.length-1]):le.none()}),right:()=>({sibling:(g,w)=>g.query().nextSibling(w),first:g=>g.length>0?le.some(g[0]):le.none()})},hp=(l,f,g,w,T,P)=>ab(l,f,w,T).bind(G=>P(G.item)?le.none():g(G.item)?le.some(G.item):hp(l,G.item,g,G.mode,T,P)),SS=(l,f,g,w)=>hp(l,f,g,qm,pw.left(),w),gw=(l,f,g,w)=>hp(l,f,g,qm,pw.right(),w),cb=l=>f=>l.property().children(f).length===0,vw=(l,f,g)=>ES(l,f,cb(l),g),nA=(l,f,g)=>_S(l,f,cb(l),g),ES=SS,_S=gw,Bd=sl(),Af=(l,f)=>vw(Bd,l,f),Zg=(l,f)=>nA(Bd,l,f),jg=(l,f,g)=>ES(Bd,l,f,g),oA=(l,f,g)=>_S(Bd,l,f,g),Of=(l,f,g)=>I(l,f,g).isSome(),Tc=Ef.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),lb=(l,f,g)=>{const w=l.getRect(f),T=l.getRect(g);return T.right>w.left&&T.left<w.right},sA=l=>Ue(l,"tr"),Id={...Tc,verify:(l,f,g,w,T,P,z)=>Ue(w,"td,th",z).bind(G=>Ue(f,"td,th",z).map(Q=>as(G,Q)?as(w,G)&&vf(G)===T?P(Q):Tc.none("in same cell"):jh(sA,[G,Q]).fold(()=>lb(l,Q,G)?Tc.success():P(Q),ce=>P(Q)))).getOr(Tc.none("default")),cata:(l,f,g,w,T)=>l.fold(f,g,w,T)},qg=(l,f,g,w)=>({parent:l,children:f,element:g,index:w}),oi=l=>Wc(l).bind(f=>{const g=$o(f);return ub(g,l).map(w=>qg(f,g,l,w))}),ub=(l,f)=>mc(l,hn(as,f)),zl=Mi("br"),Lu=(l,f,g)=>f(l,g).bind(w=>Tl(w)&&zh(w).trim().length===0?Lu(w,f,g):le.some(w)),TS=(l,f,g)=>g.traverse(f).orThunk(()=>Lu(f,g.gather,l)).map(g.relative),Gg=(l,f)=>Ni(l,f).filter(zl).orThunk(()=>Ni(l,f-1).filter(zl)),Kg=(l,f,g,w)=>Gg(f,g).bind(T=>w.traverse(T).fold(()=>Lu(T,w.gather,l).map(w.relative),P=>oi(P).map(z=>Vi.on(z.parent,z.index)))),si=(l,f,g,w)=>(zl(f)?TS(l,f,w):Kg(l,f,g,w)).map(P=>({start:P,finish:P})),iA=l=>Id.cata(l,f=>le.none(),()=>le.none(),f=>le.some(gg(f,0)),f=>le.some(gg(f,vf(f)))),kc=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),Vl=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Xg=(l,f,g)=>({left:l.left+f,top:l.top+g,right:l.right+f,bottom:l.bottom+g}),Gm=l=>l.top,$u=l=>l.bottom,Yg=(l,f,g)=>g>=0&&g<vf(f)?l.getRangedRect(f,g,f,g+1):g>0?l.getRangedRect(f,g-1,f,g):le.none(),pp=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),gp=(l,f)=>le.some(l.getRect(f)),db=(l,f,g)=>Lr(f)?gp(l,f).map(pp):Tl(f)?Yg(l,f,g).map(pp):le.none(),kS=(l,f)=>Lr(f)?gp(l,f).map(pp):Tl(f)?l.getRangedRect(f,0,f,vf(f)).map(pp):le.none(),Fu=5,Ul=100,Hu=Ef.generate([{none:[]},{retry:["caret"]}]),aA=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,fb=(l,f,g)=>q(f,zm).fold(_n,w=>kS(l,w).exists(T=>aA(g,T))),bw=(l,f,g,w,T)=>{const P=kc(T,Fu);return Math.abs(g.bottom-w.bottom)<1||g.top>T.bottom?Hu.retry(P):g.top===T.bottom?Hu.retry(kc(T,1)):fb(l,f,T)?Hu.retry(Xg(P,Fu,0)):Hu.none()},lA={point:Gm,adjuster:(l,f,g,w,T)=>{const P=Vl(T,Fu);return Math.abs(g.top-w.top)<1||g.bottom<T.top?Hu.retry(P):g.bottom===T.top?Hu.retry(Vl(T,1)):fb(l,f,T)?Hu.retry(Xg(P,Fu,0)):Hu.none()},move:Vl,gather:Af},uA={point:$u,adjuster:bw,move:kc,gather:Zg},Ac=(l,f,g)=>l.elementFromPoint(f,g).filter(w=>ss(w)==="table").isSome(),Km=(l,f,g,w,T)=>mb(l,f,g,f.move(w,Fu),T),mb=(l,f,g,w,T)=>T===0?le.some(w):Ac(l,w.left,f.point(w))?Km(l,f,g,w,T-1):l.situsFromPoint(w.left,f.point(w)).bind(P=>P.start.fold(le.none,z=>kS(l,z).bind(G=>f.adjuster(l,z,G,g,w).fold(le.none,Q=>mb(l,f,g,Q,T-1))).orThunk(()=>le.some(w)),le.none)),Xm=(l,f,g)=>l.point(f)>g.getInnerHeight()?le.some(l.point(f)-g.getInnerHeight()):l.point(f)<0?le.some(-l.point(f)):le.none(),oa=(l,f,g)=>{const w=l.move(g,Fu),T=mb(f,l,g,w,Ul).getOr(w);return Xm(l,T,f).fold(()=>f.situsFromPoint(T.left,l.point(T)),P=>(f.scrollBy(0,P),f.situsFromPoint(T.left,l.point(T)-P)))},ka={tryUp:hn(oa,lA),tryDown:hn(oa,uA),getJumpSize:ae(Fu)},Ui=20,dl=(l,f,g)=>l.getSelection().bind(w=>si(f,w.finish,w.foffset,g).fold(()=>le.some(gg(w.finish,w.foffset)),T=>{const P=l.fromSitus(T),z=Id.verify(l,w.finish,w.foffset,P.finish,P.foffset,g.failure,f);return iA(z)})),hb=(l,f,g,w,T,P)=>P===0?le.none():Df(l,f,g,w,T).bind(z=>{const G=l.fromSitus(z),Q=Id.verify(l,g,w,G.finish,G.foffset,T.failure,f);return Id.cata(Q,()=>le.none(),()=>le.some(z),ce=>as(g,ce)&&w===0?rc(l,g,w,Vl,T):hb(l,f,ce,0,T,P-1),ce=>as(g,ce)&&w===vf(ce)?rc(l,g,w,kc,T):hb(l,f,ce,vf(ce),T,P-1))}),rc=(l,f,g,w,T)=>db(l,f,g).bind(P=>$n(l,T,w(P,ka.getJumpSize()))),$n=(l,f,g)=>{const w=mm().browser;return w.isChromium()||w.isSafari()||w.isFirefox()?f.retry(l,g):le.none()},Df=(l,f,g,w,T)=>db(l,g,w).bind(P=>$n(l,T,P)),vp=(l,f,g)=>dl(l,f,g).bind(w=>hb(l,f,w.element,w.offset,g,Ui).map(l.fromSitus)),yw=(l,f)=>Of(l,g=>Wc(g).exists(w=>as(w,f))),ww=(l,f,g,w,T)=>Ue(w,"td,th",f).bind(P=>Ue(P,"table",f).bind(z=>yw(T,z)?vp(l,f,g).bind(G=>Ue(G.finish,"td,th",f).map(Q=>({start:P,finish:Q,range:G}))):le.none())),Jg=(l,f,g,w,T,P)=>P(w,f).orThunk(()=>ww(l,f,g,w,T).map(z=>{const G=z.range;return dp.create(le.some(Zm(G.start,G.soffset,G.finish,G.foffset)),!0)})),pb=(l,f)=>Ue(l,"tr",f).bind(g=>Ue(g,"table",f).bind(w=>{const T=_(w,"tr");return as(g,T[0])?jg(w,P=>ti(P).isSome(),f).map(P=>{const z=vf(P);return dp.create(le.some(Zm(P,z,P,z)),!0)}):le.none()})),gb=(l,f)=>Ue(l,"tr",f).bind(g=>Ue(g,"table",f).bind(w=>{const T=_(w,"tr");return as(g,T[T.length-1])?oA(w,P=>uy(P).isSome(),f).map(P=>dp.create(le.some(Zm(P,0,P,0)),!0)):le.none()})),vb=(l,f,g,w,T,P,z)=>ww(l,g,w,T,P).bind(G=>mw(f,g,G.start,G.finish,z)),bb=l=>{let f=l;return{get:()=>f,set:T=>{f=T}}},HR=l=>{const f=bb(le.none()),g=()=>f.get().each(l);return{clear:()=>{g(),f.set(le.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:G=>{g(),f.set(le.some(G))}}},Cw=()=>{const l=HR(nt);return{...l,on:g=>l.get().each(g)}},AS=(l,f)=>Ue(l,"td,th",f),OS=l=>Hs(l).exists(Fa),DS=(l,f,g,w)=>{const T=Cw(),P=T.clear,z=Ce=>{T.on(tt=>{w.clearBeforeUpdate(f),AS(Ce.target,g).each(vt=>{Rv(tt,vt,g).each(ht=>{const rt=ht.boxes.getOr([]);if(rt.length===1){const Ot=rt[0],Je=$l(Ot)==="false",ut=st(Sm(Ce.target),Ot,as);Je&&ut&&(w.selectRange(f,rt,Ot,Ot),l.selectContents(Ot))}else rt.length>1&&(w.selectRange(f,rt,ht.start,ht.finish),l.selectContents(vt))})})})};return{clearstate:P,mousedown:Ce=>{w.clear(f),AS(Ce.target,g).filter(OS).each(T.set)},mouseover:Ce=>{z(Ce)},mouseup:Ce=>{z(Ce),P()}}},xw={traverse:af,gather:Zg,relative:Vi.before,retry:ka.tryDown,failure:Id.failedDown},Sw={traverse:uu,gather:Af,relative:Vi.before,retry:ka.tryUp,failure:Id.failedUp},bp=l=>f=>f===l,yb=bp(38),Ew=bp(40),yp=l=>l>=37&&l<=40,RS={isBackward:bp(37),isForward:bp(39)},Oc={isBackward:bp(39),isForward:bp(37)},zR=l=>{const f=l!==void 0?l.dom:document,g=f.body.scrollLeft||f.documentElement.scrollLeft,w=f.body.scrollTop||f.documentElement.scrollTop;return Pl(g,w)},wb=(l,f,g)=>{const T=(g!==void 0?g.dom:document).defaultView;T&&T.scrollBy(l,f)},Ld=Ef.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_w=l=>Ld.exact(l.start,l.soffset,l.finish,l.foffset),Tw=l=>l.match({domRange:f=>be.fromDom(f.startContainer),relative:(f,g)=>Vi.getStart(f),exact:(f,g,w,T)=>f}),dA=Ld.domRange,fA=Ld.relative,mA=Ld.exact,hA=l=>{const f=Tw(l);return Rs(f)},MS=Vg.create,Wl={domRange:dA,relative:fA,exact:mA,exactFromRange:_w,getWin:hA,range:MS},Qg=(l,f,g)=>{var w,T;return le.from((T=(w=l.dom).caretPositionFromPoint)===null||T===void 0?void 0:T.call(w,f,g)).bind(P=>{if(P.offsetNode===null)return le.none();const z=l.dom.createRange();return z.setStart(P.offsetNode,P.offset),z.collapse(),le.some(z)})},pA=(l,f,g)=>{var w,T;return le.from((T=(w=l.dom).caretRangeFromPoint)===null||T===void 0?void 0:T.call(w,f,g))},kt=document.caretPositionFromPoint?Qg:document.caretRangeFromPoint?pA:le.none,Rr=(l,f,g)=>{const w=be.fromDom(l.document);return kt(w,f,g).map(T=>Vg.create(be.fromDom(T.startContainer),T.startOffset,be.fromDom(T.endContainer),T.endOffset))},$d=(l,f)=>{const g=ss(l);return g==="input"?Vi.after(l):ro(["br","img"],g)?f===0?Vi.before(l):Vi.after(l):Vi.on(l,f)},Mr=(l,f)=>{const g=l.fold(Vi.before,$d,Vi.after),w=f.fold(Vi.before,$d,Vi.after);return Wl.relative(g,w)},ic=(l,f,g,w)=>{const T=$d(l,f),P=$d(g,w);return Wl.relative(T,P)},e1=(l,f,g,w)=>{const P=rm(l).dom.createRange();return P.setStart(l.dom,f),P.setEnd(g.dom,w),P},wp=(l,f,g,w)=>{const T=e1(l,f,g,w),P=as(l,g)&&f===w;return T.collapsed&&!P},Ym=l=>le.from(l.getSelection()),Cp=(l,f)=>{Ym(l).each(g=>{g.removeAllRanges(),g.addRange(f)})},t1=(l,f,g,w,T)=>{const P=mp(l,f,g,w,T);Cp(l,P)},PS=(l,f,g,w,T,P)=>{f.collapse(g.dom,w),f.extend(T.dom,P)},kw=(l,f)=>fw(l,f).match({ltr:(g,w,T,P)=>{t1(l,g,w,T,P)},rtl:(g,w,T,P)=>{Ym(l).each(z=>{if(z.setBaseAndExtent)z.setBaseAndExtent(g.dom,w,T.dom,P);else if(z.extend)try{PS(l,z,g,w,T,P)}catch{t1(l,T,P,g,w)}else t1(l,T,P,g,w)})}}),NS=(l,f,g,w,T)=>{const P=ic(f,g,w,T);kw(l,P)},Aw=(l,f,g)=>{const w=Mr(f,g);kw(l,w)},n1=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),g=l.getRangeAt(l.rangeCount-1);return le.some(Vg.create(be.fromDom(f.startContainer),f.startOffset,be.fromDom(g.endContainer),g.endOffset))}else return le.none()},xp=l=>{if(l.anchorNode===null||l.focusNode===null)return n1(l);{const f=be.fromDom(l.anchorNode),g=be.fromDom(l.focusNode);return wp(f,l.anchorOffset,g,l.focusOffset)?le.some(Vg.create(f,l.anchorOffset,g,l.focusOffset)):n1(l)}},o1=(l,f,g=!0)=>{const T=(g?fp:Qk)(l,f);Cp(l,T)},Cb=l=>Ym(l).filter(f=>f.rangeCount>0).bind(xp),s1=l=>Cb(l).map(f=>Wl.exact(f.start,f.soffset,f.finish,f.foffset)),xb=(l,f)=>{const g=rb(l,f);return na(g)},Zl=(l,f,g)=>Rr(l,f,g),r1=l=>{Ym(l).each(f=>f.removeAllRanges())},i1=l=>({elementFromPoint:(Je,ut)=>be.fromPoint(be.fromDom(l.document),Je,ut),getRect:Je=>Je.dom.getBoundingClientRect(),getRangedRect:(Je,ut,Yt,rn)=>{const co=Wl.exact(Je,ut,Yt,rn);return xb(l,co)},getSelection:()=>s1(l).map(Je=>wS(l,Je)),fromSitus:Je=>{const ut=Wl.relative(Je.start,Je.finish);return wS(l,ut)},situsFromPoint:(Je,ut)=>Zl(l,Je,ut).map(Yt=>yS.create(Yt.start,Yt.soffset,Yt.finish,Yt.foffset)),clearSelection:()=>{r1(l)},collapseSelection:(Je=!1)=>{s1(l).each(ut=>ut.fold(Yt=>Yt.collapse(Je),(Yt,rn)=>{const co=Je?Yt:rn;Aw(l,co,co)},(Yt,rn,co,vs)=>{const ys=Je?Yt:co,ki=Je?rn:vs;NS(l,ys,ki,ys,ki)}))},setSelection:Je=>{NS(l,Je.start,Je.soffset,Je.finish,Je.foffset)},setRelativeSelection:(Je,ut)=>{Aw(l,Je,ut)},selectNode:Je=>{o1(l,Je,!1)},selectContents:Je=>{o1(l,Je)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>zR(be.fromDom(l.document)).top,scrollBy:(Je,ut)=>{wb(Je,ut,be.fromDom(l.document))}}),fl=(l,f)=>({rows:l,cols:f}),a1=(l,f,g,w)=>{const T=i1(l),P=DS(T,f,g,w);return{clearstate:P.clearstate,mousedown:P.mousedown,mouseover:P.mouseover,mouseup:P.mouseup}},c1=l=>q(l,en).exists(Fa),l1=(l,f)=>c1(l)||c1(f),gA=(l,f,g,w)=>{const T=i1(l),P=()=>(w.clear(f),le.none());return{keydown:(Q,ce,Ce,tt,vt,ht)=>{const rt=Q.raw,Ot=rt.which,Je=rt.shiftKey===!0;return Ed(f,w.selectedSelector).fold(()=>(yp(Ot)&&!Je&&w.clearBeforeUpdate(f),yp(Ot)&&Je&&!l1(ce,tt)?le.none:Ew(Ot)&&Je?hn(vb,T,f,g,xw,tt,ce,w.selectRange):yb(Ot)&&Je?hn(vb,T,f,g,Sw,tt,ce,w.selectRange):Ew(Ot)?hn(Jg,T,g,xw,tt,ce,gb):yb(Ot)?hn(Jg,T,g,Sw,tt,ce,pb):le.none),Yt=>{const rn=co=>()=>Nr(co,ys=>hw(ys.rows,ys.cols,f,Yt,w)).fold(()=>ux(f,w.firstSelectedSelector,w.lastSelectedSelector).map(ys=>{const ki=Ew(Ot)||ht.isForward(Ot)?Vi.after:Vi.before;return T.setRelativeSelection(Vi.on(ys.first,0),ki(ys.table)),w.clear(f),dp.create(le.none(),!0)}),ys=>le.some(dp.create(le.none(),!0)));return yp(Ot)&&Je&&!l1(ce,tt)?le.none:Ew(Ot)&&Je?rn([fl(1,0)]):yb(Ot)&&Je?rn([fl(-1,0)]):ht.isBackward(Ot)&&Je?rn([fl(0,-1),fl(-1,0)]):ht.isForward(Ot)&&Je?rn([fl(0,1),fl(1,0)]):yp(Ot)&&!Je?P:le.none})()},keyup:(Q,ce,Ce,tt,vt)=>Ed(f,w.selectedSelector).fold(()=>{const ht=Q.raw,rt=ht.which;return ht.shiftKey===!0&&yp(rt)&&l1(ce,tt)?jm(f,g,ce,Ce,tt,vt,w.selectRange):le.none()},le.none)}},vA=(l,f,g,w)=>{const T=i1(l);return(P,z)=>{w.clearBeforeUpdate(f),Rv(P,z,g).each(G=>{const Q=G.boxes.getOr([]);w.selectRange(f,Q,G.start,G.finish),T.selectContents(z),T.collapseSelection()})}},Dc=(l,f)=>{const g=Vc(l,f);return g===void 0||g===""?[]:g.split(" ")},BS=(l,f,g)=>{const T=Dc(l,f).concat([g]);return Ks(l,f,T.join(" ")),!0},bA=(l,f,g)=>{const w=qo(Dc(l,f),T=>T!==g);return w.length>0?Ks(l,f,w.join(" ")):Wo(l,f),!1},_i=l=>l.dom.classList!==void 0,Ao=l=>Dc(l,"class"),ml=(l,f)=>BS(l,"class",f),Za=(l,f)=>bA(l,"class",f),hl=(l,f)=>{_i(l)?l.dom.classList.add(f):ml(l,f)},Sb=l=>{(_i(l)?l.dom.classList:Ao(l)).length===0&&Wo(l,"class")},Ow=(l,f)=>{_i(l)?l.dom.classList.remove(f):Za(l,f),Sb(l)},zu=(l,f)=>_i(l)&&l.dom.classList.contains(f),IS=(l,f)=>{qe(f,g=>{Ow(l,g)})},Eb=l=>f=>{hl(f,l)},yA=l=>f=>{IS(f,l)},Dw={byClass:l=>{const f=Eb(l.selected),g=yA([l.selected,l.lastSelected,l.firstSelected]),w=P=>{const z=_(P,l.selectedSelector);qe(z,g)};return{clearBeforeUpdate:w,clear:w,selectRange:(P,z,G,Q)=>{w(P),qe(z,f),hl(G,l.firstSelected),hl(Q,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,g)=>{const w=Q=>{Wo(Q,l.selected),Wo(Q,l.firstSelected),Wo(Q,l.lastSelected)},T=Q=>{Ks(Q,l.selected,"1")},P=Q=>{z(Q),g()},z=Q=>{const ce=_(Q,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);qe(ce,w)};return{clearBeforeUpdate:z,clear:P,selectRange:(Q,ce,Ce,tt)=>{P(Q),qe(ce,T),Ks(Ce,l.firstSelected,"1"),Ks(tt,l.lastSelected,"1"),f(ce,Ce,tt)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},Rw=(l,f,g,w)=>{switch(l.tag){case"none":return f();case"single":return w(l.element);case"multiple":return g(l.elements)}},Mw=()=>({tag:"none"}),Ro=l=>({tag:"multiple",elements:l}),Fd=l=>({tag:"single",element:l}),Pw=(l,f,g)=>({get:()=>Om(l(),g).fold(()=>f().fold(Mw,Fd),Ro)}),Nw=(l,f)=>{const g=l.slice(0,f[f.length-1].row+1),w=Ru(g);return As(w,T=>{const P=T.cells.slice(0,f[f.length-1].column+1);return un(P,z=>z.element)})},u1=(l,f)=>{const g=l.slice(f[0].row+f[0].rowspan-1,l.length),w=Ru(g);return As(w,T=>{const P=T.cells.slice(f[0].column+f[0].colspan-1,T.cells.length);return un(P,z=>z.element)})},_b=(l,f,g)=>{const w=no.fromTable(l);return Cc(w,f).map(P=>{const z=ep(w,g,!1),{rows:G}=hi(z),Q=Nw(G,P),ce=u1(G,P);return{upOrLeftCells:Q,downOrRightCells:ce}})},Rf=(l,f,g,w,T,P,z)=>({target:l,x:f,y:g,stop:w,prevent:T,kill:P,raw:z}),Mf=l=>{const f=be.fromDom(Et(l).getOr(l.target)),g=()=>l.stopPropagation(),w=()=>l.preventDefault(),T=Pt(w,g);return Rf(f,l.clientX,l.clientY,g,w,T,l)},wA=(l,f)=>g=>{l(g)&&f(Mf(g))},CA=(l,f,g,w,T)=>{const P=wA(g,w);return l.dom.addEventListener(f,P,T),{unbind:hn(xA,l,f,P,T)}},FS=(l,f,g,w)=>CA(l,f,g,w,!1),xA=(l,f,g,w)=>{l.dom.removeEventListener(f,g,w)},Tb=Ne,Sp=(l,f,g)=>FS(l,f,Tb,g),Jm=Mf,Bw=l=>!zu(be.fromDom(l.target),"ephox-snooker-resizer-bar"),SA=(l,f)=>{const g=Pw(()=>be.fromDom(l.getBody()),()=>pg(Uh(l),Em(l)),Ha.selectedSelector),w=(Q,ce,Ce)=>{gr(ce).each(vt=>{const ht=un(Q,Yt=>Yt.dom),rt=Is(l),Ot=Vh(nt,be.fromDom(l.getDoc()),rt),Je=rl(l),ut=_b(vt,{selection:Je},Ot).map(Yt=>Ka(Yt,rn=>un(rn,co=>co.dom))).getOrUndefined();Mk(l,ht,ce.dom,Ce.dom,ut)})},T=()=>ap(l),P=Dw.byAttr(Ha,w,T);return l.on("init",Q=>{const ce=l.getWin(),Ce=_u(l),tt=Em(l),vt=()=>{const Vo=l.selection,sa=be.fromDom(Vo.getStart()),Wi=be.fromDom(Vo.getEnd());jh(gr,[sa,Wi]).fold(()=>P.clear(Ce),nt)},ht=a1(ce,Ce,tt,P),rt=gA(ce,Ce,tt,P),Ot=vA(ce,Ce,tt,P),Je=Vo=>Vo.raw.shiftKey===!0;l.on("TableSelectorChange",Vo=>Ot(Vo.start,Vo.finish));const ut=(Vo,sa)=>{Je(Vo)&&(sa.kill&&Vo.kill(),sa.selection.each(Wi=>{const pl=Wl.relative(Wi.start,Wi.finish),Pc=rb(ce,pl);l.selection.setRng(Pc)}))},Yt=Vo=>{const sa=Jm(Vo);if(sa.raw.shiftKey&&yp(sa.raw.which)){const Wi=l.selection.getRng(),pl=be.fromDom(Wi.startContainer),Pc=be.fromDom(Wi.endContainer);rt.keyup(sa,pl,Wi.startOffset,Pc,Wi.endOffset).each(sh=>{ut(sa,sh)})}},rn=Vo=>{const sa=Jm(Vo);f.hide();const Wi=l.selection.getRng(),pl=be.fromDom(Wi.startContainer),Pc=be.fromDom(Wi.endContainer),sh=yv(RS,Oc)(be.fromDom(l.selection.getStart()));rt.keydown(sa,pl,Wi.startOffset,Pc,Wi.endOffset,sh).each(Zi=>{ut(sa,Zi)}),f.show()},co=Vo=>Vo.button===0,vs=Vo=>Vo.buttons===void 0?!0:(Vo.buttons&1)!==0,ys=Vo=>{ht.clearstate()},ki=Vo=>{co(Vo)&&Bw(Vo)&&ht.mousedown(Jm(Vo))},Mc=Vo=>{vs(Vo)&&Bw(Vo)&&ht.mouseover(Jm(Vo))},Nf=Vo=>{co(Vo)&&Bw(Vo)&&ht.mouseup(Jm(Vo))},$b=(()=>{const Vo=bb(be.fromDom(Ce)),sa=bb(0);return{touchEnd:pl=>{const Pc=be.fromDom(pl.target);if(Mi("td")(Pc)||Mi("th")(Pc)){const sh=Vo.get(),Zi=sa.get();as(sh,Pc)&&pl.timeStamp-Zi<300&&(pl.preventDefault(),Ot(Pc,Pc))}Vo.set(Pc),sa.set(pl.timeStamp)}}})();l.on("dragstart",ys),l.on("mousedown",ki),l.on("mouseover",Mc),l.on("mouseup",Nf),l.on("touchend",$b.touchEnd),l.on("keyup",Yt),l.on("keydown",rn),l.on("NodeChange",vt)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Ha.firstSelected),l.serializer.addTempAttr(Ha.lastSelected)}),{getSelectedCells:()=>Rw(g.get(),ae([]),Q=>un(Q,ce=>ce.dom),Q=>[Q.dom]),clearSelectedCells:Q=>P.clear(be.fromDom(Q))}},Rc=l=>{let f=[];return{bind:P=>{if(P===void 0)throw new Error("Event bind error: undefined handler");f.push(P)},unbind:P=>{f=qo(f,z=>z!==P)},trigger:(...P)=>{const z={};qe(l,(G,Q)=>{z[G]=P[Q]}),qe(f,G=>{G(z)})}}},Cr=l=>{const f=Ka(l,w=>({bind:w.bind,unbind:w.unbind})),g=Ka(l,w=>w.trigger);return{registry:f,trigger:g}},Ti=(l,f)=>{let g=null;const w=()=>{St(g)||(clearTimeout(g),g=null)};return{cancel:w,throttle:(...P)=>{w(),g=setTimeout(()=>{g=null,l.apply(null,P)},f)}}},Vu=l=>l.slice(0).sort(),VR=(l,f)=>{throw new Error("All required keys ("+Vu(l).join(", ")+") were not specified. Specified keys were: "+Vu(f).join(", ")+".")},EA=l=>{throw new Error("Unsupported keys for object: "+Vu(l).join(", "))},_A=(l,f)=>{if(!He(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");qe(f,g=>{if(!de(g))throw new Error("The value "+g+" in the "+l+" fields was not a string.")})},Xn=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Vu(l).join(", ")+") were not.")},TA=l=>{const f=Vu(l);W(f,(w,T)=>T<f.length-1&&w===f[T+1]).each(w=>{throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},HS=(l,f)=>Iw(l,f,{validate:ct,label:"function"}),Iw=(l,f,g)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return _A("required",f),TA(f),w=>{const T=Ut(w);ko(f,G=>ro(T,G))||VR(f,T),l(f,T);const z=qo(f,G=>!g.validate(w[G],G));return z.length>0&&Xn(z,g.label),w}},kA=(l,f)=>{const g=qo(f,w=>!ro(l,w));g.length>0&&EA(g)},Lw=l=>HS(kA,l),AA=Lw(["compare","extract","mutate","sink"]),zS=Lw(["element","start","stop","destroy"]),VS=Lw(["forceDrop","drop","move","delayDrop"]),US=()=>{let l=le.none();const f=()=>{l=le.none()},g=(P,z)=>{const G=l.map(Q=>P.compare(Q,z));return l=le.some(z),G},w=(P,z)=>{z.extract(P).each(Q=>{g(z,Q).each(Ce=>{T.trigger.move(Ce)})})},T=Cr({move:Rc(["info"])});return{onEvent:w,reset:f,events:T.registry}},$w=()=>{const l=Cr({move:Rc(["info"])});return{onEvent:nt,reset:nt,events:l.registry}},kb=()=>{const l=$w(),f=US();let g=l;return{on:()=>{g.reset(),g=f},off:()=>{g.reset(),g=l},isOn:()=>g===f,onEvent:(G,Q)=>{g.onEvent(G,Q)},events:f.events}},WS=(l,f,g)=>{let w=!1;const T=Cr({start:Rc([]),stop:Rc([])}),P=kb(),z=()=>{rt.stop(),P.isOn()&&(P.off(),T.trigger.stop())},G=Ti(z,200),Q=Je=>{rt.start(Je),P.on(),T.trigger.start()},ce=Je=>{G.cancel(),P.onEvent(Je,f)};P.events.move.bind(Je=>{f.mutate(l,Je.info)});const Ce=()=>{w=!0},tt=()=>{w=!1},vt=()=>w,ht=Je=>(...ut)=>{w&&Je.apply(null,ut)},rt=f.sink(VS({forceDrop:z,drop:ht(z),move:ht(ce),delayDrop:ht(G.throttle)}),g),Ot=()=>{rt.destroy()};return{element:rt.element,go:Q,on:Ce,off:tt,isActive:vt,destroy:Ot,events:T.registry}},ZS=l=>{const f=l.replace(/\./g,"-");return{resolve:w=>f+"-"+w}},OA=ZS("ephox-dragster").resolve,jS=l=>{const f={layerClass:OA("blocker"),...l},g=be.fromTag("div");return Ks(g,"role","presentation"),ya(g,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),hl(g,OA("blocker")),hl(g,f.layerClass),{element:ae(g),destroy:()=>{zs(g)}}};var DA=AA({compare:(l,f)=>Pl(f.left-l.left,f.top-l.top),extract:l=>le.some(Pl(l.x,l.y)),sink:(l,f)=>{const g=jS(f),w=Sp(g.element(),"mousedown",l.forceDrop),T=Sp(g.element(),"mouseup",l.drop),P=Sp(g.element(),"mousemove",l.move),z=Sp(g.element(),"mouseout",l.delayDrop),G=()=>{g.destroy(),T.unbind(),P.unbind(),z.unbind(),w.unbind()},Q=Ce=>{Ms(Ce,g.element())},ce=()=>{zs(g.element())};return zS({element:g.element,start:Q,stop:ce,destroy:G})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const Rt=(l,f={})=>{var g;const w=(g=f.mode)!==null&&g!==void 0?g:DA;return WS(l,w,f)},Ab=ZS("ephox-snooker").resolve,GS=()=>{const l=Cr({drag:Rc(["xDelta","yDelta"])});return{mutate:(g,w)=>{l.trigger.drag(g,w)},events:l.registry}},Ob=()=>{const l=Cr({drag:Rc(["xDelta","yDelta","target"])});let f=le.none();const g=GS();return g.events.drag.bind(P=>{f.each(z=>{l.trigger.drag(P.xDelta,P.yDelta,z)})}),{assign:P=>{f=le.some(P)},get:()=>f,mutate:g.mutate,events:l.registry}},Fw=(l,f,g,w,T)=>{const P=be.fromTag("div");return ya(P,{position:"absolute",left:f-w/2+"px",top:g+"px",height:T+"px",width:w+"px"}),zc(P,{"data-column":l,role:"presentation"}),P},Hw=(l,f,g,w,T)=>{const P=be.fromTag("div");return ya(P,{position:"absolute",left:f+"px",top:g-T/2+"px",height:T+"px",width:w+"px"}),zc(P,{"data-row":l,role:"presentation"}),P},Db=Ab("resizer-bar"),KS=Ab("resizer-rows"),zw=Ab("resizer-cols"),Rb=7,Mb=(l,f)=>As(l.all,(g,w)=>f(g.element)?[w]:[]),d1=(l,f)=>{const g=[];return po(l.grid.columns,w=>{no.getColumnAt(l,w).map(P=>P.element).forall(f)&&g.push(w)}),qo(g,w=>{const T=no.filterItems(l,P=>P.column===w);return ko(T,P=>f(P.element))})},Pb=l=>{const f=_(l.parent(),"."+Db);qe(f,zs)},Vw=(l,f,g)=>{const w=l.origin();qe(f,T=>{T.each(P=>{const z=g(w,P);hl(z,Db),Ms(l.parent(),z)})})},RA=(l,f,g,w)=>{Vw(l,f,(T,P)=>{const z=Fw(P.col,P.x-T.left,g.top-T.top,Rb,w);return hl(z,zw),z})},MA=(l,f,g,w)=>{Vw(l,f,(T,P)=>{const z=Hw(P.row,g.left-T.left,P.y-T.top,w,Rb);return hl(z,KS),z})},fo=(l,f,g,w,T)=>{const P=Mh(g),z=f.isResizable,G=w.length>0?Ph.positions(w,g):[],Q=G.length>0?Mb(l,z):[],ce=qo(G,(ht,rt)=>lt(Q,Ot=>rt===Ot));MA(f,ce,P,An(g));const Ce=T.length>0?vm.positions(T,g):[],tt=Ce.length>0?d1(l,z):[],vt=qo(Ce,(ht,rt)=>lt(tt,Ot=>rt===Ot));RA(f,vt,P,W2(g))},Nb=(l,f)=>{if(Pb(l),l.isResizable(f)){const g=no.fromTable(f),w=JT(g),T=bv(g);fo(g,l,f,w,T)}},Wu=(l,f)=>{const g=_(l.parent(),"."+Db);qe(g,f)},Zu=l=>{Wu(l,f=>{Ho(f,"display","none")})},Bb=l=>{Wu(l,f=>{Ho(f,"display","block")})},ja=l=>zu(l,KS),Ep=l=>zu(l,zw),f1=Ab("resizer-bar-dragging"),Ib=l=>{const f=Ob(),g=Rt(f,{});let w=le.none();const T=(rt,Ot)=>le.from(Vc(rt,Ot));f.events.drag.bind(rt=>{T(rt.target,"data-row").each(Ot=>{const Je=go(rt.target,"top");Ho(rt.target,"top",Je+rt.yDelta+"px")}),T(rt.target,"data-column").each(Ot=>{const Je=go(rt.target,"left");Ho(rt.target,"left",Je+rt.xDelta+"px")})});const P=(rt,Ot)=>{const Je=go(rt,Ot),ut=cs(rt,"data-initial-"+Ot,0);return Je-ut};g.events.stop.bind(()=>{f.get().each(rt=>{w.each(Ot=>{T(rt,"data-row").each(Je=>{const ut=P(rt,"top");Wo(rt,"data-initial-top"),ht.trigger.adjustHeight(Ot,ut,parseInt(Je,10))}),T(rt,"data-column").each(Je=>{const ut=P(rt,"left");Wo(rt,"data-initial-left"),ht.trigger.adjustWidth(Ot,ut,parseInt(Je,10))}),Nb(l,Ot)})})});const z=(rt,Ot)=>{ht.trigger.startAdjust(),f.assign(rt),Ks(rt,"data-initial-"+Ot,go(rt,Ot)),hl(rt,f1),Ho(rt,"opacity","0.2"),g.go(l.parent())},G=Sp(l.parent(),"mousedown",rt=>{ja(rt.target)&&z(rt.target,"top"),Ep(rt.target)&&z(rt.target,"left")}),Q=rt=>as(rt,l.view()),ce=rt=>Ue(rt,"table",Q).filter(Fa),Ce=Sp(l.view(),"mouseover",rt=>{ce(rt.target).fold(()=>{Ss(rt.target)&&Pb(l)},Ot=>{g.isActive()&&(w=le.some(Ot),Nb(l,Ot))})}),tt=()=>{G.unbind(),Ce.unbind(),g.destroy(),Pb(l)},vt=rt=>{Nb(l,rt)},ht=Cr({adjustHeight:Rc(["table","delta","row"]),adjustWidth:Rc(["table","delta","column"]),startAdjust:Rc([])});return{destroy:tt,refresh:vt,on:g.on,off:g.off,hideBars:hn(Zu,l),showBars:hn(Bb,l),events:ht.registry}},PA={create:(l,f,g)=>{const w=Ph,T=vm,P=Ib(l),z=Cr({beforeResize:Rc(["table","type"]),afterResize:Rc(["table","type"]),startDrag:Rc([])});return P.events.adjustHeight.bind(G=>{const Q=G.table;z.trigger.beforeResize(Q,"row");const ce=w.delta(G.delta,Q);Ex(Q,ce,G.row),z.trigger.afterResize(Q,"row")}),P.events.startAdjust.bind(G=>{z.trigger.startDrag()}),P.events.adjustWidth.bind(G=>{const Q=G.table;z.trigger.beforeResize(Q,"col");const ce=T.delta(G.delta,Q),Ce=g(Q);Nu(Q,ce,G.column,f,Ce),z.trigger.afterResize(Q,"col")}),{on:P.on,off:P.off,refreshBars:P.refresh,hideBars:P.hideBars,showBars:P.showBars,destroy:P.destroy,events:z.registry}}},Yn={only:(l,f)=>{const g=ud(l)?$r(l):l;return{parent:ae(g),view:ae(l),origin:ae(Pl(0,0)),isResizable:f}},detached:(l,f,g)=>{const w=()=>Mh(f);return{parent:ae(f),view:ae(l),origin:w,isResizable:g}},body:(l,f,g)=>({parent:ae(f),view:ae(l),origin:ae(Pl(0,0)),isResizable:g})},jl=()=>{const l=be.fromTag("div");return ya(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ms(Xs(),l),l},Qm=(l,f)=>l.inline?Yn.body(be.fromDom(l.getBody()),jl(),f):Yn.only(be.fromDom(l.getDoc()),f),NA=(l,f)=>{l.inline&&zs(f.parent())},_p=l=>wn(l)&&l.nodeName==="TABLE",eo="bar-",BA=l=>Vc(l,"data-mce-resize")!=="false",eh=l=>{const f=no.fromTable(l);no.hasColumns(f)||qe(xa(l),g=>{const w=wa(g,"width");Ho(g,"width",w),Wo(g,"width")})},Tp=l=>Ys(l,"corner-"),IA=l=>fi(l,"corner-"),th=l=>{const f=Cw(),g=Cw(),w=Cw();let T,P,z,G;const Q=ut=>ew(l,ut),ce=()=>mg(l)?Nm():Yh(),Ce=ut=>bg(ut).columns,tt=ut=>bg(ut).rows,vt=(ut,Yt,rn,co)=>{const vs=IA(Yt),ys=Fr(vs,"e"),ki=Ys(vs,"n");if(P===""&&ul(ut),G===""&&$k(ut),rn!==T&&P!==""){Ho(ut,"width",P);const Mc=ce(),Nf=Q(ut),oh=mg(l)||ys?Ce(ut)-1:0;Nu(ut,rn-T,oh,Mc,Nf)}else if(Mn(P)){const Mc=parseFloat(P.replace("%","")),Nf=rn*Mc/T;Ho(ut,"width",Nf+"%")}if(Gt(P)&&eh(ut),co!==z&&G!==""){Ho(ut,"height",G);const Mc=ki?0:tt(ut)-1;Ex(ut,co-z,Mc)}},ht=()=>{g.on(ut=>{ut.destroy()}),w.on(ut=>{NA(l,ut)})};return l.on("init",()=>{const ut=Qm(l,BA);if(w.set(ut),fy(l)&&hg(l)){const Yt=ce(),rn=PA.create(ut,Yt,Q);rn.on(),rn.events.startDrag.bind(co=>{f.set(l.selection.getRng())}),rn.events.beforeResize.bind(co=>{const vs=co.table.dom;ts(l,vs,my(vs),hy(vs),eo+co.type)}),rn.events.afterResize.bind(co=>{const vs=co.table,ys=vs.dom;ol(vs),f.on(ki=>{l.selection.setRng(ki),l.focus()}),Qy(l,ys,my(ys),hy(ys),eo+co.type),l.undoManager.add()}),g.set(rn)}}),l.on("ObjectResizeStart",ut=>{const Yt=ut.target;if(_p(Yt)){const rn=be.fromDom(Yt);qe(l.dom.select(".mce-clonedresizable"),co=>{l.dom.addClass(co,"mce-"+Cm(l)+"-columns")}),!Iu(rn)&&ea(l)?up(rn):!Yx(rn)&&xm(l)&&ul(rn),nb(rn)&&Ys(ut.origin,eo)&&ul(rn),T=ut.width,P=Or(l)?"":Wh(l,Yt).getOr(""),z=ut.height,G=_m(l,Yt).getOr("")}}),l.on("ObjectResized",ut=>{const Yt=ut.target;if(_p(Yt)){const rn=be.fromDom(Yt),co=ut.origin;Tp(co)&&vt(rn,co,ut.width,ut.height),ol(rn),Pd(l,rn.dom,gi)}}),l.on("SwitchMode",()=>{g.on(ut=>{l.mode.isReadOnly()?ut.hideBars():ut.showBars()})}),l.on("dragstart dragend",ut=>{g.on(Yt=>{ut.type==="dragstart"?(Yt.hideBars(),Yt.off()):(Yt.on(),Yt.showBars())})}),l.on("remove",()=>{ht()}),{refresh:ut=>{g.on(Yt=>Yt.refreshBars(be.fromDom(ut)))},hide:()=>{g.on(ut=>ut.hideBars())},show:()=>{g.on(ut=>ut.showBars())}}},nh=l=>{sk(l);const f=th(l),g=SA(l,f),w=eb(l,f,g);return Kk(l,w),dS(l,w),LR(l,w),{getSelectedCells:g.getSelectedCells,clearSelectedCells:g.clearSelectedCells}},Lb=l=>({table:nh(l)});var LA=()=>{S.add("dom",Lb)};LA()})();var eY={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(S){(function(y,A){S.exports=y.document?A(y,!0):function(N){if(!N.document)throw new Error("jQuery requires a window with a document");return A(N)}})(typeof window<"u"?window:YQ,function(y,A){var N=[],V=Object.getPrototypeOf,te=N.slice,de=N.flat?function(b){return N.flat.call(b)}:function(b){return N.concat.apply([],b)},ve=N.push,He=N.indexOf,St={},et=St.toString,ft=St.hasOwnProperty,Bn=ft.toString,wn=Bn.call(Object),ct={},Xe=function(_){return typeof _=="function"&&typeof _.nodeType!="number"&&typeof _.item!="function"},nt=function(_){return _!=null&&_===_.window},Pt=y.document,yo={type:!0,src:!0,nonce:!0,noModule:!0};function ae(b,_,O){O=O||Pt;var I,q,Z=O.createElement("script");if(Z.text=b,_)for(I in yo)q=_[I]||_.getAttribute&&_.getAttribute(I),q&&Z.setAttribute(I,q);O.head.appendChild(Z).parentNode.removeChild(Z)}function Ft(b){return b==null?b+"":typeof b=="object"||typeof b=="function"?St[et.call(b)]||"object":typeof b}var Lo="3.7.1",hn=/HTML$/i,D=function(b,_){return new D.fn.init(b,_)};D.fn=D.prototype={jquery:Lo,constructor:D,length:0,toArray:function(){return te.call(this)},get:function(b){return b==null?te.call(this):b<0?this[b+this.length]:this[b]},pushStack:function(b){var _=D.merge(this.constructor(),b);return _.prevObject=this,_},each:function(b){return D.each(this,b)},map:function(b){return this.pushStack(D.map(this,function(_,O){return b.call(_,O,_)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(D.grep(this,function(b,_){return(_+1)%2}))},odd:function(){return this.pushStack(D.grep(this,function(b,_){return _%2}))},eq:function(b){var _=this.length,O=+b+(b<0?_:0);return this.pushStack(O>=0&&O<_?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:ve,sort:N.sort,splice:N.splice},D.extend=D.fn.extend=function(){var b,_,O,I,q,Z,J=arguments[0]||{},ge=1,se=arguments.length,_e=!1;for(typeof J=="boolean"&&(_e=J,J=arguments[ge]||{},ge++),typeof J!="object"&&!Xe(J)&&(J={}),ge===se&&(J=this,ge--);ge<se;ge++)if((b=arguments[ge])!=null)for(_ in b)I=b[_],!(_==="__proto__"||J===I)&&(_e&&I&&(D.isPlainObject(I)||(q=Array.isArray(I)))?(O=J[_],q&&!Array.isArray(O)?Z=[]:!q&&!D.isPlainObject(O)?Z={}:Z=O,q=!1,J[_]=D.extend(_e,Z,I)):I!==void 0&&(J[_]=I));return J},D.extend({expando:"jQuery"+(Lo+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw new Error(b)},noop:function(){},isPlainObject:function(b){var _,O;return!b||et.call(b)!=="[object Object]"?!1:(_=V(b),_?(O=ft.call(_,"constructor")&&_.constructor,typeof O=="function"&&Bn.call(O)===wn):!0)},isEmptyObject:function(b){var _;for(_ in b)return!1;return!0},globalEval:function(b,_,O){ae(b,{nonce:_&&_.nonce},O)},each:function(b,_){var O,I=0;if(pn(b))for(O=b.length;I<O&&_.call(b[I],I,b[I])!==!1;I++);else for(I in b)if(_.call(b[I],I,b[I])===!1)break;return b},text:function(b){var _,O="",I=0,q=b.nodeType;if(!q)for(;_=b[I++];)O+=D.text(_);return q===1||q===11?b.textContent:q===9?b.documentElement.textContent:q===3||q===4?b.nodeValue:O},makeArray:function(b,_){var O=_||[];return b!=null&&(pn(Object(b))?D.merge(O,typeof b=="string"?[b]:b):ve.call(O,b)),O},inArray:function(b,_,O){return _==null?-1:He.call(_,b,O)},isXMLDoc:function(b){var _=b&&b.namespaceURI,O=b&&(b.ownerDocument||b).documentElement;return!hn.test(_||O&&O.nodeName||"HTML")},merge:function(b,_){for(var O=+_.length,I=0,q=b.length;I<O;I++)b[q++]=_[I];return b.length=q,b},grep:function(b,_,O){for(var I,q=[],Z=0,J=b.length,ge=!O;Z<J;Z++)I=!_(b[Z],Z),I!==ge&&q.push(b[Z]);return q},map:function(b,_,O){var I,q,Z=0,J=[];if(pn(b))for(I=b.length;Z<I;Z++)q=_(b[Z],Z,O),q!=null&&J.push(q);else for(Z in b)q=_(b[Z],Z,O),q!=null&&J.push(q);return de(J)},guid:1,support:ct}),typeof Symbol=="function"&&(D.fn[Symbol.iterator]=N[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,_){St["[object "+_+"]"]=_.toLowerCase()});function pn(b){var _=!!b&&"length"in b&&b.length,O=Ft(b);return Xe(b)||nt(b)?!1:O==="array"||_===0||typeof _=="number"&&_>0&&_-1 in b}function En(b,_){return b.nodeName&&b.nodeName.toLowerCase()===_.toLowerCase()}var _n=N.pop,Ne=N.sort,le=N.splice,Pn="[\\x20\\t\\r\\n\\f]",Gn=new RegExp("^"+Pn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Pn+"+$","g");D.contains=function(b,_){var O=_&&_.parentNode;return b===O||!!(O&&O.nodeType===1&&(b.contains?b.contains(O):b.compareDocumentPosition&&b.compareDocumentPosition(O)&16))};var Zt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(b,_){return _?b==="\0"?"":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b}D.escapeSelector=function(b){return(b+"").replace(Zt,M)};var ro=Pt,lt=ve;(function(){var b,_,O,I,q,Z=lt,J,ge,se,_e,Ue,st=D.expando,Pe=0,At=0,Qn=Dl(),Fo=Dl(),vn=Dl(),fi=Dl(),Do=function(ie,we){return ie===we&&(q=!0),0},Ys="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fr="(?:\\\\[\\da-fA-F]{1,6}"+Pn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Co="\\["+Pn+"*("+Fr+")(?:"+Pn+"*([*^$|!~]?=)"+Pn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Fr+"))|)"+Pn+"*\\]",Un=":("+Fr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Co+")*)|.*)\\)|)",to=new RegExp(Pn+"+","g"),hs=new RegExp("^"+Pn+"*,"+Pn+"*"),qc=new RegExp("^"+Pn+"*([>+~]|"+Pn+")"+Pn+"*"),ba=new RegExp(Pn+"|>"),lr=new RegExp(Un),Ho=new RegExp("^"+Fr+"$"),ya={ID:new RegExp("^#("+Fr+")"),CLASS:new RegExp("^\\.("+Fr+")"),TAG:new RegExp("^("+Fr+"|[*])"),ATTR:new RegExp("^"+Co),PSEUDO:new RegExp("^"+Un),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Pn+"*(even|odd|(([+-]|)(\\d*)n|)"+Pn+"*(?:([+-]|)"+Pn+"*(\\d+)|))"+Pn+"*\\)|)","i"),bool:new RegExp("^(?:"+Ys+")$","i"),needsContext:new RegExp("^"+Pn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Pn+"*((?:-\\d)?\\d*)"+Pn+"*\\)|)(?=[^-]|$)","i")},wa=/^(?:input|select|textarea|button)$/i,Ba=/^h\d$/i,yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,zo=/[+~]/,wi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Pn+"?|\\\\([^\\r\\n\\f])","g"),cs=function(ie,we){var Ve="0x"+ie.slice(1)-65536;return we||(Ve<0?String.fromCharCode(Ve+65536):String.fromCharCode(Ve>>10|55296,Ve&1023|56320))},vc=function(){gr()},md=fm(function(ie){return ie.disabled===!0&&En(ie,"fieldset")},{dir:"parentNode",next:"legend"});function pr(){try{return J.activeElement}catch{}}try{Z.apply(N=te.call(ro.childNodes),ro.childNodes),N[ro.childNodes.length].nodeType}catch{Z={apply:function(we,Ve){lt.apply(we,te.call(Ve))},call:function(we){lt.apply(we,te.call(arguments,1))}}}function go(ie,we,Ve,Ge){var Fe,Lt,jt,nn,dn,ho,Dn,Kn=we&&we.ownerDocument,xo=we?we.nodeType:9;if(Ve=Ve||[],typeof ie!="string"||!ie||xo!==1&&xo!==9&&xo!==11)return Ve;if(!Ge&&(gr(we),we=we||J,se)){if(xo!==11&&(dn=yi.exec(ie)))if(Fe=dn[1]){if(xo===9)if(jt=we.getElementById(Fe)){if(jt.id===Fe)return Z.call(Ve,jt),Ve}else return Ve;else if(Kn&&(jt=Kn.getElementById(Fe))&&go.contains(we,jt)&&jt.id===Fe)return Z.call(Ve,jt),Ve}else{if(dn[2])return Z.apply(Ve,we.getElementsByTagName(ie)),Ve;if((Fe=dn[3])&&we.getElementsByClassName)return Z.apply(Ve,we.getElementsByClassName(Fe)),Ve}if(!fi[ie+" "]&&(!_e||!_e.test(ie))){if(Dn=ie,Kn=we,xo===1&&(ba.test(ie)||qc.test(ie))){for(Kn=zo.test(ie)&&hd(we.parentNode)||we,(Kn!=we||!ct.scope)&&((nn=we.getAttribute("id"))?nn=D.escapeSelector(nn):we.setAttribute("id",nn=st)),ho=mu(ie),Lt=ho.length;Lt--;)ho[Lt]=(nn?"#"+nn:":scope")+" "+Kc(ho[Lt]);Dn=ho.join(",")}try{return Z.apply(Ve,Kn.querySelectorAll(Dn)),Ve}catch{fi(ie,!0)}finally{nn===st&&we.removeAttribute("id")}}}return Oh(ie.replace(Gn,"$1"),we,Ve,Ge)}function Dl(){var ie=[];function we(Ve,Ge){return ie.push(Ve+" ")>_.cacheLength&&delete we[ie.shift()],we[Ve+" "]=Ge}return we}function Ca(ie){return ie[st]=!0,ie}function Gc(ie){var we=J.createElement("fieldset");try{return!!ie(we)}catch{return!1}finally{we.parentNode&&we.parentNode.removeChild(we),we=null}}function kh(ie){return function(we){return En(we,"input")&&we.type===ie}}function cf(ie){return function(we){return(En(we,"input")||En(we,"button"))&&we.type===ie}}function dm(ie){return function(we){return"form"in we?we.parentNode&&we.disabled===!1?"label"in we?"label"in we.parentNode?we.parentNode.disabled===ie:we.disabled===ie:we.isDisabled===ie||we.isDisabled!==!ie&&md(we)===ie:we.disabled===ie:"label"in we?we.disabled===ie:!1}}function xa(ie){return Ca(function(we){return we=+we,Ca(function(Ve,Ge){for(var Fe,Lt=ie([],Ve.length,we),jt=Lt.length;jt--;)Ve[Fe=Lt[jt]]&&(Ve[Fe]=!(Ge[Fe]=Ve[Fe]))})})}function hd(ie){return ie&&typeof ie.getElementsByTagName<"u"&&ie}function gr(ie){var we,Ve=ie?ie.ownerDocument||ie:ro;return Ve==J||Ve.nodeType!==9||!Ve.documentElement||(J=Ve,ge=J.documentElement,se=!D.isXMLDoc(J),Ue=ge.matches||ge.webkitMatchesSelector||ge.msMatchesSelector,ge.msMatchesSelector&&ro!=J&&(we=J.defaultView)&&we.top!==we&&we.addEventListener("unload",vc),ct.getById=Gc(function(Ge){return ge.appendChild(Ge).id=D.expando,!J.getElementsByName||!J.getElementsByName(D.expando).length}),ct.disconnectedMatch=Gc(function(Ge){return Ue.call(Ge,"*")}),ct.scope=Gc(function(){return J.querySelectorAll(":scope")}),ct.cssHas=Gc(function(){try{return J.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),ct.getById?(_.filter.ID=function(Ge){var Fe=Ge.replace(wi,cs);return function(Lt){return Lt.getAttribute("id")===Fe}},_.find.ID=function(Ge,Fe){if(typeof Fe.getElementById<"u"&&se){var Lt=Fe.getElementById(Ge);return Lt?[Lt]:[]}}):(_.filter.ID=function(Ge){var Fe=Ge.replace(wi,cs);return function(Lt){var jt=typeof Lt.getAttributeNode<"u"&&Lt.getAttributeNode("id");return jt&&jt.value===Fe}},_.find.ID=function(Ge,Fe){if(typeof Fe.getElementById<"u"&&se){var Lt,jt,nn,dn=Fe.getElementById(Ge);if(dn){if(Lt=dn.getAttributeNode("id"),Lt&&Lt.value===Ge)return[dn];for(nn=Fe.getElementsByName(Ge),jt=0;dn=nn[jt++];)if(Lt=dn.getAttributeNode("id"),Lt&&Lt.value===Ge)return[dn]}return[]}}),_.find.TAG=function(Ge,Fe){return typeof Fe.getElementsByTagName<"u"?Fe.getElementsByTagName(Ge):Fe.querySelectorAll(Ge)},_.find.CLASS=function(Ge,Fe){if(typeof Fe.getElementsByClassName<"u"&&se)return Fe.getElementsByClassName(Ge)},_e=[],Gc(function(Ge){var Fe;ge.appendChild(Ge).innerHTML="<a id='"+st+"' href='' disabled='disabled'></a><select id='"+st+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ge.querySelectorAll("[selected]").length||_e.push("\\["+Pn+"*(?:value|"+Ys+")"),Ge.querySelectorAll("[id~="+st+"-]").length||_e.push("~="),Ge.querySelectorAll("a#"+st+"+*").length||_e.push(".#.+[+~]"),Ge.querySelectorAll(":checked").length||_e.push(":checked"),Fe=J.createElement("input"),Fe.setAttribute("type","hidden"),Ge.appendChild(Fe).setAttribute("name","D"),ge.appendChild(Ge).disabled=!0,Ge.querySelectorAll(":disabled").length!==2&&_e.push(":enabled",":disabled"),Fe=J.createElement("input"),Fe.setAttribute("name",""),Ge.appendChild(Fe),Ge.querySelectorAll("[name='']").length||_e.push("\\["+Pn+"*name"+Pn+"*="+Pn+`*(?:''|"")`)}),ct.cssHas||_e.push(":has"),_e=_e.length&&new RegExp(_e.join("|")),Do=function(Ge,Fe){if(Ge===Fe)return q=!0,0;var Lt=!Ge.compareDocumentPosition-!Fe.compareDocumentPosition;return Lt||(Lt=(Ge.ownerDocument||Ge)==(Fe.ownerDocument||Fe)?Ge.compareDocumentPosition(Fe):1,Lt&1||!ct.sortDetached&&Fe.compareDocumentPosition(Ge)===Lt?Ge===J||Ge.ownerDocument==ro&&go.contains(ro,Ge)?-1:Fe===J||Fe.ownerDocument==ro&&go.contains(ro,Fe)?1:I?He.call(I,Ge)-He.call(I,Fe):0:Lt&4?-1:1)}),J}go.matches=function(ie,we){return go(ie,null,null,we)},go.matchesSelector=function(ie,we){if(gr(ie),se&&!fi[we+" "]&&(!_e||!_e.test(we)))try{var Ve=Ue.call(ie,we);if(Ve||ct.disconnectedMatch||ie.document&&ie.document.nodeType!==11)return Ve}catch{fi(we,!0)}return go(we,J,null,[ie]).length>0},go.contains=function(ie,we){return(ie.ownerDocument||ie)!=J&&gr(ie),D.contains(ie,we)},go.attr=function(ie,we){(ie.ownerDocument||ie)!=J&&gr(ie);var Ve=_.attrHandle[we.toLowerCase()],Ge=Ve&&ft.call(_.attrHandle,we.toLowerCase())?Ve(ie,we,!se):void 0;return Ge!==void 0?Ge:ie.getAttribute(we)},go.error=function(ie){throw new Error("Syntax error, unrecognized expression: "+ie)},D.uniqueSort=function(ie){var we,Ve=[],Ge=0,Fe=0;if(q=!ct.sortStable,I=!ct.sortStable&&te.call(ie,0),Ne.call(ie,Do),q){for(;we=ie[Fe++];)we===ie[Fe]&&(Ge=Ve.push(Fe));for(;Ge--;)le.call(ie,Ve[Ge],1)}return I=null,ie},D.fn.uniqueSort=function(){return this.pushStack(D.uniqueSort(te.apply(this)))},_=D.expr={cacheLength:50,createPseudo:Ca,match:ya,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ie){return ie[1]=ie[1].replace(wi,cs),ie[3]=(ie[3]||ie[4]||ie[5]||"").replace(wi,cs),ie[2]==="~="&&(ie[3]=" "+ie[3]+" "),ie.slice(0,4)},CHILD:function(ie){return ie[1]=ie[1].toLowerCase(),ie[1].slice(0,3)==="nth"?(ie[3]||go.error(ie[0]),ie[4]=+(ie[4]?ie[5]+(ie[6]||1):2*(ie[3]==="even"||ie[3]==="odd")),ie[5]=+(ie[7]+ie[8]||ie[3]==="odd")):ie[3]&&go.error(ie[0]),ie},PSEUDO:function(ie){var we,Ve=!ie[6]&&ie[2];return ya.CHILD.test(ie[0])?null:(ie[3]?ie[2]=ie[4]||ie[5]||"":Ve&&lr.test(Ve)&&(we=mu(Ve,!0))&&(we=Ve.indexOf(")",Ve.length-we)-Ve.length)&&(ie[0]=ie[0].slice(0,we),ie[2]=Ve.slice(0,we)),ie.slice(0,3))}},filter:{TAG:function(ie){var we=ie.replace(wi,cs).toLowerCase();return ie==="*"?function(){return!0}:function(Ve){return En(Ve,we)}},CLASS:function(ie){var we=Qn[ie+" "];return we||(we=new RegExp("(^|"+Pn+")"+ie+"("+Pn+"|$)"))&&Qn(ie,function(Ve){return we.test(typeof Ve.className=="string"&&Ve.className||typeof Ve.getAttribute<"u"&&Ve.getAttribute("class")||"")})},ATTR:function(ie,we,Ve){return function(Ge){var Fe=go.attr(Ge,ie);return Fe==null?we==="!=":we?(Fe+="",we==="="?Fe===Ve:we==="!="?Fe!==Ve:we==="^="?Ve&&Fe.indexOf(Ve)===0:we==="*="?Ve&&Fe.indexOf(Ve)>-1:we==="$="?Ve&&Fe.slice(-Ve.length)===Ve:we==="~="?(" "+Fe.replace(to," ")+" ").indexOf(Ve)>-1:we==="|="?Fe===Ve||Fe.slice(0,Ve.length+1)===Ve+"-":!1):!0}},CHILD:function(ie,we,Ve,Ge,Fe){var Lt=ie.slice(0,3)!=="nth",jt=ie.slice(-4)!=="last",nn=we==="of-type";return Ge===1&&Fe===0?function(dn){return!!dn.parentNode}:function(dn,ho,Dn){var Kn,xo,zn,Oo,Yr,mi=Lt!==jt?"nextSibling":"previousSibling",Js=dn.parentNode,Es=nn&&dn.nodeName.toLowerCase(),Ia=!Dn&&!nn,Hr=!1;if(Js){if(Lt){for(;mi;){for(zn=dn;zn=zn[mi];)if(nn?En(zn,Es):zn.nodeType===1)return!1;Yr=mi=ie==="only"&&!Yr&&"nextSibling"}return!0}if(Yr=[jt?Js.firstChild:Js.lastChild],jt&&Ia){for(xo=Js[st]||(Js[st]={}),Kn=xo[ie]||[],Oo=Kn[0]===Pe&&Kn[1],Hr=Oo&&Kn[2],zn=Oo&&Js.childNodes[Oo];zn=++Oo&&zn&&zn[mi]||(Hr=Oo=0)||Yr.pop();)if(zn.nodeType===1&&++Hr&&zn===dn){xo[ie]=[Pe,Oo,Hr];break}}else if(Ia&&(xo=dn[st]||(dn[st]={}),Kn=xo[ie]||[],Oo=Kn[0]===Pe&&Kn[1],Hr=Oo),Hr===!1)for(;(zn=++Oo&&zn&&zn[mi]||(Hr=Oo=0)||Yr.pop())&&!((nn?En(zn,Es):zn.nodeType===1)&&++Hr&&(Ia&&(xo=zn[st]||(zn[st]={}),xo[ie]=[Pe,Hr]),zn===dn)););return Hr-=Fe,Hr===Ge||Hr%Ge===0&&Hr/Ge>=0}}},PSEUDO:function(ie,we){var Ve,Ge=_.pseudos[ie]||_.setFilters[ie.toLowerCase()]||go.error("unsupported pseudo: "+ie);return Ge[st]?Ge(we):Ge.length>1?(Ve=[ie,ie,"",we],_.setFilters.hasOwnProperty(ie.toLowerCase())?Ca(function(Fe,Lt){for(var jt,nn=Ge(Fe,we),dn=nn.length;dn--;)jt=He.call(Fe,nn[dn]),Fe[jt]=!(Lt[jt]=nn[dn])}):function(Fe){return Ge(Fe,0,Ve)}):Ge}},pseudos:{not:Ca(function(ie){var we=[],Ve=[],Ge=re(ie.replace(Gn,"$1"));return Ge[st]?Ca(function(Fe,Lt,jt,nn){for(var dn,ho=Ge(Fe,null,nn,[]),Dn=Fe.length;Dn--;)(dn=ho[Dn])&&(Fe[Dn]=!(Lt[Dn]=dn))}):function(Fe,Lt,jt){return we[0]=Fe,Ge(we,null,jt,Ve),we[0]=null,!Ve.pop()}}),has:Ca(function(ie){return function(we){return go(ie,we).length>0}}),contains:Ca(function(ie){return ie=ie.replace(wi,cs),function(we){return(we.textContent||D.text(we)).indexOf(ie)>-1}}),lang:Ca(function(ie){return Ho.test(ie||"")||go.error("unsupported lang: "+ie),ie=ie.replace(wi,cs).toLowerCase(),function(we){var Ve;do if(Ve=se?we.lang:we.getAttribute("xml:lang")||we.getAttribute("lang"))return Ve=Ve.toLowerCase(),Ve===ie||Ve.indexOf(ie+"-")===0;while((we=we.parentNode)&&we.nodeType===1);return!1}}),target:function(ie){var we=y.location&&y.location.hash;return we&&we.slice(1)===ie.id},root:function(ie){return ie===ge},focus:function(ie){return ie===pr()&&J.hasFocus()&&!!(ie.type||ie.href||~ie.tabIndex)},enabled:dm(!1),disabled:dm(!0),checked:function(ie){return En(ie,"input")&&!!ie.checked||En(ie,"option")&&!!ie.selected},selected:function(ie){return ie.parentNode&&ie.parentNode.selectedIndex,ie.selected===!0},empty:function(ie){for(ie=ie.firstChild;ie;ie=ie.nextSibling)if(ie.nodeType<6)return!1;return!0},parent:function(ie){return!_.pseudos.empty(ie)},header:function(ie){return Ba.test(ie.nodeName)},input:function(ie){return wa.test(ie.nodeName)},button:function(ie){return En(ie,"input")&&ie.type==="button"||En(ie,"button")},text:function(ie){var we;return En(ie,"input")&&ie.type==="text"&&((we=ie.getAttribute("type"))==null||we.toLowerCase()==="text")},first:xa(function(){return[0]}),last:xa(function(ie,we){return[we-1]}),eq:xa(function(ie,we,Ve){return[Ve<0?Ve+we:Ve]}),even:xa(function(ie,we){for(var Ve=0;Ve<we;Ve+=2)ie.push(Ve);return ie}),odd:xa(function(ie,we){for(var Ve=1;Ve<we;Ve+=2)ie.push(Ve);return ie}),lt:xa(function(ie,we,Ve){var Ge;for(Ve<0?Ge=Ve+we:Ve>we?Ge=we:Ge=Ve;--Ge>=0;)ie.push(Ge);return ie}),gt:xa(function(ie,we,Ve){for(var Ge=Ve<0?Ve+we:Ve;++Ge<we;)ie.push(Ge);return ie})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=kh(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=cf(b);function fu(){}fu.prototype=_.filters=_.pseudos,_.setFilters=new fu;function mu(ie,we){var Ve,Ge,Fe,Lt,jt,nn,dn,ho=Fo[ie+" "];if(ho)return we?0:ho.slice(0);for(jt=ie,nn=[],dn=_.preFilter;jt;){(!Ve||(Ge=hs.exec(jt)))&&(Ge&&(jt=jt.slice(Ge[0].length)||jt),nn.push(Fe=[])),Ve=!1,(Ge=qc.exec(jt))&&(Ve=Ge.shift(),Fe.push({value:Ve,type:Ge[0].replace(Gn," ")}),jt=jt.slice(Ve.length));for(Lt in _.filter)(Ge=ya[Lt].exec(jt))&&(!dn[Lt]||(Ge=dn[Lt](Ge)))&&(Ve=Ge.shift(),Fe.push({value:Ve,type:Lt,matches:Ge}),jt=jt.slice(Ve.length));if(!Ve)break}return we?jt.length:jt?go.error(ie):Fo(ie,nn).slice(0)}function Kc(ie){for(var we=0,Ve=ie.length,Ge="";we<Ve;we++)Ge+=ie[we].value;return Ge}function fm(ie,we,Ve){var Ge=we.dir,Fe=we.next,Lt=Fe||Ge,jt=Ve&&Lt==="parentNode",nn=At++;return we.first?function(dn,ho,Dn){for(;dn=dn[Ge];)if(dn.nodeType===1||jt)return ie(dn,ho,Dn);return!1}:function(dn,ho,Dn){var Kn,xo,zn=[Pe,nn];if(Dn){for(;dn=dn[Ge];)if((dn.nodeType===1||jt)&&ie(dn,ho,Dn))return!0}else for(;dn=dn[Ge];)if(dn.nodeType===1||jt)if(xo=dn[st]||(dn[st]={}),Fe&&En(dn,Fe))dn=dn[Ge]||dn;else{if((Kn=xo[Lt])&&Kn[0]===Pe&&Kn[1]===nn)return zn[2]=Kn[2];if(xo[Lt]=zn,zn[2]=ie(dn,ho,Dn))return!0}return!1}}function pd(ie){return ie.length>1?function(we,Ve,Ge){for(var Fe=ie.length;Fe--;)if(!ie[Fe](we,Ve,Ge))return!1;return!0}:ie[0]}function dv(ie,we,Ve){for(var Ge=0,Fe=we.length;Ge<Fe;Ge++)go(ie,we[Ge],Ve);return Ve}function Rl(ie,we,Ve,Ge,Fe){for(var Lt,jt=[],nn=0,dn=ie.length,ho=we!=null;nn<dn;nn++)(Lt=ie[nn])&&(!Ve||Ve(Lt,Ge,Fe))&&(jt.push(Lt),ho&&we.push(nn));return jt}function Ah(ie,we,Ve,Ge,Fe,Lt){return Ge&&!Ge[st]&&(Ge=Ah(Ge)),Fe&&!Fe[st]&&(Fe=Ah(Fe,Lt)),Ca(function(jt,nn,dn,ho){var Dn,Kn,xo,zn,Oo=[],Yr=[],mi=nn.length,Js=jt||dv(we||"*",dn.nodeType?[dn]:dn,[]),Es=ie&&(jt||!we)?Rl(Js,Oo,ie,dn,ho):Js;if(Ve?(zn=Fe||(jt?ie:mi||Ge)?[]:nn,Ve(Es,zn,dn,ho)):zn=Es,Ge)for(Dn=Rl(zn,Yr),Ge(Dn,[],dn,ho),Kn=Dn.length;Kn--;)(xo=Dn[Kn])&&(zn[Yr[Kn]]=!(Es[Yr[Kn]]=xo));if(jt){if(Fe||ie){if(Fe){for(Dn=[],Kn=zn.length;Kn--;)(xo=zn[Kn])&&Dn.push(Es[Kn]=xo);Fe(null,zn=[],Dn,ho)}for(Kn=zn.length;Kn--;)(xo=zn[Kn])&&(Dn=Fe?He.call(jt,xo):Oo[Kn])>-1&&(jt[Dn]=!(nn[Dn]=xo))}}else zn=Rl(zn===nn?zn.splice(mi,zn.length):zn),Fe?Fe(null,nn,zn,ho):Z.apply(nn,zn)})}function hu(ie){for(var we,Ve,Ge,Fe=ie.length,Lt=_.relative[ie[0].type],jt=Lt||_.relative[" "],nn=Lt?1:0,dn=fm(function(Kn){return Kn===we},jt,!0),ho=fm(function(Kn){return He.call(we,Kn)>-1},jt,!0),Dn=[function(Kn,xo,zn){var Oo=!Lt&&(zn||xo!=O)||((we=xo).nodeType?dn(Kn,xo,zn):ho(Kn,xo,zn));return we=null,Oo}];nn<Fe;nn++)if(Ve=_.relative[ie[nn].type])Dn=[fm(pd(Dn),Ve)];else{if(Ve=_.filter[ie[nn].type].apply(null,ie[nn].matches),Ve[st]){for(Ge=++nn;Ge<Fe&&!_.relative[ie[Ge].type];Ge++);return Ah(nn>1&&pd(Dn),nn>1&&Kc(ie.slice(0,nn-1).concat({value:ie[nn-2].type===" "?"*":""})).replace(Gn,"$1"),Ve,nn<Ge&&hu(ie.slice(nn,Ge)),Ge<Fe&&hu(ie=ie.slice(Ge)),Ge<Fe&&Kc(ie))}Dn.push(Ve)}return pd(Dn)}function G0(ie,we){var Ve=we.length>0,Ge=ie.length>0,Fe=function(Lt,jt,nn,dn,ho){var Dn,Kn,xo,zn=0,Oo="0",Yr=Lt&&[],mi=[],Js=O,Es=Lt||Ge&&_.find.TAG("*",ho),Ia=Pe+=Js==null?1:Math.random()||.1,Hr=Es.length;for(ho&&(O=jt==J||jt||ho);Oo!==Hr&&(Dn=Es[Oo])!=null;Oo++){if(Ge&&Dn){for(Kn=0,!jt&&Dn.ownerDocument!=J&&(gr(Dn),nn=!se);xo=ie[Kn++];)if(xo(Dn,jt||J,nn)){Z.call(dn,Dn);break}ho&&(Pe=Ia)}Ve&&((Dn=!xo&&Dn)&&zn--,Lt&&Yr.push(Dn))}if(zn+=Oo,Ve&&Oo!==zn){for(Kn=0;xo=we[Kn++];)xo(Yr,mi,jt,nn);if(Lt){if(zn>0)for(;Oo--;)Yr[Oo]||mi[Oo]||(mi[Oo]=_n.call(dn));mi=Rl(mi)}Z.apply(dn,mi),ho&&!Lt&&mi.length>0&&zn+we.length>1&&D.uniqueSort(dn)}return ho&&(Pe=Ia,O=Js),Yr};return Ve?Ca(Fe):Fe}function re(ie,we){var Ve,Ge=[],Fe=[],Lt=vn[ie+" "];if(!Lt){for(we||(we=mu(ie)),Ve=we.length;Ve--;)Lt=hu(we[Ve]),Lt[st]?Ge.push(Lt):Fe.push(Lt);Lt=vn(ie,G0(Fe,Ge)),Lt.selector=ie}return Lt}function Oh(ie,we,Ve,Ge){var Fe,Lt,jt,nn,dn,ho=typeof ie=="function"&&ie,Dn=!Ge&&mu(ie=ho.selector||ie);if(Ve=Ve||[],Dn.length===1){if(Lt=Dn[0]=Dn[0].slice(0),Lt.length>2&&(jt=Lt[0]).type==="ID"&&we.nodeType===9&&se&&_.relative[Lt[1].type]){if(we=(_.find.ID(jt.matches[0].replace(wi,cs),we)||[])[0],we)ho&&(we=we.parentNode);else return Ve;ie=ie.slice(Lt.shift().value.length)}for(Fe=ya.needsContext.test(ie)?0:Lt.length;Fe--&&(jt=Lt[Fe],!_.relative[nn=jt.type]);)if((dn=_.find[nn])&&(Ge=dn(jt.matches[0].replace(wi,cs),zo.test(Lt[0].type)&&hd(we.parentNode)||we))){if(Lt.splice(Fe,1),ie=Ge.length&&Kc(Lt),!ie)return Z.apply(Ve,Ge),Ve;break}}return(ho||re(ie,Dn))(Ge,we,!se,Ve,!we||zo.test(ie)&&hd(we.parentNode)||we),Ve}ct.sortStable=st.split("").sort(Do).join("")===st,gr(),ct.sortDetached=Gc(function(ie){return ie.compareDocumentPosition(J.createElement("fieldset"))&1}),D.find=go,D.expr[":"]=D.expr.pseudos,D.unique=D.uniqueSort,go.compile=re,go.select=Oh,go.setDocument=gr,go.tokenize=mu,go.escape=D.escapeSelector,go.getText=D.text,go.isXML=D.isXMLDoc,go.selectors=D.expr,go.support=D.support,go.uniqueSort=D.uniqueSort})();var po=function(b,_,O){for(var I=[],q=O!==void 0;(b=b[_])&&b.nodeType!==9;)if(b.nodeType===1){if(q&&D(b).is(O))break;I.push(b)}return I},un=function(b,_){for(var O=[];b;b=b.nextSibling)b.nodeType===1&&b!==_&&O.push(b);return O},qe=D.expr.match.needsContext,Uo=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Tr(b,_,O){return Xe(_)?D.grep(b,function(I,q){return!!_.call(I,q,I)!==O}):_.nodeType?D.grep(b,function(I){return I===_!==O}):typeof _!="string"?D.grep(b,function(I){return He.call(_,I)>-1!==O}):D.filter(_,b,O)}D.filter=function(b,_,O){var I=_[0];return O&&(b=":not("+b+")"),_.length===1&&I.nodeType===1?D.find.matchesSelector(I,b)?[I]:[]:D.find.matches(b,D.grep(_,function(q){return q.nodeType===1}))},D.fn.extend({find:function(b){var _,O,I=this.length,q=this;if(typeof b!="string")return this.pushStack(D(b).filter(function(){for(_=0;_<I;_++)if(D.contains(q[_],this))return!0}));for(O=this.pushStack([]),_=0;_<I;_++)D.find(b,q[_],O);return I>1?D.uniqueSort(O):O},filter:function(b){return this.pushStack(Tr(this,b||[],!1))},not:function(b){return this.pushStack(Tr(this,b||[],!0))},is:function(b){return!!Tr(this,typeof b=="string"&&qe.test(b)?D(b):b||[],!1).length}});var qo,Fs=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ze=D.fn.init=function(b,_,O){var I,q;if(!b)return this;if(O=O||qo,typeof b=="string")if(b[0]==="<"&&b[b.length-1]===">"&&b.length>=3?I=[null,b,null]:I=Fs.exec(b),I&&(I[1]||!_))if(I[1]){if(_=_ instanceof D?_[0]:_,D.merge(this,D.parseHTML(I[1],_&&_.nodeType?_.ownerDocument||_:Pt,!0)),Uo.test(I[1])&&D.isPlainObject(_))for(I in _)Xe(this[I])?this[I](_[I]):this.attr(I,_[I]);return this}else return q=Pt.getElementById(I[2]),q&&(this[0]=q,this.length=1),this;else return!_||_.jquery?(_||O).find(b):this.constructor(_).find(b);else{if(b.nodeType)return this[0]=b,this.length=1,this;if(Xe(b))return O.ready!==void 0?O.ready(b):b(D)}return D.makeArray(b,this)};Ze.prototype=D.fn,qo=D(Pt);var Tt=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};D.fn.extend({has:function(b){var _=D(b,this),O=_.length;return this.filter(function(){for(var I=0;I<O;I++)if(D.contains(this,_[I]))return!0})},closest:function(b,_){var O,I=0,q=this.length,Z=[],J=typeof b!="string"&&D(b);if(!qe.test(b)){for(;I<q;I++)for(O=this[I];O&&O!==_;O=O.parentNode)if(O.nodeType<11&&(J?J.index(O)>-1:O.nodeType===1&&D.find.matchesSelector(O,b))){Z.push(O);break}}return this.pushStack(Z.length>1?D.uniqueSort(Z):Z)},index:function(b){return b?typeof b=="string"?He.call(D(b),this[0]):He.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,_){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(b,_))))},addBack:function(b){return this.add(b==null?this.prevObject:this.prevObject.filter(b))}});function mc(b,_){for(;(b=b[_])&&b.nodeType!==1;);return b}D.each({parent:function(b){var _=b.parentNode;return _&&_.nodeType!==11?_:null},parents:function(b){return po(b,"parentNode")},parentsUntil:function(b,_,O){return po(b,"parentNode",O)},next:function(b){return mc(b,"nextSibling")},prev:function(b){return mc(b,"previousSibling")},nextAll:function(b){return po(b,"nextSibling")},prevAll:function(b){return po(b,"previousSibling")},nextUntil:function(b,_,O){return po(b,"nextSibling",O)},prevUntil:function(b,_,O){return po(b,"previousSibling",O)},siblings:function(b){return un((b.parentNode||{}).firstChild,b)},children:function(b){return un(b.firstChild)},contents:function(b){return b.contentDocument!=null&&V(b.contentDocument)?b.contentDocument:(En(b,"template")&&(b=b.content||b),D.merge([],b.childNodes))}},function(b,_){D.fn[b]=function(O,I){var q=D.map(this,_,O);return b.slice(-5)!=="Until"&&(I=O),I&&typeof I=="string"&&(q=D.filter(I,q)),this.length>1&&(W[b]||D.uniqueSort(q),Tt.test(b)&&q.reverse()),this.pushStack(q)}});var ao=/[^\x20\t\r\n\f]+/g;function As(b){var _={};return D.each(b.match(ao)||[],function(O,I){_[I]=!0}),_}D.Callbacks=function(b){b=typeof b=="string"?As(b):D.extend({},b);var _,O,I,q,Z=[],J=[],ge=-1,se=function(){for(q=q||b.once,I=_=!0;J.length;ge=-1)for(O=J.shift();++ge<Z.length;)Z[ge].apply(O[0],O[1])===!1&&b.stopOnFalse&&(ge=Z.length,O=!1);b.memory||(O=!1),_=!1,q&&(O?Z=[]:Z="")},_e={add:function(){return Z&&(O&&!_&&(ge=Z.length-1,J.push(O)),function Ue(st){D.each(st,function(Pe,At){Xe(At)?(!b.unique||!_e.has(At))&&Z.push(At):At&&At.length&&Ft(At)!=="string"&&Ue(At)})}(arguments),O&&!_&&se()),this},remove:function(){return D.each(arguments,function(Ue,st){for(var Pe;(Pe=D.inArray(st,Z,Pe))>-1;)Z.splice(Pe,1),Pe<=ge&&ge--}),this},has:function(Ue){return Ue?D.inArray(Ue,Z)>-1:Z.length>0},empty:function(){return Z&&(Z=[]),this},disable:function(){return q=J=[],Z=O="",this},disabled:function(){return!Z},lock:function(){return q=J=[],!O&&!_&&(Z=O=""),this},locked:function(){return!!q},fireWith:function(Ue,st){return q||(st=st||[],st=[Ue,st.slice?st.slice():st],J.push(st),_||se()),this},fire:function(){return _e.fireWith(this,arguments),this},fired:function(){return!!I}};return _e};function ko(b){return b}function cd(b){throw b}function gn(b,_,O,I){var q;try{b&&Xe(q=b.promise)?q.call(b).done(_).fail(O):b&&Xe(q=b.then)?q.call(b,_,O):_.apply(void 0,[b].slice(I))}catch(Z){O.apply(void 0,[Z])}}D.extend({Deferred:function(b){var _=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],O="pending",I={state:function(){return O},always:function(){return q.done(arguments).fail(arguments),this},catch:function(Z){return I.then(null,Z)},pipe:function(){var Z=arguments;return D.Deferred(function(J){D.each(_,function(ge,se){var _e=Xe(Z[se[4]])&&Z[se[4]];q[se[1]](function(){var Ue=_e&&_e.apply(this,arguments);Ue&&Xe(Ue.promise)?Ue.promise().progress(J.notify).done(J.resolve).fail(J.reject):J[se[0]+"With"](this,_e?[Ue]:arguments)})}),Z=null}).promise()},then:function(Z,J,ge){var se=0;function _e(Ue,st,Pe,At){return function(){var Qn=this,Fo=arguments,vn=function(){var Do,Ys;if(!(Ue<se)){if(Do=Pe.apply(Qn,Fo),Do===st.promise())throw new TypeError("Thenable self-resolution");Ys=Do&&(typeof Do=="object"||typeof Do=="function")&&Do.then,Xe(Ys)?At?Ys.call(Do,_e(se,st,ko,At),_e(se,st,cd,At)):(se++,Ys.call(Do,_e(se,st,ko,At),_e(se,st,cd,At),_e(se,st,ko,st.notifyWith))):(Pe!==ko&&(Qn=void 0,Fo=[Do]),(At||st.resolveWith)(Qn,Fo))}},fi=At?vn:function(){try{vn()}catch(Do){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(Do,fi.error),Ue+1>=se&&(Pe!==cd&&(Qn=void 0,Fo=[Do]),st.rejectWith(Qn,Fo))}};Ue?fi():(D.Deferred.getErrorHook?fi.error=D.Deferred.getErrorHook():D.Deferred.getStackHook&&(fi.error=D.Deferred.getStackHook()),y.setTimeout(fi))}}return D.Deferred(function(Ue){_[0][3].add(_e(0,Ue,Xe(ge)?ge:ko,Ue.notifyWith)),_[1][3].add(_e(0,Ue,Xe(Z)?Z:ko)),_[2][3].add(_e(0,Ue,Xe(J)?J:cd))}).promise()},promise:function(Z){return Z!=null?D.extend(Z,I):I}},q={};return D.each(_,function(Z,J){var ge=J[2],se=J[5];I[J[1]]=ge.add,se&&ge.add(function(){O=se},_[3-Z][2].disable,_[3-Z][3].disable,_[0][2].lock,_[0][3].lock),ge.add(J[3].fire),q[J[0]]=function(){return q[J[0]+"With"](this===q?void 0:this,arguments),this},q[J[0]+"With"]=ge.fireWith}),I.promise(q),b&&b.call(q,q),q},when:function(b){var _=arguments.length,O=_,I=Array(O),q=te.call(arguments),Z=D.Deferred(),J=function(ge){return function(se){I[ge]=this,q[ge]=arguments.length>1?te.call(arguments):se,--_||Z.resolveWith(I,q)}};if(_<=1&&(gn(b,Z.done(J(O)).resolve,Z.reject,!_),Z.state()==="pending"||Xe(q[O]&&q[O].then)))return Z.then();for(;O--;)gn(q[O],J(O),Z.reject);return Z.promise()}});var Go=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(b,_){y.console&&y.console.warn&&b&&Go.test(b.name)&&y.console.warn("jQuery.Deferred exception: "+b.message,b.stack,_)},D.readyException=function(b){y.setTimeout(function(){throw b})};var mn=D.Deferred();D.fn.ready=function(b){return mn.then(b).catch(function(_){D.readyException(_)}),this},D.extend({isReady:!1,readyWait:1,ready:function(b){(b===!0?--D.readyWait:D.isReady)||(D.isReady=!0,!(b!==!0&&--D.readyWait>0)&&mn.resolveWith(Pt,[D]))}}),D.ready.then=mn.then;function Ae(){Pt.removeEventListener("DOMContentLoaded",Ae),y.removeEventListener("load",Ae),D.ready()}Pt.readyState==="complete"||Pt.readyState!=="loading"&&!Pt.documentElement.doScroll?y.setTimeout(D.ready):(Pt.addEventListener("DOMContentLoaded",Ae),y.addEventListener("load",Ae));var li=function(b,_,O,I,q,Z,J){var ge=0,se=b.length,_e=O==null;if(Ft(O)==="object"){q=!0;for(ge in O)li(b,_,ge,O[ge],!0,Z,J)}else if(I!==void 0&&(q=!0,Xe(I)||(J=!0),_e&&(J?(_.call(b,I),_=null):(_e=_,_=function(Ue,st,Pe){return _e.call(D(Ue),Pe)})),_))for(;ge<se;ge++)_(b[ge],O,J?I:I.call(b[ge],ge,_(b[ge],O)));return q?b:_e?_.call(b):se?_(b[0],O):Z},Nr=/^-ms-/,Ut=/-([a-z])/g;function Ga(b,_){return _.toUpperCase()}function wo(b){return b.replace(Nr,"ms-").replace(Ut,Ga)}var Ka=function(b){return b.nodeType===1||b.nodeType===9||!+b.nodeType};function Ko(){this.expando=D.expando+Ko.uid++}Ko.uid=1,Ko.prototype={cache:function(b){var _=b[this.expando];return _||(_={},Ka(b)&&(b.nodeType?b[this.expando]=_:Object.defineProperty(b,this.expando,{value:_,configurable:!0}))),_},set:function(b,_,O){var I,q=this.cache(b);if(typeof _=="string")q[wo(_)]=O;else for(I in _)q[wo(I)]=_[I];return q},get:function(b,_){return _===void 0?this.cache(b):b[this.expando]&&b[this.expando][wo(_)]},access:function(b,_,O){return _===void 0||_&&typeof _=="string"&&O===void 0?this.get(b,_):(this.set(b,_,O),O!==void 0?O:_)},remove:function(b,_){var O,I=b[this.expando];if(I!==void 0){if(_!==void 0)for(Array.isArray(_)?_=_.map(wo):(_=wo(_),_=_ in I?[_]:_.match(ao)||[]),O=_.length;O--;)delete I[_[O]];(_===void 0||D.isEmptyObject(I))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){var _=b[this.expando];return _!==void 0&&!D.isEmptyObject(_)}};var ln=new Ko,Br=new Ko,Ri=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hr=/[A-Z]/g;function xs(b){return b==="true"?!0:b==="false"?!1:b==="null"?null:b===+b+""?+b:Ri.test(b)?JSON.parse(b):b}function om(b,_,O){var I;if(O===void 0&&b.nodeType===1)if(I="data-"+_.replace(hr,"-$&").toLowerCase(),O=b.getAttribute(I),typeof O=="string"){try{O=xs(O)}catch{}Br.set(b,_,O)}else O=void 0;return O}D.extend({hasData:function(b){return Br.hasData(b)||ln.hasData(b)},data:function(b,_,O){return Br.access(b,_,O)},removeData:function(b,_){Br.remove(b,_)},_data:function(b,_,O){return ln.access(b,_,O)},_removeData:function(b,_){ln.remove(b,_)}}),D.fn.extend({data:function(b,_){var O,I,q,Z=this[0],J=Z&&Z.attributes;if(b===void 0){if(this.length&&(q=Br.get(Z),Z.nodeType===1&&!ln.get(Z,"hasDataAttrs"))){for(O=J.length;O--;)J[O]&&(I=J[O].name,I.indexOf("data-")===0&&(I=wo(I.slice(5)),om(Z,I,q[I])));ln.set(Z,"hasDataAttrs",!0)}return q}return typeof b=="object"?this.each(function(){Br.set(this,b)}):li(this,function(ge){var se;if(Z&&ge===void 0)return se=Br.get(Z,b),se!==void 0||(se=om(Z,b),se!==void 0)?se:void 0;this.each(function(){Br.set(this,b,ge)})},null,_,arguments.length>1,null,!0)},removeData:function(b){return this.each(function(){Br.remove(this,b)})}}),D.extend({queue:function(b,_,O){var I;if(b)return _=(_||"fx")+"queue",I=ln.get(b,_),O&&(!I||Array.isArray(O)?I=ln.access(b,_,D.makeArray(O)):I.push(O)),I||[]},dequeue:function(b,_){_=_||"fx";var O=D.queue(b,_),I=O.length,q=O.shift(),Z=D._queueHooks(b,_),J=function(){D.dequeue(b,_)};q==="inprogress"&&(q=O.shift(),I--),q&&(_==="fx"&&O.unshift("inprogress"),delete Z.stop,q.call(b,J,Z)),!I&&Z&&Z.empty.fire()},_queueHooks:function(b,_){var O=_+"queueHooks";return ln.get(b,O)||ln.access(b,O,{empty:D.Callbacks("once memory").add(function(){ln.remove(b,[_+"queue",O])})})}}),D.fn.extend({queue:function(b,_){var O=2;return typeof b!="string"&&(_=b,b="fx",O--),arguments.length<O?D.queue(this[0],b):_===void 0?this:this.each(function(){var I=D.queue(this,b,_);D._queueHooks(this,b),b==="fx"&&I[0]!=="inprogress"&&D.dequeue(this,b)})},dequeue:function(b){return this.each(function(){D.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,_){var O,I=1,q=D.Deferred(),Z=this,J=this.length,ge=function(){--I||q.resolveWith(Z,[Z])};for(typeof b!="string"&&(_=b,b=void 0),b=b||"fx";J--;)O=ln.get(Z[J],b+"queueHooks"),O&&O.empty&&(I++,O.empty.add(ge));return ge(),q.promise(_)}});var ar=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,os=new RegExp("^(?:([+-])=|)("+ar+")([a-z%]*)$","i"),ma=["Top","Right","Bottom","Left"],Gs=Pt.documentElement,ha=function(b){return D.contains(b.ownerDocument,b)},Xi={composed:!0};Gs.getRootNode&&(ha=function(b){return D.contains(b.ownerDocument,b)||b.getRootNode(Xi)===b.ownerDocument});var Hc=function(b,_){return b=_||b,b.style.display==="none"||b.style.display===""&&ha(b)&&D.css(b,"display")==="none"};function rf(b,_,O,I){var q,Z,J=20,ge=I?function(){return I.cur()}:function(){return D.css(b,_,"")},se=ge(),_e=O&&O[3]||(D.cssNumber[_]?"":"px"),Ue=b.nodeType&&(D.cssNumber[_]||_e!=="px"&&+se)&&os.exec(D.css(b,_));if(Ue&&Ue[3]!==_e){for(se=se/2,_e=_e||Ue[3],Ue=+se||1;J--;)D.style(b,_,Ue+_e),(1-Z)*(1-(Z=ge()/se||.5))<=0&&(J=0),Ue=Ue/Z;Ue=Ue*2,D.style(b,_,Ue+_e),O=O||[]}return O&&(Ue=+Ue||+se||0,q=O[1]?Ue+(O[1]+1)*O[2]:+O[2],I&&(I.unit=_e,I.start=Ue,I.end=q)),q}var ui={};function Xp(b){var _,O=b.ownerDocument,I=b.nodeName,q=ui[I];return q||(_=O.body.appendChild(O.createElement(I)),q=D.css(_,"display"),_.parentNode.removeChild(_),q==="none"&&(q="block"),ui[I]=q,q)}function wt(b,_){for(var O,I,q=[],Z=0,J=b.length;Z<J;Z++)I=b[Z],I.style&&(O=I.style.display,_?(O==="none"&&(q[Z]=ln.get(I,"display")||null,q[Z]||(I.style.display="")),I.style.display===""&&Hc(I)&&(q[Z]=Xp(I))):O!=="none"&&(q[Z]="none",ln.set(I,"display",O)));for(Z=0;Z<J;Z++)q[Z]!=null&&(b[Z].style.display=q[Z]);return b}D.fn.extend({show:function(){return wt(this,!0)},hide:function(){return wt(this)},toggle:function(b){return typeof b=="boolean"?b?this.show():this.hide():this.each(function(){Hc(this)?D(this).show():D(this).hide()})}});var io=/^(?:checkbox|radio)$/i,pa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var b=Pt.createDocumentFragment(),_=b.appendChild(Pt.createElement("div")),O=Pt.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),_.appendChild(O),ct.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue,_.innerHTML="<option></option>",ct.option=!!_.lastChild})();var Ji={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ji.tbody=Ji.tfoot=Ji.colgroup=Ji.caption=Ji.thead,Ji.th=Ji.td,ct.option||(Ji.optgroup=Ji.option=[1,"<select multiple='multiple'>","</select>"]);function Ir(b,_){var O;return typeof b.getElementsByTagName<"u"?O=b.getElementsByTagName(_||"*"):typeof b.querySelectorAll<"u"?O=b.querySelectorAll(_||"*"):O=[],_===void 0||_&&En(b,_)?D.merge([b],O):O}function ss(b,_){for(var O=0,I=b.length;O<I;O++)ln.set(b[O],"globalEval",!_||ln.get(_[O],"globalEval"))}var lu=/<|&#?\w+;/;function ld(b,_,O,I,q){for(var Z,J,ge,se,_e,Ue,st=_.createDocumentFragment(),Pe=[],At=0,Qn=b.length;At<Qn;At++)if(Z=b[At],Z||Z===0)if(Ft(Z)==="object")D.merge(Pe,Z.nodeType?[Z]:Z);else if(!lu.test(Z))Pe.push(_.createTextNode(Z));else{for(J=J||st.appendChild(_.createElement("div")),ge=(pa.exec(Z)||["",""])[1].toLowerCase(),se=Ji[ge]||Ji._default,J.innerHTML=se[1]+D.htmlPrefilter(Z)+se[2],Ue=se[0];Ue--;)J=J.lastChild;D.merge(Pe,J.childNodes),J=st.firstChild,J.textContent=""}for(st.textContent="",At=0;Z=Pe[At++];){if(I&&D.inArray(Z,I)>-1){q&&q.push(Z);continue}if(_e=ha(Z),J=Ir(st.appendChild(Z),"script"),_e&&ss(J),O)for(Ue=0;Z=J[Ue++];)Yi.test(Z.type||"")&&O.push(Z)}return st}var Xo=/^([^.]*)(?:\.(.+)|)/;function en(){return!0}function Lr(){return!1}function Tl(b,_,O,I,q,Z){var J,ge;if(typeof _=="object"){typeof O!="string"&&(I=I||O,O=void 0);for(ge in _)Tl(b,ge,O,I,_[ge],Z);return b}if(I==null&&q==null?(q=O,I=O=void 0):q==null&&(typeof O=="string"?(q=I,I=void 0):(q=I,I=O,O=void 0)),q===!1)q=Lr;else if(!q)return b;return Z===1&&(J=q,q=function(se){return D().off(se),J.apply(this,arguments)},q.guid=J.guid||(J.guid=D.guid++)),b.each(function(){D.event.add(this,_,q,I,O)})}D.event={global:{},add:function(b,_,O,I,q){var Z,J,ge,se,_e,Ue,st,Pe,At,Qn,Fo,vn=ln.get(b);if(Ka(b))for(O.handler&&(Z=O,O=Z.handler,q=Z.selector),q&&D.find.matchesSelector(Gs,q),O.guid||(O.guid=D.guid++),(se=vn.events)||(se=vn.events=Object.create(null)),(J=vn.handle)||(J=vn.handle=function(fi){return typeof D<"u"&&D.event.triggered!==fi.type?D.event.dispatch.apply(b,arguments):void 0}),_=(_||"").match(ao)||[""],_e=_.length;_e--;)ge=Xo.exec(_[_e])||[],At=Fo=ge[1],Qn=(ge[2]||"").split(".").sort(),At&&(st=D.event.special[At]||{},At=(q?st.delegateType:st.bindType)||At,st=D.event.special[At]||{},Ue=D.extend({type:At,origType:Fo,data:I,handler:O,guid:O.guid,selector:q,needsContext:q&&D.expr.match.needsContext.test(q),namespace:Qn.join(".")},Z),(Pe=se[At])||(Pe=se[At]=[],Pe.delegateCount=0,(!st.setup||st.setup.call(b,I,Qn,J)===!1)&&b.addEventListener&&b.addEventListener(At,J)),st.add&&(st.add.call(b,Ue),Ue.handler.guid||(Ue.handler.guid=O.guid)),q?Pe.splice(Pe.delegateCount++,0,Ue):Pe.push(Ue),D.event.global[At]=!0)},remove:function(b,_,O,I,q){var Z,J,ge,se,_e,Ue,st,Pe,At,Qn,Fo,vn=ln.hasData(b)&&ln.get(b);if(!(!vn||!(se=vn.events))){for(_=(_||"").match(ao)||[""],_e=_.length;_e--;){if(ge=Xo.exec(_[_e])||[],At=Fo=ge[1],Qn=(ge[2]||"").split(".").sort(),!At){for(At in se)D.event.remove(b,At+_[_e],O,I,!0);continue}for(st=D.event.special[At]||{},At=(I?st.delegateType:st.bindType)||At,Pe=se[At]||[],ge=ge[2]&&new RegExp("(^|\\.)"+Qn.join("\\.(?:.*\\.|)")+"(\\.|$)"),J=Z=Pe.length;Z--;)Ue=Pe[Z],(q||Fo===Ue.origType)&&(!O||O.guid===Ue.guid)&&(!ge||ge.test(Ue.namespace))&&(!I||I===Ue.selector||I==="**"&&Ue.selector)&&(Pe.splice(Z,1),Ue.selector&&Pe.delegateCount--,st.remove&&st.remove.call(b,Ue));J&&!Pe.length&&((!st.teardown||st.teardown.call(b,Qn,vn.handle)===!1)&&D.removeEvent(b,At,vn.handle),delete se[At])}D.isEmptyObject(se)&&ln.remove(b,"handle events")}},dispatch:function(b){var _,O,I,q,Z,J,ge=new Array(arguments.length),se=D.event.fix(b),_e=(ln.get(this,"events")||Object.create(null))[se.type]||[],Ue=D.event.special[se.type]||{};for(ge[0]=se,_=1;_<arguments.length;_++)ge[_]=arguments[_];if(se.delegateTarget=this,!(Ue.preDispatch&&Ue.preDispatch.call(this,se)===!1)){for(J=D.event.handlers.call(this,se,_e),_=0;(q=J[_++])&&!se.isPropagationStopped();)for(se.currentTarget=q.elem,O=0;(Z=q.handlers[O++])&&!se.isImmediatePropagationStopped();)(!se.rnamespace||Z.namespace===!1||se.rnamespace.test(Z.namespace))&&(se.handleObj=Z,se.data=Z.data,I=((D.event.special[Z.origType]||{}).handle||Z.handler).apply(q.elem,ge),I!==void 0&&(se.result=I)===!1&&(se.preventDefault(),se.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,se),se.result}},handlers:function(b,_){var O,I,q,Z,J,ge=[],se=_.delegateCount,_e=b.target;if(se&&_e.nodeType&&!(b.type==="click"&&b.button>=1)){for(;_e!==this;_e=_e.parentNode||this)if(_e.nodeType===1&&!(b.type==="click"&&_e.disabled===!0)){for(Z=[],J={},O=0;O<se;O++)I=_[O],q=I.selector+" ",J[q]===void 0&&(J[q]=I.needsContext?D(q,this).index(_e)>-1:D.find(q,this,null,[_e]).length),J[q]&&Z.push(I);Z.length&&ge.push({elem:_e,handlers:Z})}}return _e=this,se<_.length&&ge.push({elem:_e,handlers:_.slice(se)}),ge},addProp:function(b,_){Object.defineProperty(D.Event.prototype,b,{enumerable:!0,configurable:!0,get:Xe(_)?function(){if(this.originalEvent)return _(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(O){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(b){return b[D.expando]?b:new D.Event(b)},special:{load:{noBubble:!0},click:{setup:function(b){var _=this||b;return io.test(_.type)&&_.click&&En(_,"input")&&ud(_,"click",!0),!1},trigger:function(b){var _=this||b;return io.test(_.type)&&_.click&&En(_,"input")&&ud(_,"click"),!0},_default:function(b){var _=b.target;return io.test(_.type)&&_.click&&En(_,"input")&&ln.get(_,"click")||En(_,"a")}},beforeunload:{postDispatch:function(b){b.result!==void 0&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};function ud(b,_,O){if(!O){ln.get(b,_)===void 0&&D.event.add(b,_,en);return}ln.set(b,_,!1),D.event.add(b,_,{namespace:!1,handler:function(I){var q,Z=ln.get(this,_);if(I.isTrigger&1&&this[_]){if(Z)(D.event.special[_]||{}).delegateType&&I.stopPropagation();else if(Z=te.call(arguments),ln.set(this,_,Z),this[_](),q=ln.get(this,_),ln.set(this,_,!1),Z!==q)return I.stopImmediatePropagation(),I.preventDefault(),q}else Z&&(ln.set(this,_,D.event.trigger(Z[0],Z.slice(1),this)),I.stopPropagation(),I.isImmediatePropagationStopped=en)}})}D.removeEvent=function(b,_,O){b.removeEventListener&&b.removeEventListener(_,O)},D.Event=function(b,_){if(!(this instanceof D.Event))return new D.Event(b,_);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.defaultPrevented===void 0&&b.returnValue===!1?en:Lr,this.target=b.target&&b.target.nodeType===3?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,_&&D.extend(this,_),this.timeStamp=b&&b.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=en,b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=en,b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=en,b&&!this.isSimulated&&b.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},D.event.addProp),D.each({focus:"focusin",blur:"focusout"},function(b,_){function O(I){if(Pt.documentMode){var q=ln.get(this,"handle"),Z=D.event.fix(I);Z.type=I.type==="focusin"?"focus":"blur",Z.isSimulated=!0,q(I),Z.target===Z.currentTarget&&q(Z)}else D.event.simulate(_,I.target,D.event.fix(I))}D.event.special[b]={setup:function(){var I;if(ud(this,b,!0),Pt.documentMode)I=ln.get(this,_),I||this.addEventListener(_,O),ln.set(this,_,(I||0)+1);else return!1},trigger:function(){return ud(this,b),!0},teardown:function(){var I;if(Pt.documentMode)I=ln.get(this,_)-1,I?ln.set(this,_,I):(this.removeEventListener(_,O),ln.remove(this,_));else return!1},_default:function(I){return ln.get(I.target,b)},delegateType:_},D.event.special[_]={setup:function(){var I=this.ownerDocument||this.document||this,q=Pt.documentMode?this:I,Z=ln.get(q,_);Z||(Pt.documentMode?this.addEventListener(_,O):I.addEventListener(b,O,!0)),ln.set(q,_,(Z||0)+1)},teardown:function(){var I=this.ownerDocument||this.document||this,q=Pt.documentMode?this:I,Z=ln.get(q,_)-1;Z?ln.set(q,_,Z):(Pt.documentMode?this.removeEventListener(_,O):I.removeEventListener(b,O,!0),ln.remove(q,_))}}}),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,_){D.event.special[b]={delegateType:_,bindType:_,handle:function(O){var I,q=this,Z=O.relatedTarget,J=O.handleObj;return(!Z||Z!==q&&!D.contains(q,Z))&&(O.type=J.origType,I=J.handler.apply(this,arguments),O.type=_),I}}}),D.fn.extend({on:function(b,_,O,I){return Tl(this,b,_,O,I)},one:function(b,_,O,I){return Tl(this,b,_,O,I,1)},off:function(b,_,O){var I,q;if(b&&b.preventDefault&&b.handleObj)return I=b.handleObj,D(b.delegateTarget).off(I.namespace?I.origType+"."+I.namespace:I.origType,I.selector,I.handler),this;if(typeof b=="object"){for(q in b)this.off(q,_,b[q]);return this}return(_===!1||typeof _=="function")&&(O=_,_=void 0),O===!1&&(O=Lr),this.each(function(){D.event.remove(this,b,O,_)})}});var Yp=/<script|<style|<link/i,Mi=/checked\s*(?:[^=]|=\s*.checked.)/i,di=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ks(b,_){return En(b,"table")&&En(_.nodeType!==11?_:_.firstChild,"tr")&&D(b).children("tbody")[0]||b}function zc(b){return b.type=(b.getAttribute("type")!==null)+"/"+b.type,b}function vh(b){return(b.type||"").slice(0,5)==="true/"?b.type=b.type.slice(5):b.removeAttribute("type"),b}function Vc(b,_){var O,I,q,Z,J,ge,se;if(_.nodeType===1){if(ln.hasData(b)&&(Z=ln.get(b),se=Z.events,se)){ln.remove(_,"handle events");for(q in se)for(O=0,I=se[q].length;O<I;O++)D.event.add(_,q,se[q][O])}Br.hasData(b)&&(J=Br.access(b),ge=D.extend({},J),Br.set(_,ge))}}function ga(b,_){var O=_.nodeName.toLowerCase();O==="input"&&io.test(b.type)?_.checked=b.checked:(O==="input"||O==="textarea")&&(_.defaultValue=b.defaultValue)}function Wo(b,_,O,I){_=de(_);var q,Z,J,ge,se,_e,Ue=0,st=b.length,Pe=st-1,At=_[0],Qn=Xe(At);if(Qn||st>1&&typeof At=="string"&&!ct.checkClone&&Mi.test(At))return b.each(function(Fo){var vn=b.eq(Fo);Qn&&(_[0]=At.call(this,Fo,vn.html())),Wo(vn,_,O,I)});if(st&&(q=ld(_,b[0].ownerDocument,!1,b,I),Z=q.firstChild,q.childNodes.length===1&&(q=Z),Z||I)){for(J=D.map(Ir(q,"script"),zc),ge=J.length;Ue<st;Ue++)se=q,Ue!==Pe&&(se=D.clone(se,!0,!0),ge&&D.merge(J,Ir(se,"script"))),O.call(b[Ue],se,Ue);if(ge)for(_e=J[J.length-1].ownerDocument,D.map(J,vh),Ue=0;Ue<ge;Ue++)se=J[Ue],Yi.test(se.type||"")&&!ln.access(se,"globalEval")&&D.contains(_e,se)&&(se.src&&(se.type||"").toLowerCase()!=="module"?D._evalUrl&&!se.noModule&&D._evalUrl(se.src,{nonce:se.nonce||se.getAttribute("nonce")},_e):ae(se.textContent.replace(di,""),se,_e))}return b}function Pa(b,_,O){for(var I,q=_?D.filter(_,b):b,Z=0;(I=q[Z])!=null;Z++)!O&&I.nodeType===1&&D.cleanData(Ir(I)),I.parentNode&&(O&&ha(I)&&ss(Ir(I,"script")),I.parentNode.removeChild(I));return b}D.extend({htmlPrefilter:function(b){return b},clone:function(b,_,O){var I,q,Z,J,ge=b.cloneNode(!0),se=ha(b);if(!ct.noCloneChecked&&(b.nodeType===1||b.nodeType===11)&&!D.isXMLDoc(b))for(J=Ir(ge),Z=Ir(b),I=0,q=Z.length;I<q;I++)ga(Z[I],J[I]);if(_)if(O)for(Z=Z||Ir(b),J=J||Ir(ge),I=0,q=Z.length;I<q;I++)Vc(Z[I],J[I]);else Vc(b,ge);return J=Ir(ge,"script"),J.length>0&&ss(J,!se&&Ir(b,"script")),ge},cleanData:function(b){for(var _,O,I,q=D.event.special,Z=0;(O=b[Z])!==void 0;Z++)if(Ka(O)){if(_=O[ln.expando]){if(_.events)for(I in _.events)q[I]?D.event.remove(O,I):D.removeEvent(O,I,_.handle);O[ln.expando]=void 0}O[Br.expando]&&(O[Br.expando]=void 0)}}}),D.fn.extend({detach:function(b){return Pa(this,b,!0)},remove:function(b){return Pa(this,b)},text:function(b){return li(this,function(_){return _===void 0?D.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=_)})},null,b,arguments.length)},append:function(){return Wo(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Ks(this,b);_.appendChild(b)}})},prepend:function(){return Wo(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Ks(this,b);_.insertBefore(b,_.firstChild)}})},before:function(){return Wo(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return Wo(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,_=0;(b=this[_])!=null;_++)b.nodeType===1&&(D.cleanData(Ir(b,!1)),b.textContent="");return this},clone:function(b,_){return b=b??!1,_=_??b,this.map(function(){return D.clone(this,b,_)})},html:function(b){return li(this,function(_){var O=this[0]||{},I=0,q=this.length;if(_===void 0&&O.nodeType===1)return O.innerHTML;if(typeof _=="string"&&!Yp.test(_)&&!Ji[(pa.exec(_)||["",""])[1].toLowerCase()]){_=D.htmlPrefilter(_);try{for(;I<q;I++)O=this[I]||{},O.nodeType===1&&(D.cleanData(Ir(O,!1)),O.innerHTML=_);O=0}catch{}}O&&this.empty().append(_)},null,b,arguments.length)},replaceWith:function(){var b=[];return Wo(this,arguments,function(_){var O=this.parentNode;D.inArray(this,b)<0&&(D.cleanData(Ir(this)),O&&O.replaceChild(_,this))},b)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,_){D.fn[b]=function(O){for(var I,q=[],Z=D(O),J=Z.length-1,ge=0;ge<=J;ge++)I=ge===J?this:this.clone(!0),D(Z[ge])[_](I),ve.apply(q,I.get());return this.pushStack(q)}});var Xa=new RegExp("^("+ar+")(?!px)[a-z%]+$","i"),Jp=/^--/,bh=function(b){var _=b.ownerDocument.defaultView;return(!_||!_.opener)&&(_=y),_.getComputedStyle(b)},Uc=function(b,_,O){var I,q,Z={};for(q in _)Z[q]=b.style[q],b.style[q]=_[q];I=O.call(b);for(q in _)b.style[q]=Z[q];return I},jT=new RegExp(ma.join("|"),"i");(function(){function b(){if(_e){se.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",_e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gs.appendChild(se).appendChild(_e);var Ue=y.getComputedStyle(_e);O=Ue.top!=="1%",ge=_(Ue.marginLeft)===12,_e.style.right="60%",Z=_(Ue.right)===36,I=_(Ue.width)===36,_e.style.position="absolute",q=_(_e.offsetWidth/3)===12,Gs.removeChild(se),_e=null}}function _(Ue){return Math.round(parseFloat(Ue))}var O,I,q,Z,J,ge,se=Pt.createElement("div"),_e=Pt.createElement("div");_e.style&&(_e.style.backgroundClip="content-box",_e.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle=_e.style.backgroundClip==="content-box",D.extend(ct,{boxSizingReliable:function(){return b(),I},pixelBoxStyles:function(){return b(),Z},pixelPosition:function(){return b(),O},reliableMarginLeft:function(){return b(),ge},scrollboxSize:function(){return b(),q},reliableTrDimensions:function(){var Ue,st,Pe,At;return J==null&&(Ue=Pt.createElement("table"),st=Pt.createElement("tr"),Pe=Pt.createElement("div"),Ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",st.style.cssText="box-sizing:content-box;border:1px solid",st.style.height="1px",Pe.style.height="9px",Pe.style.display="block",Gs.appendChild(Ue).appendChild(st).appendChild(Pe),At=y.getComputedStyle(st),J=parseInt(At.height,10)+parseInt(At.borderTopWidth,10)+parseInt(At.borderBottomWidth,10)===st.offsetHeight,Gs.removeChild(Ue)),J}}))})();function be(b,_,O){var I,q,Z,J,ge=Jp.test(_),se=b.style;return O=O||bh(b),O&&(J=O.getPropertyValue(_)||O[_],ge&&J&&(J=J.replace(Gn,"$1")||void 0),J===""&&!ha(b)&&(J=D.style(b,_)),!ct.pixelBoxStyles()&&Xa.test(J)&&jT.test(_)&&(I=se.width,q=se.minWidth,Z=se.maxWidth,se.minWidth=se.maxWidth=se.width=J,J=O.width,se.width=I,se.minWidth=q,se.maxWidth=Z)),J!==void 0?J+"":J}function Pi(b,_){return{get:function(){if(b()){delete this.get;return}return(this.get=_).apply(this,arguments)}}}var dd=["Webkit","Moz","ms"],Qp=Pt.createElement("div").style,yh={};function as(b){for(var _=b[0].toUpperCase()+b.slice(1),O=dd.length;O--;)if(b=dd[O]+_,b in Qp)return b}function sm(b){var _=D.cssProps[b]||yh[b];return _||(b in Qp?b:yh[b]=as(b)||b)}var Z0=/^(none|table(?!-c[ea]).+)/,rm={position:"absolute",visibility:"hidden",display:"block"},fd={letterSpacing:"0",fontWeight:"400"};function $r(b,_,O){var I=os.exec(_);return I?Math.max(0,I[2]-(O||0))+(I[3]||"px"):_}function Rs(b,_,O,I,q,Z){var J=_==="width"?1:0,ge=0,se=0,_e=0;if(O===(I?"border":"content"))return 0;for(;J<4;J+=2)O==="margin"&&(_e+=D.css(b,O+ma[J],!0,q)),I?(O==="content"&&(se-=D.css(b,"padding"+ma[J],!0,q)),O!=="margin"&&(se-=D.css(b,"border"+ma[J]+"Width",!0,q))):(se+=D.css(b,"padding"+ma[J],!0,q),O!=="padding"?se+=D.css(b,"border"+ma[J]+"Width",!0,q):ge+=D.css(b,"border"+ma[J]+"Width",!0,q));return!I&&Z>=0&&(se+=Math.max(0,Math.ceil(b["offset"+_[0].toUpperCase()+_.slice(1)]-Z-se-ge-.5))||0),se+_e}function Wc(b,_,O){var I=bh(b),q=!ct.boxSizingReliable()||O,Z=q&&D.css(b,"boxSizing",!1,I)==="border-box",J=Z,ge=be(b,_,I),se="offset"+_[0].toUpperCase()+_.slice(1);if(Xa.test(ge)){if(!O)return ge;ge="auto"}return(!ct.boxSizingReliable()&&Z||!ct.reliableTrDimensions()&&En(b,"tr")||ge==="auto"||!parseFloat(ge)&&D.css(b,"display",!1,I)==="inline")&&b.getClientRects().length&&(Z=D.css(b,"boxSizing",!1,I)==="border-box",J=se in b,J&&(ge=b[se])),ge=parseFloat(ge)||0,ge+Rs(b,_,O||(Z?"border":"content"),J,I,ge)+"px"}D.extend({cssHooks:{opacity:{get:function(b,_){if(_){var O=be(b,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(b,_,O,I){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var q,Z,J,ge=wo(_),se=Jp.test(_),_e=b.style;if(se||(_=sm(ge)),J=D.cssHooks[_]||D.cssHooks[ge],O!==void 0){if(Z=typeof O,Z==="string"&&(q=os.exec(O))&&q[1]&&(O=rf(b,_,q),Z="number"),O==null||O!==O)return;Z==="number"&&!se&&(O+=q&&q[3]||(D.cssNumber[ge]?"":"px")),!ct.clearCloneStyle&&O===""&&_.indexOf("background")===0&&(_e[_]="inherit"),(!J||!("set"in J)||(O=J.set(b,O,I))!==void 0)&&(se?_e.setProperty(_,O):_e[_]=O)}else return J&&"get"in J&&(q=J.get(b,!1,I))!==void 0?q:_e[_]}},css:function(b,_,O,I){var q,Z,J,ge=wo(_),se=Jp.test(_);return se||(_=sm(ge)),J=D.cssHooks[_]||D.cssHooks[ge],J&&"get"in J&&(q=J.get(b,!0,O)),q===void 0&&(q=be(b,_,I)),q==="normal"&&_ in fd&&(q=fd[_]),O===""||O?(Z=parseFloat(q),O===!0||isFinite(Z)?Z||0:q):q}}),D.each(["height","width"],function(b,_){D.cssHooks[_]={get:function(O,I,q){if(I)return Z0.test(D.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?Uc(O,rm,function(){return Wc(O,_,q)}):Wc(O,_,q)},set:function(O,I,q){var Z,J=bh(O),ge=!ct.scrollboxSize()&&J.position==="absolute",se=ge||q,_e=se&&D.css(O,"boxSizing",!1,J)==="border-box",Ue=q?Rs(O,_,q,_e,J):0;return _e&&ge&&(Ue-=Math.ceil(O["offset"+_[0].toUpperCase()+_.slice(1)]-parseFloat(J[_])-Rs(O,_,"border",!1,J)-.5)),Ue&&(Z=os.exec(I))&&(Z[3]||"px")!=="px"&&(O.style[_]=I,I=D.css(O,_)),$r(O,I,Ue)}}}),D.cssHooks.marginLeft=Pi(ct.reliableMarginLeft,function(b,_){if(_)return(parseFloat(be(b,"marginLeft"))||b.getBoundingClientRect().left-Uc(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(b,_){D.cssHooks[b+_]={expand:function(O){for(var I=0,q={},Z=typeof O=="string"?O.split(" "):[O];I<4;I++)q[b+ma[I]+_]=Z[I]||Z[I-2]||Z[0];return q}},b!=="margin"&&(D.cssHooks[b+_].set=$r)}),D.fn.extend({css:function(b,_){return li(this,function(O,I,q){var Z,J,ge={},se=0;if(Array.isArray(I)){for(Z=bh(O),J=I.length;se<J;se++)ge[I[se]]=D.css(O,I[se],!1,Z);return ge}return q!==void 0?D.style(O,I,q):D.css(O,I)},b,_,arguments.length>1)}});function Hs(b,_,O,I,q){return new Hs.prototype.init(b,_,O,I,q)}D.Tween=Hs,Hs.prototype={constructor:Hs,init:function(b,_,O,I,q,Z){this.elem=b,this.prop=O,this.easing=q||D.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=I,this.unit=Z||(D.cssNumber[O]?"":"px")},cur:function(){var b=Hs.propHooks[this.prop];return b&&b.get?b.get(this):Hs.propHooks._default.get(this)},run:function(b){var _,O=Hs.propHooks[this.prop];return this.options.duration?this.pos=_=D.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=_=b,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):Hs.propHooks._default.set(this),this}},Hs.prototype.init.prototype=Hs.prototype,Hs.propHooks={_default:{get:function(b){var _;return b.elem.nodeType!==1||b.elem[b.prop]!=null&&b.elem.style[b.prop]==null?b.elem[b.prop]:(_=D.css(b.elem,b.prop,""),!_||_==="auto"?0:_)},set:function(b){D.fx.step[b.prop]?D.fx.step[b.prop](b):b.elem.nodeType===1&&(D.cssHooks[b.prop]||b.elem.style[sm(b.prop)]!=null)?D.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}},Hs.propHooks.scrollTop=Hs.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}},D.easing={linear:function(b){return b},swing:function(b){return .5-Math.cos(b*Math.PI)/2},_default:"swing"},D.fx=Hs.prototype.init,D.fx.step={};var Ya,uu,af=/^(?:toggle|show|hide)$/,$o=/queueHooks$/;function Ni(){uu&&(Pt.hidden===!1&&y.requestAnimationFrame?y.requestAnimationFrame(Ni):y.setTimeout(Ni,D.fx.interval),D.fx.tick())}function cv(){return y.setTimeout(function(){Ya=void 0}),Ya=Date.now()}function Zc(b,_){var O,I=0,q={height:b};for(_=_?1:0;I<4;I+=2-_)O=ma[I],q["margin"+O]=q["padding"+O]=b;return _&&(q.opacity=q.width=b),q}function kl(b,_,O){for(var I,q=(hc.tweeners[_]||[]).concat(hc.tweeners["*"]),Z=0,J=q.length;Z<J;Z++)if(I=q[Z].call(O,_,b))return I}function Bi(b,_,O){var I,q,Z,J,ge,se,_e,Ue,st="width"in _||"height"in _,Pe=this,At={},Qn=b.style,Fo=b.nodeType&&Hc(b),vn=ln.get(b,"fxshow");O.queue||(J=D._queueHooks(b,"fx"),J.unqueued==null&&(J.unqueued=0,ge=J.empty.fire,J.empty.fire=function(){J.unqueued||ge()}),J.unqueued++,Pe.always(function(){Pe.always(function(){J.unqueued--,D.queue(b,"fx").length||J.empty.fire()})}));for(I in _)if(q=_[I],af.test(q)){if(delete _[I],Z=Z||q==="toggle",q===(Fo?"hide":"show"))if(q==="show"&&vn&&vn[I]!==void 0)Fo=!0;else continue;At[I]=vn&&vn[I]||D.style(b,I)}if(se=!D.isEmptyObject(_),!(!se&&D.isEmptyObject(At))){st&&b.nodeType===1&&(O.overflow=[Qn.overflow,Qn.overflowX,Qn.overflowY],_e=vn&&vn.display,_e==null&&(_e=ln.get(b,"display")),Ue=D.css(b,"display"),Ue==="none"&&(_e?Ue=_e:(wt([b],!0),_e=b.style.display||_e,Ue=D.css(b,"display"),wt([b]))),(Ue==="inline"||Ue==="inline-block"&&_e!=null)&&D.css(b,"float")==="none"&&(se||(Pe.done(function(){Qn.display=_e}),_e==null&&(Ue=Qn.display,_e=Ue==="none"?"":Ue)),Qn.display="inline-block")),O.overflow&&(Qn.overflow="hidden",Pe.always(function(){Qn.overflow=O.overflow[0],Qn.overflowX=O.overflow[1],Qn.overflowY=O.overflow[2]})),se=!1;for(I in At)se||(vn?"hidden"in vn&&(Fo=vn.hidden):vn=ln.access(b,"fxshow",{display:_e}),Z&&(vn.hidden=!Fo),Fo&&wt([b],!0),Pe.done(function(){Fo||wt([b]),ln.remove(b,"fxshow");for(I in At)D.style(b,I,At[I])})),se=kl(Fo?vn[I]:0,I,Pe),I in vn||(vn[I]=se.start,Fo&&(se.end=se.start,se.start=0))}}function Ms(b,_){var O,I,q,Z,J;for(O in b)if(I=wo(O),q=_[I],Z=b[O],Array.isArray(Z)&&(q=Z[1],Z=b[O]=Z[0]),O!==I&&(b[I]=Z,delete b[O]),J=D.cssHooks[I],J&&"expand"in J){Z=J.expand(Z),delete b[I];for(O in Z)O in b||(b[O]=Z[O],_[O]=q)}else _[I]=q}function hc(b,_,O){var I,q,Z=0,J=hc.prefilters.length,ge=D.Deferred().always(function(){delete se.elem}),se=function(){if(q)return!1;for(var st=Ya||cv(),Pe=Math.max(0,_e.startTime+_e.duration-st),At=Pe/_e.duration||0,Qn=1-At,Fo=0,vn=_e.tweens.length;Fo<vn;Fo++)_e.tweens[Fo].run(Qn);return ge.notifyWith(b,[_e,Qn,Pe]),Qn<1&&vn?Pe:(vn||ge.notifyWith(b,[_e,1,0]),ge.resolveWith(b,[_e]),!1)},_e=ge.promise({elem:b,props:D.extend({},_),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},O),originalProperties:_,originalOptions:O,startTime:Ya||cv(),duration:O.duration,tweens:[],createTween:function(st,Pe){var At=D.Tween(b,_e.opts,st,Pe,_e.opts.specialEasing[st]||_e.opts.easing);return _e.tweens.push(At),At},stop:function(st){var Pe=0,At=st?_e.tweens.length:0;if(q)return this;for(q=!0;Pe<At;Pe++)_e.tweens[Pe].run(1);return st?(ge.notifyWith(b,[_e,1,0]),ge.resolveWith(b,[_e,st])):ge.rejectWith(b,[_e,st]),this}}),Ue=_e.props;for(Ms(Ue,_e.opts.specialEasing);Z<J;Z++)if(I=hc.prefilters[Z].call(_e,b,Ue,_e.opts),I)return Xe(I.stop)&&(D._queueHooks(_e.elem,_e.opts.queue).stop=I.stop.bind(I)),I;return D.map(Ue,kl,_e),Xe(_e.opts.start)&&_e.opts.start.call(b,_e),_e.progress(_e.opts.progress).done(_e.opts.done,_e.opts.complete).fail(_e.opts.fail).always(_e.opts.always),D.fx.timer(D.extend(se,{elem:b,anim:_e,queue:_e.opts.queue})),_e}D.Animation=D.extend(hc,{tweeners:{"*":[function(b,_){var O=this.createTween(b,_);return rf(O.elem,b,os.exec(_),O),O}]},tweener:function(b,_){Xe(b)?(_=b,b=["*"]):b=b.match(ao);for(var O,I=0,q=b.length;I<q;I++)O=b[I],hc.tweeners[O]=hc.tweeners[O]||[],hc.tweeners[O].unshift(_)},prefilters:[Bi],prefilter:function(b,_){_?hc.prefilters.unshift(b):hc.prefilters.push(b)}}),D.speed=function(b,_,O){var I=b&&typeof b=="object"?D.extend({},b):{complete:O||!O&&_||Xe(b)&&b,duration:b,easing:O&&_||_&&!Xe(_)&&_};return D.fx.off?I.duration=0:typeof I.duration!="number"&&(I.duration in D.fx.speeds?I.duration=D.fx.speeds[I.duration]:I.duration=D.fx.speeds._default),(I.queue==null||I.queue===!0)&&(I.queue="fx"),I.old=I.complete,I.complete=function(){Xe(I.old)&&I.old.call(this),I.queue&&D.dequeue(this,I.queue)},I},D.fn.extend({fadeTo:function(b,_,O,I){return this.filter(Hc).css("opacity",0).show().end().animate({opacity:_},b,O,I)},animate:function(b,_,O,I){var q=D.isEmptyObject(b),Z=D.speed(_,O,I),J=function(){var ge=hc(this,D.extend({},b),Z);(q||ln.get(this,"finish"))&&ge.stop(!0)};return J.finish=J,q||Z.queue===!1?this.each(J):this.queue(Z.queue,J)},stop:function(b,_,O){var I=function(q){var Z=q.stop;delete q.stop,Z(O)};return typeof b!="string"&&(O=_,_=b,b=void 0),_&&this.queue(b||"fx",[]),this.each(function(){var q=!0,Z=b!=null&&b+"queueHooks",J=D.timers,ge=ln.get(this);if(Z)ge[Z]&&ge[Z].stop&&I(ge[Z]);else for(Z in ge)ge[Z]&&ge[Z].stop&&$o.test(Z)&&I(ge[Z]);for(Z=J.length;Z--;)J[Z].elem===this&&(b==null||J[Z].queue===b)&&(J[Z].anim.stop(O),q=!1,J.splice(Z,1));(q||!O)&&D.dequeue(this,b)})},finish:function(b){return b!==!1&&(b=b||"fx"),this.each(function(){var _,O=ln.get(this),I=O[b+"queue"],q=O[b+"queueHooks"],Z=D.timers,J=I?I.length:0;for(O.finish=!0,D.queue(this,b,[]),q&&q.stop&&q.stop.call(this,!0),_=Z.length;_--;)Z[_].elem===this&&Z[_].queue===b&&(Z[_].anim.stop(!0),Z.splice(_,1));for(_=0;_<J;_++)I[_]&&I[_].finish&&I[_].finish.call(this);delete O.finish})}}),D.each(["toggle","show","hide"],function(b,_){var O=D.fn[_];D.fn[_]=function(I,q,Z){return I==null||typeof I=="boolean"?O.apply(this,arguments):this.animate(Zc(_,!0),I,q,Z)}}),D.each({slideDown:Zc("show"),slideUp:Zc("hide"),slideToggle:Zc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,_){D.fn[b]=function(O,I,q){return this.animate(_,O,I,q)}}),D.timers=[],D.fx.tick=function(){var b,_=0,O=D.timers;for(Ya=Date.now();_<O.length;_++)b=O[_],!b()&&O[_]===b&&O.splice(_--,1);O.length||D.fx.stop(),Ya=void 0},D.fx.timer=function(b){D.timers.push(b),D.fx.start()},D.fx.interval=13,D.fx.start=function(){uu||(uu=!0,Ni())},D.fx.stop=function(){uu=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(b,_){return b=D.fx&&D.fx.speeds[b]||b,_=_||"fx",this.queue(_,function(O,I){var q=y.setTimeout(O,b);I.stop=function(){y.clearTimeout(q)}})},function(){var b=Pt.createElement("input"),_=Pt.createElement("select"),O=_.appendChild(Pt.createElement("option"));b.type="checkbox",ct.checkOn=b.value!=="",ct.optSelected=O.selected,b=Pt.createElement("input"),b.value="t",b.type="radio",ct.radioValue=b.value==="t"}();var wh,uo=D.expr.attrHandle;D.fn.extend({attr:function(b,_){return li(this,D.attr,b,_,arguments.length>1)},removeAttr:function(b){return this.each(function(){D.removeAttr(this,b)})}}),D.extend({attr:function(b,_,O){var I,q,Z=b.nodeType;if(!(Z===3||Z===8||Z===2)){if(typeof b.getAttribute>"u")return D.prop(b,_,O);if((Z!==1||!D.isXMLDoc(b))&&(q=D.attrHooks[_.toLowerCase()]||(D.expr.match.bool.test(_)?wh:void 0)),O!==void 0){if(O===null){D.removeAttr(b,_);return}return q&&"set"in q&&(I=q.set(b,O,_))!==void 0?I:(b.setAttribute(_,O+""),O)}return q&&"get"in q&&(I=q.get(b,_))!==null?I:(I=D.find.attr(b,_),I??void 0)}},attrHooks:{type:{set:function(b,_){if(!ct.radioValue&&_==="radio"&&En(b,"input")){var O=b.value;return b.setAttribute("type",_),O&&(b.value=O),_}}}},removeAttr:function(b,_){var O,I=0,q=_&&_.match(ao);if(q&&b.nodeType===1)for(;O=q[I++];)b.removeAttribute(O)}}),wh={set:function(b,_,O){return _===!1?D.removeAttr(b,O):b.setAttribute(O,O),O}},D.each(D.expr.match.bool.source.match(/\w+/g),function(b,_){var O=uo[_]||D.find.attr;uo[_]=function(I,q,Z){var J,ge,se=q.toLowerCase();return Z||(ge=uo[se],uo[se]=J,J=O(I,q,Z)!=null?se:null,uo[se]=ge),J}});var Na=/^(?:input|select|textarea|button)$/i,va=/^(?:a|area)$/i;D.fn.extend({prop:function(b,_){return li(this,D.prop,b,_,arguments.length>1)},removeProp:function(b){return this.each(function(){delete this[D.propFix[b]||b]})}}),D.extend({prop:function(b,_,O){var I,q,Z=b.nodeType;if(!(Z===3||Z===8||Z===2))return(Z!==1||!D.isXMLDoc(b))&&(_=D.propFix[_]||_,q=D.propHooks[_]),O!==void 0?q&&"set"in q&&(I=q.set(b,O,_))!==void 0?I:b[_]=O:q&&"get"in q&&(I=q.get(b,_))!==null?I:b[_]},propHooks:{tabIndex:{get:function(b){var _=D.find.attr(b,"tabindex");return _?parseInt(_,10):Na.test(b.nodeName)||va.test(b.nodeName)&&b.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ct.optSelected||(D.propHooks.selected={get:function(b){var _=b.parentNode;return _&&_.parentNode&&_.parentNode.selectedIndex,null},set:function(b){var _=b.parentNode;_&&(_.selectedIndex,_.parentNode&&_.parentNode.selectedIndex)}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this});function zs(b){var _=b.match(ao)||[];return _.join(" ")}function jc(b){return b.getAttribute&&b.getAttribute("class")||""}function Al(b){return Array.isArray(b)?b:typeof b=="string"?b.match(ao)||[]:[]}D.fn.extend({addClass:function(b){var _,O,I,q,Z,J;return Xe(b)?this.each(function(ge){D(this).addClass(b.call(this,ge,jc(this)))}):(_=Al(b),_.length?this.each(function(){if(I=jc(this),O=this.nodeType===1&&" "+zs(I)+" ",O){for(Z=0;Z<_.length;Z++)q=_[Z],O.indexOf(" "+q+" ")<0&&(O+=q+" ");J=zs(O),I!==J&&this.setAttribute("class",J)}}):this)},removeClass:function(b){var _,O,I,q,Z,J;return Xe(b)?this.each(function(ge){D(this).removeClass(b.call(this,ge,jc(this)))}):arguments.length?(_=Al(b),_.length?this.each(function(){if(I=jc(this),O=this.nodeType===1&&" "+zs(I)+" ",O){for(Z=0;Z<_.length;Z++)for(q=_[Z];O.indexOf(" "+q+" ")>-1;)O=O.replace(" "+q+" "," ");J=zs(O),I!==J&&this.setAttribute("class",J)}}):this):this.attr("class","")},toggleClass:function(b,_){var O,I,q,Z,J=typeof b,ge=J==="string"||Array.isArray(b);return Xe(b)?this.each(function(se){D(this).toggleClass(b.call(this,se,jc(this),_),_)}):typeof _=="boolean"&&ge?_?this.addClass(b):this.removeClass(b):(O=Al(b),this.each(function(){if(ge)for(Z=D(this),q=0;q<O.length;q++)I=O[q],Z.hasClass(I)?Z.removeClass(I):Z.addClass(I);else(b===void 0||J==="boolean")&&(I=jc(this),I&&ln.set(this,"__className__",I),this.setAttribute&&this.setAttribute("class",I||b===!1?"":ln.get(this,"__className__")||""))}))},hasClass:function(b){var _,O,I=0;for(_=" "+b+" ";O=this[I++];)if(O.nodeType===1&&(" "+zs(jc(O))+" ").indexOf(_)>-1)return!0;return!1}});var Ja=/\r/g;D.fn.extend({val:function(b){var _,O,I,q=this[0];return arguments.length?(I=Xe(b),this.each(function(Z){var J;this.nodeType===1&&(I?J=b.call(this,Z,D(this).val()):J=b,J==null?J="":typeof J=="number"?J+="":Array.isArray(J)&&(J=D.map(J,function(ge){return ge==null?"":ge+""})),_=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()],(!_||!("set"in _)||_.set(this,J,"value")===void 0)&&(this.value=J))})):q?(_=D.valHooks[q.type]||D.valHooks[q.nodeName.toLowerCase()],_&&"get"in _&&(O=_.get(q,"value"))!==void 0?O:(O=q.value,typeof O=="string"?O.replace(Ja,""):O??"")):void 0}}),D.extend({valHooks:{option:{get:function(b){var _=D.find.attr(b,"value");return _??zs(D.text(b))}},select:{get:function(b){var _,O,I,q=b.options,Z=b.selectedIndex,J=b.type==="select-one",ge=J?null:[],se=J?Z+1:q.length;for(Z<0?I=se:I=J?Z:0;I<se;I++)if(O=q[I],(O.selected||I===Z)&&!O.disabled&&(!O.parentNode.disabled||!En(O.parentNode,"optgroup"))){if(_=D(O).val(),J)return _;ge.push(_)}return ge},set:function(b,_){for(var O,I,q=b.options,Z=D.makeArray(_),J=q.length;J--;)I=q[J],(I.selected=D.inArray(D.valHooks.option.get(I),Z)>-1)&&(O=!0);return O||(b.selectedIndex=-1),Z}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(b,_){if(Array.isArray(_))return b.checked=D.inArray(D(b).val(),_)>-1}},ct.checkOn||(D.valHooks[this].get=function(b){return b.getAttribute("value")===null?"on":b.value})});var pc=y.location,Qa={guid:Date.now()},Ch=/\?/;D.parseXML=function(b){var _,O;if(!b||typeof b!="string")return null;try{_=new y.DOMParser().parseFromString(b,"text/xml")}catch{}return O=_&&_.getElementsByTagName("parsererror")[0],(!_||O)&&D.error("Invalid XML: "+(O?D.map(O.childNodes,function(I){return I.textContent}).join(`
`):b)),_};var xh=/^(?:focusinfocus|focusoutblur)$/,eg=function(b){b.stopPropagation()};D.extend(D.event,{trigger:function(b,_,O,I){var q,Z,J,ge,se,_e,Ue,st,Pe=[O||Pt],At=ft.call(b,"type")?b.type:b,Qn=ft.call(b,"namespace")?b.namespace.split("."):[];if(Z=st=J=O=O||Pt,!(O.nodeType===3||O.nodeType===8)&&!xh.test(At+D.event.triggered)&&(At.indexOf(".")>-1&&(Qn=At.split("."),At=Qn.shift(),Qn.sort()),se=At.indexOf(":")<0&&"on"+At,b=b[D.expando]?b:new D.Event(At,typeof b=="object"&&b),b.isTrigger=I?2:3,b.namespace=Qn.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+Qn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=O),_=_==null?[b]:D.makeArray(_,[b]),Ue=D.event.special[At]||{},!(!I&&Ue.trigger&&Ue.trigger.apply(O,_)===!1))){if(!I&&!Ue.noBubble&&!nt(O)){for(ge=Ue.delegateType||At,xh.test(ge+At)||(Z=Z.parentNode);Z;Z=Z.parentNode)Pe.push(Z),J=Z;J===(O.ownerDocument||Pt)&&Pe.push(J.defaultView||J.parentWindow||y)}for(q=0;(Z=Pe[q++])&&!b.isPropagationStopped();)st=Z,b.type=q>1?ge:Ue.bindType||At,_e=(ln.get(Z,"events")||Object.create(null))[b.type]&&ln.get(Z,"handle"),_e&&_e.apply(Z,_),_e=se&&Z[se],_e&&_e.apply&&Ka(Z)&&(b.result=_e.apply(Z,_),b.result===!1&&b.preventDefault());return b.type=At,!I&&!b.isDefaultPrevented()&&(!Ue._default||Ue._default.apply(Pe.pop(),_)===!1)&&Ka(O)&&se&&Xe(O[At])&&!nt(O)&&(J=O[se],J&&(O[se]=null),D.event.triggered=At,b.isPropagationStopped()&&st.addEventListener(At,eg),O[At](),b.isPropagationStopped()&&st.removeEventListener(At,eg),D.event.triggered=void 0,J&&(O[se]=J)),b.result}},simulate:function(b,_,O){var I=D.extend(new D.Event,O,{type:b,isSimulated:!0});D.event.trigger(I,null,_)}}),D.fn.extend({trigger:function(b,_){return this.each(function(){D.event.trigger(b,_,this)})},triggerHandler:function(b,_){var O=this[0];if(O)return D.event.trigger(b,_,O,!0)}});var gc=/\[\]$/,Ol=/\r?\n/g,Sh=/^(?:submit|button|image|reset|file)$/i,Eh=/^(?:input|select|textarea|keygen)/i;function im(b,_,O,I){var q;if(Array.isArray(_))D.each(_,function(Z,J){O||gc.test(b)?I(b,J):im(b+"["+(typeof J=="object"&&J!=null?Z:"")+"]",J,O,I)});else if(!O&&Ft(_)==="object")for(q in _)im(b+"["+q+"]",_[q],O,I);else I(b,_)}D.param=function(b,_){var O,I=[],q=function(Z,J){var ge=Xe(J)?J():J;I[I.length]=encodeURIComponent(Z)+"="+encodeURIComponent(ge??"")};if(b==null)return"";if(Array.isArray(b)||b.jquery&&!D.isPlainObject(b))D.each(b,function(){q(this.name,this.value)});else for(O in b)im(O,b[O],_,q);return I.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=D.prop(this,"elements");return b?D.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!D(this).is(":disabled")&&Eh.test(this.nodeName)&&!Sh.test(b)&&(this.checked||!io.test(b))}).map(function(b,_){var O=D(this).val();return O==null?null:Array.isArray(O)?D.map(O,function(I){return{name:_.name,value:I.replace(Ol,`\r
`)}}):{name:_.name,value:O.replace(Ol,`\r
`)}}).get()}});var tg=/%20/g,am=/#.*$/,lv=/([?&])_=[^&]*/,ms=/^(.*?):[ \t]*([^\r\n]*)$/mg,ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,j0=/^(?:GET|HEAD)$/,ng=/^\/\//,tc={},og={},cm="*/".concat("*"),cr=Pt.createElement("a");cr.href=pc.href;function Xr(b){return function(_,O){typeof _!="string"&&(O=_,_="*");var I,q=0,Z=_.toLowerCase().match(ao)||[];if(Xe(O))for(;I=Z[q++];)I[0]==="+"?(I=I.slice(1)||"*",(b[I]=b[I]||[]).unshift(O)):(b[I]=b[I]||[]).push(O)}}function du(b,_,O,I){var q={},Z=b===og;function J(ge){var se;return q[ge]=!0,D.each(b[ge]||[],function(_e,Ue){var st=Ue(_,O,I);if(typeof st=="string"&&!Z&&!q[st])return _.dataTypes.unshift(st),J(st),!1;if(Z)return!(se=st)}),se}return J(_.dataTypes[0])||!q["*"]&&J("*")}function _h(b,_){var O,I,q=D.ajaxSettings.flatOptions||{};for(O in _)_[O]!==void 0&&((q[O]?b:I||(I={}))[O]=_[O]);return I&&D.extend(!0,b,I),b}function Et(b,_,O){for(var I,q,Z,J,ge=b.contents,se=b.dataTypes;se[0]==="*";)se.shift(),I===void 0&&(I=b.mimeType||_.getResponseHeader("Content-Type"));if(I){for(q in ge)if(ge[q]&&ge[q].test(I)){se.unshift(q);break}}if(se[0]in O)Z=se[0];else{for(q in O){if(!se[0]||b.converters[q+" "+se[0]]){Z=q;break}J||(J=q)}Z=Z||J}if(Z)return Z!==se[0]&&se.unshift(Z),O[Z]}function uv(b,_,O,I){var q,Z,J,ge,se,_e={},Ue=b.dataTypes.slice();if(Ue[1])for(J in b.converters)_e[J.toLowerCase()]=b.converters[J];for(Z=Ue.shift();Z;)if(b.responseFields[Z]&&(O[b.responseFields[Z]]=_),!se&&I&&b.dataFilter&&(_=b.dataFilter(_,b.dataType)),se=Z,Z=Ue.shift(),Z){if(Z==="*")Z=se;else if(se!=="*"&&se!==Z){if(J=_e[se+" "+Z]||_e["* "+Z],!J){for(q in _e)if(ge=q.split(" "),ge[1]===Z&&(J=_e[se+" "+ge[0]]||_e["* "+ge[0]],J)){J===!0?J=_e[q]:_e[q]!==!0&&(Z=ge[0],Ue.unshift(ge[1]));break}}if(J!==!0)if(J&&b.throws)_=J(_);else try{_=J(_)}catch(st){return{state:"parsererror",error:J?st:"No conversion from "+se+" to "+Z}}}}return{state:"success",data:_}}D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pc.href,type:"GET",isLocal:ec.test(pc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cm,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,_){return _?_h(_h(b,D.ajaxSettings),_):_h(D.ajaxSettings,b)},ajaxPrefilter:Xr(tc),ajaxTransport:Xr(og),ajax:function(b,_){typeof b=="object"&&(_=b,b=void 0),_=_||{};var O,I,q,Z,J,ge,se,_e,Ue,st,Pe=D.ajaxSetup({},_),At=Pe.context||Pe,Qn=Pe.context&&(At.nodeType||At.jquery)?D(At):D.event,Fo=D.Deferred(),vn=D.Callbacks("once memory"),fi=Pe.statusCode||{},Do={},Ys={},Fr="canceled",Co={readyState:0,getResponseHeader:function(to){var hs;if(se){if(!Z)for(Z={};hs=ms.exec(q);)Z[hs[1].toLowerCase()+" "]=(Z[hs[1].toLowerCase()+" "]||[]).concat(hs[2]);hs=Z[to.toLowerCase()+" "]}return hs==null?null:hs.join(", ")},getAllResponseHeaders:function(){return se?q:null},setRequestHeader:function(to,hs){return se==null&&(to=Ys[to.toLowerCase()]=Ys[to.toLowerCase()]||to,Do[to]=hs),this},overrideMimeType:function(to){return se==null&&(Pe.mimeType=to),this},statusCode:function(to){var hs;if(to)if(se)Co.always(to[Co.status]);else for(hs in to)fi[hs]=[fi[hs],to[hs]];return this},abort:function(to){var hs=to||Fr;return O&&O.abort(hs),Un(0,hs),this}};if(Fo.promise(Co),Pe.url=((b||Pe.url||pc.href)+"").replace(ng,pc.protocol+"//"),Pe.type=_.method||_.type||Pe.method||Pe.type,Pe.dataTypes=(Pe.dataType||"*").toLowerCase().match(ao)||[""],Pe.crossDomain==null){ge=Pt.createElement("a");try{ge.href=Pe.url,ge.href=ge.href,Pe.crossDomain=cr.protocol+"//"+cr.host!=ge.protocol+"//"+ge.host}catch{Pe.crossDomain=!0}}if(Pe.data&&Pe.processData&&typeof Pe.data!="string"&&(Pe.data=D.param(Pe.data,Pe.traditional)),du(tc,Pe,_,Co),se)return Co;_e=D.event&&Pe.global,_e&&D.active++===0&&D.event.trigger("ajaxStart"),Pe.type=Pe.type.toUpperCase(),Pe.hasContent=!j0.test(Pe.type),I=Pe.url.replace(am,""),Pe.hasContent?Pe.data&&Pe.processData&&(Pe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Pe.data=Pe.data.replace(tg,"+")):(st=Pe.url.slice(I.length),Pe.data&&(Pe.processData||typeof Pe.data=="string")&&(I+=(Ch.test(I)?"&":"?")+Pe.data,delete Pe.data),Pe.cache===!1&&(I=I.replace(lv,"$1"),st=(Ch.test(I)?"&":"?")+"_="+Qa.guid+++st),Pe.url=I+st),Pe.ifModified&&(D.lastModified[I]&&Co.setRequestHeader("If-Modified-Since",D.lastModified[I]),D.etag[I]&&Co.setRequestHeader("If-None-Match",D.etag[I])),(Pe.data&&Pe.hasContent&&Pe.contentType!==!1||_.contentType)&&Co.setRequestHeader("Content-Type",Pe.contentType),Co.setRequestHeader("Accept",Pe.dataTypes[0]&&Pe.accepts[Pe.dataTypes[0]]?Pe.accepts[Pe.dataTypes[0]]+(Pe.dataTypes[0]!=="*"?", "+cm+"; q=0.01":""):Pe.accepts["*"]);for(Ue in Pe.headers)Co.setRequestHeader(Ue,Pe.headers[Ue]);if(Pe.beforeSend&&(Pe.beforeSend.call(At,Co,Pe)===!1||se))return Co.abort();if(Fr="abort",vn.add(Pe.complete),Co.done(Pe.success),Co.fail(Pe.error),O=du(og,Pe,_,Co),!O)Un(-1,"No Transport");else{if(Co.readyState=1,_e&&Qn.trigger("ajaxSend",[Co,Pe]),se)return Co;Pe.async&&Pe.timeout>0&&(J=y.setTimeout(function(){Co.abort("timeout")},Pe.timeout));try{se=!1,O.send(Do,Un)}catch(to){if(se)throw to;Un(-1,to)}}function Un(to,hs,qc,ba){var lr,Ho,ya,wa,Ba,yi=hs;se||(se=!0,J&&y.clearTimeout(J),O=void 0,q=ba||"",Co.readyState=to>0?4:0,lr=to>=200&&to<300||to===304,qc&&(wa=Et(Pe,Co,qc)),!lr&&D.inArray("script",Pe.dataTypes)>-1&&D.inArray("json",Pe.dataTypes)<0&&(Pe.converters["text script"]=function(){}),wa=uv(Pe,wa,Co,lr),lr?(Pe.ifModified&&(Ba=Co.getResponseHeader("Last-Modified"),Ba&&(D.lastModified[I]=Ba),Ba=Co.getResponseHeader("etag"),Ba&&(D.etag[I]=Ba)),to===204||Pe.type==="HEAD"?yi="nocontent":to===304?yi="notmodified":(yi=wa.state,Ho=wa.data,ya=wa.error,lr=!ya)):(ya=yi,(to||!yi)&&(yi="error",to<0&&(to=0))),Co.status=to,Co.statusText=(hs||yi)+"",lr?Fo.resolveWith(At,[Ho,yi,Co]):Fo.rejectWith(At,[Co,yi,ya]),Co.statusCode(fi),fi=void 0,_e&&Qn.trigger(lr?"ajaxSuccess":"ajaxError",[Co,Pe,lr?Ho:ya]),vn.fireWith(At,[Co,yi]),_e&&(Qn.trigger("ajaxComplete",[Co,Pe]),--D.active||D.event.trigger("ajaxStop")))}return Co},getJSON:function(b,_,O){return D.get(b,_,O,"json")},getScript:function(b,_){return D.get(b,void 0,_,"script")}}),D.each(["get","post"],function(b,_){D[_]=function(O,I,q,Z){return Xe(I)&&(Z=Z||q,q=I,I=void 0),D.ajax(D.extend({url:O,type:_,dataType:Z,data:I,success:q},D.isPlainObject(O)&&O))}}),D.ajaxPrefilter(function(b){var _;for(_ in b.headers)_.toLowerCase()==="content-type"&&(b.contentType=b.headers[_]||"")}),D._evalUrl=function(b,_,O){return D.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(I){D.globalEval(I,_,O)}})},D.fn.extend({wrapAll:function(b){var _;return this[0]&&(Xe(b)&&(b=b.call(this[0])),_=D(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(b){return Xe(b)?this.each(function(_){D(this).wrapInner(b.call(this,_))}):this.each(function(){var _=D(this),O=_.contents();O.length?O.wrapAll(b):_.append(b)})},wrap:function(b){var _=Xe(b);return this.each(function(O){D(this).wrapAll(_?b.call(this,O):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(b){return!D.expr.pseudos.visible(b)},D.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch{}};var Ss={0:200,1223:204},Xs=D.ajaxSettings.xhr();ct.cors=!!Xs&&"withCredentials"in Xs,ct.ajax=Xs=!!Xs,D.ajaxTransport(function(b){var _,O;if(ct.cors||Xs&&!b.crossDomain)return{send:function(I,q){var Z,J=b.xhr();if(J.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(Z in b.xhrFields)J[Z]=b.xhrFields[Z];b.mimeType&&J.overrideMimeType&&J.overrideMimeType(b.mimeType),!b.crossDomain&&!I["X-Requested-With"]&&(I["X-Requested-With"]="XMLHttpRequest");for(Z in I)J.setRequestHeader(Z,I[Z]);_=function(ge){return function(){_&&(_=O=J.onload=J.onerror=J.onabort=J.ontimeout=J.onreadystatechange=null,ge==="abort"?J.abort():ge==="error"?typeof J.status!="number"?q(0,"error"):q(J.status,J.statusText):q(Ss[J.status]||J.status,J.statusText,(J.responseType||"text")!=="text"||typeof J.responseText!="string"?{binary:J.response}:{text:J.responseText},J.getAllResponseHeaders()))}},J.onload=_(),O=J.onerror=J.ontimeout=_("error"),J.onabort!==void 0?J.onabort=O:J.onreadystatechange=function(){J.readyState===4&&y.setTimeout(function(){_&&O()})},_=_("abort");try{J.send(b.hasContent&&b.data||null)}catch(ge){if(_)throw ge}},abort:function(){_&&_()}}}),D.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return D.globalEval(b),b}}}),D.ajaxPrefilter("script",function(b){b.cache===void 0&&(b.cache=!1),b.crossDomain&&(b.type="GET")}),D.ajaxTransport("script",function(b){if(b.crossDomain||b.scriptAttrs){var _,O;return{send:function(I,q){_=D("<script>").attr(b.scriptAttrs||{}).prop({charset:b.scriptCharset,src:b.url}).on("load error",O=function(Z){_.remove(),O=null,Z&&q(Z.type==="error"?404:200,Z.type)}),Pt.head.appendChild(_[0])},abort:function(){O&&O()}}}});var Th=[],bs=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Th.pop()||D.expando+"_"+Qa.guid++;return this[b]=!0,b}}),D.ajaxPrefilter("json jsonp",function(b,_,O){var I,q,Z,J=b.jsonp!==!1&&(bs.test(b.url)?"url":typeof b.data=="string"&&(b.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bs.test(b.data)&&"data");if(J||b.dataTypes[0]==="jsonp")return I=b.jsonpCallback=Xe(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,J?b[J]=b[J].replace(bs,"$1"+I):b.jsonp!==!1&&(b.url+=(Ch.test(b.url)?"&":"?")+b.jsonp+"="+I),b.converters["script json"]=function(){return Z||D.error(I+" was not called"),Z[0]},b.dataTypes[0]="json",q=y[I],y[I]=function(){Z=arguments},O.always(function(){q===void 0?D(y).removeProp(I):y[I]=q,b[I]&&(b.jsonpCallback=_.jsonpCallback,Th.push(I)),Z&&Xe(q)&&q(Z[0]),Z=q=void 0}),"script"}),ct.createHTMLDocument=function(){var b=Pt.implementation.createHTMLDocument("").body;return b.innerHTML="<form></form><form></form>",b.childNodes.length===2}(),D.parseHTML=function(b,_,O){if(typeof b!="string")return[];typeof _=="boolean"&&(O=_,_=!1);var I,q,Z;return _||(ct.createHTMLDocument?(_=Pt.implementation.createHTMLDocument(""),I=_.createElement("base"),I.href=Pt.location.href,_.head.appendChild(I)):_=Pt),q=Uo.exec(b),Z=!O&&[],q?[_.createElement(q[1])]:(q=ld([b],_,Z),Z&&Z.length&&D(Z).remove(),D.merge([],q.childNodes))},D.fn.load=function(b,_,O){var I,q,Z,J=this,ge=b.indexOf(" ");return ge>-1&&(I=zs(b.slice(ge)),b=b.slice(0,ge)),Xe(_)?(O=_,_=void 0):_&&typeof _=="object"&&(q="POST"),J.length>0&&D.ajax({url:b,type:q||"GET",dataType:"html",data:_}).done(function(se){Z=arguments,J.html(I?D("<div>").append(D.parseHTML(se)).find(I):se)}).always(O&&function(se,_e){J.each(function(){O.apply(this,Z||[se.responseText,_e,se])})}),this},D.expr.pseudos.animated=function(b){return D.grep(D.timers,function(_){return b===_.elem}).length},D.offset={setOffset:function(b,_,O){var I,q,Z,J,ge,se,_e,Ue=D.css(b,"position"),st=D(b),Pe={};Ue==="static"&&(b.style.position="relative"),ge=st.offset(),Z=D.css(b,"top"),se=D.css(b,"left"),_e=(Ue==="absolute"||Ue==="fixed")&&(Z+se).indexOf("auto")>-1,_e?(I=st.position(),J=I.top,q=I.left):(J=parseFloat(Z)||0,q=parseFloat(se)||0),Xe(_)&&(_=_.call(b,O,D.extend({},ge))),_.top!=null&&(Pe.top=_.top-ge.top+J),_.left!=null&&(Pe.left=_.left-ge.left+q),"using"in _?_.using.call(b,Pe):st.css(Pe)}},D.fn.extend({offset:function(b){if(arguments.length)return b===void 0?this:this.each(function(q){D.offset.setOffset(this,b,q)});var _,O,I=this[0];if(I)return I.getClientRects().length?(_=I.getBoundingClientRect(),O=I.ownerDocument.defaultView,{top:_.top+O.pageYOffset,left:_.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var b,_,O,I=this[0],q={top:0,left:0};if(D.css(I,"position")==="fixed")_=I.getBoundingClientRect();else{for(_=this.offset(),O=I.ownerDocument,b=I.offsetParent||O.documentElement;b&&(b===O.body||b===O.documentElement)&&D.css(b,"position")==="static";)b=b.parentNode;b&&b!==I&&b.nodeType===1&&(q=D(b).offset(),q.top+=D.css(b,"borderTopWidth",!0),q.left+=D.css(b,"borderLeftWidth",!0))}return{top:_.top-q.top-D.css(I,"marginTop",!0),left:_.left-q.left-D.css(I,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&D.css(b,"position")==="static";)b=b.offsetParent;return b||Gs})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,_){var O=_==="pageYOffset";D.fn[b]=function(I){return li(this,function(q,Z,J){var ge;if(nt(q)?ge=q:q.nodeType===9&&(ge=q.defaultView),J===void 0)return ge?ge[_]:q[Z];ge?ge.scrollTo(O?ge.pageXOffset:J,O?J:ge.pageYOffset):q[Z]=J},b,I,arguments.length)}}),D.each(["top","left"],function(b,_){D.cssHooks[_]=Pi(ct.pixelPosition,function(O,I){if(I)return I=be(O,_),Xa.test(I)?D(O).position()[_]+"px":I})}),D.each({Height:"height",Width:"width"},function(b,_){D.each({padding:"inner"+b,content:_,"":"outer"+b},function(O,I){D.fn[I]=function(q,Z){var J=arguments.length&&(O||typeof q!="boolean"),ge=O||(q===!0||Z===!0?"margin":"border");return li(this,function(se,_e,Ue){var st;return nt(se)?I.indexOf("outer")===0?se["inner"+b]:se.document.documentElement["client"+b]:se.nodeType===9?(st=se.documentElement,Math.max(se.body["scroll"+b],st["scroll"+b],se.body["offset"+b],st["offset"+b],st["client"+b])):Ue===void 0?D.css(se,_e,ge):D.style(se,_e,Ue,ge)},_,J?q:void 0,J)}})}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(b,_){D.fn[_]=function(O){return this.on(_,O)}}),D.fn.extend({bind:function(b,_,O){return this.on(b,null,_,O)},unbind:function(b,_){return this.off(b,null,_)},delegate:function(b,_,O,I){return this.on(_,b,O,I)},undelegate:function(b,_,O){return arguments.length===1?this.off(b,"**"):this.off(_,b||"**",O)},hover:function(b,_){return this.on("mouseenter",b).on("mouseleave",_||b)}}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(b,_){D.fn[_]=function(O,I){return arguments.length>0?this.on(_,null,O,I):this.trigger(_)}});var q0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;D.proxy=function(b,_){var O,I,q;if(typeof _=="string"&&(O=b[_],_=b,b=O),!!Xe(b))return I=te.call(arguments,2),q=function(){return b.apply(_||this,I.concat(te.call(arguments)))},q.guid=b.guid=b.guid||D.guid++,q},D.holdReady=function(b){b?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=En,D.isFunction=Xe,D.isWindow=nt,D.camelCase=wo,D.type=Ft,D.now=Date.now,D.isNumeric=function(b){var _=D.type(b);return(_==="number"||_==="string")&&!isNaN(b-parseFloat(b))},D.trim=function(b){return b==null?"":(b+"").replace(q0,"$1")};var lm=y.jQuery,um=y.$;return D.noConflict=function(b){return y.$===D&&(y.$=um),b&&y.jQuery===D&&(y.jQuery=lm),D},typeof A>"u"&&(y.jQuery=y.$=D),D})})(eY);var eee=eY.exports;const tee=JQ(eee);window.$=tee;window.addEventListener("DOMContentLoaded",()=>{tinymce.init({selector:"#editor",placeholder:"Type here...",license_key:"gpl",skin:!1,content_css:!1,menubar:!1})});
